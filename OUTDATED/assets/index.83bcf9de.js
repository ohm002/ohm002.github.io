var G5=Object.defineProperty;var H5=(e,t,r)=>t in e?G5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var j5=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var jt=(e,t,r)=>(H5(e,typeof t!="symbol"?t+"":t,r),r);var D7=j5((F7,Wt)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var vm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function f_(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $5(e){var t=e.default;if(typeof t=="function"){var r=function(){return t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var xt={exports:{}},kt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yu=Symbol.for("react.element"),W5=Symbol.for("react.portal"),V5=Symbol.for("react.fragment"),X5=Symbol.for("react.strict_mode"),Y5=Symbol.for("react.profiler"),K5=Symbol.for("react.provider"),Q5=Symbol.for("react.context"),Z5=Symbol.for("react.forward_ref"),q5=Symbol.for("react.suspense"),J5=Symbol.for("react.memo"),tS=Symbol.for("react.lazy"),cv=Symbol.iterator;function eS(e){return e===null||typeof e!="object"?null:(e=cv&&e[cv]||e["@@iterator"],typeof e=="function"?e:null)}var m_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p_=Object.assign,g_={};function Ia(e,t,r){this.props=e,this.context=t,this.refs=g_,this.updater=r||m_}Ia.prototype.isReactComponent={};Ia.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ia.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function y_(){}y_.prototype=Ia.prototype;function hg(e,t,r){this.props=e,this.context=t,this.refs=g_,this.updater=r||m_}var dg=hg.prototype=new y_;dg.constructor=hg;p_(dg,Ia.prototype);dg.isPureReactComponent=!0;var hv=Array.isArray,v_=Object.prototype.hasOwnProperty,fg={current:null},x_={key:!0,ref:!0,__self:!0,__source:!0};function T_(e,t,r){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)v_.call(t,n)&&!x_.hasOwnProperty(n)&&(i[n]=t[n]);var u=arguments.length-2;if(u===1)i.children=r;else if(1<u){for(var c=Array(u),h=0;h<u;h++)c[h]=arguments[h+2];i.children=c}if(e&&e.defaultProps)for(n in u=e.defaultProps,u)i[n]===void 0&&(i[n]=u[n]);return{$$typeof:yu,type:e,key:s,ref:o,props:i,_owner:fg.current}}function rS(e,t){return{$$typeof:yu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function mg(e){return typeof e=="object"&&e!==null&&e.$$typeof===yu}function nS(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var dv=/\/+/g;function xm(e,t){return typeof e=="object"&&e!==null&&e.key!=null?nS(""+e.key):t.toString(36)}function ah(e,t,r,n,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yu:case W5:o=!0}}if(o)return o=e,i=i(o),e=n===""?"."+xm(o,0):n,hv(i)?(r="",e!=null&&(r=e.replace(dv,"$&/")+"/"),ah(i,t,r,"",function(h){return h})):i!=null&&(mg(i)&&(i=rS(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(dv,"$&/")+"/")+e)),t.push(i)),1;if(o=0,n=n===""?".":n+":",hv(e))for(var u=0;u<e.length;u++){s=e[u];var c=n+xm(s,u);o+=ah(s,t,r,c,i)}else if(c=eS(e),typeof c=="function")for(e=c.call(e),u=0;!(s=e.next()).done;)s=s.value,c=n+xm(s,u++),o+=ah(s,t,r,c,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function pc(e,t,r){if(e==null)return e;var n=[],i=0;return ah(e,n,"","",function(s){return t.call(r,s,i++)}),n}function iS(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var hr={current:null},lh={transition:null},sS={ReactCurrentDispatcher:hr,ReactCurrentBatchConfig:lh,ReactCurrentOwner:fg};kt.Children={map:pc,forEach:function(e,t,r){pc(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return pc(e,function(){t++}),t},toArray:function(e){return pc(e,function(t){return t})||[]},only:function(e){if(!mg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};kt.Component=Ia;kt.Fragment=V5;kt.Profiler=Y5;kt.PureComponent=hg;kt.StrictMode=X5;kt.Suspense=q5;kt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sS;kt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=p_({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=fg.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)v_.call(t,c)&&!x_.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];n.children=u}return{$$typeof:yu,type:e.type,key:i,ref:s,props:n,_owner:o}};kt.createContext=function(e){return e={$$typeof:Q5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:K5,_context:e},e.Consumer=e};kt.createElement=T_;kt.createFactory=function(e){var t=T_.bind(null,e);return t.type=e,t};kt.createRef=function(){return{current:null}};kt.forwardRef=function(e){return{$$typeof:Z5,render:e}};kt.isValidElement=mg;kt.lazy=function(e){return{$$typeof:tS,_payload:{_status:-1,_result:e},_init:iS}};kt.memo=function(e,t){return{$$typeof:J5,type:e,compare:t===void 0?null:t}};kt.startTransition=function(e){var t=lh.transition;lh.transition={};try{e()}finally{lh.transition=t}};kt.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};kt.useCallback=function(e,t){return hr.current.useCallback(e,t)};kt.useContext=function(e){return hr.current.useContext(e)};kt.useDebugValue=function(){};kt.useDeferredValue=function(e){return hr.current.useDeferredValue(e)};kt.useEffect=function(e,t){return hr.current.useEffect(e,t)};kt.useId=function(){return hr.current.useId()};kt.useImperativeHandle=function(e,t,r){return hr.current.useImperativeHandle(e,t,r)};kt.useInsertionEffect=function(e,t){return hr.current.useInsertionEffect(e,t)};kt.useLayoutEffect=function(e,t){return hr.current.useLayoutEffect(e,t)};kt.useMemo=function(e,t){return hr.current.useMemo(e,t)};kt.useReducer=function(e,t,r){return hr.current.useReducer(e,t,r)};kt.useRef=function(e){return hr.current.useRef(e)};kt.useState=function(e){return hr.current.useState(e)};kt.useSyncExternalStore=function(e,t,r){return hr.current.useSyncExternalStore(e,t,r)};kt.useTransition=function(){return hr.current.useTransition()};kt.version="18.2.0";(function(e){e.exports=kt})(xt);const An=f_(xt.exports);var pg={exports:{}},Or={},__={exports:{}},b_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,L){var k=R.length;R.push(L);t:for(;0<k;){var K=k-1>>>1,nt=R[K];if(0<i(nt,L))R[K]=L,R[k]=nt,k=K;else break t}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var L=R[0],k=R.pop();if(k!==L){R[0]=k;t:for(var K=0,nt=R.length,St=nt>>>1;K<St;){var _t=2*(K+1)-1,Bt=R[_t],Pt=_t+1,Lt=R[Pt];if(0>i(Bt,k))Pt<nt&&0>i(Lt,Bt)?(R[K]=Lt,R[Pt]=k,K=Pt):(R[K]=Bt,R[_t]=k,K=_t);else if(Pt<nt&&0>i(Lt,k))R[K]=Lt,R[Pt]=k,K=Pt;else break t}}return L}function i(R,L){var k=R.sortIndex-L.sortIndex;return k!==0?k:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var c=[],h=[],f=1,m=null,g=3,v=!1,x=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(R){for(var L=r(h);L!==null;){if(L.callback===null)n(h);else if(L.startTime<=R)n(h),L.sortIndex=L.expirationTime,t(c,L);else break;L=r(h)}}function C(R){if(S=!1,_(R),!x)if(r(c)!==null)x=!0,vt(P);else{var L=r(h);L!==null&&z(C,L.startTime-R)}}function P(R,L){x=!1,S&&(S=!1,w(N),N=-1),v=!0;var k=g;try{for(_(L),m=r(c);m!==null&&(!(m.expirationTime>L)||R&&!Y());){var K=m.callback;if(typeof K=="function"){m.callback=null,g=m.priorityLevel;var nt=K(m.expirationTime<=L);L=e.unstable_now(),typeof nt=="function"?m.callback=nt:m===r(c)&&n(c),_(L)}else n(c);m=r(c)}if(m!==null)var St=!0;else{var _t=r(h);_t!==null&&z(C,_t.startTime-L),St=!1}return St}finally{m=null,g=k,v=!1}}var O=!1,M=null,N=-1,Q=5,V=-1;function Y(){return!(e.unstable_now()-V<Q)}function it(){if(M!==null){var R=e.unstable_now();V=R;var L=!0;try{L=M(!0,R)}finally{L?W():(O=!1,M=null)}}else O=!1}var W;if(typeof b=="function")W=function(){b(it)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ft=U.port2;U.port1.onmessage=it,W=function(){ft.postMessage(null)}}else W=function(){E(it,0)};function vt(R){M=R,O||(O=!0,W())}function z(R,L){N=E(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,vt(P))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var L=3;break;default:L=g}var k=g;g=L;try{return R()}finally{g=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var k=g;g=R;try{return L()}finally{g=k}},e.unstable_scheduleCallback=function(R,L,k){var K=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?K+k:K):k=K,R){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return nt=k+nt,R={id:f++,callback:L,priorityLevel:R,startTime:k,expirationTime:nt,sortIndex:-1},k>K?(R.sortIndex=k,t(h,R),r(c)===null&&R===r(h)&&(S?(w(N),N=-1):S=!0,z(C,k-K))):(R.sortIndex=nt,t(c,R),x||v||(x=!0,vt(P))),R},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(R){var L=g;return function(){var k=g;g=L;try{return R.apply(this,arguments)}finally{g=k}}}})(b_);(function(e){e.exports=b_})(__);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_=xt.exports,Fr=__.exports;function Z(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S_=new Set,zl={};function ho(e,t){xa(e,t),xa(e+"Capture",t)}function xa(e,t){for(zl[e]=t,e=0;e<t.length;e++)S_.add(t[e])}var ki=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ap=Object.prototype.hasOwnProperty,oS=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fv={},mv={};function aS(e){return Ap.call(mv,e)?!0:Ap.call(fv,e)?!1:oS.test(e)?mv[e]=!0:(fv[e]=!0,!1)}function lS(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uS(e,t,r,n){if(t===null||typeof t>"u"||lS(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function dr(e,t,r,n,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Xe[e]=new dr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Xe[t]=new dr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Xe[e]=new dr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Xe[e]=new dr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Xe[e]=new dr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Xe[e]=new dr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Xe[e]=new dr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Xe[e]=new dr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Xe[e]=new dr(e,5,!1,e.toLowerCase(),null,!1,!1)});var gg=/[\-:]([a-z])/g;function yg(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gg,yg);Xe[t]=new dr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gg,yg);Xe[t]=new dr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gg,yg);Xe[t]=new dr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Xe[e]=new dr(e,1,!1,e.toLowerCase(),null,!1,!1)});Xe.xlinkHref=new dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Xe[e]=new dr(e,1,!1,e.toLowerCase(),null,!0,!0)});function vg(e,t,r,n){var i=Xe.hasOwnProperty(t)?Xe[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uS(t,r,i,n)&&(r=null),n||i===null?aS(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Li=w_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gc=Symbol.for("react.element"),Vo=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),xg=Symbol.for("react.strict_mode"),Pp=Symbol.for("react.profiler"),E_=Symbol.for("react.provider"),C_=Symbol.for("react.context"),Tg=Symbol.for("react.forward_ref"),Ip=Symbol.for("react.suspense"),Rp=Symbol.for("react.suspense_list"),_g=Symbol.for("react.memo"),ts=Symbol.for("react.lazy"),A_=Symbol.for("react.offscreen"),pv=Symbol.iterator;function el(e){return e===null||typeof e!="object"?null:(e=pv&&e[pv]||e["@@iterator"],typeof e=="function"?e:null)}var ce=Object.assign,Tm;function yl(e){if(Tm===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Tm=t&&t[1]||""}return`
`+Tm+e}var _m=!1;function bm(e,t){if(!e||_m)return"";_m=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var n=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){n=h}e.call(t.prototype)}else{try{throw Error()}catch(h){n=h}e()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,u=s.length-1;1<=o&&0<=u&&i[o]!==s[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==s[u]){if(o!==1||u!==1)do if(o--,u--,0>u||i[o]!==s[u]){var c=`
`+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=o&&0<=u);break}}}finally{_m=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?yl(e):""}function cS(e){switch(e.tag){case 5:return yl(e.type);case 16:return yl("Lazy");case 13:return yl("Suspense");case 19:return yl("SuspenseList");case 0:case 2:case 15:return e=bm(e.type,!1),e;case 11:return e=bm(e.type.render,!1),e;case 1:return e=bm(e.type,!0),e;default:return""}}function kp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xo:return"Fragment";case Vo:return"Portal";case Pp:return"Profiler";case xg:return"StrictMode";case Ip:return"Suspense";case Rp:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case C_:return(e.displayName||"Context")+".Consumer";case E_:return(e._context.displayName||"Context")+".Provider";case Tg:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _g:return t=e.displayName||null,t!==null?t:kp(e.type)||"Memo";case ts:t=e._payload,e=e._init;try{return kp(e(t))}catch{}}return null}function hS(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return kp(t);case 8:return t===xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function P_(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function dS(e){var t=P_(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function yc(e){e._valueTracker||(e._valueTracker=dS(e))}function I_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=P_(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function kh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mp(e,t){var r=t.checked;return ce({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:e._wrapperState.initialChecked})}function gv(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vs(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function R_(e,t){t=t.checked,t!=null&&vg(e,"checked",t,!1)}function Dp(e,t){R_(e,t);var r=vs(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Np(e,t.type,r):t.hasOwnProperty("defaultValue")&&Np(e,t.type,vs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function yv(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function Np(e,t,r){(t!=="number"||kh(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var vl=Array.isArray;function aa(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vs(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Fp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Z(91));return ce({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vv(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Z(92));if(vl(r)){if(1<r.length)throw Error(Z(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vs(r)}}function k_(e,t){var r=vs(t.value),n=vs(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xv(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function M_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Op(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?M_(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var vc,D_=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(vc=vc||document.createElement("div"),vc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=vc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Gl(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Il={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fS=["Webkit","ms","Moz","O"];Object.keys(Il).forEach(function(e){fS.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Il[t]=Il[e]})});function N_(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Il.hasOwnProperty(e)&&Il[e]?(""+t).trim():t+"px"}function F_(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=N_(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var mS=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Lp(e,t){if(t){if(mS[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Z(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Z(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Z(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Z(62))}}function Bp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Up=null;function bg(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zp=null,la=null,ua=null;function Tv(e){if(e=Tu(e)){if(typeof zp!="function")throw Error(Z(280));var t=e.stateNode;t&&(t=wd(t),zp(e.stateNode,e.type,t))}}function O_(e){la?ua?ua.push(e):ua=[e]:la=e}function L_(){if(la){var e=la,t=ua;if(ua=la=null,Tv(e),t)for(e=0;e<t.length;e++)Tv(t[e])}}function B_(e,t){return e(t)}function U_(){}var wm=!1;function z_(e,t,r){if(wm)return e(t,r);wm=!0;try{return B_(e,t,r)}finally{wm=!1,(la!==null||ua!==null)&&(U_(),L_())}}function Hl(e,t){var r=e.stateNode;if(r===null)return null;var n=wd(r);if(n===null)return null;r=n[t];t:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Z(231,t,typeof r));return r}var Gp=!1;if(ki)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){Gp=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Gp=!1}function pS(e,t,r,n,i,s,o,u,c){var h=Array.prototype.slice.call(arguments,3);try{t.apply(r,h)}catch(f){this.onError(f)}}var Rl=!1,Mh=null,Dh=!1,Hp=null,gS={onError:function(e){Rl=!0,Mh=e}};function yS(e,t,r,n,i,s,o,u,c){Rl=!1,Mh=null,pS.apply(gS,arguments)}function vS(e,t,r,n,i,s,o,u,c){if(yS.apply(this,arguments),Rl){if(Rl){var h=Mh;Rl=!1,Mh=null}else throw Error(Z(198));Dh||(Dh=!0,Hp=h)}}function fo(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function G_(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _v(e){if(fo(e)!==e)throw Error(Z(188))}function xS(e){var t=e.alternate;if(!t){if(t=fo(e),t===null)throw Error(Z(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return _v(i),e;if(s===n)return _v(i),t;s=s.sibling}throw Error(Z(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,u=i.child;u;){if(u===r){o=!0,r=i,n=s;break}if(u===n){o=!0,n=i,r=s;break}u=u.sibling}if(!o){for(u=s.child;u;){if(u===r){o=!0,r=s,n=i;break}if(u===n){o=!0,n=s,r=i;break}u=u.sibling}if(!o)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?e:t}function H_(e){return e=xS(e),e!==null?j_(e):null}function j_(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=j_(e);if(t!==null)return t;e=e.sibling}return null}var $_=Fr.unstable_scheduleCallback,bv=Fr.unstable_cancelCallback,TS=Fr.unstable_shouldYield,_S=Fr.unstable_requestPaint,Te=Fr.unstable_now,bS=Fr.unstable_getCurrentPriorityLevel,wg=Fr.unstable_ImmediatePriority,W_=Fr.unstable_UserBlockingPriority,Nh=Fr.unstable_NormalPriority,wS=Fr.unstable_LowPriority,V_=Fr.unstable_IdlePriority,xd=null,ti=null;function SS(e){if(ti&&typeof ti.onCommitFiberRoot=="function")try{ti.onCommitFiberRoot(xd,e,void 0,(e.current.flags&128)===128)}catch{}}var Pn=Math.clz32?Math.clz32:AS,ES=Math.log,CS=Math.LN2;function AS(e){return e>>>=0,e===0?32:31-(ES(e)/CS|0)|0}var xc=64,Tc=4194304;function xl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fh(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,s=e.pingedLanes,o=r&268435455;if(o!==0){var u=o&~i;u!==0?n=xl(u):(s&=o,s!==0&&(n=xl(s)))}else o=r&~i,o!==0?n=xl(o):s!==0&&(n=xl(s));if(n===0)return 0;if(t!==0&&t!==n&&(t&i)===0&&(i=n&-n,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if((n&4)!==0&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Pn(t),i=1<<r,n|=e[r],t&=~i;return n}function PS(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function IS(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-Pn(s),u=1<<o,c=i[o];c===-1?((u&r)===0||(u&n)!==0)&&(i[o]=PS(u,t)):c<=t&&(e.expiredLanes|=u),s&=~u}}function jp(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function X_(){var e=xc;return xc<<=1,(xc&4194240)===0&&(xc=64),e}function Sm(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function vu(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Pn(t),e[t]=r}function RS(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Pn(r),s=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~s}}function Sg(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Pn(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var $t=0;function Y_(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var K_,Eg,Q_,Z_,q_,$p=!1,_c=[],us=null,cs=null,hs=null,jl=new Map,$l=new Map,ns=[],kS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wv(e,t){switch(e){case"focusin":case"focusout":us=null;break;case"dragenter":case"dragleave":cs=null;break;case"mouseover":case"mouseout":hs=null;break;case"pointerover":case"pointerout":jl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":$l.delete(t.pointerId)}}function nl(e,t,r,n,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Tu(t),t!==null&&Eg(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function MS(e,t,r,n,i){switch(t){case"focusin":return us=nl(us,e,t,r,n,i),!0;case"dragenter":return cs=nl(cs,e,t,r,n,i),!0;case"mouseover":return hs=nl(hs,e,t,r,n,i),!0;case"pointerover":var s=i.pointerId;return jl.set(s,nl(jl.get(s)||null,e,t,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,$l.set(s,nl($l.get(s)||null,e,t,r,n,i)),!0}return!1}function J_(e){var t=Ks(e.target);if(t!==null){var r=fo(t);if(r!==null){if(t=r.tag,t===13){if(t=G_(r),t!==null){e.blockedOn=t,q_(e.priority,function(){Q_(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function uh(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Wp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Up=n,r.target.dispatchEvent(n),Up=null}else return t=Tu(r),t!==null&&Eg(t),e.blockedOn=r,!1;t.shift()}return!0}function Sv(e,t,r){uh(e)&&r.delete(t)}function DS(){$p=!1,us!==null&&uh(us)&&(us=null),cs!==null&&uh(cs)&&(cs=null),hs!==null&&uh(hs)&&(hs=null),jl.forEach(Sv),$l.forEach(Sv)}function il(e,t){e.blockedOn===t&&(e.blockedOn=null,$p||($p=!0,Fr.unstable_scheduleCallback(Fr.unstable_NormalPriority,DS)))}function Wl(e){function t(i){return il(i,e)}if(0<_c.length){il(_c[0],e);for(var r=1;r<_c.length;r++){var n=_c[r];n.blockedOn===e&&(n.blockedOn=null)}}for(us!==null&&il(us,e),cs!==null&&il(cs,e),hs!==null&&il(hs,e),jl.forEach(t),$l.forEach(t),r=0;r<ns.length;r++)n=ns[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<ns.length&&(r=ns[0],r.blockedOn===null);)J_(r),r.blockedOn===null&&ns.shift()}var ca=Li.ReactCurrentBatchConfig,Oh=!0;function NS(e,t,r,n){var i=$t,s=ca.transition;ca.transition=null;try{$t=1,Cg(e,t,r,n)}finally{$t=i,ca.transition=s}}function FS(e,t,r,n){var i=$t,s=ca.transition;ca.transition=null;try{$t=4,Cg(e,t,r,n)}finally{$t=i,ca.transition=s}}function Cg(e,t,r,n){if(Oh){var i=Wp(e,t,r,n);if(i===null)Nm(e,t,n,Lh,r),wv(e,n);else if(MS(i,e,t,r,n))n.stopPropagation();else if(wv(e,n),t&4&&-1<kS.indexOf(e)){for(;i!==null;){var s=Tu(i);if(s!==null&&K_(s),s=Wp(e,t,r,n),s===null&&Nm(e,t,n,Lh,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Nm(e,t,n,null,r)}}var Lh=null;function Wp(e,t,r,n){if(Lh=null,e=bg(n),e=Ks(e),e!==null)if(t=fo(e),t===null)e=null;else if(r=t.tag,r===13){if(e=G_(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Lh=e,null}function t2(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bS()){case wg:return 1;case W_:return 4;case Nh:case wS:return 16;case V_:return 536870912;default:return 16}default:return 16}}var os=null,Ag=null,ch=null;function e2(){if(ch)return ch;var e,t=Ag,r=t.length,n,i="value"in os?os.value:os.textContent,s=i.length;for(e=0;e<r&&t[e]===i[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===i[s-n];n++);return ch=i.slice(e,1<n?1-n:void 0)}function hh(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bc(){return!0}function Ev(){return!1}function Lr(e){function t(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(r=e[u],this[u]=r?r(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bc:Ev,this.isPropagationStopped=Ev,this}return ce(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=bc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=bc)},persist:function(){},isPersistent:bc}),t}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Pg=Lr(Ra),xu=ce({},Ra,{view:0,detail:0}),OS=Lr(xu),Em,Cm,sl,Td=ce({},xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ig,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sl&&(sl&&e.type==="mousemove"?(Em=e.screenX-sl.screenX,Cm=e.screenY-sl.screenY):Cm=Em=0,sl=e),Em)},movementY:function(e){return"movementY"in e?e.movementY:Cm}}),Cv=Lr(Td),LS=ce({},Td,{dataTransfer:0}),BS=Lr(LS),US=ce({},xu,{relatedTarget:0}),Am=Lr(US),zS=ce({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),GS=Lr(zS),HS=ce({},Ra,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),jS=Lr(HS),$S=ce({},Ra,{data:0}),Av=Lr($S),WS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},XS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=XS[e])?!!t[e]:!1}function Ig(){return YS}var KS=ce({},xu,{key:function(e){if(e.key){var t=WS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=hh(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?VS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ig,charCode:function(e){return e.type==="keypress"?hh(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?hh(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QS=Lr(KS),ZS=ce({},Td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pv=Lr(ZS),qS=ce({},xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ig}),JS=Lr(qS),tE=ce({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),eE=Lr(tE),rE=ce({},Td,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),nE=Lr(rE),iE=[9,13,27,32],Rg=ki&&"CompositionEvent"in window,kl=null;ki&&"documentMode"in document&&(kl=document.documentMode);var sE=ki&&"TextEvent"in window&&!kl,r2=ki&&(!Rg||kl&&8<kl&&11>=kl),Iv=String.fromCharCode(32),Rv=!1;function n2(e,t){switch(e){case"keyup":return iE.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function i2(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yo=!1;function oE(e,t){switch(e){case"compositionend":return i2(t);case"keypress":return t.which!==32?null:(Rv=!0,Iv);case"textInput":return e=t.data,e===Iv&&Rv?null:e;default:return null}}function aE(e,t){if(Yo)return e==="compositionend"||!Rg&&n2(e,t)?(e=e2(),ch=Ag=os=null,Yo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return r2&&t.locale!=="ko"?null:t.data;default:return null}}var lE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!lE[e.type]:t==="textarea"}function s2(e,t,r,n){O_(n),t=Bh(t,"onChange"),0<t.length&&(r=new Pg("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ml=null,Vl=null;function uE(e){g2(e,0)}function _d(e){var t=Zo(e);if(I_(t))return e}function cE(e,t){if(e==="change")return t}var o2=!1;if(ki){var Pm;if(ki){var Im="oninput"in document;if(!Im){var Mv=document.createElement("div");Mv.setAttribute("oninput","return;"),Im=typeof Mv.oninput=="function"}Pm=Im}else Pm=!1;o2=Pm&&(!document.documentMode||9<document.documentMode)}function Dv(){Ml&&(Ml.detachEvent("onpropertychange",a2),Vl=Ml=null)}function a2(e){if(e.propertyName==="value"&&_d(Vl)){var t=[];s2(t,Vl,e,bg(e)),z_(uE,t)}}function hE(e,t,r){e==="focusin"?(Dv(),Ml=t,Vl=r,Ml.attachEvent("onpropertychange",a2)):e==="focusout"&&Dv()}function dE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _d(Vl)}function fE(e,t){if(e==="click")return _d(t)}function mE(e,t){if(e==="input"||e==="change")return _d(t)}function pE(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Dn=typeof Object.is=="function"?Object.is:pE;function Xl(e,t){if(Dn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ap.call(t,i)||!Dn(e[i],t[i]))return!1}return!0}function Nv(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fv(e,t){var r=Nv(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Nv(r)}}function l2(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?l2(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function u2(){for(var e=window,t=kh();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=kh(e.document)}return t}function kg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function gE(e){var t=u2(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&l2(r.ownerDocument.documentElement,r)){if(n!==null&&kg(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!e.extend&&s>n&&(i=n,n=s,s=i),i=Fv(r,s);var o=Fv(r,n);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yE=ki&&"documentMode"in document&&11>=document.documentMode,Ko=null,Vp=null,Dl=null,Xp=!1;function Ov(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Xp||Ko==null||Ko!==kh(n)||(n=Ko,"selectionStart"in n&&kg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Dl&&Xl(Dl,n)||(Dl=n,n=Bh(Vp,"onSelect"),0<n.length&&(t=new Pg("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ko)))}function wc(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Qo={animationend:wc("Animation","AnimationEnd"),animationiteration:wc("Animation","AnimationIteration"),animationstart:wc("Animation","AnimationStart"),transitionend:wc("Transition","TransitionEnd")},Rm={},c2={};ki&&(c2=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function bd(e){if(Rm[e])return Rm[e];if(!Qo[e])return e;var t=Qo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in c2)return Rm[e]=t[r];return e}var h2=bd("animationend"),d2=bd("animationiteration"),f2=bd("animationstart"),m2=bd("transitionend"),p2=new Map,Lv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(e,t){p2.set(e,t),ho(t,[e])}for(var km=0;km<Lv.length;km++){var Mm=Lv[km],vE=Mm.toLowerCase(),xE=Mm[0].toUpperCase()+Mm.slice(1);Ss(vE,"on"+xE)}Ss(h2,"onAnimationEnd");Ss(d2,"onAnimationIteration");Ss(f2,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(m2,"onTransitionEnd");xa("onMouseEnter",["mouseout","mouseover"]);xa("onMouseLeave",["mouseout","mouseover"]);xa("onPointerEnter",["pointerout","pointerover"]);xa("onPointerLeave",["pointerout","pointerover"]);ho("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ho("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ho("onBeforeInput",["compositionend","keypress","textInput","paste"]);ho("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ho("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function Bv(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,vS(n,t,void 0,e),e.currentTarget=null}function g2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;t:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var u=n[o],c=u.instance,h=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break t;Bv(i,u,h),s=c}else for(o=0;o<n.length;o++){if(u=n[o],c=u.instance,h=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break t;Bv(i,u,h),s=c}}}if(Dh)throw e=Hp,Dh=!1,Hp=null,e}function Zt(e,t){var r=t[qp];r===void 0&&(r=t[qp]=new Set);var n=e+"__bubble";r.has(n)||(y2(t,e,2,!1),r.add(n))}function Dm(e,t,r){var n=0;t&&(n|=4),y2(r,e,n,t)}var Sc="_reactListening"+Math.random().toString(36).slice(2);function Yl(e){if(!e[Sc]){e[Sc]=!0,S_.forEach(function(r){r!=="selectionchange"&&(TE.has(r)||Dm(r,!1,e),Dm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sc]||(t[Sc]=!0,Dm("selectionchange",!1,t))}}function y2(e,t,r,n){switch(t2(t)){case 1:var i=NS;break;case 4:i=FS;break;default:i=Cg}r=i.bind(null,t,r,e),i=void 0,!Gp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Nm(e,t,r,n,i){var s=n;if((t&1)===0&&(t&2)===0&&n!==null)t:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var u=n.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;u!==null;){if(o=Ks(u),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue t}u=u.parentNode}}n=n.return}z_(function(){var h=s,f=bg(r),m=[];t:{var g=p2.get(e);if(g!==void 0){var v=Pg,x=e;switch(e){case"keypress":if(hh(r)===0)break t;case"keydown":case"keyup":v=QS;break;case"focusin":x="focus",v=Am;break;case"focusout":x="blur",v=Am;break;case"beforeblur":case"afterblur":v=Am;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Cv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=BS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=JS;break;case h2:case d2:case f2:v=GS;break;case m2:v=eE;break;case"scroll":v=OS;break;case"wheel":v=nE;break;case"copy":case"cut":case"paste":v=jS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Pv}var S=(t&4)!==0,E=!S&&e==="scroll",w=S?g!==null?g+"Capture":null:g;S=[];for(var b=h,_;b!==null;){_=b;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,w!==null&&(C=Hl(b,w),C!=null&&S.push(Kl(b,C,_)))),E)break;b=b.return}0<S.length&&(g=new v(g,x,null,r,f),m.push({event:g,listeners:S}))}}if((t&7)===0){t:{if(g=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",g&&r!==Up&&(x=r.relatedTarget||r.fromElement)&&(Ks(x)||x[Mi]))break t;if((v||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=h,x=x?Ks(x):null,x!==null&&(E=fo(x),x!==E||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=h),v!==x)){if(S=Cv,C="onMouseLeave",w="onMouseEnter",b="mouse",(e==="pointerout"||e==="pointerover")&&(S=Pv,C="onPointerLeave",w="onPointerEnter",b="pointer"),E=v==null?g:Zo(v),_=x==null?g:Zo(x),g=new S(C,b+"leave",v,r,f),g.target=E,g.relatedTarget=_,C=null,Ks(f)===h&&(S=new S(w,b+"enter",x,r,f),S.target=_,S.relatedTarget=E,C=S),E=C,v&&x)e:{for(S=v,w=x,b=0,_=S;_;_=No(_))b++;for(_=0,C=w;C;C=No(C))_++;for(;0<b-_;)S=No(S),b--;for(;0<_-b;)w=No(w),_--;for(;b--;){if(S===w||w!==null&&S===w.alternate)break e;S=No(S),w=No(w)}S=null}else S=null;v!==null&&Uv(m,g,v,S,!1),x!==null&&E!==null&&Uv(m,E,x,S,!0)}}t:{if(g=h?Zo(h):window,v=g.nodeName&&g.nodeName.toLowerCase(),v==="select"||v==="input"&&g.type==="file")var P=cE;else if(kv(g))if(o2)P=mE;else{P=dE;var O=hE}else(v=g.nodeName)&&v.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(P=fE);if(P&&(P=P(e,h))){s2(m,P,r,f);break t}O&&O(e,g,h),e==="focusout"&&(O=g._wrapperState)&&O.controlled&&g.type==="number"&&Np(g,"number",g.value)}switch(O=h?Zo(h):window,e){case"focusin":(kv(O)||O.contentEditable==="true")&&(Ko=O,Vp=h,Dl=null);break;case"focusout":Dl=Vp=Ko=null;break;case"mousedown":Xp=!0;break;case"contextmenu":case"mouseup":case"dragend":Xp=!1,Ov(m,r,f);break;case"selectionchange":if(yE)break;case"keydown":case"keyup":Ov(m,r,f)}var M;if(Rg)t:{switch(e){case"compositionstart":var N="onCompositionStart";break t;case"compositionend":N="onCompositionEnd";break t;case"compositionupdate":N="onCompositionUpdate";break t}N=void 0}else Yo?n2(e,r)&&(N="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(N="onCompositionStart");N&&(r2&&r.locale!=="ko"&&(Yo||N!=="onCompositionStart"?N==="onCompositionEnd"&&Yo&&(M=e2()):(os=f,Ag="value"in os?os.value:os.textContent,Yo=!0)),O=Bh(h,N),0<O.length&&(N=new Av(N,e,null,r,f),m.push({event:N,listeners:O}),M?N.data=M:(M=i2(r),M!==null&&(N.data=M)))),(M=sE?oE(e,r):aE(e,r))&&(h=Bh(h,"onBeforeInput"),0<h.length&&(f=new Av("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:h}),f.data=M))}g2(m,t)})}function Kl(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Bh(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Hl(e,r),s!=null&&n.unshift(Kl(e,s,i)),s=Hl(e,t),s!=null&&n.push(Kl(e,s,i))),e=e.return}return n}function No(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Uv(e,t,r,n,i){for(var s=t._reactName,o=[];r!==null&&r!==n;){var u=r,c=u.alternate,h=u.stateNode;if(c!==null&&c===n)break;u.tag===5&&h!==null&&(u=h,i?(c=Hl(r,s),c!=null&&o.unshift(Kl(r,c,u))):i||(c=Hl(r,s),c!=null&&o.push(Kl(r,c,u)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var _E=/\r\n?/g,bE=/\u0000|\uFFFD/g;function zv(e){return(typeof e=="string"?e:""+e).replace(_E,`
`).replace(bE,"")}function Ec(e,t,r){if(t=zv(t),zv(e)!==t&&r)throw Error(Z(425))}function Uh(){}var Yp=null,Kp=null;function Qp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zp=typeof setTimeout=="function"?setTimeout:void 0,wE=typeof clearTimeout=="function"?clearTimeout:void 0,Gv=typeof Promise=="function"?Promise:void 0,SE=typeof queueMicrotask=="function"?queueMicrotask:typeof Gv<"u"?function(e){return Gv.resolve(null).then(e).catch(EE)}:Zp;function EE(e){setTimeout(function(){throw e})}function Fm(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Wl(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Wl(t)}function ds(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hv(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var ka=Math.random().toString(36).slice(2),Zn="__reactFiber$"+ka,Ql="__reactProps$"+ka,Mi="__reactContainer$"+ka,qp="__reactEvents$"+ka,CE="__reactListeners$"+ka,AE="__reactHandles$"+ka;function Ks(e){var t=e[Zn];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mi]||r[Zn]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Hv(e);e!==null;){if(r=e[Zn])return r;e=Hv(e)}return t}e=r,r=e.parentNode}return null}function Tu(e){return e=e[Zn]||e[Mi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Z(33))}function wd(e){return e[Ql]||null}var Jp=[],qo=-1;function Es(e){return{current:e}}function qt(e){0>qo||(e.current=Jp[qo],Jp[qo]=null,qo--)}function Yt(e,t){qo++,Jp[qo]=e.current,e.current=t}var xs={},ir=Es(xs),Tr=Es(!1),no=xs;function Ta(e,t){var r=e.type.contextTypes;if(!r)return xs;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=t[s];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function _r(e){return e=e.childContextTypes,e!=null}function zh(){qt(Tr),qt(ir)}function jv(e,t,r){if(ir.current!==xs)throw Error(Z(168));Yt(ir,t),Yt(Tr,r)}function v2(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Z(108,hS(e)||"Unknown",i));return ce({},r,n)}function Gh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||xs,no=ir.current,Yt(ir,e),Yt(Tr,Tr.current),!0}function $v(e,t,r){var n=e.stateNode;if(!n)throw Error(Z(169));r?(e=v2(e,t,no),n.__reactInternalMemoizedMergedChildContext=e,qt(Tr),qt(ir),Yt(ir,e)):qt(Tr),Yt(Tr,r)}var xi=null,Sd=!1,Om=!1;function x2(e){xi===null?xi=[e]:xi.push(e)}function PE(e){Sd=!0,x2(e)}function Cs(){if(!Om&&xi!==null){Om=!0;var e=0,t=$t;try{var r=xi;for($t=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}xi=null,Sd=!1}catch(i){throw xi!==null&&(xi=xi.slice(e+1)),$_(wg,Cs),i}finally{$t=t,Om=!1}}return null}var Jo=[],ta=0,Hh=null,jh=0,Qr=[],Zr=0,io=null,wi=1,Si="";function Hs(e,t){Jo[ta++]=jh,Jo[ta++]=Hh,Hh=e,jh=t}function T2(e,t,r){Qr[Zr++]=wi,Qr[Zr++]=Si,Qr[Zr++]=io,io=e;var n=wi;e=Si;var i=32-Pn(n)-1;n&=~(1<<i),r+=1;var s=32-Pn(t)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,wi=1<<32-Pn(t)+i|r<<i|n,Si=s+e}else wi=1<<s|r<<i|n,Si=e}function Mg(e){e.return!==null&&(Hs(e,1),T2(e,1,0))}function Dg(e){for(;e===Hh;)Hh=Jo[--ta],Jo[ta]=null,jh=Jo[--ta],Jo[ta]=null;for(;e===io;)io=Qr[--Zr],Qr[Zr]=null,Si=Qr[--Zr],Qr[Zr]=null,wi=Qr[--Zr],Qr[Zr]=null}var Dr=null,Mr=null,ne=!1,_n=null;function _2(e,t){var r=qr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Wv(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dr=e,Mr=ds(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dr=e,Mr=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=io!==null?{id:wi,overflow:Si}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=qr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Dr=e,Mr=null,!0):!1;default:return!1}}function t0(e){return(e.mode&1)!==0&&(e.flags&128)===0}function e0(e){if(ne){var t=Mr;if(t){var r=t;if(!Wv(e,t)){if(t0(e))throw Error(Z(418));t=ds(r.nextSibling);var n=Dr;t&&Wv(e,t)?_2(n,r):(e.flags=e.flags&-4097|2,ne=!1,Dr=e)}}else{if(t0(e))throw Error(Z(418));e.flags=e.flags&-4097|2,ne=!1,Dr=e}}}function Vv(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dr=e}function Cc(e){if(e!==Dr)return!1;if(!ne)return Vv(e),ne=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Qp(e.type,e.memoizedProps)),t&&(t=Mr)){if(t0(e))throw b2(),Error(Z(418));for(;t;)_2(e,t),t=ds(t.nextSibling)}if(Vv(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Z(317));t:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){Mr=ds(e.nextSibling);break t}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}Mr=null}}else Mr=Dr?ds(e.stateNode.nextSibling):null;return!0}function b2(){for(var e=Mr;e;)e=ds(e.nextSibling)}function _a(){Mr=Dr=null,ne=!1}function Ng(e){_n===null?_n=[e]:_n.push(e)}var IE=Li.ReactCurrentBatchConfig;function vn(e,t){if(e&&e.defaultProps){t=ce({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}var $h=Es(null),Wh=null,ea=null,Fg=null;function Og(){Fg=ea=Wh=null}function Lg(e){var t=$h.current;qt($h),e._currentValue=t}function r0(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ha(e,t){Wh=e,Fg=ea=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(xr=!0),e.firstContext=null)}function sn(e){var t=e._currentValue;if(Fg!==e)if(e={context:e,memoizedValue:t,next:null},ea===null){if(Wh===null)throw Error(Z(308));ea=e,Wh.dependencies={lanes:0,firstContext:e}}else ea=ea.next=e;return t}var Qs=null;function Bg(e){Qs===null?Qs=[e]:Qs.push(e)}function w2(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,Bg(t)):(r.next=i.next,i.next=r),t.interleaved=r,Di(e,n)}function Di(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var es=!1;function Ug(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function S2(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ci(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function fs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,(Dt&2)!==0){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Di(e,r)}return i=n.interleaved,i===null?(t.next=t,Bg(n)):(t.next=i.next,i.next=t),n.interleaved=t,Di(e,r)}function dh(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sg(e,r)}}function Xv(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=t:s=s.next=t}else i=s=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vh(e,t,r,n){var i=e.updateQueue;es=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var f=e.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==o&&(u===null?f.firstBaseUpdate=h:u.next=h,f.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;o=0,f=h=c=null,u=s;do{var g=u.lane,v=u.eventTime;if((n&g)===g){f!==null&&(f=f.next={eventTime:v,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});t:{var x=e,S=u;switch(g=t,v=r,S.tag){case 1:if(x=S.payload,typeof x=="function"){m=x.call(v,m,g);break t}m=x;break t;case 3:x.flags=x.flags&-65537|128;case 0:if(x=S.payload,g=typeof x=="function"?x.call(v,m,g):x,g==null)break t;m=ce({},m,g);break t;case 2:es=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,g=i.effects,g===null?i.effects=[u]:g.push(u))}else v={eventTime:v,lane:g,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(h=f=v,c=m):f=f.next=v,o|=g;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;g=u,u=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(1);if(f===null&&(c=m),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);oo|=o,e.lanes=o,e.memoizedState=m}}function Yv(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Z(191,i));i.call(n)}}}var E2=new w_.Component().refs;function n0(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ce({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ed={isMounted:function(e){return(e=e._reactInternals)?fo(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=cr(),i=ps(e),s=Ci(n,i);s.payload=t,r!=null&&(s.callback=r),t=fs(e,s,i),t!==null&&(In(t,e,i,n),dh(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=cr(),i=ps(e),s=Ci(n,i);s.tag=1,s.payload=t,r!=null&&(s.callback=r),t=fs(e,s,i),t!==null&&(In(t,e,i,n),dh(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=cr(),n=ps(e),i=Ci(r,n);i.tag=2,t!=null&&(i.callback=t),t=fs(e,i,n),t!==null&&(In(t,e,n,r),dh(t,e,n))}};function Kv(e,t,r,n,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,s,o):t.prototype&&t.prototype.isPureReactComponent?!Xl(r,n)||!Xl(i,s):!0}function C2(e,t,r){var n=!1,i=xs,s=t.contextType;return typeof s=="object"&&s!==null?s=sn(s):(i=_r(t)?no:ir.current,n=t.contextTypes,s=(n=n!=null)?Ta(e,i):xs),t=new t(r,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ed,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Qv(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ed.enqueueReplaceState(t,t.state,null)}function i0(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs=E2,Ug(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=sn(s):(s=_r(t)?no:ir.current,i.context=Ta(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(n0(e,t,s,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&Ed.enqueueReplaceState(i,i.state,null),Vh(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ol(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,e));var i=n,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var u=i.refs;u===E2&&(u=i.refs={}),o===null?delete u[s]:u[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,e))}return e}function Ac(e,t){throw e=Object.prototype.toString.call(t),Error(Z(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Zv(e){var t=e._init;return t(e._payload)}function A2(e){function t(w,b){if(e){var _=w.deletions;_===null?(w.deletions=[b],w.flags|=16):_.push(b)}}function r(w,b){if(!e)return null;for(;b!==null;)t(w,b),b=b.sibling;return null}function n(w,b){for(w=new Map;b!==null;)b.key!==null?w.set(b.key,b):w.set(b.index,b),b=b.sibling;return w}function i(w,b){return w=gs(w,b),w.index=0,w.sibling=null,w}function s(w,b,_){return w.index=_,e?(_=w.alternate,_!==null?(_=_.index,_<b?(w.flags|=2,b):_):(w.flags|=2,b)):(w.flags|=1048576,b)}function o(w){return e&&w.alternate===null&&(w.flags|=2),w}function u(w,b,_,C){return b===null||b.tag!==6?(b=jm(_,w.mode,C),b.return=w,b):(b=i(b,_),b.return=w,b)}function c(w,b,_,C){var P=_.type;return P===Xo?f(w,b,_.props.children,C,_.key):b!==null&&(b.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ts&&Zv(P)===b.type)?(C=i(b,_.props),C.ref=ol(w,b,_),C.return=w,C):(C=vh(_.type,_.key,_.props,null,w.mode,C),C.ref=ol(w,b,_),C.return=w,C)}function h(w,b,_,C){return b===null||b.tag!==4||b.stateNode.containerInfo!==_.containerInfo||b.stateNode.implementation!==_.implementation?(b=$m(_,w.mode,C),b.return=w,b):(b=i(b,_.children||[]),b.return=w,b)}function f(w,b,_,C,P){return b===null||b.tag!==7?(b=eo(_,w.mode,C,P),b.return=w,b):(b=i(b,_),b.return=w,b)}function m(w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return b=jm(""+b,w.mode,_),b.return=w,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case gc:return _=vh(b.type,b.key,b.props,null,w.mode,_),_.ref=ol(w,null,b),_.return=w,_;case Vo:return b=$m(b,w.mode,_),b.return=w,b;case ts:var C=b._init;return m(w,C(b._payload),_)}if(vl(b)||el(b))return b=eo(b,w.mode,_,null),b.return=w,b;Ac(w,b)}return null}function g(w,b,_,C){var P=b!==null?b.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return P!==null?null:u(w,b,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gc:return _.key===P?c(w,b,_,C):null;case Vo:return _.key===P?h(w,b,_,C):null;case ts:return P=_._init,g(w,b,P(_._payload),C)}if(vl(_)||el(_))return P!==null?null:f(w,b,_,C,null);Ac(w,_)}return null}function v(w,b,_,C,P){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(_)||null,u(b,w,""+C,P);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gc:return w=w.get(C.key===null?_:C.key)||null,c(b,w,C,P);case Vo:return w=w.get(C.key===null?_:C.key)||null,h(b,w,C,P);case ts:var O=C._init;return v(w,b,_,O(C._payload),P)}if(vl(C)||el(C))return w=w.get(_)||null,f(b,w,C,P,null);Ac(b,C)}return null}function x(w,b,_,C){for(var P=null,O=null,M=b,N=b=0,Q=null;M!==null&&N<_.length;N++){M.index>N?(Q=M,M=null):Q=M.sibling;var V=g(w,M,_[N],C);if(V===null){M===null&&(M=Q);break}e&&M&&V.alternate===null&&t(w,M),b=s(V,b,N),O===null?P=V:O.sibling=V,O=V,M=Q}if(N===_.length)return r(w,M),ne&&Hs(w,N),P;if(M===null){for(;N<_.length;N++)M=m(w,_[N],C),M!==null&&(b=s(M,b,N),O===null?P=M:O.sibling=M,O=M);return ne&&Hs(w,N),P}for(M=n(w,M);N<_.length;N++)Q=v(M,w,N,_[N],C),Q!==null&&(e&&Q.alternate!==null&&M.delete(Q.key===null?N:Q.key),b=s(Q,b,N),O===null?P=Q:O.sibling=Q,O=Q);return e&&M.forEach(function(Y){return t(w,Y)}),ne&&Hs(w,N),P}function S(w,b,_,C){var P=el(_);if(typeof P!="function")throw Error(Z(150));if(_=P.call(_),_==null)throw Error(Z(151));for(var O=P=null,M=b,N=b=0,Q=null,V=_.next();M!==null&&!V.done;N++,V=_.next()){M.index>N?(Q=M,M=null):Q=M.sibling;var Y=g(w,M,V.value,C);if(Y===null){M===null&&(M=Q);break}e&&M&&Y.alternate===null&&t(w,M),b=s(Y,b,N),O===null?P=Y:O.sibling=Y,O=Y,M=Q}if(V.done)return r(w,M),ne&&Hs(w,N),P;if(M===null){for(;!V.done;N++,V=_.next())V=m(w,V.value,C),V!==null&&(b=s(V,b,N),O===null?P=V:O.sibling=V,O=V);return ne&&Hs(w,N),P}for(M=n(w,M);!V.done;N++,V=_.next())V=v(M,w,N,V.value,C),V!==null&&(e&&V.alternate!==null&&M.delete(V.key===null?N:V.key),b=s(V,b,N),O===null?P=V:O.sibling=V,O=V);return e&&M.forEach(function(it){return t(w,it)}),ne&&Hs(w,N),P}function E(w,b,_,C){if(typeof _=="object"&&_!==null&&_.type===Xo&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case gc:t:{for(var P=_.key,O=b;O!==null;){if(O.key===P){if(P=_.type,P===Xo){if(O.tag===7){r(w,O.sibling),b=i(O,_.props.children),b.return=w,w=b;break t}}else if(O.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===ts&&Zv(P)===O.type){r(w,O.sibling),b=i(O,_.props),b.ref=ol(w,O,_),b.return=w,w=b;break t}r(w,O);break}else t(w,O);O=O.sibling}_.type===Xo?(b=eo(_.props.children,w.mode,C,_.key),b.return=w,w=b):(C=vh(_.type,_.key,_.props,null,w.mode,C),C.ref=ol(w,b,_),C.return=w,w=C)}return o(w);case Vo:t:{for(O=_.key;b!==null;){if(b.key===O)if(b.tag===4&&b.stateNode.containerInfo===_.containerInfo&&b.stateNode.implementation===_.implementation){r(w,b.sibling),b=i(b,_.children||[]),b.return=w,w=b;break t}else{r(w,b);break}else t(w,b);b=b.sibling}b=$m(_,w.mode,C),b.return=w,w=b}return o(w);case ts:return O=_._init,E(w,b,O(_._payload),C)}if(vl(_))return x(w,b,_,C);if(el(_))return S(w,b,_,C);Ac(w,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,b!==null&&b.tag===6?(r(w,b.sibling),b=i(b,_),b.return=w,w=b):(r(w,b),b=jm(_,w.mode,C),b.return=w,w=b),o(w)):r(w,b)}return E}var ba=A2(!0),P2=A2(!1),_u={},ei=Es(_u),Zl=Es(_u),ql=Es(_u);function Zs(e){if(e===_u)throw Error(Z(174));return e}function zg(e,t){switch(Yt(ql,t),Yt(Zl,e),Yt(ei,_u),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Op(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Op(t,e)}qt(ei),Yt(ei,t)}function wa(){qt(ei),qt(Zl),qt(ql)}function I2(e){Zs(ql.current);var t=Zs(ei.current),r=Op(t,e.type);t!==r&&(Yt(Zl,e),Yt(ei,r))}function Gg(e){Zl.current===e&&(qt(ei),qt(Zl))}var ae=Es(0);function Xh(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Lm=[];function Hg(){for(var e=0;e<Lm.length;e++)Lm[e]._workInProgressVersionPrimary=null;Lm.length=0}var fh=Li.ReactCurrentDispatcher,Bm=Li.ReactCurrentBatchConfig,so=0,ue=null,Pe=null,Oe=null,Yh=!1,Nl=!1,Jl=0,RE=0;function qe(){throw Error(Z(321))}function jg(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Dn(e[r],t[r]))return!1;return!0}function $g(e,t,r,n,i,s){if(so=s,ue=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fh.current=e===null||e.memoizedState===null?NE:FE,e=r(n,i),Nl){s=0;do{if(Nl=!1,Jl=0,25<=s)throw Error(Z(301));s+=1,Oe=Pe=null,t.updateQueue=null,fh.current=OE,e=r(n,i)}while(Nl)}if(fh.current=Kh,t=Pe!==null&&Pe.next!==null,so=0,Oe=Pe=ue=null,Yh=!1,t)throw Error(Z(300));return e}function Wg(){var e=Jl!==0;return Jl=0,e}function Yn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?ue.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function on(){if(Pe===null){var e=ue.alternate;e=e!==null?e.memoizedState:null}else e=Pe.next;var t=Oe===null?ue.memoizedState:Oe.next;if(t!==null)Oe=t,Pe=e;else{if(e===null)throw Error(Z(310));Pe=e,e={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Oe===null?ue.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function tu(e,t){return typeof t=="function"?t(e):t}function Um(e){var t=on(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=Pe,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var u=o=null,c=null,h=s;do{var f=h.lane;if((so&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:e(n,h.action);else{var m={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(u=c=m,o=n):c=c.next=m,ue.lanes|=f,oo|=f}h=h.next}while(h!==null&&h!==s);c===null?o=n:c.next=u,Dn(n,t.memoizedState)||(xr=!0),t.memoizedState=n,t.baseState=o,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do s=i.lane,ue.lanes|=s,oo|=s,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function zm(e){var t=on(),r=t.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);Dn(s,t.memoizedState)||(xr=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function R2(){}function k2(e,t){var r=ue,n=on(),i=t(),s=!Dn(n.memoizedState,i);if(s&&(n.memoizedState=i,xr=!0),n=n.queue,Vg(N2.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||Oe!==null&&Oe.memoizedState.tag&1){if(r.flags|=2048,eu(9,D2.bind(null,r,n,i,t),void 0,null),Be===null)throw Error(Z(349));(so&30)!==0||M2(r,t,i)}return i}function M2(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function D2(e,t,r,n){t.value=r,t.getSnapshot=n,F2(t)&&O2(e)}function N2(e,t,r){return r(function(){F2(t)&&O2(e)})}function F2(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Dn(e,r)}catch{return!0}}function O2(e){var t=Di(e,1);t!==null&&In(t,e,1,-1)}function qv(e){var t=Yn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:e},t.queue=e,e=e.dispatch=DE.bind(null,ue,e),[t.memoizedState,e]}function eu(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=ue.updateQueue,t===null?(t={lastEffect:null,stores:null},ue.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function L2(){return on().memoizedState}function mh(e,t,r,n){var i=Yn();ue.flags|=e,i.memoizedState=eu(1|t,r,void 0,n===void 0?null:n)}function Cd(e,t,r,n){var i=on();n=n===void 0?null:n;var s=void 0;if(Pe!==null){var o=Pe.memoizedState;if(s=o.destroy,n!==null&&jg(n,o.deps)){i.memoizedState=eu(t,r,s,n);return}}ue.flags|=e,i.memoizedState=eu(1|t,r,s,n)}function Jv(e,t){return mh(8390656,8,e,t)}function Vg(e,t){return Cd(2048,8,e,t)}function B2(e,t){return Cd(4,2,e,t)}function U2(e,t){return Cd(4,4,e,t)}function z2(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function G2(e,t,r){return r=r!=null?r.concat([e]):null,Cd(4,4,z2.bind(null,t,e),r)}function Xg(){}function H2(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jg(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function j2(e,t){var r=on();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&jg(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function $2(e,t,r){return(so&21)===0?(e.baseState&&(e.baseState=!1,xr=!0),e.memoizedState=r):(Dn(r,t)||(r=X_(),ue.lanes|=r,oo|=r,e.baseState=!0),t)}function kE(e,t){var r=$t;$t=r!==0&&4>r?r:4,e(!0);var n=Bm.transition;Bm.transition={};try{e(!1),t()}finally{$t=r,Bm.transition=n}}function W2(){return on().memoizedState}function ME(e,t,r){var n=ps(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},V2(e))X2(t,r);else if(r=w2(e,t,r,n),r!==null){var i=cr();In(r,e,n,i),Y2(r,t,n)}}function DE(e,t,r){var n=ps(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(V2(e))X2(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,u=s(o,r);if(i.hasEagerState=!0,i.eagerState=u,Dn(u,o)){var c=t.interleaved;c===null?(i.next=i,Bg(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}r=w2(e,t,i,n),r!==null&&(i=cr(),In(r,e,n,i),Y2(r,t,n))}}function V2(e){var t=e.alternate;return e===ue||t!==null&&t===ue}function X2(e,t){Nl=Yh=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Y2(e,t,r){if((r&4194240)!==0){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Sg(e,r)}}var Kh={readContext:sn,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},NE={readContext:sn,useCallback:function(e,t){return Yn().memoizedState=[e,t===void 0?null:t],e},useContext:sn,useEffect:Jv,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,mh(4194308,4,z2.bind(null,t,e),r)},useLayoutEffect:function(e,t){return mh(4194308,4,e,t)},useInsertionEffect:function(e,t){return mh(4,2,e,t)},useMemo:function(e,t){var r=Yn();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Yn();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ME.bind(null,ue,e),[n.memoizedState,e]},useRef:function(e){var t=Yn();return e={current:e},t.memoizedState=e},useState:qv,useDebugValue:Xg,useDeferredValue:function(e){return Yn().memoizedState=e},useTransition:function(){var e=qv(!1),t=e[0];return e=kE.bind(null,e[1]),Yn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=ue,i=Yn();if(ne){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=t(),Be===null)throw Error(Z(349));(so&30)!==0||M2(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,Jv(N2.bind(null,n,s,e),[e]),n.flags|=2048,eu(9,D2.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=Yn(),t=Be.identifierPrefix;if(ne){var r=Si,n=wi;r=(n&~(1<<32-Pn(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Jl++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=RE++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},FE={readContext:sn,useCallback:H2,useContext:sn,useEffect:Vg,useImperativeHandle:G2,useInsertionEffect:B2,useLayoutEffect:U2,useMemo:j2,useReducer:Um,useRef:L2,useState:function(){return Um(tu)},useDebugValue:Xg,useDeferredValue:function(e){var t=on();return $2(t,Pe.memoizedState,e)},useTransition:function(){var e=Um(tu)[0],t=on().memoizedState;return[e,t]},useMutableSource:R2,useSyncExternalStore:k2,useId:W2,unstable_isNewReconciler:!1},OE={readContext:sn,useCallback:H2,useContext:sn,useEffect:Vg,useImperativeHandle:G2,useInsertionEffect:B2,useLayoutEffect:U2,useMemo:j2,useReducer:zm,useRef:L2,useState:function(){return zm(tu)},useDebugValue:Xg,useDeferredValue:function(e){var t=on();return Pe===null?t.memoizedState=e:$2(t,Pe.memoizedState,e)},useTransition:function(){var e=zm(tu)[0],t=on().memoizedState;return[e,t]},useMutableSource:R2,useSyncExternalStore:k2,useId:W2,unstable_isNewReconciler:!1};function Sa(e,t){try{var r="",n=t;do r+=cS(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Gm(e,t,r){return{value:e,source:null,stack:r!=null?r:null,digest:t!=null?t:null}}function s0(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var LE=typeof WeakMap=="function"?WeakMap:Map;function K2(e,t,r){r=Ci(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Zh||(Zh=!0,p0=n),s0(e,t)},r}function Q2(e,t,r){r=Ci(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){s0(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){s0(e,t),typeof n!="function"&&(ms===null?ms=new Set([this]):ms.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),r}function tx(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new LE;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=ZE.bind(null,e,t,r),t.then(e,e))}function ex(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rx(e,t,r,n,i){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Ci(-1,1),t.tag=2,fs(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var BE=Li.ReactCurrentOwner,xr=!1;function ar(e,t,r,n){t.child=e===null?P2(t,null,r,n):ba(t,e.child,r,n)}function nx(e,t,r,n,i){r=r.render;var s=t.ref;return ha(t,i),n=$g(e,t,r,n,s,i),r=Wg(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ni(e,t,i)):(ne&&r&&Mg(t),t.flags|=1,ar(e,t,n,i),t.child)}function ix(e,t,r,n,i){if(e===null){var s=r.type;return typeof s=="function"&&!e1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=s,Z2(e,t,s,n,i)):(e=vh(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,(e.lanes&i)===0){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Xl,r(o,n)&&e.ref===t.ref)return Ni(e,t,i)}return t.flags|=1,e=gs(s,n),e.ref=t.ref,e.return=t,t.child=e}function Z2(e,t,r,n,i){if(e!==null){var s=e.memoizedProps;if(Xl(s,n)&&e.ref===t.ref)if(xr=!1,t.pendingProps=n=s,(e.lanes&i)!==0)(e.flags&131072)!==0&&(xr=!0);else return t.lanes=e.lanes,Ni(e,t,i)}return o0(e,t,r,n,i)}function q2(e,t,r){var n=t.pendingProps,i=n.children,s=e!==null?e.memoizedState:null;if(n.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Yt(na,kr),kr|=r;else{if((r&1073741824)===0)return e=s!==null?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Yt(na,kr),kr|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Yt(na,kr),kr|=n}else s!==null?(n=s.baseLanes|r,t.memoizedState=null):n=r,Yt(na,kr),kr|=n;return ar(e,t,i,r),t.child}function J2(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function o0(e,t,r,n,i){var s=_r(r)?no:ir.current;return s=Ta(t,s),ha(t,i),r=$g(e,t,r,n,s,i),n=Wg(),e!==null&&!xr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ni(e,t,i)):(ne&&n&&Mg(t),t.flags|=1,ar(e,t,r,i),t.child)}function sx(e,t,r,n,i){if(_r(r)){var s=!0;Gh(t)}else s=!1;if(ha(t,i),t.stateNode===null)ph(e,t),C2(t,r,n),i0(t,r,n,i),n=!0;else if(e===null){var o=t.stateNode,u=t.memoizedProps;o.props=u;var c=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=sn(h):(h=_r(r)?no:ir.current,h=Ta(t,h));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==n||c!==h)&&Qv(t,o,n,h),es=!1;var g=t.memoizedState;o.state=g,Vh(t,n,o,i),c=t.memoizedState,u!==n||g!==c||Tr.current||es?(typeof f=="function"&&(n0(t,r,f,n),c=t.memoizedState),(u=es||Kv(t,r,u,n,g,c,h))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),o.props=n,o.state=c,o.context=h,n=u):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,S2(e,t),u=t.memoizedProps,h=t.type===t.elementType?u:vn(t.type,u),o.props=h,m=t.pendingProps,g=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=sn(c):(c=_r(r)?no:ir.current,c=Ta(t,c));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(u!==m||g!==c)&&Qv(t,o,n,c),es=!1,g=t.memoizedState,o.state=g,Vh(t,n,o,i);var x=t.memoizedState;u!==m||g!==x||Tr.current||es?(typeof v=="function"&&(n0(t,r,v,n),x=t.memoizedState),(h=es||Kv(t,r,h,n,g,x,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,c)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=x),o.props=n,o.state=x,o.context=c,n=h):(typeof o.componentDidUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&g===e.memoizedState||(t.flags|=1024),n=!1)}return a0(e,t,r,n,s,i)}function a0(e,t,r,n,i,s){J2(e,t);var o=(t.flags&128)!==0;if(!n&&!o)return i&&$v(t,r,!1),Ni(e,t,s);n=t.stateNode,BE.current=t;var u=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&o?(t.child=ba(t,e.child,null,s),t.child=ba(t,null,u,s)):ar(e,t,u,s),t.memoizedState=n.state,i&&$v(t,r,!0),t.child}function t3(e){var t=e.stateNode;t.pendingContext?jv(e,t.pendingContext,t.pendingContext!==t.context):t.context&&jv(e,t.context,!1),zg(e,t.containerInfo)}function ox(e,t,r,n,i){return _a(),Ng(i),t.flags|=256,ar(e,t,r,n),t.child}var l0={dehydrated:null,treeContext:null,retryLane:0};function u0(e){return{baseLanes:e,cachePool:null,transitions:null}}function e3(e,t,r){var n=t.pendingProps,i=ae.current,s=!1,o=(t.flags&128)!==0,u;if((u=o)||(u=e!==null&&e.memoizedState===null?!1:(i&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Yt(ae,i&1),e===null)return e0(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(o=n.children,e=n.fallback,s?(n=t.mode,s=t.child,o={mode:"hidden",children:o},(n&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Id(o,n,0,null),e=eo(e,n,r,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=u0(r),t.memoizedState=l0,e):Yg(t,o));if(i=e.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return UE(e,t,o,n,u,i,r);if(s){s=n.fallback,o=t.mode,i=e.child,u=i.sibling;var c={mode:"hidden",children:n.children};return(o&1)===0&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=gs(i,c),n.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=gs(u,s):(s=eo(s,o,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,o=e.child.memoizedState,o=o===null?u0(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~r,t.memoizedState=l0,n}return s=e.child,e=s.sibling,n=gs(s,{mode:"visible",children:n.children}),(t.mode&1)===0&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Yg(e,t){return t=Id({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Pc(e,t,r,n){return n!==null&&Ng(n),ba(t,e.child,null,r),e=Yg(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function UE(e,t,r,n,i,s,o){if(r)return t.flags&256?(t.flags&=-257,n=Gm(Error(Z(422))),Pc(e,t,o,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=Id({mode:"visible",children:n.children},i,0,null),s=eo(s,i,o,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,(t.mode&1)!==0&&ba(t,e.child,null,o),t.child.memoizedState=u0(o),t.memoizedState=l0,s);if((t.mode&1)===0)return Pc(e,t,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var u=n.dgst;return n=u,s=Error(Z(419)),n=Gm(s,n,void 0),Pc(e,t,o,n)}if(u=(o&e.childLanes)!==0,xr||u){if(n=Be,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(n.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Di(e,i),In(n,e,i,-1))}return t1(),n=Gm(Error(Z(421))),Pc(e,t,o,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=qE.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Mr=ds(i.nextSibling),Dr=t,ne=!0,_n=null,e!==null&&(Qr[Zr++]=wi,Qr[Zr++]=Si,Qr[Zr++]=io,wi=e.id,Si=e.overflow,io=t),t=Yg(t,n.children),t.flags|=4096,t)}function ax(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),r0(e.return,t,r)}function Hm(e,t,r,n,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function r3(e,t,r){var n=t.pendingProps,i=n.revealOrder,s=n.tail;if(ar(e,t,n.children,r),n=ae.current,(n&2)!==0)n=n&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ax(e,r,t);else if(e.tag===19)ax(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break t;for(;e.sibling===null;){if(e.return===null||e.return===t)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Yt(ae,n),(t.mode&1)===0)t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&Xh(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Hm(t,!1,i,r,s);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Xh(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Hm(t,!0,r,null,s);break;case"together":Hm(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ph(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ni(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),oo|=t.lanes,(r&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(Z(153));if(t.child!==null){for(e=t.child,r=gs(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=gs(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function zE(e,t,r){switch(t.tag){case 3:t3(t),_a();break;case 5:I2(t);break;case 1:_r(t.type)&&Gh(t);break;case 4:zg(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Yt($h,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Yt(ae,ae.current&1),t.flags|=128,null):(r&t.child.childLanes)!==0?e3(e,t,r):(Yt(ae,ae.current&1),e=Ni(e,t,r),e!==null?e.sibling:null);Yt(ae,ae.current&1);break;case 19:if(n=(r&t.childLanes)!==0,(e.flags&128)!==0){if(n)return r3(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Yt(ae,ae.current),n)break;return null;case 22:case 23:return t.lanes=0,q2(e,t,r)}return Ni(e,t,r)}var n3,c0,i3,s3;n3=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};c0=function(){};i3=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Zs(ei.current);var s=null;switch(r){case"input":i=Mp(e,i),n=Mp(e,n),s=[];break;case"select":i=ce({},i,{value:void 0}),n=ce({},n,{value:void 0}),s=[];break;case"textarea":i=Fp(e,i),n=Fp(e,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Uh)}Lp(r,n);var o;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var u=i[h];for(o in u)u.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(zl.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var c=n[h];if(u=i!=null?i[h]:void 0,n.hasOwnProperty(h)&&c!==u&&(c!=null||u!=null))if(h==="style")if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(zl.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&Zt("scroll",e),s||u===c||(s=[])):(s=s||[]).push(h,c))}r&&(s=s||[]).push("style",r);var h=s;(t.updateQueue=h)&&(t.flags|=4)}};s3=function(e,t,r,n){r!==n&&(t.flags|=4)};function al(e,t){if(!ne)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Je(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function GE(e,t,r){var n=t.pendingProps;switch(Dg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(t),null;case 1:return _r(t.type)&&zh(),Je(t),null;case 3:return n=t.stateNode,wa(),qt(Tr),qt(ir),Hg(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Cc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_n!==null&&(v0(_n),_n=null))),c0(e,t),Je(t),null;case 5:Gg(t);var i=Zs(ql.current);if(r=t.type,e!==null&&t.stateNode!=null)i3(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Z(166));return Je(t),null}if(e=Zs(ei.current),Cc(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[Zn]=t,n[Ql]=s,e=(t.mode&1)!==0,r){case"dialog":Zt("cancel",n),Zt("close",n);break;case"iframe":case"object":case"embed":Zt("load",n);break;case"video":case"audio":for(i=0;i<Tl.length;i++)Zt(Tl[i],n);break;case"source":Zt("error",n);break;case"img":case"image":case"link":Zt("error",n),Zt("load",n);break;case"details":Zt("toggle",n);break;case"input":gv(n,s),Zt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Zt("invalid",n);break;case"textarea":vv(n,s),Zt("invalid",n)}Lp(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var u=s[o];o==="children"?typeof u=="string"?n.textContent!==u&&(s.suppressHydrationWarning!==!0&&Ec(n.textContent,u,e),i=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&Ec(n.textContent,u,e),i=["children",""+u]):zl.hasOwnProperty(o)&&u!=null&&o==="onScroll"&&Zt("scroll",n)}switch(r){case"input":yc(n),yv(n,s,!0);break;case"textarea":yc(n),xv(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Uh)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=M_(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=o.createElement(r,{is:n.is}):(e=o.createElement(r),r==="select"&&(o=e,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):e=o.createElementNS(e,r),e[Zn]=t,e[Ql]=n,n3(e,t,!1,!1),t.stateNode=e;t:{switch(o=Bp(r,n),r){case"dialog":Zt("cancel",e),Zt("close",e),i=n;break;case"iframe":case"object":case"embed":Zt("load",e),i=n;break;case"video":case"audio":for(i=0;i<Tl.length;i++)Zt(Tl[i],e);i=n;break;case"source":Zt("error",e),i=n;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),i=n;break;case"details":Zt("toggle",e),i=n;break;case"input":gv(e,n),i=Mp(e,n),Zt("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=ce({},n,{value:void 0}),Zt("invalid",e);break;case"textarea":vv(e,n),i=Fp(e,n),Zt("invalid",e);break;default:i=n}Lp(r,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?F_(e,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&D_(e,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Gl(e,c):typeof c=="number"&&Gl(e,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(zl.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Zt("scroll",e):c!=null&&vg(e,s,c,o))}switch(r){case"input":yc(e),yv(e,n,!1);break;case"textarea":yc(e),xv(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vs(n.value));break;case"select":e.multiple=!!n.multiple,s=n.value,s!=null?aa(e,!!n.multiple,s,!1):n.defaultValue!=null&&aa(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Uh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break t;case"img":n=!0;break t;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Je(t),null;case 6:if(e&&t.stateNode!=null)s3(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Z(166));if(r=Zs(ql.current),Zs(ei.current),Cc(t)){if(n=t.stateNode,r=t.memoizedProps,n[Zn]=t,(s=n.nodeValue!==r)&&(e=Dr,e!==null))switch(e.tag){case 3:Ec(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ec(n.nodeValue,r,(e.mode&1)!==0)}s&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Zn]=t,t.stateNode=n}return Je(t),null;case 13:if(qt(ae),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ne&&Mr!==null&&(t.mode&1)!==0&&(t.flags&128)===0)b2(),_a(),t.flags|=98560,s=!1;else if(s=Cc(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(Z(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[Zn]=t}else _a(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Je(t),s=!1}else _n!==null&&(v0(_n),_n=null),s=!0;if(!s)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(ae.current&1)!==0?Re===0&&(Re=3):t1())),t.updateQueue!==null&&(t.flags|=4),Je(t),null);case 4:return wa(),c0(e,t),e===null&&Yl(t.stateNode.containerInfo),Je(t),null;case 10:return Lg(t.type._context),Je(t),null;case 17:return _r(t.type)&&zh(),Je(t),null;case 19:if(qt(ae),s=t.memoizedState,s===null)return Je(t),null;if(n=(t.flags&128)!==0,o=s.rendering,o===null)if(n)al(s,!1);else{if(Re!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(o=Xh(e),o!==null){for(t.flags|=128,al(s,!1),n=o.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)s=r,e=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Yt(ae,ae.current&1|2),t.child}e=e.sibling}s.tail!==null&&Te()>Ea&&(t.flags|=128,n=!0,al(s,!1),t.lanes=4194304)}else{if(!n)if(e=Xh(o),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),al(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ne)return Je(t),null}else 2*Te()-s.renderingStartTime>Ea&&r!==1073741824&&(t.flags|=128,n=!0,al(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(r=s.last,r!==null?r.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Te(),t.sibling=null,r=ae.current,Yt(ae,n?r&1|2:r&1),t):(Je(t),null);case 22:case 23:return Jg(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&(t.mode&1)!==0?(kr&1073741824)!==0&&(Je(t),t.subtreeFlags&6&&(t.flags|=8192)):Je(t),null;case 24:return null;case 25:return null}throw Error(Z(156,t.tag))}function HE(e,t){switch(Dg(t),t.tag){case 1:return _r(t.type)&&zh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wa(),qt(Tr),qt(ir),Hg(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return Gg(t),null;case 13:if(qt(ae),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Z(340));_a()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return qt(ae),null;case 4:return wa(),null;case 10:return Lg(t.type._context),null;case 22:case 23:return Jg(),null;case 24:return null;default:return null}}var Ic=!1,er=!1,jE=typeof WeakSet=="function"?WeakSet:Set,lt=null;function ra(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){fe(e,t,n)}else r.current=null}function h0(e,t,r){try{r()}catch(n){fe(e,t,n)}}var lx=!1;function $E(e,t){if(Yp=Oh,e=u2(),kg(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break t}var o=0,u=-1,c=-1,h=0,f=0,m=e,g=null;e:for(;;){for(var v;m!==r||i!==0&&m.nodeType!==3||(u=o+i),m!==s||n!==0&&m.nodeType!==3||(c=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)g=m,m=v;for(;;){if(m===e)break e;if(g===r&&++h===i&&(u=o),g===s&&++f===n&&(c=o),(v=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=v}r=u===-1||c===-1?null:{start:u,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Kp={focusedElem:e,selectionRange:r},Oh=!1,lt=t;lt!==null;)if(t=lt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,lt=e;else for(;lt!==null;){t=lt;try{var x=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var S=x.memoizedProps,E=x.memoizedState,w=t.stateNode,b=w.getSnapshotBeforeUpdate(t.elementType===t.type?S:vn(t.type,S),E);w.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(C){fe(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,lt=e;break}lt=t.return}return x=lx,lx=!1,x}function Fl(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&h0(t,r,s)}i=i.next}while(i!==n)}}function Ad(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function d0(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function o3(e){var t=e.alternate;t!==null&&(e.alternate=null,o3(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Zn],delete t[Ql],delete t[qp],delete t[CE],delete t[AE])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function a3(e){return e.tag===5||e.tag===3||e.tag===4}function ux(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||a3(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function f0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Uh));else if(n!==4&&(e=e.child,e!==null))for(f0(e,t,r),e=e.sibling;e!==null;)f0(e,t,r),e=e.sibling}function m0(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(m0(e,t,r),e=e.sibling;e!==null;)m0(e,t,r),e=e.sibling}var je=null,Tn=!1;function Qi(e,t,r){for(r=r.child;r!==null;)l3(e,t,r),r=r.sibling}function l3(e,t,r){if(ti&&typeof ti.onCommitFiberUnmount=="function")try{ti.onCommitFiberUnmount(xd,r)}catch{}switch(r.tag){case 5:er||ra(r,t);case 6:var n=je,i=Tn;je=null,Qi(e,t,r),je=n,Tn=i,je!==null&&(Tn?(e=je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):je.removeChild(r.stateNode));break;case 18:je!==null&&(Tn?(e=je,r=r.stateNode,e.nodeType===8?Fm(e.parentNode,r):e.nodeType===1&&Fm(e,r),Wl(e)):Fm(je,r.stateNode));break;case 4:n=je,i=Tn,je=r.stateNode.containerInfo,Tn=!0,Qi(e,t,r),je=n,Tn=i;break;case 0:case 11:case 14:case 15:if(!er&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&h0(r,t,o),i=i.next}while(i!==n)}Qi(e,t,r);break;case 1:if(!er&&(ra(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){fe(r,t,u)}Qi(e,t,r);break;case 21:Qi(e,t,r);break;case 22:r.mode&1?(er=(n=er)||r.memoizedState!==null,Qi(e,t,r),er=n):Qi(e,t,r);break;default:Qi(e,t,r)}}function cx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new jE),t.forEach(function(n){var i=JE.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function dn(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,o=t,u=o;t:for(;u!==null;){switch(u.tag){case 5:je=u.stateNode,Tn=!1;break t;case 3:je=u.stateNode.containerInfo,Tn=!0;break t;case 4:je=u.stateNode.containerInfo,Tn=!0;break t}u=u.return}if(je===null)throw Error(Z(160));l3(s,o,i),je=null,Tn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){fe(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)u3(t,e),t=t.sibling}function u3(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(dn(t,e),Wn(e),n&4){try{Fl(3,e,e.return),Ad(3,e)}catch(S){fe(e,e.return,S)}try{Fl(5,e,e.return)}catch(S){fe(e,e.return,S)}}break;case 1:dn(t,e),Wn(e),n&512&&r!==null&&ra(r,r.return);break;case 5:if(dn(t,e),Wn(e),n&512&&r!==null&&ra(r,r.return),e.flags&32){var i=e.stateNode;try{Gl(i,"")}catch(S){fe(e,e.return,S)}}if(n&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=r!==null?r.memoizedProps:s,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&R_(i,s),Bp(u,o);var h=Bp(u,s);for(o=0;o<c.length;o+=2){var f=c[o],m=c[o+1];f==="style"?F_(i,m):f==="dangerouslySetInnerHTML"?D_(i,m):f==="children"?Gl(i,m):vg(i,f,m,h)}switch(u){case"input":Dp(i,s);break;case"textarea":k_(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?aa(i,!!s.multiple,v,!1):g!==!!s.multiple&&(s.defaultValue!=null?aa(i,!!s.multiple,s.defaultValue,!0):aa(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ql]=s}catch(S){fe(e,e.return,S)}}break;case 6:if(dn(t,e),Wn(e),n&4){if(e.stateNode===null)throw Error(Z(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(S){fe(e,e.return,S)}}break;case 3:if(dn(t,e),Wn(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Wl(t.containerInfo)}catch(S){fe(e,e.return,S)}break;case 4:dn(t,e),Wn(e);break;case 13:dn(t,e),Wn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Zg=Te())),n&4&&cx(e);break;case 22:if(f=r!==null&&r.memoizedState!==null,e.mode&1?(er=(h=er)||f,dn(t,e),er=h):dn(t,e),Wn(e),n&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!f&&(e.mode&1)!==0)for(lt=e,f=e.child;f!==null;){for(m=lt=f;lt!==null;){switch(g=lt,v=g.child,g.tag){case 0:case 11:case 14:case 15:Fl(4,g,g.return);break;case 1:ra(g,g.return);var x=g.stateNode;if(typeof x.componentWillUnmount=="function"){n=g,r=g.return;try{t=n,x.props=t.memoizedProps,x.state=t.memoizedState,x.componentWillUnmount()}catch(S){fe(n,r,S)}}break;case 5:ra(g,g.return);break;case 22:if(g.memoizedState!==null){dx(m);continue}}v!==null?(v.return=g,lt=v):dx(m)}f=f.sibling}t:for(f=null,m=e;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=N_("display",o))}catch(S){fe(e,e.return,S)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=h?"":m.memoizedProps}catch(S){fe(e,e.return,S)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break t;for(;m.sibling===null;){if(m.return===null||m.return===e)break t;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:dn(t,e),Wn(e),n&4&&cx(e);break;case 21:break;default:dn(t,e),Wn(e)}}function Wn(e){var t=e.flags;if(t&2){try{t:{for(var r=e.return;r!==null;){if(a3(r)){var n=r;break t}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Gl(i,""),n.flags&=-33);var s=ux(e);m0(e,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,u=ux(e);f0(e,u,o);break;default:throw Error(Z(161))}}catch(c){fe(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function WE(e,t,r){lt=e,c3(e)}function c3(e,t,r){for(var n=(e.mode&1)!==0;lt!==null;){var i=lt,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ic;if(!o){var u=i.alternate,c=u!==null&&u.memoizedState!==null||er;u=Ic;var h=er;if(Ic=o,(er=c)&&!h)for(lt=i;lt!==null;)o=lt,c=o.child,o.tag===22&&o.memoizedState!==null?fx(i):c!==null?(c.return=o,lt=c):fx(i);for(;s!==null;)lt=s,c3(s),s=s.sibling;lt=i,Ic=u,er=h}hx(e)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,lt=s):hx(e)}}function hx(e){for(;lt!==null;){var t=lt;if((t.flags&8772)!==0){var r=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:er||Ad(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!er)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:vn(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Yv(t,s,n);break;case 3:var o=t.updateQueue;if(o!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Yv(t,o,r)}break;case 5:var u=t.stateNode;if(r===null&&t.flags&4){r=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Wl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}er||t.flags&512&&d0(t)}catch(g){fe(t,t.return,g)}}if(t===e){lt=null;break}if(r=t.sibling,r!==null){r.return=t.return,lt=r;break}lt=t.return}}function dx(e){for(;lt!==null;){var t=lt;if(t===e){lt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,lt=r;break}lt=t.return}}function fx(e){for(;lt!==null;){var t=lt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ad(4,t)}catch(c){fe(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(c){fe(t,i,c)}}var s=t.return;try{d0(t)}catch(c){fe(t,s,c)}break;case 5:var o=t.return;try{d0(t)}catch(c){fe(t,o,c)}}}catch(c){fe(t,t.return,c)}if(t===e){lt=null;break}var u=t.sibling;if(u!==null){u.return=t.return,lt=u;break}lt=t.return}}var VE=Math.ceil,Qh=Li.ReactCurrentDispatcher,Kg=Li.ReactCurrentOwner,rn=Li.ReactCurrentBatchConfig,Dt=0,Be=null,Se=null,Ve=0,kr=0,na=Es(0),Re=0,ru=null,oo=0,Pd=0,Qg=0,Ol=null,vr=null,Zg=0,Ea=1/0,vi=null,Zh=!1,p0=null,ms=null,Rc=!1,as=null,qh=0,Ll=0,g0=null,gh=-1,yh=0;function cr(){return(Dt&6)!==0?Te():gh!==-1?gh:gh=Te()}function ps(e){return(e.mode&1)===0?1:(Dt&2)!==0&&Ve!==0?Ve&-Ve:IE.transition!==null?(yh===0&&(yh=X_()),yh):(e=$t,e!==0||(e=window.event,e=e===void 0?16:t2(e.type)),e)}function In(e,t,r,n){if(50<Ll)throw Ll=0,g0=null,Error(Z(185));vu(e,r,n),((Dt&2)===0||e!==Be)&&(e===Be&&((Dt&2)===0&&(Pd|=r),Re===4&&is(e,Ve)),br(e,n),r===1&&Dt===0&&(t.mode&1)===0&&(Ea=Te()+500,Sd&&Cs()))}function br(e,t){var r=e.callbackNode;IS(e,t);var n=Fh(e,e===Be?Ve:0);if(n===0)r!==null&&bv(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&bv(r),t===1)e.tag===0?PE(mx.bind(null,e)):x2(mx.bind(null,e)),SE(function(){(Dt&6)===0&&Cs()}),r=null;else{switch(Y_(n)){case 1:r=wg;break;case 4:r=W_;break;case 16:r=Nh;break;case 536870912:r=V_;break;default:r=Nh}r=v3(r,h3.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function h3(e,t){if(gh=-1,yh=0,(Dt&6)!==0)throw Error(Z(327));var r=e.callbackNode;if(da()&&e.callbackNode!==r)return null;var n=Fh(e,e===Be?Ve:0);if(n===0)return null;if((n&30)!==0||(n&e.expiredLanes)!==0||t)t=Jh(e,n);else{t=n;var i=Dt;Dt|=2;var s=f3();(Be!==e||Ve!==t)&&(vi=null,Ea=Te()+500,to(e,t));do try{KE();break}catch(u){d3(e,u)}while(1);Og(),Qh.current=s,Dt=i,Se!==null?t=0:(Be=null,Ve=0,t=Re)}if(t!==0){if(t===2&&(i=jp(e),i!==0&&(n=i,t=y0(e,i))),t===1)throw r=ru,to(e,0),is(e,n),br(e,Te()),r;if(t===6)is(e,n);else{if(i=e.current.alternate,(n&30)===0&&!XE(i)&&(t=Jh(e,n),t===2&&(s=jp(e),s!==0&&(n=s,t=y0(e,s))),t===1))throw r=ru,to(e,0),is(e,n),br(e,Te()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Z(345));case 2:js(e,vr,vi);break;case 3:if(is(e,n),(n&130023424)===n&&(t=Zg+500-Te(),10<t)){if(Fh(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){cr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Zp(js.bind(null,e,vr,vi),t);break}js(e,vr,vi);break;case 4:if(is(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var o=31-Pn(n);s=1<<o,o=t[o],o>i&&(i=o),n&=~s}if(n=i,n=Te()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*VE(n/1960))-n,10<n){e.timeoutHandle=Zp(js.bind(null,e,vr,vi),n);break}js(e,vr,vi);break;case 5:js(e,vr,vi);break;default:throw Error(Z(329))}}}return br(e,Te()),e.callbackNode===r?h3.bind(null,e):null}function y0(e,t){var r=Ol;return e.current.memoizedState.isDehydrated&&(to(e,t).flags|=256),e=Jh(e,t),e!==2&&(t=vr,vr=r,t!==null&&v0(t)),e}function v0(e){vr===null?vr=e:vr.push.apply(vr,e)}function XE(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Dn(s(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function is(e,t){for(t&=~Qg,t&=~Pd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Pn(t),n=1<<r;e[r]=-1,t&=~n}}function mx(e){if((Dt&6)!==0)throw Error(Z(327));da();var t=Fh(e,0);if((t&1)===0)return br(e,Te()),null;var r=Jh(e,t);if(e.tag!==0&&r===2){var n=jp(e);n!==0&&(t=n,r=y0(e,n))}if(r===1)throw r=ru,to(e,0),is(e,t),br(e,Te()),r;if(r===6)throw Error(Z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,js(e,vr,vi),br(e,Te()),null}function qg(e,t){var r=Dt;Dt|=1;try{return e(t)}finally{Dt=r,Dt===0&&(Ea=Te()+500,Sd&&Cs())}}function ao(e){as!==null&&as.tag===0&&(Dt&6)===0&&da();var t=Dt;Dt|=1;var r=rn.transition,n=$t;try{if(rn.transition=null,$t=1,e)return e()}finally{$t=n,rn.transition=r,Dt=t,(Dt&6)===0&&Cs()}}function Jg(){kr=na.current,qt(na)}function to(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,wE(r)),Se!==null)for(r=Se.return;r!==null;){var n=r;switch(Dg(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zh();break;case 3:wa(),qt(Tr),qt(ir),Hg();break;case 5:Gg(n);break;case 4:wa();break;case 13:qt(ae);break;case 19:qt(ae);break;case 10:Lg(n.type._context);break;case 22:case 23:Jg()}r=r.return}if(Be=e,Se=e=gs(e.current,null),Ve=kr=t,Re=0,ru=null,Qg=Pd=oo=0,vr=Ol=null,Qs!==null){for(t=0;t<Qs.length;t++)if(r=Qs[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Qs=null}return e}function d3(e,t){do{var r=Se;try{if(Og(),fh.current=Kh,Yh){for(var n=ue.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yh=!1}if(so=0,Oe=Pe=ue=null,Nl=!1,Jl=0,Kg.current=null,r===null||r.return===null){Re=1,ru=t,Se=null;break}t:{var s=e,o=r.return,u=r,c=t;if(t=Ve,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=u,m=f.tag;if((f.mode&1)===0&&(m===0||m===11||m===15)){var g=f.alternate;g?(f.updateQueue=g.updateQueue,f.memoizedState=g.memoizedState,f.lanes=g.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=ex(o);if(v!==null){v.flags&=-257,rx(v,o,u,s,t),v.mode&1&&tx(s,h,t),t=v,c=h;var x=t.updateQueue;if(x===null){var S=new Set;S.add(c),t.updateQueue=S}else x.add(c);break t}else{if((t&1)===0){tx(s,h,t),t1();break t}c=Error(Z(426))}}else if(ne&&u.mode&1){var E=ex(o);if(E!==null){(E.flags&65536)===0&&(E.flags|=256),rx(E,o,u,s,t),Ng(Sa(c,u));break t}}s=c=Sa(c,u),Re!==4&&(Re=2),Ol===null?Ol=[s]:Ol.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var w=K2(s,c,t);Xv(s,w);break t;case 1:u=c;var b=s.type,_=s.stateNode;if((s.flags&128)===0&&(typeof b.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ms===null||!ms.has(_)))){s.flags|=65536,t&=-t,s.lanes|=t;var C=Q2(s,u,t);Xv(s,C);break t}}s=s.return}while(s!==null)}p3(r)}catch(P){t=P,Se===r&&r!==null&&(Se=r=r.return);continue}break}while(1)}function f3(){var e=Qh.current;return Qh.current=Kh,e===null?Kh:e}function t1(){(Re===0||Re===3||Re===2)&&(Re=4),Be===null||(oo&268435455)===0&&(Pd&268435455)===0||is(Be,Ve)}function Jh(e,t){var r=Dt;Dt|=2;var n=f3();(Be!==e||Ve!==t)&&(vi=null,to(e,t));do try{YE();break}catch(i){d3(e,i)}while(1);if(Og(),Dt=r,Qh.current=n,Se!==null)throw Error(Z(261));return Be=null,Ve=0,Re}function YE(){for(;Se!==null;)m3(Se)}function KE(){for(;Se!==null&&!TS();)m3(Se)}function m3(e){var t=y3(e.alternate,e,kr);e.memoizedProps=e.pendingProps,t===null?p3(e):Se=t,Kg.current=null}function p3(e){var t=e;do{var r=t.alternate;if(e=t.return,(t.flags&32768)===0){if(r=GE(r,t,kr),r!==null){Se=r;return}}else{if(r=HE(r,t),r!==null){r.flags&=32767,Se=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Re=6,Se=null;return}}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);Re===0&&(Re=5)}function js(e,t,r){var n=$t,i=rn.transition;try{rn.transition=null,$t=1,QE(e,t,r,n)}finally{rn.transition=i,$t=n}return null}function QE(e,t,r,n){do da();while(as!==null);if((Dt&6)!==0)throw Error(Z(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Z(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(RS(e,s),e===Be&&(Se=Be=null,Ve=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Rc||(Rc=!0,v3(Nh,function(){return da(),null})),s=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||s){s=rn.transition,rn.transition=null;var o=$t;$t=1;var u=Dt;Dt|=4,Kg.current=null,$E(e,r),u3(r,e),gE(Kp),Oh=!!Yp,Kp=Yp=null,e.current=r,WE(r),_S(),Dt=u,$t=o,rn.transition=s}else e.current=r;if(Rc&&(Rc=!1,as=e,qh=i),s=e.pendingLanes,s===0&&(ms=null),SS(r.stateNode),br(e,Te()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Zh)throw Zh=!1,e=p0,p0=null,e;return(qh&1)!==0&&e.tag!==0&&da(),s=e.pendingLanes,(s&1)!==0?e===g0?Ll++:(Ll=0,g0=e):Ll=0,Cs(),null}function da(){if(as!==null){var e=Y_(qh),t=rn.transition,r=$t;try{if(rn.transition=null,$t=16>e?16:e,as===null)var n=!1;else{if(e=as,as=null,qh=0,(Dt&6)!==0)throw Error(Z(331));var i=Dt;for(Dt|=4,lt=e.current;lt!==null;){var s=lt,o=s.child;if((lt.flags&16)!==0){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var h=u[c];for(lt=h;lt!==null;){var f=lt;switch(f.tag){case 0:case 11:case 15:Fl(8,f,s)}var m=f.child;if(m!==null)m.return=f,lt=m;else for(;lt!==null;){f=lt;var g=f.sibling,v=f.return;if(o3(f),f===h){lt=null;break}if(g!==null){g.return=v,lt=g;break}lt=v}}}var x=s.alternate;if(x!==null){var S=x.child;if(S!==null){x.child=null;do{var E=S.sibling;S.sibling=null,S=E}while(S!==null)}}lt=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,lt=o;else t:for(;lt!==null;){if(s=lt,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:Fl(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,lt=w;break t}lt=s.return}}var b=e.current;for(lt=b;lt!==null;){o=lt;var _=o.child;if((o.subtreeFlags&2064)!==0&&_!==null)_.return=o,lt=_;else t:for(o=b;lt!==null;){if(u=lt,(u.flags&2048)!==0)try{switch(u.tag){case 0:case 11:case 15:Ad(9,u)}}catch(P){fe(u,u.return,P)}if(u===o){lt=null;break t}var C=u.sibling;if(C!==null){C.return=u.return,lt=C;break t}lt=u.return}}if(Dt=i,Cs(),ti&&typeof ti.onPostCommitFiberRoot=="function")try{ti.onPostCommitFiberRoot(xd,e)}catch{}n=!0}return n}finally{$t=r,rn.transition=t}}return!1}function px(e,t,r){t=Sa(r,t),t=K2(e,t,1),e=fs(e,t,1),t=cr(),e!==null&&(vu(e,1,t),br(e,t))}function fe(e,t,r){if(e.tag===3)px(e,e,r);else for(;t!==null;){if(t.tag===3){px(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ms===null||!ms.has(n))){e=Sa(r,e),e=Q2(t,e,1),t=fs(t,e,1),e=cr(),t!==null&&(vu(t,1,e),br(t,e));break}}t=t.return}}function ZE(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=cr(),e.pingedLanes|=e.suspendedLanes&r,Be===e&&(Ve&r)===r&&(Re===4||Re===3&&(Ve&130023424)===Ve&&500>Te()-Zg?to(e,0):Qg|=r),br(e,t)}function g3(e,t){t===0&&((e.mode&1)===0?t=1:(t=Tc,Tc<<=1,(Tc&130023424)===0&&(Tc=4194304)));var r=cr();e=Di(e,t),e!==null&&(vu(e,t,r),br(e,r))}function qE(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),g3(e,r)}function JE(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(t),g3(e,r)}var y3;y3=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Tr.current)xr=!0;else{if((e.lanes&r)===0&&(t.flags&128)===0)return xr=!1,zE(e,t,r);xr=(e.flags&131072)!==0}else xr=!1,ne&&(t.flags&1048576)!==0&&T2(t,jh,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;ph(e,t),e=t.pendingProps;var i=Ta(t,ir.current);ha(t,r),i=$g(null,t,n,e,i,r);var s=Wg();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,_r(n)?(s=!0,Gh(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ug(t),i.updater=Ed,t.stateNode=i,i._reactInternals=t,i0(t,n,e,r),t=a0(null,t,n,!0,s,r)):(t.tag=0,ne&&s&&Mg(t),ar(null,t,i,r),t=t.child),t;case 16:n=t.elementType;t:{switch(ph(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=eC(n),e=vn(n,e),i){case 0:t=o0(null,t,n,e,r);break t;case 1:t=sx(null,t,n,e,r);break t;case 11:t=nx(null,t,n,e,r);break t;case 14:t=ix(null,t,n,vn(n.type,e),r);break t}throw Error(Z(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vn(n,i),o0(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vn(n,i),sx(e,t,n,i,r);case 3:t:{if(t3(t),e===null)throw Error(Z(387));n=t.pendingProps,s=t.memoizedState,i=s.element,S2(e,t),Vh(t,n,null,r);var o=t.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=Sa(Error(Z(423)),t),t=ox(e,t,n,r,i);break t}else if(n!==i){i=Sa(Error(Z(424)),t),t=ox(e,t,n,r,i);break t}else for(Mr=ds(t.stateNode.containerInfo.firstChild),Dr=t,ne=!0,_n=null,r=P2(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(_a(),n===i){t=Ni(e,t,r);break t}ar(e,t,n,r)}t=t.child}return t;case 5:return I2(t),e===null&&e0(t),n=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Qp(n,i)?o=null:s!==null&&Qp(n,s)&&(t.flags|=32),J2(e,t),ar(e,t,o,r),t.child;case 6:return e===null&&e0(t),null;case 13:return e3(e,t,r);case 4:return zg(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=ba(t,null,n,r):ar(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vn(n,i),nx(e,t,n,i,r);case 7:return ar(e,t,t.pendingProps,r),t.child;case 8:return ar(e,t,t.pendingProps.children,r),t.child;case 12:return ar(e,t,t.pendingProps.children,r),t.child;case 10:t:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,Yt($h,n._currentValue),n._currentValue=o,s!==null)if(Dn(s.value,o)){if(s.children===i.children&&!Tr.current){t=Ni(e,t,r);break t}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){o=s.child;for(var c=u.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Ci(-1,r&-r),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),r0(s.return,r,t),u.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Z(341));o.lanes|=r,u=o.alternate,u!==null&&(u.lanes|=r),r0(o,r,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ar(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,ha(t,r),i=sn(i),n=n(i),t.flags|=1,ar(e,t,n,r),t.child;case 14:return n=t.type,i=vn(n,t.pendingProps),i=vn(n.type,i),ix(e,t,n,i,r);case 15:return Z2(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:vn(n,i),ph(e,t),t.tag=1,_r(n)?(e=!0,Gh(t)):e=!1,ha(t,r),C2(t,n,i),i0(t,n,i,r),a0(null,t,n,!0,e,r);case 19:return r3(e,t,r);case 22:return q2(e,t,r)}throw Error(Z(156,t.tag))};function v3(e,t){return $_(e,t)}function tC(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qr(e,t,r,n){return new tC(e,t,r,n)}function e1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function eC(e){if(typeof e=="function")return e1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Tg)return 11;if(e===_g)return 14}return 2}function gs(e,t){var r=e.alternate;return r===null?(r=qr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function vh(e,t,r,n,i,s){var o=2;if(n=e,typeof e=="function")e1(e)&&(o=1);else if(typeof e=="string")o=5;else t:switch(e){case Xo:return eo(r.children,i,s,t);case xg:o=8,i|=8;break;case Pp:return e=qr(12,r,t,i|2),e.elementType=Pp,e.lanes=s,e;case Ip:return e=qr(13,r,t,i),e.elementType=Ip,e.lanes=s,e;case Rp:return e=qr(19,r,t,i),e.elementType=Rp,e.lanes=s,e;case A_:return Id(r,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case E_:o=10;break t;case C_:o=9;break t;case Tg:o=11;break t;case _g:o=14;break t;case ts:o=16,n=null;break t}throw Error(Z(130,e==null?e:typeof e,""))}return t=qr(o,r,t,i),t.elementType=e,t.type=n,t.lanes=s,t}function eo(e,t,r,n){return e=qr(7,e,n,t),e.lanes=r,e}function Id(e,t,r,n){return e=qr(22,e,n,t),e.elementType=A_,e.lanes=r,e.stateNode={isHidden:!1},e}function jm(e,t,r){return e=qr(6,e,null,t),e.lanes=r,e}function $m(e,t,r){return t=qr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rC(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sm(0),this.expirationTimes=Sm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function r1(e,t,r,n,i,s,o,u,c){return e=new rC(e,t,r,u,c),t===1?(t=1,s===!0&&(t|=8)):t=0,s=qr(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ug(s),e}function nC(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vo,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function x3(e){if(!e)return xs;e=e._reactInternals;t:{if(fo(e)!==e||e.tag!==1)throw Error(Z(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break t;case 1:if(_r(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break t}}t=t.return}while(t!==null);throw Error(Z(171))}if(e.tag===1){var r=e.type;if(_r(r))return v2(e,r,t)}return t}function T3(e,t,r,n,i,s,o,u,c){return e=r1(r,n,!0,e,i,s,o,u,c),e.context=x3(null),r=e.current,n=cr(),i=ps(r),s=Ci(n,i),s.callback=t!=null?t:null,fs(r,s,i),e.current.lanes=i,vu(e,i,n),br(e,n),e}function Rd(e,t,r,n){var i=t.current,s=cr(),o=ps(i);return r=x3(r),t.context===null?t.context=r:t.pendingContext=r,t=Ci(s,o),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=fs(i,t,o),e!==null&&(In(e,i,o,s),dh(e,i,o)),o}function td(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function gx(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function n1(e,t){gx(e,t),(e=e.alternate)&&gx(e,t)}function iC(){return null}var _3=typeof reportError=="function"?reportError:function(e){console.error(e)};function i1(e){this._internalRoot=e}kd.prototype.render=i1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Z(409));Rd(e,t,null,null)};kd.prototype.unmount=i1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;ao(function(){Rd(null,e,null,null)}),t[Mi]=null}};function kd(e){this._internalRoot=e}kd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Z_();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ns.length&&t!==0&&t<ns[r].priority;r++);ns.splice(r,0,e),r===0&&J_(e)}};function s1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Md(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function yx(){}function sC(e,t,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=td(o);s.call(h)}}var o=T3(t,n,e,0,null,!1,!1,"",yx);return e._reactRootContainer=o,e[Mi]=o.current,Yl(e.nodeType===8?e.parentNode:e),ao(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var u=n;n=function(){var h=td(c);u.call(h)}}var c=r1(e,0,!1,null,null,!1,!1,"",yx);return e._reactRootContainer=c,e[Mi]=c.current,Yl(e.nodeType===8?e.parentNode:e),ao(function(){Rd(t,c,r,n)}),c}function Dd(e,t,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var u=i;i=function(){var c=td(o);u.call(c)}}Rd(t,o,e,i)}else o=sC(r,t,e,i,n);return td(o)}K_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=xl(t.pendingLanes);r!==0&&(Sg(t,r|1),br(t,Te()),(Dt&6)===0&&(Ea=Te()+500,Cs()))}break;case 13:ao(function(){var n=Di(e,1);if(n!==null){var i=cr();In(n,e,1,i)}}),n1(e,1)}};Eg=function(e){if(e.tag===13){var t=Di(e,134217728);if(t!==null){var r=cr();In(t,e,134217728,r)}n1(e,134217728)}};Q_=function(e){if(e.tag===13){var t=ps(e),r=Di(e,t);if(r!==null){var n=cr();In(r,e,t,n)}n1(e,t)}};Z_=function(){return $t};q_=function(e,t){var r=$t;try{return $t=e,t()}finally{$t=r}};zp=function(e,t,r){switch(t){case"input":if(Dp(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=wd(n);if(!i)throw Error(Z(90));I_(n),Dp(n,i)}}}break;case"textarea":k_(e,r);break;case"select":t=r.value,t!=null&&aa(e,!!r.multiple,t,!1)}};B_=qg;U_=ao;var oC={usingClientEntryPoint:!1,Events:[Tu,Zo,wd,O_,L_,qg]},ll={findFiberByHostInstance:Ks,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},aC={bundleType:ll.bundleType,version:ll.version,rendererPackageName:ll.rendererPackageName,rendererConfig:ll.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Li.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=H_(e),e===null?null:e.stateNode},findFiberByHostInstance:ll.findFiberByHostInstance||iC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!kc.isDisabled&&kc.supportsFiber)try{xd=kc.inject(aC),ti=kc}catch{}}Or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=oC;Or.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!s1(t))throw Error(Z(200));return nC(e,t,null,r)};Or.createRoot=function(e,t){if(!s1(e))throw Error(Z(299));var r=!1,n="",i=_3;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=r1(e,1,!1,null,null,r,!1,n,i),e[Mi]=t.current,Yl(e.nodeType===8?e.parentNode:e),new i1(t)};Or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Z(188)):(e=Object.keys(e).join(","),Error(Z(268,e)));return e=H_(t),e=e===null?null:e.stateNode,e};Or.flushSync=function(e){return ao(e)};Or.hydrate=function(e,t,r){if(!Md(t))throw Error(Z(200));return Dd(null,e,t,!0,r)};Or.hydrateRoot=function(e,t,r){if(!s1(e))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=_3;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),t=T3(t,null,e,1,r!=null?r:null,i,!1,s,o),e[Mi]=t.current,Yl(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new kd(t)};Or.render=function(e,t,r){if(!Md(t))throw Error(Z(200));return Dd(null,e,t,!1,r)};Or.unmountComponentAtNode=function(e){if(!Md(e))throw Error(Z(40));return e._reactRootContainer?(ao(function(){Dd(null,null,e,!1,function(){e._reactRootContainer=null,e[Mi]=null})}),!0):!1};Or.unstable_batchedUpdates=qg;Or.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Md(r))throw Error(Z(200));if(e==null||e._reactInternals===void 0)throw Error(Z(38));return Dd(e,t,r,!1,n)};Or.version="18.2.0-next-9e3b772b8-20220608";(function(e){function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(r){console.error(r)}}t(),e.exports=Or})(pg);const lC=f_(pg.exports);var b3,vx=pg.exports;b3=vx.createRoot,vx.hydrateRoot;var Wt={exports:{}},mo=(e=>(e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e))(mo||{}),w3=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e))(w3||{}),x0=(e=>(e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e))(x0||{}),mt=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e))(mt||{}),Sn=(e=>(e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e))(Sn||{}),J=(e=>(e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e))(J||{}),fa=(e=>(e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e))(fa||{}),yt=(e=>(e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e))(yt||{}),T0=(e=>(e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e))(T0||{}),qn=(e=>(e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e))(qn||{}),Ai=(e=>(e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e))(Ai||{}),si=(e=>(e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e))(si||{}),Nn=(e=>(e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e))(Nn||{}),Kn=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e))(Kn||{}),o1=(e=>(e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e))(o1||{}),Jr=(e=>(e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e))(Jr||{}),Ae=(e=>(e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e))(Ae||{}),we=(e=>(e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e))(we||{}),ri=(e=>(e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e))(ri||{});const uC={createCanvas:(e,t)=>{const r=document.createElement("canvas");return r.width=e,r.height=t,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var e;return(e=document.baseURI)!=null?e:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>new DOMParser().parseFromString(e,"text/xml")},tt={ADAPTER:uC,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Wm=/iPhone/i,xx=/iPod/i,Tx=/iPad/i,_x=/\biOS-universal(?:.+)Mac\b/i,Vm=/\bAndroid(?:.+)Mobile\b/i,bx=/Android/i,Fo=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Mc=/Silk/i,fi=/Windows Phone/i,wx=/\bWindows(?:.+)ARM\b/i,Sx=/BlackBerry/i,Ex=/BB10/i,Cx=/Opera Mini/i,Ax=/\b(CriOS|Chrome)(?:.+)Mobile/i,Px=/Mobile(?:.+)Firefox\b/i,Ix=function(e){return typeof e<"u"&&e.platform==="MacIntel"&&typeof e.maxTouchPoints=="number"&&e.maxTouchPoints>1&&typeof MSStream>"u"};function cC(e){return function(t){return t.test(e)}}function Rx(e){var t={userAgent:"",platform:"",maxTouchPoints:0};!e&&typeof navigator<"u"?t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof e=="string"?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0});var r=t.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=cC(r),s={apple:{phone:i(Wm)&&!i(fi),ipod:i(xx),tablet:!i(Wm)&&(i(Tx)||Ix(t))&&!i(fi),universal:i(_x),device:(i(Wm)||i(xx)||i(Tx)||i(_x)||Ix(t))&&!i(fi)},amazon:{phone:i(Fo),tablet:!i(Fo)&&i(Mc),device:i(Fo)||i(Mc)},android:{phone:!i(fi)&&i(Fo)||!i(fi)&&i(Vm),tablet:!i(fi)&&!i(Fo)&&!i(Vm)&&(i(Mc)||i(bx)),device:!i(fi)&&(i(Fo)||i(Mc)||i(Vm)||i(bx))||i(/\bokhttp\b/i)},windows:{phone:i(fi),tablet:i(wx),device:i(fi)||i(wx)},other:{blackberry:i(Sx),blackberry10:i(Ex),opera:i(Cx),firefox:i(Px),chrome:i(Ax),device:i(Sx)||i(Ex)||i(Cx)||i(Px)||i(Ax)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}var h_;const hC=(h_=Rx.default)!=null?h_:Rx,Ei=hC(globalThis.navigator);tt.RETINA_PREFIX=/@([0-9\.]+)x/;tt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var S3={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,h,f){this.fn=c,this.context=h,this.once=f||!1}function s(c,h,f,m,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,m||c,g),x=r?r+h:h;return c._events[x]?c._events[x].fn?c._events[x]=[c._events[x],v]:c._events[x].push(v):(c._events[x]=v,c._eventsCount++),c}function o(c,h){--c._eventsCount===0?c._events=new n:delete c._events[h]}function u(){this._events=new n,this._eventsCount=0}u.prototype.eventNames=function(){var h=[],f,m;if(this._eventsCount===0)return h;for(m in f=this._events)t.call(f,m)&&h.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},u.prototype.listeners=function(h){var f=r?r+h:h,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,v=m.length,x=new Array(v);g<v;g++)x[g]=m[g].fn;return x},u.prototype.listenerCount=function(h){var f=r?r+h:h,m=this._events[f];return m?m.fn?1:m.length:0},u.prototype.emit=function(h,f,m,g,v,x){var S=r?r+h:h;if(!this._events[S])return!1;var E=this._events[S],w=arguments.length,b,_;if(E.fn){switch(E.once&&this.removeListener(h,E.fn,void 0,!0),w){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,f),!0;case 3:return E.fn.call(E.context,f,m),!0;case 4:return E.fn.call(E.context,f,m,g),!0;case 5:return E.fn.call(E.context,f,m,g,v),!0;case 6:return E.fn.call(E.context,f,m,g,v,x),!0}for(_=1,b=new Array(w-1);_<w;_++)b[_-1]=arguments[_];E.fn.apply(E.context,b)}else{var C=E.length,P;for(_=0;_<C;_++)switch(E[_].once&&this.removeListener(h,E[_].fn,void 0,!0),w){case 1:E[_].fn.call(E[_].context);break;case 2:E[_].fn.call(E[_].context,f);break;case 3:E[_].fn.call(E[_].context,f,m);break;case 4:E[_].fn.call(E[_].context,f,m,g);break;default:if(!b)for(P=1,b=new Array(w-1);P<w;P++)b[P-1]=arguments[P];E[_].fn.apply(E[_].context,b)}}return!0},u.prototype.on=function(h,f,m){return s(this,h,f,m,!1)},u.prototype.once=function(h,f,m){return s(this,h,f,m,!0)},u.prototype.removeListener=function(h,f,m,g){var v=r?r+h:h;if(!this._events[v])return this;if(!f)return o(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!g||x.once)&&(!m||x.context===m)&&o(this,v);else{for(var S=0,E=[],w=x.length;S<w;S++)(x[S].fn!==f||g&&!x[S].once||m&&x[S].context!==m)&&E.push(x[S]);E.length?this._events[v]=E.length===1?E[0]:E:o(this,v)}return this},u.prototype.removeAllListeners=function(h){var f;return h?(f=r?r+h:h,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=r,u.EventEmitter=u,e.exports=u})(S3);const Ma=S3.exports;var a1={exports:{}};a1.exports=Nd;a1.exports.default=Nd;function Nd(e,t,r){r=r||2;var n=t&&t.length,i=n?t[0]*r:e.length,s=E3(e,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var u,c,h,f,m,g,v;if(n&&(s=gC(e,t,s,r)),e.length>80*r){u=h=e[0],c=f=e[1];for(var x=r;x<i;x+=r)m=e[x],g=e[x+1],m<u&&(u=m),g<c&&(c=g),m>h&&(h=m),g>f&&(f=g);v=Math.max(h-u,f-c),v=v!==0?32767/v:0}return nu(s,o,r,u,c,v,0),o}function E3(e,t,r,n,i){var s,o;if(i===w0(e,t,r,n)>0)for(s=t;s<r;s+=n)o=kx(s,e[s],e[s+1],o);else for(s=r-n;s>=t;s-=n)o=kx(s,e[s],e[s+1],o);return o&&Fd(o,o.next)&&(su(o),o=o.next),o}function lo(e,t){if(!e)return e;t||(t=e);var r=e,n;do if(n=!1,!r.steiner&&(Fd(r,r.next)||le(r.prev,r,r.next)===0)){if(su(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function nu(e,t,r,n,i,s,o){if(!!e){!o&&s&&_C(e,n,i,s);for(var u=e,c,h;e.prev!==e.next;){if(c=e.prev,h=e.next,s?fC(e,n,i,s):dC(e)){t.push(c.i/r|0),t.push(e.i/r|0),t.push(h.i/r|0),su(e),e=h.next,u=h.next;continue}if(e=h,e===u){o?o===1?(e=mC(lo(e),t,r),nu(e,t,r,n,i,s,2)):o===2&&pC(e,t,r,n,i,s):nu(lo(e),t,r,n,i,s,1);break}}}}function dC(e){var t=e.prev,r=e,n=e.next;if(le(t,r,n)>=0)return!1;for(var i=t.x,s=r.x,o=n.x,u=t.y,c=r.y,h=n.y,f=i<s?i<o?i:o:s<o?s:o,m=u<c?u<h?u:h:c<h?c:h,g=i>s?i>o?i:o:s>o?s:o,v=u>c?u>h?u:h:c>h?c:h,x=n.next;x!==t;){if(x.x>=f&&x.x<=g&&x.y>=m&&x.y<=v&&ia(i,u,s,c,o,h,x.x,x.y)&&le(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function fC(e,t,r,n){var i=e.prev,s=e,o=e.next;if(le(i,s,o)>=0)return!1;for(var u=i.x,c=s.x,h=o.x,f=i.y,m=s.y,g=o.y,v=u<c?u<h?u:h:c<h?c:h,x=f<m?f<g?f:g:m<g?m:g,S=u>c?u>h?u:h:c>h?c:h,E=f>m?f>g?f:g:m>g?m:g,w=_0(v,x,t,r,n),b=_0(S,E,t,r,n),_=e.prevZ,C=e.nextZ;_&&_.z>=w&&C&&C.z<=b;){if(_.x>=v&&_.x<=S&&_.y>=x&&_.y<=E&&_!==i&&_!==o&&ia(u,f,c,m,h,g,_.x,_.y)&&le(_.prev,_,_.next)>=0||(_=_.prevZ,C.x>=v&&C.x<=S&&C.y>=x&&C.y<=E&&C!==i&&C!==o&&ia(u,f,c,m,h,g,C.x,C.y)&&le(C.prev,C,C.next)>=0))return!1;C=C.nextZ}for(;_&&_.z>=w;){if(_.x>=v&&_.x<=S&&_.y>=x&&_.y<=E&&_!==i&&_!==o&&ia(u,f,c,m,h,g,_.x,_.y)&&le(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;C&&C.z<=b;){if(C.x>=v&&C.x<=S&&C.y>=x&&C.y<=E&&C!==i&&C!==o&&ia(u,f,c,m,h,g,C.x,C.y)&&le(C.prev,C,C.next)>=0)return!1;C=C.nextZ}return!0}function mC(e,t,r){var n=e;do{var i=n.prev,s=n.next.next;!Fd(i,s)&&C3(i,n,n.next,s)&&iu(i,s)&&iu(s,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(s.i/r|0),su(n),su(n.next),n=e=s),n=n.next}while(n!==e);return lo(n)}function pC(e,t,r,n,i,s){var o=e;do{for(var u=o.next.next;u!==o.prev;){if(o.i!==u.i&&SC(o,u)){var c=A3(o,u);o=lo(o,o.next),c=lo(c,c.next),nu(o,t,r,n,i,s,0),nu(c,t,r,n,i,s,0);return}u=u.next}o=o.next}while(o!==e)}function gC(e,t,r,n){var i=[],s,o,u,c,h;for(s=0,o=t.length;s<o;s++)u=t[s]*n,c=s<o-1?t[s+1]*n:e.length,h=E3(e,u,c,n,!1),h===h.next&&(h.steiner=!0),i.push(wC(h));for(i.sort(yC),s=0;s<i.length;s++)r=vC(i[s],r);return r}function yC(e,t){return e.x-t.x}function vC(e,t){var r=xC(e,t);if(!r)return t;var n=A3(r,e);return lo(n,n.next),lo(r,r.next)}function xC(e,t){var r=t,n=e.x,i=e.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var u=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(u<=n&&u>s&&(s=u,o=r.x<r.next.x?r:r.next,u===n))return o}r=r.next}while(r!==t);if(!o)return null;var c=o,h=o.x,f=o.y,m=1/0,g;r=o;do n>=r.x&&r.x>=h&&n!==r.x&&ia(i<f?n:s,i,h,f,i<f?s:n,i,r.x,r.y)&&(g=Math.abs(i-r.y)/(n-r.x),iu(r,e)&&(g<m||g===m&&(r.x>o.x||r.x===o.x&&TC(o,r)))&&(o=r,m=g)),r=r.next;while(r!==c);return o}function TC(e,t){return le(e.prev,e,t.prev)<0&&le(t.next,e,e.next)<0}function _C(e,t,r,n){var i=e;do i.z===0&&(i.z=_0(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,bC(i)}function bC(e){var t,r,n,i,s,o,u,c,h=1;do{for(r=e,e=null,s=null,o=0;r;){for(o++,n=r,u=0,t=0;t<h&&(u++,n=n.nextZ,!!n);t++);for(c=h;u>0||c>0&&n;)u!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,u--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:e=i,i.prevZ=s,s=i;r=n}s.nextZ=null,h*=2}while(o>1);return e}function _0(e,t,r,n,i){return e=(e-r)*i|0,t=(t-n)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function wC(e){var t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function ia(e,t,r,n,i,s,o,u){return(i-o)*(t-u)>=(e-o)*(s-u)&&(e-o)*(n-u)>=(r-o)*(t-u)&&(r-o)*(s-u)>=(i-o)*(n-u)}function SC(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!EC(e,t)&&(iu(e,t)&&iu(t,e)&&CC(e,t)&&(le(e.prev,e,t.prev)||le(e,t.prev,t))||Fd(e,t)&&le(e.prev,e,e.next)>0&&le(t.prev,t,t.next)>0)}function le(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function Fd(e,t){return e.x===t.x&&e.y===t.y}function C3(e,t,r,n){var i=Nc(le(e,t,r)),s=Nc(le(e,t,n)),o=Nc(le(r,n,e)),u=Nc(le(r,n,t));return!!(i!==s&&o!==u||i===0&&Dc(e,r,t)||s===0&&Dc(e,n,t)||o===0&&Dc(r,e,n)||u===0&&Dc(r,t,n))}function Dc(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function Nc(e){return e>0?1:e<0?-1:0}function EC(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&C3(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function iu(e,t){return le(e.prev,e,e.next)<0?le(e,t,e.next)>=0&&le(e,e.prev,t)>=0:le(e,t,e.prev)<0||le(e,e.next,t)<0}function CC(e,t){var r=e,n=!1,i=(e.x+t.x)/2,s=(e.y+t.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function A3(e,t){var r=new b0(e.i,e.x,e.y),n=new b0(t.i,t.x,t.y),i=e.next,s=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function kx(e,t,r,n){var i=new b0(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function su(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function b0(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Nd.deviation=function(e,t,r,n){var i=t&&t.length,s=i?t[0]*r:e.length,o=Math.abs(w0(e,0,s,r));if(i)for(var u=0,c=t.length;u<c;u++){var h=t[u]*r,f=u<c-1?t[u+1]*r:e.length;o-=Math.abs(w0(e,h,f,r))}var m=0;for(u=0;u<n.length;u+=3){var g=n[u]*r,v=n[u+1]*r,x=n[u+2]*r;m+=Math.abs((e[g]-e[x])*(e[v+1]-e[g+1])-(e[g]-e[v])*(e[x+1]-e[g+1]))}return o===0&&m===0?0:Math.abs((m-o)/o)};function w0(e,t,r,n){for(var i=0,s=t,o=r-n;s<r;s+=n)i+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return i}Nd.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},n=0,i=0;i<e.length;i++){for(var s=0;s<e[i].length;s++)for(var o=0;o<t;o++)r.vertices.push(e[i][s][o]);i>0&&(n+=e[i-1].length,r.holes.push(n))}return r};var S0={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(e,t){(function(r){var n=t&&!t.nodeType&&t,i=e&&!e.nodeType&&e,s=typeof vm=="object"&&vm;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,u=2147483647,c=36,h=1,f=26,m=38,g=700,v=72,x=128,S="-",E=/^xn--/,w=/[^\x20-\x7E]/,b=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=c-h,P=Math.floor,O=String.fromCharCode,M;function N(k){throw RangeError(_[k])}function Q(k,K){for(var nt=k.length,St=[];nt--;)St[nt]=K(k[nt]);return St}function V(k,K){var nt=k.split("@"),St="";nt.length>1&&(St=nt[0]+"@",k=nt[1]),k=k.replace(b,".");var _t=k.split("."),Bt=Q(_t,K).join(".");return St+Bt}function Y(k){for(var K=[],nt=0,St=k.length,_t,Bt;nt<St;)_t=k.charCodeAt(nt++),_t>=55296&&_t<=56319&&nt<St?(Bt=k.charCodeAt(nt++),(Bt&64512)==56320?K.push(((_t&1023)<<10)+(Bt&1023)+65536):(K.push(_t),nt--)):K.push(_t);return K}function it(k){return Q(k,function(K){var nt="";return K>65535&&(K-=65536,nt+=O(K>>>10&1023|55296),K=56320|K&1023),nt+=O(K),nt}).join("")}function W(k){return k-48<10?k-22:k-65<26?k-65:k-97<26?k-97:c}function U(k,K){return k+22+75*(k<26)-((K!=0)<<5)}function ft(k,K,nt){var St=0;for(k=nt?P(k/g):k>>1,k+=P(k/K);k>C*f>>1;St+=c)k=P(k/C);return P(St+(C+1)*k/(k+m))}function vt(k){var K=[],nt=k.length,St,_t=0,Bt=x,Pt=v,Lt,ke,Ue,he,Rt,Qt,Nt,Br,Ur;for(Lt=k.lastIndexOf(S),Lt<0&&(Lt=0),ke=0;ke<Lt;++ke)k.charCodeAt(ke)>=128&&N("not-basic"),K.push(k.charCodeAt(ke));for(Ue=Lt>0?Lt+1:0;Ue<nt;){for(he=_t,Rt=1,Qt=c;Ue>=nt&&N("invalid-input"),Nt=W(k.charCodeAt(Ue++)),(Nt>=c||Nt>P((u-_t)/Rt))&&N("overflow"),_t+=Nt*Rt,Br=Qt<=Pt?h:Qt>=Pt+f?f:Qt-Pt,!(Nt<Br);Qt+=c)Ur=c-Br,Rt>P(u/Ur)&&N("overflow"),Rt*=Ur;St=K.length+1,Pt=ft(_t-he,St,he==0),P(_t/St)>u-Bt&&N("overflow"),Bt+=P(_t/St),_t%=St,K.splice(_t++,0,Bt)}return it(K)}function z(k){var K,nt,St,_t,Bt,Pt,Lt,ke,Ue,he,Rt,Qt=[],Nt,Br,Ur,Is;for(k=Y(k),Nt=k.length,K=x,nt=0,Bt=v,Pt=0;Pt<Nt;++Pt)Rt=k[Pt],Rt<128&&Qt.push(O(Rt));for(St=_t=Qt.length,_t&&Qt.push(S);St<Nt;){for(Lt=u,Pt=0;Pt<Nt;++Pt)Rt=k[Pt],Rt>=K&&Rt<Lt&&(Lt=Rt);for(Br=St+1,Lt-K>P((u-nt)/Br)&&N("overflow"),nt+=(Lt-K)*Br,K=Lt,Pt=0;Pt<Nt;++Pt)if(Rt=k[Pt],Rt<K&&++nt>u&&N("overflow"),Rt==K){for(ke=nt,Ue=c;he=Ue<=Bt?h:Ue>=Bt+f?f:Ue-Bt,!(ke<he);Ue+=c)Is=ke-he,Ur=c-he,Qt.push(O(U(he+Is%Ur,0))),ke=P(Is/Ur);Qt.push(O(U(ke,0))),Bt=ft(nt,Br,St==_t),nt=0,++St}++nt,++K}return Qt.join("")}function R(k){return V(k,function(K){return E.test(K)?vt(K.slice(4).toLowerCase()):K})}function L(k){return V(k,function(K){return w.test(K)?"xn--"+z(K):K})}if(o={version:"1.3.2",ucs2:{decode:Y,encode:it},decode:vt,encode:z,toASCII:L,toUnicode:R},n&&i)if(e.exports==n)i.exports=o;else for(M in o)o.hasOwnProperty(M)&&(n[M]=o[M]);else r.punycode=o})(vm)})(S0,S0.exports);var AC={isString:function(e){return typeof e=="string"},isObject:function(e){return typeof e=="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}},ou={};function PC(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var IC=function(e,t,r,n){t=t||"&",r=r||"=";var i={};if(typeof e!="string"||e.length===0)return i;var s=/\+/g;e=e.split(t);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var u=e.length;o>0&&u>o&&(u=o);for(var c=0;c<u;++c){var h=e[c].replace(s,"%20"),f=h.indexOf(r),m,g,v,x;f>=0?(m=h.substr(0,f),g=h.substr(f+1)):(m=h,g=""),v=decodeURIComponent(m),x=decodeURIComponent(g),PC(i,v)?Array.isArray(i[v])?i[v].push(x):i[v]=[i[v],x]:i[v]=x}return i},ul=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},RC=function(e,t,r,n){return t=t||"&",r=r||"=",e===null&&(e=void 0),typeof e=="object"?Object.keys(e).map(function(i){var s=encodeURIComponent(ul(i))+r;return Array.isArray(e[i])?e[i].map(function(o){return s+encodeURIComponent(ul(o))}).join(t):s+encodeURIComponent(ul(e[i]))}).join(t):n?encodeURIComponent(ul(n))+r+encodeURIComponent(ul(e)):""};ou.decode=ou.parse=IC;ou.encode=ou.stringify=RC;var kC=S0.exports,Qn=AC,MC=Od,DC=$C,NC=jC;function Rn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var FC=/^([a-z0-9.+-]+:)/i,OC=/:[0-9]*$/,LC=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,BC=["<",">",'"',"`"," ","\r",`
`,"	"],UC=["{","}","|","\\","^","`"].concat(BC),E0=["'"].concat(UC),Mx=["%","/","?",";","#"].concat(E0),Dx=["/","?","#"],zC=255,Nx=/^[+a-z0-9A-Z_-]{0,63}$/,GC=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,HC={javascript:!0,"javascript:":!0},C0={javascript:!0,"javascript:":!0},ma={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},A0=ou;function Od(e,t,r){if(e&&Qn.isObject(e)&&e instanceof Rn)return e;var n=new Rn;return n.parse(e,t,r),n}Rn.prototype.parse=function(e,t,r){if(!Qn.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",s=e.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),e=s.join(i);var u=e;if(u=u.trim(),!r&&e.split("#").length===1){var c=LC.exec(u);if(c)return this.path=u,this.href=u,this.pathname=c[1],c[2]?(this.search=c[2],t?this.query=A0.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this}var h=FC.exec(u);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,u=u.substr(h.length)}if(r||h||u.match(/^\/\/[^@\/]+@[^@\/]+/)){var m=u.substr(0,2)==="//";m&&!(h&&C0[h])&&(u=u.substr(2),this.slashes=!0)}if(!C0[h]&&(m||h&&!ma[h])){for(var g=-1,v=0;v<Dx.length;v++){var x=u.indexOf(Dx[v]);x!==-1&&(g===-1||x<g)&&(g=x)}var S,E;g===-1?E=u.lastIndexOf("@"):E=u.lastIndexOf("@",g),E!==-1&&(S=u.slice(0,E),u=u.slice(E+1),this.auth=decodeURIComponent(S)),g=-1;for(var v=0;v<Mx.length;v++){var x=u.indexOf(Mx[v]);x!==-1&&(g===-1||x<g)&&(g=x)}g===-1&&(g=u.length),this.host=u.slice(0,g),u=u.slice(g),this.parseHost(),this.hostname=this.hostname||"";var w=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!w)for(var b=this.hostname.split(/\./),v=0,_=b.length;v<_;v++){var C=b[v];if(!!C&&!C.match(Nx)){for(var P="",O=0,M=C.length;O<M;O++)C.charCodeAt(O)>127?P+="x":P+=C[O];if(!P.match(Nx)){var N=b.slice(0,v),Q=b.slice(v+1),V=C.match(GC);V&&(N.push(V[1]),Q.unshift(V[2])),Q.length&&(u="/"+Q.join(".")+u),this.hostname=N.join(".");break}}}this.hostname.length>zC?this.hostname="":this.hostname=this.hostname.toLowerCase(),w||(this.hostname=kC.toASCII(this.hostname));var Y=this.port?":"+this.port:"",it=this.hostname||"";this.host=it+Y,this.href+=this.host,w&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),u[0]!=="/"&&(u="/"+u))}if(!HC[f])for(var v=0,_=E0.length;v<_;v++){var W=E0[v];if(u.indexOf(W)!==-1){var U=encodeURIComponent(W);U===W&&(U=escape(W)),u=u.split(W).join(U)}}var ft=u.indexOf("#");ft!==-1&&(this.hash=u.substr(ft),u=u.slice(0,ft));var vt=u.indexOf("?");if(vt!==-1?(this.search=u.substr(vt),this.query=u.substr(vt+1),t&&(this.query=A0.parse(this.query)),u=u.slice(0,vt)):t&&(this.search="",this.query={}),u&&(this.pathname=u),ma[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Y=this.pathname||"",z=this.search||"";this.path=Y+z}return this.href=this.format(),this};function jC(e){return Qn.isString(e)&&(e=Od(e)),e instanceof Rn?e.format():Rn.prototype.format.call(e)}Rn.prototype.format=function(){var e=this.auth||"";e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=e+this.host:this.hostname&&(i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&Qn.isObject(this.query)&&Object.keys(this.query).length&&(s=A0.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&t.substr(-1)!==":"&&(t+=":"),this.slashes||(!t||ma[t])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(u){return encodeURIComponent(u)}),o=o.replace("#","%23"),t+i+r+o+n};function $C(e,t){return Od(e,!1,!0).resolve(t)}Rn.prototype.resolve=function(e){return this.resolveObject(Od(e,!1,!0)).format()};Rn.prototype.resolveObject=function(e){if(Qn.isString(e)){var t=new Rn;t.parse(e,!1,!0),e=t}for(var r=new Rn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=e.hash,e.href==="")return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),u=0;u<o.length;u++){var c=o[u];c!=="protocol"&&(r[c]=e[c])}return ma[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!ma[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var m=h[f];r[m]=e[m]}return r.href=r.format(),r}if(r.protocol=e.protocol,!e.host&&!C0[e.protocol]){for(var _=(e.pathname||"").split("/");_.length&&!(e.host=_.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),_[0]!==""&&_.unshift(""),_.length<2&&_.unshift(""),r.pathname=_.join("/")}else r.pathname=e.pathname;if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var g=r.pathname||"",v=r.search||"";r.path=g+v}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var x=r.pathname&&r.pathname.charAt(0)==="/",S=e.host||e.pathname&&e.pathname.charAt(0)==="/",E=S||x||r.host&&e.pathname,w=E,b=r.pathname&&r.pathname.split("/")||[],_=e.pathname&&e.pathname.split("/")||[],C=r.protocol&&!ma[r.protocol];if(C&&(r.hostname="",r.port=null,r.host&&(b[0]===""?b[0]=r.host:b.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(_[0]===""?_[0]=e.host:_.unshift(e.host)),e.host=null),E=E&&(_[0]===""||b[0]==="")),S)r.host=e.host||e.host===""?e.host:r.host,r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname,r.search=e.search,r.query=e.query,b=_;else if(_.length)b||(b=[]),b.pop(),b=b.concat(_),r.search=e.search,r.query=e.query;else if(!Qn.isNullOrUndefined(e.search)){if(C){r.hostname=r.host=b.shift();var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.host=r.hostname=P.shift())}return r.search=e.search,r.query=e.query,(!Qn.isNull(r.pathname)||!Qn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!b.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var O=b.slice(-1)[0],M=(r.host||e.host||b.length>1)&&(O==="."||O==="..")||O==="",N=0,Q=b.length;Q>=0;Q--)O=b[Q],O==="."?b.splice(Q,1):O===".."?(b.splice(Q,1),N++):N&&(b.splice(Q,1),N--);if(!E&&!w)for(;N--;N)b.unshift("..");E&&b[0]!==""&&(!b[0]||b[0].charAt(0)!=="/")&&b.unshift(""),M&&b.join("/").substr(-1)!=="/"&&b.push("");var V=b[0]===""||b[0]&&b[0].charAt(0)==="/";if(C){r.hostname=r.host=V?"":b.length?b.shift():"";var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.host=r.hostname=P.shift())}return E=E||r.host&&b.length,E&&!V&&b.unshift(""),b.length?r.pathname=b.join("/"):(r.pathname=null,r.path=null),(!Qn.isNull(r.pathname)||!Qn.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r};Rn.prototype.parseHost=function(){var e=this.host,t=OC.exec(e);t&&(t=t[0],t!==":"&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};const WC={parse:MC,format:NC,resolve:DC};function fn(e){if(typeof e!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(e)}`)}function cl(e){return e.split("?")[0].split("#")[0]}function VC(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function XC(e,t,r){return e.replace(new RegExp(VC(t),"g"),r)}function YC(e,t){let r="",n=0,i=-1,s=0,o=-1;for(let u=0;u<=e.length;++u){if(u<e.length)o=e.charCodeAt(u);else{if(o===47)break;o=47}if(o===47){if(!(i===u-1||s===1))if(i!==u-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=u,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=u,s=0;continue}}t&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${e.slice(i+1,u)}`:r=e.slice(i+1,u),n=u-i-1;i=u,s=0}else o===46&&s!==-1?++s:s=-1}return r}const nr={toPosix(e){return XC(e,"\\","/")},isUrl(e){return/^https?:/.test(this.toPosix(e))},isDataUrl(e){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(e)},hasProtocol(e){return/^[^/:]+:\//.test(this.toPosix(e))},getProtocol(e){fn(e),e=this.toPosix(e);let t="";const r=/^file:\/\/\//.exec(e),n=/^[^/:]+:\/\//.exec(e),i=/^[^/:]+:\//.exec(e);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);t=s,e=e.slice(s.length)}return t},toAbsolute(e,t,r){if(this.isDataUrl(e))return e;const n=cl(this.toPosix(t!=null?t:tt.ADAPTER.getBaseUrl())),i=cl(this.toPosix(r!=null?r:this.rootname(n)));return fn(e),e=this.toPosix(e),e.startsWith("/")?nr.join(i,e.slice(1)):this.isAbsolute(e)?e:this.join(n,e)},normalize(e){if(e=this.toPosix(e),fn(e),e.length===0)return".";let t="";const r=e.startsWith("/");this.hasProtocol(e)&&(t=this.rootname(e),e=e.slice(t.length));const n=e.endsWith("/");return e=YC(e,!1),e.length>0&&n&&(e+="/"),r?`/${e}`:t+e},isAbsolute(e){return fn(e),e=this.toPosix(e),this.hasProtocol(e)?!0:e.startsWith("/")},join(...e){var r;if(e.length===0)return".";let t;for(let n=0;n<e.length;++n){const i=e[n];if(fn(i),i.length>0)if(t===void 0)t=i;else{const s=(r=e[n-1])!=null?r:"";this.extname(s)?t+=`/../${i}`:t+=`/${i}`}}return t===void 0?".":this.normalize(t)},dirname(e){if(fn(e),e.length===0)return".";e=this.toPosix(e);let t=e.charCodeAt(0);const r=t===47;let n=-1,i=!0;const s=this.getProtocol(e),o=e;e=e.slice(s.length);for(let u=e.length-1;u>=1;--u)if(t=e.charCodeAt(u),t===47){if(!i){n=u;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+e:s:r&&n===1?"//":s+e.slice(0,n)},rootname(e){fn(e),e=this.toPosix(e);let t="";if(e.startsWith("/")?t="/":t=this.getProtocol(e),this.isUrl(e)){const r=e.indexOf("/",t.length);r!==-1?t=e.slice(0,r):t=e,t.endsWith("/")||(t+="/")}return t},basename(e,t){fn(e),t&&fn(t),e=cl(this.toPosix(e));let r=0,n=-1,i=!0,s;if(t!==void 0&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";let o=t.length-1,u=-1;for(s=e.length-1;s>=0;--s){const c=e.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else u===-1&&(i=!1,u=s+1),o>=0&&(c===t.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=u))}return r===n?n=u:n===-1&&(n=e.length),e.slice(r,n)}for(s=e.length-1;s>=0;--s)if(e.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":e.slice(r,n)},extname(e){fn(e),e=cl(this.toPosix(e));let t=-1,r=0,n=-1,i=!0,s=0;for(let o=e.length-1;o>=0;--o){const u=e.charCodeAt(o);if(u===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),u===46?t===-1?t=o:s!==1&&(s=1):t!==-1&&(s=-1)}return t===-1||n===-1||s===0||s===1&&t===n-1&&t===r+1?"":e.slice(t,n)},parse(e){fn(e);const t={root:"",dir:"",base:"",ext:"",name:""};if(e.length===0)return t;e=cl(this.toPosix(e));let r=e.charCodeAt(0);const n=this.isAbsolute(e);let i;t.root=this.rootname(e),n||this.hasProtocol(e)?i=1:i=0;let s=-1,o=0,u=-1,c=!0,h=e.length-1,f=0;for(;h>=i;--h){if(r=e.charCodeAt(h),r===47){if(!c){o=h+1;break}continue}u===-1&&(c=!1,u=h+1),r===46?s===-1?s=h:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||u===-1||f===0||f===1&&s===u-1&&s===o+1?u!==-1&&(o===0&&n?t.base=t.name=e.slice(1,u):t.base=t.name=e.slice(o,u)):(o===0&&n?(t.name=e.slice(1,s),t.base=e.slice(1,u)):(t.name=e.slice(o,s),t.base=e.slice(o,u)),t.ext=e.slice(s,u)),t.dir=this.dirname(e),t},sep:"/",delimiter:":"},Fx={};function At(e,t,r=3){if(Fx[t])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}
Deprecated since v${e}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}
Deprecated since v${e}`),console.warn(n))),Fx[t]=!0}let Xm;function KC(){return typeof Xm>"u"&&(Xm=function(){var r;const t={stencil:!0,failIfMajorPerformanceCaveat:tt.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!tt.ADAPTER.getWebGLRenderingContext())return!1;const n=tt.ADAPTER.createCanvas();let i=n.getContext("webgl",t)||n.getContext("experimental-webgl",t);const s=!!((r=i==null?void 0:i.getContextAttributes())!=null&&r.stencil);if(i){const o=i.getExtension("WEBGL_lose_context");o&&o.loseContext()}return i=null,s}catch{return!1}}()),Xm}var QC={grad:.9,turn:360,rad:360/(2*Math.PI)},mi=function(e){return typeof e=="string"?e.length>0:typeof e=="number"},Le=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},tn=function(e,t,r){return t===void 0&&(t=0),r===void 0&&(r=1),e>r?r:e>t?e:t},P3=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},Ox=function(e){return{r:tn(e.r,0,255),g:tn(e.g,0,255),b:tn(e.b,0,255),a:tn(e.a)}},Ym=function(e){return{r:Le(e.r),g:Le(e.g),b:Le(e.b),a:Le(e.a,3)}},ZC=/^#([0-9a-f]{3,8})$/i,Fc=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},I3=function(e){var t=e.r,r=e.g,n=e.b,i=e.a,s=Math.max(t,r,n),o=s-Math.min(t,r,n),u=o?s===t?(r-n)/o:s===r?2+(n-t)/o:4+(t-r)/o:0;return{h:60*(u<0?u+6:u),s:s?o/s*100:0,v:s/255*100,a:i}},R3=function(e){var t=e.h,r=e.s,n=e.v,i=e.a;t=t/360*6,r/=100,n/=100;var s=Math.floor(t),o=n*(1-r),u=n*(1-(t-s)*r),c=n*(1-(1-t+s)*r),h=s%6;return{r:255*[n,u,o,o,c,n][h],g:255*[c,n,n,u,o,o][h],b:255*[o,o,c,n,n,u][h],a:i}},Lx=function(e){return{h:P3(e.h),s:tn(e.s,0,100),l:tn(e.l,0,100),a:tn(e.a)}},Bx=function(e){return{h:Le(e.h),s:Le(e.s),l:Le(e.l),a:Le(e.a,3)}},Ux=function(e){return R3((r=(t=e).s,{h:t.h,s:(r*=((n=t.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:t.a}));var t,r,n},Bl=function(e){return{h:(t=I3(e)).h,s:(i=(200-(r=t.s))*(n=t.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:t.a};var t,r,n,i},qC=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,JC=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,t4=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,e4=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,P0={string:[[function(e){var t=ZC.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Le(parseInt(e[3]+e[3],16)/255,2):1}:e.length===6||e.length===8?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:e.length===8?Le(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=t4.exec(e)||e4.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:Ox({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:t[7]===void 0?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=qC.exec(e)||JC.exec(e);if(!t)return null;var r,n,i=Lx({h:(r=t[1],n=t[2],n===void 0&&(n="deg"),Number(r)*(QC[n]||1)),s:Number(t[3]),l:Number(t[4]),a:t[5]===void 0?1:Number(t[5])/(t[6]?100:1)});return Ux(i)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,n=e.b,i=e.a,s=i===void 0?1:i;return mi(t)&&mi(r)&&mi(n)?Ox({r:Number(t),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,r=e.s,n=e.l,i=e.a,s=i===void 0?1:i;if(!mi(t)||!mi(r)||!mi(n))return null;var o=Lx({h:Number(t),s:Number(r),l:Number(n),a:Number(s)});return Ux(o)},"hsl"],[function(e){var t=e.h,r=e.s,n=e.v,i=e.a,s=i===void 0?1:i;if(!mi(t)||!mi(r)||!mi(n))return null;var o=function(u){return{h:P3(u.h),s:tn(u.s,0,100),v:tn(u.v,0,100),a:tn(u.a)}}({h:Number(t),s:Number(r),v:Number(n),a:Number(s)});return R3(o)},"hsv"]]},zx=function(e,t){for(var r=0;r<t.length;r++){var n=t[r][0](e);if(n)return[n,t[r][1]]}return[null,void 0]},r4=function(e){return typeof e=="string"?zx(e.trim(),P0.string):typeof e=="object"&&e!==null?zx(e,P0.object):[null,void 0]},Km=function(e,t){var r=Bl(e);return{h:r.h,s:tn(r.s+100*t,0,100),l:r.l,a:r.a}},Qm=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},Gx=function(e,t){var r=Bl(e);return{h:r.h,s:r.s,l:tn(r.l+100*t,0,100),a:r.a}},I0=function(){function e(t){this.parsed=r4(t)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return this.parsed!==null},e.prototype.brightness=function(){return Le(Qm(this.rgba),2)},e.prototype.isDark=function(){return Qm(this.rgba)<.5},e.prototype.isLight=function(){return Qm(this.rgba)>=.5},e.prototype.toHex=function(){return t=Ym(this.rgba),r=t.r,n=t.g,i=t.b,o=(s=t.a)<1?Fc(Le(255*s)):"","#"+Fc(r)+Fc(n)+Fc(i)+o;var t,r,n,i,s,o},e.prototype.toRgb=function(){return Ym(this.rgba)},e.prototype.toRgbString=function(){return t=Ym(this.rgba),r=t.r,n=t.g,i=t.b,(s=t.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var t,r,n,i,s},e.prototype.toHsl=function(){return Bx(Bl(this.rgba))},e.prototype.toHslString=function(){return t=Bx(Bl(this.rgba)),r=t.h,n=t.s,i=t.l,(s=t.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var t,r,n,i,s},e.prototype.toHsv=function(){return t=I3(this.rgba),{h:Le(t.h),s:Le(t.s),v:Le(t.v),a:Le(t.a,3)};var t},e.prototype.invert=function(){return Vn({r:255-(t=this.rgba).r,g:255-t.g,b:255-t.b,a:t.a});var t},e.prototype.saturate=function(t){return t===void 0&&(t=.1),Vn(Km(this.rgba,t))},e.prototype.desaturate=function(t){return t===void 0&&(t=.1),Vn(Km(this.rgba,-t))},e.prototype.grayscale=function(){return Vn(Km(this.rgba,-1))},e.prototype.lighten=function(t){return t===void 0&&(t=.1),Vn(Gx(this.rgba,t))},e.prototype.darken=function(t){return t===void 0&&(t=.1),Vn(Gx(this.rgba,-t))},e.prototype.rotate=function(t){return t===void 0&&(t=15),this.hue(this.hue()+t)},e.prototype.alpha=function(t){return typeof t=="number"?Vn({r:(r=this.rgba).r,g:r.g,b:r.b,a:t}):Le(this.rgba.a,3);var r},e.prototype.hue=function(t){var r=Bl(this.rgba);return typeof t=="number"?Vn({h:t,s:r.s,l:r.l,a:r.a}):Le(r.h)},e.prototype.isEqual=function(t){return this.toHex()===Vn(t).toHex()},e}(),Vn=function(e){return e instanceof I0?e:new I0(e)},Hx=[],n4=function(e){e.forEach(function(t){Hx.indexOf(t)<0&&(t(I0,P0),Hx.push(t))})};function i4(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};e.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var u,c,h=n[this.toHex()];if(h)return h;if(o!=null&&o.closest){var f=this.toRgb(),m=1/0,g="black";if(!s.length)for(var v in r)s[v]=new e(r[v]).toRgb();for(var x in r){var S=(u=f,c=s[x],Math.pow(u.r-c.r,2)+Math.pow(u.g-c.g,2)+Math.pow(u.b-c.b,2));S<m&&(m=S,g=x)}return g}},t.string.push([function(o){var u=o.toLowerCase(),c=u==="transparent"?"#0000":r[u];return c?new e(c).toRgb():null},"name"])}n4([i4]);const pa=class{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof pa)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((i,s)=>i===t[s]);if(e!==null&&t!==null){const i=Object.keys(e),s=Object.keys(t);return i.length!==s.length?!1:i.every(o=>e[o]===t[o])}return e===t}toRgba(){const[e,t,r,n]=this._components;return{r:e,g:t,b:r,a:n}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,n]=this._components;return e=e!=null?e:[],e[0]=Math.round(t*255),e[1]=Math.round(r*255),e[2]=Math.round(n*255),e}toRgbArray(e){e=e!=null?e:[];const[t,r,n]=this._components;return e[0]=t,e[1]=r,e[2]=n,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[t,r,n,i]=pa.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return t&&(r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0),(e*255<<24)+(r<<16)+(n<<8)+i}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,r,n]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(n*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e!=null?e:[];const[t,r,n,i]=this._components;return e[0]=t,e[1]=r,e[2]=n,e[3]=i,e}normalize(e){let t,r,n,i;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const s=e;t=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,r,n,i=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,r,n,i=255]=e,t/=255,r/=255,n/=255,i/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const o=pa.HEX_PATTERN.exec(e);o&&(e=`#${o[2]}`)}const s=Vn(e);s.isValid()&&({r:t,g:r,b:n,a:i}=s.rgba,t/=255,r/=255,n/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(e*255<<16)+(t*255<<8)+(r*255|0)}_clamp(e,t=0,r=1){return typeof e=="number"?Math.min(Math.max(e,t),r):(e.forEach((n,i)=>{e[i]=Math.min(Math.max(n,t),r)}),e)}};let Gt=pa;Gt.shared=new pa;Gt.temp=new pa;Gt.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function Ld(e,t=[]){return At("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),Gt.shared.setValue(e).toRgbArray(t)}function s4(e){return At("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Gt.shared.setValue(e).toHex()}function Bd(e){return At("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Gt.shared.setValue(e).toNumber()}function o4(){const e=[],t=[];for(let n=0;n<32;n++)e[n]=n,t[n]=n;e[mt.NORMAL_NPM]=mt.NORMAL,e[mt.ADD_NPM]=mt.ADD,e[mt.SCREEN_NPM]=mt.SCREEN,t[mt.NORMAL]=mt.NORMAL_NPM,t[mt.ADD]=mt.ADD_NPM,t[mt.SCREEN]=mt.SCREEN_NPM;const r=[];return r.push(t),r.push(e),r}const k3=o4();function M3(e,t){return k3[t?1:0][e]}function a4(e,t=null){const r=e*6;if(t=t||new Uint16Array(r),t.length!==r)throw new Error(`Out buffer length is incorrect, got ${t.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)t[n+0]=i+0,t[n+1]=i+1,t[n+2]=i+2,t[n+3]=i+0,t[n+4]=i+2,t[n+5]=i+3;return t}function D3(e){if(e.BYTES_PER_ELEMENT===4)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(e.BYTES_PER_ELEMENT===2){if(e instanceof Uint16Array)return"Uint16Array"}else if(e.BYTES_PER_ELEMENT===1&&e instanceof Uint8Array)return"Uint8Array";return null}function ed(e){return e+=e===0?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1}function jx(e){return!(e&e-1)&&!!e}function $x(e){let t=(e>65535?1:0)<<4;e>>>=t;let r=(e>255?1:0)<<3;return e>>>=r,t|=r,r=(e>15?1:0)<<2,e>>>=r,t|=r,r=(e>3?1:0)<<1,e>>>=r,t|=r,t|e>>1}function ga(e,t,r){const n=e.length;let i;if(t>=n||r===0)return;r=t+r>n?n-t:r;const s=n-r;for(i=t;i<s;++i)e[i]=e[i+r];e.length=s}function ls(e){return e===0?0:e<0?-1:1}let l4=0;function uo(){return++l4}const N3=class{constructor(e,t,r,n){this.left=e,this.top=t,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let R0=N3;R0.EMPTY=new N3(0,0,0,0);const Wx={},Xn=Object.create(null),Zi=Object.create(null);class u4{constructor(t,r,n){this._canvas=tt.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||tt.RESOLUTION,this.resize(t,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(t,r){this._checkDestroyed(),this._canvas.width=Math.round(t*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(t){this._checkDestroyed(),this._canvas.width=Math.round(t)}get height(){return this._checkDestroyed(),this._canvas.height}set height(t){this._checkDestroyed(),this._canvas.height=Math.round(t)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function Vx(e,t,r){for(let n=0,i=4*r*t;n<t;++n,i+=4)if(e[i+3]!==0)return!1;return!0}function Xx(e,t,r,n,i){const s=4*t;for(let o=n,u=n*s+4*r;o<=i;++o,u+=s)if(e[u+3]!==0)return!1;return!0}function c4(e){const{width:t,height:r}=e,n=e.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const s=n.getImageData(0,0,t,r).data;let o=0,u=0,c=t-1,h=r-1;for(;u<r&&Vx(s,t,u);)++u;if(u===r)return R0.EMPTY;for(;Vx(s,t,h);)--h;for(;Xx(s,t,o,u,h);)++o;for(;Xx(s,t,c,u,h);)--c;return++c,++h,new R0(o,u,c,h)}function h4(e){const t=c4(e),{width:r,height:n}=t;let i=null;if(!t.isEmpty()){const s=e.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(t.left,t.top,r,n)}return{width:r,height:n,data:i}}let Oc;function d4(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location,Oc||(Oc=document.createElement("a")),Oc.href=e;const r=WC.parse(Oc.href),n=!r.port&&t.port===""||r.port===t.port;return r.hostname!==t.hostname||!n||r.protocol!==t.protocol?"anonymous":""}function Ts(e,t=1){var n;const r=(n=tt.RETINA_PREFIX)==null?void 0:n.exec(e);return r?parseFloat(r[1]):t}var ot=(e=>(e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e))(ot||{});const k0=e=>{if(typeof e=="function"||typeof e=="object"&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e={...typeof e.extension!="object"?{type:e.extension}:e.extension,ref:e}}if(typeof e=="object")e={...e};else throw new Error("Invalid extension type");return typeof e.type=="string"&&(e.type=[e.type]),e},Yx=(e,t)=>{var r;return(r=k0(e).priority)!=null?r:t},pt={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(k0).forEach(t=>{t.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,t)})}),this},add(...e){return e.map(k0).forEach(t=>{t.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](t):(i[r]=i[r]||[],i[r].push(t))})}),this},handle(e,t,r){const n=this._addHandlers,i=this._removeHandlers;if(n[e]||i[e])throw new Error(`Extension type ${e} already has a handler`);n[e]=t,i[e]=r;const s=this._queue;return s[e]&&(s[e].forEach(o=>t(o)),delete s[e]),this},handleByMap(e,t){return this.handle(e,r=>{t[r.name]=r.ref},r=>{delete t[r.name]})},handleByList(e,t,r=-1){return this.handle(e,n=>{t.includes(n.ref)||(t.push(n.ref),t.sort((i,s)=>Yx(s,r)-Yx(i,r)))},n=>{const i=t.indexOf(n.ref);i!==-1&&t.splice(i,1)})}};class M0{constructor(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(t){return this[`${t}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${t} isn't a valid view type`)}}}const f4=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function m4(e){let t="";for(let r=0;r<e;++r)r>0&&(t+=`
else `),r<e-1&&(t+=`if(test == ${r}.0){}`);return t}function p4(e,t){if(e===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=t.createShader(t.FRAGMENT_SHADER);for(;;){const n=f4.replace(/%forloop%/gi,m4(e));if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))e=e/2|0;else break}return e}const Zm=0,qm=1,Jm=2,tp=3,ep=4,rp=5;class Bi{constructor(){this.data=0,this.blendMode=mt.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Zm)}set blend(t){!!(this.data&1<<Zm)!==t&&(this.data^=1<<Zm)}get offsets(){return!!(this.data&1<<qm)}set offsets(t){!!(this.data&1<<qm)!==t&&(this.data^=1<<qm)}get culling(){return!!(this.data&1<<Jm)}set culling(t){!!(this.data&1<<Jm)!==t&&(this.data^=1<<Jm)}get depthTest(){return!!(this.data&1<<tp)}set depthTest(t){!!(this.data&1<<tp)!==t&&(this.data^=1<<tp)}get depthMask(){return!!(this.data&1<<rp)}set depthMask(t){!!(this.data&1<<rp)!==t&&(this.data^=1<<rp)}get clockwiseFrontFace(){return!!(this.data&1<<ep)}set clockwiseFrontFace(t){!!(this.data&1<<ep)!==t&&(this.data^=1<<ep)}get blendMode(){return this._blendMode}set blendMode(t){this.blend=t!==mt.NONE,this._blendMode=t}get polygonOffset(){return this._polygonOffset}set polygonOffset(t){this.offsets=!!t,this._polygonOffset=t}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const t=new Bi;return t.depthTest=!1,t.blend=!0,t}}const D0=[];function F3(e,t){if(!e)return null;let r="";if(typeof e=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);n&&(r=n[1].toLowerCase())}for(let n=D0.length-1;n>=0;--n){const i=D0[n];if(i.test&&i.test(e,r))return new i(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class kn{constructor(t){this.items=[],this._name=t,this._aliasCount=0}emit(t,r,n,i,s,o,u,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:f}=this;this._aliasCount++;for(let m=0,g=f.length;m<g;m++)f[m][h](t,r,n,i,s,o,u,c);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(t){return t[this._name]&&(this.ensureNonAliasedItems(),this.remove(t),this.items.push(t)),this}remove(t){const r=this.items.indexOf(t);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(t){return this.items.includes(t)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(kn.prototype,{dispatch:{value:kn.prototype.emit},run:{value:kn.prototype.emit}});class au{constructor(t=0,r=0){this._width=t,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new kn("setRealSize"),this.onUpdate=new kn("update"),this.onError=new kn("onError")}bind(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)}resize(t,r){(t!==this._width||r!==this._height)&&(this._width=t,this._height=r,this.onResize.emit(t,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(t,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(t,r){return!1}}class bu extends au{constructor(t,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=t}upload(t,r,n){const i=t.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Nn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(t){return t instanceof Float32Array||t instanceof Uint8Array||t instanceof Uint32Array}}const g4={scaleMode:qn.NEAREST,format:J.RGBA,alphaMode:Nn.NPM},zo=class extends Ma{constructor(e=null,t=null){super(),t=Object.assign({},zo.defaultOptions,t);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:u,wrapMode:c,format:h,type:f,target:m,resolution:g,resourceOptions:v}=t;e&&!(e instanceof au)&&(e=F3(e,v),e.internal=!0),this.resolution=g||tt.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((u||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=c,this._scaleMode=s,this.format=h,this.type=f,this.target=m,this.alphaMode=r,this.uid=uo(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&u>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=jx(this.realWidth)&&jx(this.realHeight)}setResolution(e){const t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Zi[this.cacheId],delete Xn[this.cacheId],this.cacheId=null),this.dispose(),zo.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,r=tt.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let i=null;if(n)i=e;else{if(!e._pixiId){const o=(t==null?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${o}_${uo()}`}i=e._pixiId}let s=Zi[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new zo(e,t),s.cacheId=i,zo.addToCache(s,i)),s}static fromBuffer(e,t,r,n){e=e||new Float32Array(t*r*4);const i=new bu(e,{width:t,height:r}),s=e instanceof Float32Array?yt.FLOAT:yt.UNSIGNED_BYTE;return new zo(i,Object.assign({},g4,{type:s},n))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),Zi[t]&&Zi[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),Zi[t]=e)}static removeFromCache(e){if(typeof e=="string"){const t=Zi[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete Zi[e],t}}else if(e!=null&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete Zi[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};let bt=zo;bt.defaultOptions={mipmap:si.POW2,anisotropicLevel:0,scaleMode:qn.LINEAR,wrapMode:Ai.CLAMP,alphaMode:Nn.UNPACK,target:fa.TEXTURE_2D,format:J.RGBA,type:yt.UNSIGNED_BYTE};bt._globalBatch=0;class N0{constructor(){this.texArray=null,this.blend=0,this.type=Sn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let y4=0;class xe{constructor(t,r=!0,n=!1){this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=y4++,this.disposeRunner=new kn("disposeBuffer")}update(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(t){this.type=t?ri.ELEMENT_ARRAY_BUFFER:ri.ARRAY_BUFFER}get index(){return this.type===ri.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new xe(t)}}class rd{constructor(t,r=0,n=!1,i=yt.FLOAT,s,o,u,c=1){this.buffer=t,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=u,this.divisor=c}destroy(){this.buffer=null}static from(t,r,n,i,s){return new rd(t,r,n,i,s)}}const v4={Float32Array,Uint32Array,Int32Array,Uint8Array};function x4(e,t){let r=0,n=0;const i={};for(let c=0;c<e.length;c++)n+=t[c],r+=e[c].length;const s=new ArrayBuffer(r*4);let o=null,u=0;for(let c=0;c<e.length;c++){const h=t[c],f=e[c],m=D3(f);i[m]||(i[m]=new v4[m](s)),o=i[m];for(let g=0;g<f.length;g++){const v=(g/h|0)*n+u,x=g%h;o[v+x]=f[g]}u+=h}return new Float32Array(s)}const Kx={5126:4,5123:2,5121:1};let T4=0;const _4={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class _s{constructor(t=[],r={}){this.buffers=t,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=T4++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new kn("disposeGeometry"),this.refCount=0}addAttribute(t,r,n=0,i=!1,s,o,u,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof xe||(r instanceof Array&&(r=new Float32Array(r)),r=new xe(r));const h=t.split("|");if(h.length>1){for(let m=0;m<h.length;m++)this.addAttribute(h[m],r,n,i,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[t]=new rd(f,n,i,s,o,u,c),this.instanced=this.instanced||c,this}getAttribute(t){return this.attributes[t]}getBuffer(t){return this.buffers[this.getAttribute(t).buffer]}addIndex(t){return t instanceof xe||(t instanceof Array&&(t=new Uint16Array(t)),t=new xe(t)),t.type=ri.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.includes(t)||this.buffers.push(t),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const t=[],r=[],n=new xe;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];t.push(o.data),r.push(s.size*Kx[s.type]/4),s.buffer=0}for(n.data=x4(t,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const t in this.attributes){const r=this.attributes[t];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const t=new _s;for(let r=0;r<this.buffers.length;r++)t.buffers[r]=new xe(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];t.attributes[r]=new rd(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=ri.ELEMENT_ARRAY_BUFFER),t}static merge(t){const r=new _s,n=[],i=[],s=[];let o;for(let u=0;u<t.length;u++){o=t[u];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let u=0;u<o.buffers.length;u++)n[u]=new _4[D3(o.buffers[u].data)](i[u]),r.buffers[u]=new xe(n[u]);for(let u=0;u<t.length;u++){o=t[u];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=ri.ELEMENT_ARRAY_BUFFER;let u=0,c=0,h=0,f=0;for(let m=0;m<o.buffers.length;m++)if(o.buffers[m]!==o.indexBuffer){f=m;break}for(const m in o.attributes){const g=o.attributes[m];(g.buffer|0)===f&&(c+=g.size*Kx[g.type]/4)}for(let m=0;m<t.length;m++){const g=t[m].indexBuffer.data;for(let v=0;v<g.length;v++)r.indexBuffer.data[v+h]+=u;u+=t[m].buffers[f].data.length/c,h+=g.length}}return r}}class O3 extends _s{constructor(t=!1){super(),this._buffer=new xe(null,t,!1),this._indexBuffer=new xe(null,t,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,yt.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,yt.FLOAT).addAttribute("aColor",this._buffer,4,!0,yt.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,yt.FLOAT).addIndex(this._indexBuffer)}}const nd=Math.PI*2,b4=180/Math.PI,lu=Math.PI/180;var We=(e=>(e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e))(We||{});class wt{constructor(t=0,r=0){this.x=0,this.y=0,this.x=t,this.y=r}clone(){return new wt(this.x,this.y)}copyFrom(t){return this.set(t.x,t.y),this}copyTo(t){return t.set(this.x,this.y),t}equals(t){return t.x===this.x&&t.y===this.y}set(t=0,r=t){return this.x=t,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const Lc=[new wt,new wt,new wt,new wt];class Et{constructor(t=0,r=0,n=0,i=0){this.x=Number(t),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=We.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Et(0,0,0,0)}clone(){return new Et(this.x,this.y,this.width,this.height)}copyFrom(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this}copyTo(t){return t.x=this.x,t.y=this.y,t.width=this.width,t.height=this.height,t}contains(t,r){return this.width<=0||this.height<=0?!1:t>=this.x&&t<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(t,r){if(!r){const N=this.x<t.x?t.x:this.x;if((this.right>t.right?t.right:this.right)<=N)return!1;const V=this.y<t.y?t.y:this.y;return(this.bottom>t.bottom?t.bottom:this.bottom)>V}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const u=Lc[0].set(t.left,t.top),c=Lc[1].set(t.left,t.bottom),h=Lc[2].set(t.right,t.top),f=Lc[3].set(t.right,t.bottom);if(h.x<=u.x||c.y<=u.y)return!1;const m=Math.sign(r.a*r.d-r.b*r.c);if(m===0||(r.apply(u,u),r.apply(c,c),r.apply(h,h),r.apply(f,f),Math.max(u.x,c.x,h.x,f.x)<=n||Math.min(u.x,c.x,h.x,f.x)>=i||Math.max(u.y,c.y,h.y,f.y)<=s||Math.min(u.y,c.y,h.y,f.y)>=o))return!1;const g=m*(c.y-u.y),v=m*(u.x-c.x),x=g*n+v*s,S=g*i+v*s,E=g*n+v*o,w=g*i+v*o;if(Math.max(x,S,E,w)<=g*u.x+v*u.y||Math.min(x,S,E,w)>=g*f.x+v*f.y)return!1;const b=m*(u.y-h.y),_=m*(h.x-u.x),C=b*n+_*s,P=b*i+_*s,O=b*n+_*o,M=b*i+_*o;return!(Math.max(C,P,O,M)<=b*u.x+_*u.y||Math.min(C,P,O,M)>=b*f.x+_*f.y)}pad(t=0,r=t){return this.x-=t,this.y-=r,this.width+=t*2,this.height+=r*2,this}fit(t){const r=Math.max(this.x,t.x),n=Math.min(this.x+this.width,t.x+t.width),i=Math.max(this.y,t.y),s=Math.min(this.y+this.height,t.y+t.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(t=1,r=.001){const n=Math.ceil((this.x+this.width-r)*t)/t,i=Math.ceil((this.y+this.height-r)*t)/t;return this.x=Math.floor((this.x+r)*t)/t,this.y=Math.floor((this.y+r)*t)/t,this.width=n-this.x,this.height=i-this.y,this}enlarge(t){const r=Math.min(this.x,t.x),n=Math.max(this.x+this.width,t.x+t.width),i=Math.min(this.y,t.y),s=Math.max(this.y+this.height,t.y+t.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class l1{constructor(t=0,r=0,n=0){this.x=t,this.y=r,this.radius=n,this.type=We.CIRC}clone(){return new l1(this.x,this.y,this.radius)}contains(t,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-t,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Et(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class u1{constructor(t=0,r=0,n=0,i=0){this.x=t,this.y=r,this.width=n,this.height=i,this.type=We.ELIP}clone(){return new u1(this.x,this.y,this.width,this.height)}contains(t,r){if(this.width<=0||this.height<=0)return!1;let n=(t-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Et(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class ya{constructor(...t){let r=Array.isArray(t[0])?t[0]:t;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=We.POLY,this.closeStroke=!0}clone(){const t=this.points.slice(),r=new ya(t);return r.closeStroke=this.closeStroke,r}contains(t,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const u=this.points[s*2],c=this.points[s*2+1],h=this.points[o*2],f=this.points[o*2+1];c>r!=f>r&&t<(h-u)*((r-c)/(f-c))+u&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,r)=>`${t}, ${r}`,"")}]`}}class c1{constructor(t=0,r=0,n=0,i=0,s=20){this.x=t,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=We.RREC}clone(){return new c1(this.x,this.y,this.width,this.height,this.radius)}contains(t,r){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||t>=this.x+n&&t<=this.x+this.width-n)return!0;let i=t-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=t-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=t-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class ie{constructor(t=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=t,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]}set(t,r,n,i,s,o){return this.a=t,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(t,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return t?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(t,r){r=r||new wt;const n=t.x,i=t.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(t,r){r=r||new wt;const n=1/(this.a*this.d+this.c*-this.b),i=t.x,s=t.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(t,r){return this.tx+=t,this.ty+=r,this}scale(t,r){return this.a*=t,this.d*=r,this.c*=t,this.b*=r,this.tx*=t,this.ty*=r,this}rotate(t){const r=Math.cos(t),n=Math.sin(t),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(t){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=t.a*r+t.b*i,this.b=t.a*n+t.b*s,this.c=t.c*r+t.d*i,this.d=t.c*n+t.d*s,this.tx=t.tx*r+t.ty*i+this.tx,this.ty=t.tx*n+t.ty*s+this.ty,this}setTransform(t,r,n,i,s,o,u,c,h){return this.a=Math.cos(u+h)*s,this.b=Math.sin(u+h)*s,this.c=-Math.sin(u-c)*o,this.d=Math.cos(u-c)*o,this.tx=t-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(t){const r=this.tx;if(t.a!==1||t.b!==0||t.c!==0||t.d!==1){const n=this.a,i=this.c;this.a=n*t.a+this.b*t.c,this.b=n*t.b+this.b*t.d,this.c=i*t.a+this.d*t.c,this.d=i*t.b+this.d*t.d}return this.tx=r*t.a+this.ty*t.c+t.tx,this.ty=r*t.b+this.ty*t.d+t.ty,this}decompose(t){const r=this.a,n=this.b,i=this.c,s=this.d,o=t.pivot,u=-Math.atan2(-i,s),c=Math.atan2(n,r),h=Math.abs(u+c);return h<1e-5||Math.abs(nd-h)<1e-5?(t.rotation=c,t.skew.x=t.skew.y=0):(t.rotation=0,t.skew.x=u,t.skew.y=c),t.scale.x=Math.sqrt(r*r+n*n),t.scale.y=Math.sqrt(i*i+s*s),t.position.x=this.tx+(o.x*r+o.y*i),t.position.y=this.ty+(o.x*n+o.y*s),t}invert(){const t=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=t*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=t/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(t*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const t=new ie;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyTo(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t}copyFrom(t){return this.a=t.a,this.b=t.b,this.c=t.c,this.d=t.d,this.tx=t.tx,this.ty=t.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new ie}static get TEMP_MATRIX(){return new ie}}const $s=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ws=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Vs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Xs=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],F0=[],L3=[],Bc=Math.sign;function w4(){for(let e=0;e<16;e++){const t=[];F0.push(t);for(let r=0;r<16;r++){const n=Bc($s[e]*$s[r]+Vs[e]*Ws[r]),i=Bc(Ws[e]*$s[r]+Xs[e]*Ws[r]),s=Bc($s[e]*Vs[r]+Vs[e]*Xs[r]),o=Bc(Ws[e]*Vs[r]+Xs[e]*Xs[r]);for(let u=0;u<16;u++)if($s[u]===n&&Ws[u]===i&&Vs[u]===s&&Xs[u]===o){t.push(u);break}}}for(let e=0;e<16;e++){const t=new ie;t.set($s[e],Ws[e],Vs[e],Xs[e],0,0),L3.push(t)}}w4();const oe={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>$s[e],uY:e=>Ws[e],vX:e=>Vs[e],vY:e=>Xs[e],inv:e=>e&8?e&15:-e&7,add:(e,t)=>F0[e][t],sub:(e,t)=>F0[e][oe.inv(t)],rotate180:e=>e^4,isVertical:e=>(e&3)===2,byDirection:(e,t)=>Math.abs(e)*2<=Math.abs(t)?t>=0?oe.S:oe.N:Math.abs(t)*2<=Math.abs(e)?e>0?oe.E:oe.W:t>0?e>0?oe.SE:oe.SW:e>0?oe.NE:oe.NW,matrixAppendRotationInv:(e,t,r=0,n=0)=>{const i=L3[oe.inv(t)];i.tx=r,i.ty=n,e.append(i)}};class Jn{constructor(t,r,n=0,i=0){this._x=n,this._y=i,this.cb=t,this.scope=r}clone(t=this.cb,r=this.scope){return new Jn(t,r,this._x,this._y)}set(t=0,r=t){return(this._x!==t||this._y!==r)&&(this._x=t,this._y=r,this.cb.call(this.scope)),this}copyFrom(t){return(this._x!==t.x||this._y!==t.y)&&(this._x=t.x,this._y=t.y,this.cb.call(this.scope)),this}copyTo(t){return t.set(this._x,this._y),t}equals(t){return t.x===this._x&&t.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}const B3=class{constructor(){this.worldTransform=new ie,this.localTransform=new ie,this.position=new Jn(this.onChange,this,0,0),this.scale=new Jn(this.onChange,this,1,1),this.pivot=new Jn(this.onChange,this,0,0),this.skew=new Jn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){const r=e.worldTransform,n=this.worldTransform;n.a=t.a*r.a+t.b*r.c,n.b=t.a*r.b+t.b*r.d,n.c=t.c*r.a+t.d*r.c,n.d=t.c*r.b+t.d*r.d,n.tx=t.tx*r.a+t.ty*r.c+r.tx,n.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};let Ud=B3;Ud.IDENTITY=new B3;var S4=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,E4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Qx(e,t,r){const n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}function np(e){const t=new Array(e);for(let r=0;r<t.length;r++)t[r]=!1;return t}function U3(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return np(2*t);case"bvec3":return np(3*t);case"bvec4":return np(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const va=[{test:e=>e.type==="float"&&e.size===1&&!e.isArray,code:e=>`
            if(uv["${e}"] !== ud["${e}"].value)
            {
                ud["${e}"].value = uv["${e}"]
                gl.uniform1f(ud["${e}"].location, uv["${e}"])
            }
            `},{test:(e,t)=>(e.type==="sampler2D"||e.type==="samplerCube"||e.type==="sampler2DArray")&&e.size===1&&!e.isArray&&(t==null||t.castToBaseTexture!==void 0),code:e=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${e}"], t);

            if(ud["${e}"].value !== t)
            {
                ud["${e}"].value = t;
                gl.uniform1i(ud["${e}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(e,t)=>e.type==="mat3"&&e.size===1&&!e.isArray&&t.a!==void 0,code:e=>`
            gl.uniformMatrix3fv(ud["${e}"].location, false, uv["${e}"].toArray(true));
            `,codeUbo:e=>`
                var ${e}_matrix = uv.${e}.toArray(true);

                data[offset] = ${e}_matrix[0];
                data[offset+1] = ${e}_matrix[1];
                data[offset+2] = ${e}_matrix[2];
        
                data[offset + 4] = ${e}_matrix[3];
                data[offset + 5] = ${e}_matrix[4];
                data[offset + 6] = ${e}_matrix[5];
        
                data[offset + 8] = ${e}_matrix[6];
                data[offset + 9] = ${e}_matrix[7];
                data[offset + 10] = ${e}_matrix[8];
            `},{test:(e,t)=>e.type==="vec2"&&e.size===1&&!e.isArray&&t.x!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${e}"].location, v.x, v.y);
                }`,codeUbo:e=>`
                v = uv.${e};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:e=>e.type==="vec2"&&e.size===1&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${e}"].location, v[0], v[1]);
                }
            `},{test:(e,t)=>e.type==="vec4"&&e.size===1&&!e.isArray&&t.width!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${e}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(e,t)=>e.type==="vec4"&&e.size===1&&!e.isArray&&t.red!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${e}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(e,t)=>e.type==="vec3"&&e.size===1&&!e.isArray&&t.red!==void 0,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${e}"].location, v.red, v.green, v.blue)
                }`,codeUbo:e=>`
                    v = uv.${e};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:e=>e.type==="vec4"&&e.size===1&&!e.isArray,code:e=>`
                cv = ud["${e}"].value;
                v = uv["${e}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${e}"].location, v[0], v[1], v[2], v[3])
                }`}],C4={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},A4={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function P4(e,t){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in e.uniforms){const s=t[i];if(!s){(n=e.uniforms[i])!=null&&n.group&&(e.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=e.uniforms[i];let u=!1;for(let c=0;c<va.length;c++)if(va[c].test(s,o)){r.push(va[c].code(i,o)),u=!0;break}if(!u){const h=(s.size===1&&!s.isArray?C4:A4)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const z3={};let Oo=z3;function I4(){if(Oo===z3||(Oo==null?void 0:Oo.isContextLost())){const e=tt.ADAPTER.createCanvas();let t;tt.PREFER_ENV>=mo.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),Oo=t}return Oo}let Uc;function R4(){if(!Uc){Uc=Jr.MEDIUM;const e=I4();e&&e.getShaderPrecisionFormat&&(Uc=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT).precision?Jr.HIGH:Jr.MEDIUM)}return Uc}function Zx(e,t){const r=e.getShaderSource(t).split(`
`).map((h,f)=>`${f}: ${h}`),n=e.getShaderInfoLog(t),i=n.split(`
`),s={},o=i.map(h=>parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(h=>h&&!s[h]?(s[h]=!0,!0):!1),u=[""];o.forEach(h=>{r[h-1]=`%c${r[h-1]}%c`,u.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);u[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...u),console.groupEnd()}function k4(e,t,r,n){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||Zx(e,r),e.getShaderParameter(n,e.COMPILE_STATUS)||Zx(e,n),console.error("PixiJS Error: Could not initialize shader."),e.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}const M4={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function G3(e){return M4[e]}let zc=null;const qx={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function H3(e,t){if(!zc){const r=Object.keys(qx);zc={};for(let n=0;n<r.length;++n){const i=r[n];zc[e[i]]=qx[i]}}return zc[t]}function Jx(e,t,r){if(e.substring(0,9)!=="precision"){let n=t;return t===Jr.HIGH&&r!==Jr.HIGH&&(n=Jr.MEDIUM),`precision ${n} float;
${e}`}else if(r!==Jr.HIGH&&e.substring(0,15)==="precision highp")return e.replace("precision highp","precision mediump");return e}let hl;function D4(){if(typeof hl=="boolean")return hl;try{hl=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{hl=!1}return hl}let N4=0;const Gc={},Go=class{constructor(e,t,r="pixi-shader",n={}){this.extra={},this.id=N4++,this.vertexSrc=e||Go.defaultVertexSrc,this.fragmentSrc=t||Go.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Gc[r]?(Gc[r]++,r+=`-${Gc[r]}`):Gc[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=Jx(this.vertexSrc,Go.defaultVertexPrecision,Jr.HIGH),this.fragmentSrc=Jx(this.fragmentSrc,Go.defaultFragmentPrecision,R4())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return E4}static get defaultFragmentSrc(){return S4}static from(e,t,r){const n=e+t;let i=Wx[n];return i||(Wx[n]=i=new Go(e,t,r)),i}};let En=Go;En.defaultVertexPrecision=Jr.HIGH;En.defaultFragmentPrecision=Ei.apple.device?Jr.HIGH:Jr.MEDIUM;let F4=0;class Mn{constructor(t,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=F4++,this.static=!!r,this.ubo=!!n,t instanceof xe?(this.buffer=t,this.buffer.type=ri.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new xe(new Float32Array(1)),this.buffer.type=ri.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(t,r,n){if(!this.ubo)this.uniforms[t]=new Mn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(t,r,n){return new Mn(t,r,n)}static uboFrom(t,r){return new Mn(t,r!=null?r:!0,!0)}}class ni{constructor(t,r){this.uniformBindCount=0,this.program=t,r?r instanceof Mn?this.uniformGroup=r:this.uniformGroup=new Mn(r):this.uniformGroup=new Mn({}),this.disposeRunner=new kn("disposeShader")}checkUniformExists(t,r){if(r.uniforms[t])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(t,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(t,r,n){const i=En.from(t,r);return new ni(i,n)}}class O4{constructor(t,r){if(this.vertexSrc=t,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(t){if(!this.programCache[t]){const n=new Int32Array(t);for(let s=0;s<t;s++)n[s]=s;this.defaultGroupCache[t]=Mn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${t}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new En(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new ie,default:this.defaultGroupCache[t]};return new ni(this.programCache[t],r)}generateSampleSrc(t){let r="";r+=`
`,r+=`
`;for(let n=0;n<t;n++)n>0&&(r+=`
else `),n<t-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class O0{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let t=0;t<this.count;t++)this.elements[t]=null;this.count=0}}function L4(){return!Ei.apple.device}function B4(e){let t=!0;const r=tt.ADAPTER.getNavigator();if(Ei.tablet||Ei.phone){if(Ei.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(t=!1)}if(Ei.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(t=!1)}}return t?e:4}class zd{constructor(t){this.renderer=t}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(t){}}var U4=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,z4=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const pn=class extends zd{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=O3,this.vertexSize=6,this.state=Bi.for2d(),this.size=pn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){var e;return this._defaultMaxTextures=(e=this._defaultMaxTextures)!=null?e:B4(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){var e;return this._canUploadSameBuffer=(e=this._canUploadSameBuffer)!=null?e:L4(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return At("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return z4}static get defaultFragmentTemplate(){return U4}setShaderGenerator({vertex:e=pn.defaultVertexSrc,fragment:t=pn.defaultFragmentTemplate}={}){this.shaderGenerator=new O4(e,t)}contextChange(){const e=this.renderer.gl;tt.PREFER_ENV===mo.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),pn.defaultMaxTextures),this.maxTextures=p4(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:t}=pn,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;e.length<r;)e.push(new N0);for(;t.length<n;)t.push(new O0);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(e){!e._texture.valid||(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:t}=this,r=pn._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++bt._globalBatch,u=0,c=r[0],h=0;n.copyBoundTextures(i,t);for(let f=0;f<this._bufferSize;++f){const m=e[f];e[f]=null,m._batchEnabled!==o&&(c.count>=t&&(n.boundArray(c,i,o,t),this.buildDrawCalls(c,h,f),h=f,c=r[++u],++o),m._batchEnabled=o,m.touched=s,c.elements[c.count++]=m)}c.count>0&&(n.boundArray(c,i,o,t),this.buildDrawCalls(c,h,this._bufferSize),++u,++o);for(let f=0;f<i.length;f++)i[f]=null;bt._globalBatch=o}buildDrawCalls(e,t,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,u=pn._drawCallPool;let c=this._dcIndex,h=this._aIndex,f=this._iIndex,m=u[c];m.start=this._iIndex,m.texArray=e;for(let g=t;g<r;++g){const v=n[g],x=v._texture.baseTexture,S=k3[x.alphaMode?1:0][v.blendMode];n[g]=null,t<g&&m.blend!==S&&(m.size=f-m.start,t=g,m=u[++c],m.texArray=e,m.start=f),this.packInterleavedGeometry(v,i,s,h,f),h+=v.vertexData.length/2*o,f+=v.indices.length,m.blend=S}t<r&&(m.size=f-m.start,++c),this._dcIndex=c,this._aIndex=h,this._iIndex=f}bindAndClearTexArray(e){const t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:r}=this;pn.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:t,state:r}=this.renderer,n=pn._drawCallPool;let i=null;for(let s=0;s<e;s++){const{texArray:o,type:u,size:c,start:h,blend:f}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=f,r.set(this.state),t.drawElements(u,c,t.UNSIGNED_SHORT,h*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),pn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=ed(Math.ceil(e/8)),r=$x(t),n=t*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new M0(n*this.vertexSize*4)),i}getIndexBuffer(e){const t=ed(Math.ceil(e/12)),r=$x(t),n=t*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(e,t,r,n,i){const{uint32View:s,float32View:o}=t,u=n/this.vertexSize,c=e.uvs,h=e.indices,f=e.vertexData,m=e._texture.baseTexture._batchLocation,g=Math.min(e.worldAlpha,1),v=Gt.shared.setValue(e._tintRGB).toPremultiplied(g,e._texture.baseTexture.alphaMode>0);for(let x=0;x<f.length;x+=2)o[n++]=f[x],o[n++]=f[x+1],o[n++]=c[x],o[n++]=c[x+1],s[n++]=v,o[n++]=m;for(let x=0;x<h.length;x++)r[i++]=u+h[x]}};let bn=pn;bn.defaultBatchSize=4096;bn.extension={name:"batch",type:ot.RendererPlugin};bn._drawCallPool=[];bn._textureArrayPool=[];pt.add(bn);var G4=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,H4=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const _l=class extends ni{constructor(e,t,r){const n=En.from(e||_l.defaultVertexSrc,t||_l.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=_l.defaultResolution,this.multisample=_l.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Bi}apply(e,t,r,n,i){e.applyFilter(this,t,r,n)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return H4}static get defaultFragmentSrc(){return G4}};let It=_l;It.defaultResolution=1;It.defaultMultisample=we.NONE;class Gd{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Gt(0),this.alpha=1}init(t){this.clearBeforeRender=t.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=t,s=n!=null?n:r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(t){this._backgroundColor.setValue(t)}get alpha(){return this._backgroundColor.alpha}set alpha(t){this._backgroundColor.setAlpha(t)}get backgroundColor(){return this._backgroundColor}destroy(){}}Gd.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0};Gd.extension={type:[ot.RendererSystem,ot.CanvasRendererSystem],name:"background"};pt.add(Gd);class j3{constructor(t){this.renderer=t,this.emptyRenderer=new zd(t),this.currentRenderer=this.emptyRenderer}setObjectRenderer(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(t,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)t[i]=n[i]||null,t[i]&&(t[i]._batchLocation=i)}boundArray(t,r,n,i){const{elements:s,ids:o,count:u}=t;let c=0;for(let h=0;h<u;h++){const f=s[h],m=f._batchLocation;if(m>=0&&m<i&&r[m]===f){o[h]=m;continue}for(;c<i;){const g=r[c];if(g&&g._batchEnabled===n&&g._batchLocation===c){c++;continue}o[h]=c,f._batchLocation=c,r[c]=f;break}}}destroy(){this.renderer=null}}j3.extension={type:ot.RendererSystem,name:"batch"};pt.add(j3);let tT=0;class Hd{constructor(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=tT++}init(t){if(t.context)this.initFromContext(t.context);else{const r=this.renderer.background.alpha<1,n=t.premultipliedAlpha;this.preserveDrawingBuffer=t.preserveDrawingBuffer,this.useContextAlpha=t.useContextAlpha,this.powerPreference=t.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:t.antialias,stencil:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,powerPreference:t.powerPreference})}}initFromContext(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=tT++,this.renderer.runners.contextChange.emit(t);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(t){const r=this.createContext(this.renderer.view,t);this.initFromContext(r)}createContext(t,r){let n;if(tt.PREFER_ENV>=mo.WEBGL2&&(n=t.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=t.getContext("webgl",r)||t.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:t}=this,r={loseContext:t.getExtension("WEBGL_lose_context"),anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})}handleContextLost(t){t.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const t=this.renderer.view;this.renderer=null,t.removeEventListener!==void 0&&(t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(t){const r=t.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Hd.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"};Hd.extension={type:ot.RendererSystem,name:"context"};pt.add(Hd);class j4 extends bu{upload(t,r,n){const i=t.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Nn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class L0{constructor(t,r){this.width=Math.round(t||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new kn("disposeFramebuffer"),this.multisample=we.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(t=0,r){return this.colorTextures[t]=r||new bt(null,{scaleMode:qn.NEAREST,resolution:1,mipmap:si.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(t){return this.depthTexture=t||new bt(new j4(null,{width:this.width,height:this.height}),{scaleMode:qn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:si.OFF,format:J.DEPTH_COMPONENT,type:yt.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(t,r){if(t=Math.round(t),r=Math.round(r),!(t===this.width&&r===this.height)){this.width=t,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(t/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(t/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class $3 extends bt{constructor(t={}){var r;if(typeof t=="number"){const n=arguments[0],i=arguments[1],s=arguments[2],o=arguments[3];t={width:n,height:i,scaleMode:s,resolution:o}}t.width=t.width||100,t.height=t.height||100,(r=t.multisample)!=null||(t.multisample=we.NONE),super(null,t),this.mipmap=si.OFF,this.valid=!0,this._clear=new Gt([0,0,0,0]),this.framebuffer=new L0(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=t.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(t){this._clear.setValue(t)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(t,r){this.framebuffer.resize(t*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class bs extends au{constructor(t){const r=t,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=t,this.noSubImage=!1}static crossOrigin(t,r,n){n===void 0&&!r.startsWith("data:")?t.crossOrigin=d4(r):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")}upload(t,r,n,i){const s=t.gl,o=r.realWidth,u=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Nn.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===u?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=u,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const t=this.source,r=t.naturalWidth||t.videoWidth||t.width,n=t.naturalHeight||t.videoHeight||t.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class W3 extends bs{constructor(t,r){var n;if(r=r||{},typeof t=="string"){const i=new Image;bs.crossOrigin(i,t,r.crossorigin),i.src=t,t=i}super(t),!t.complete&&!!this._width&&!!this._height&&(this._width=0,this._height=0),this.url=t.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=((n=r.createBitmap)!=null?n:tt.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(t){return this._load?this._load:(t!==void 0&&(this.createBitmap=t),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const t=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!t.crossOrigin||t.crossOrigin==="anonymous";return this._process=fetch(t.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,t.width,t.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Nn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(t,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(t,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(t,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const u=s[o];if(u!==n&&u.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(t){return typeof HTMLImageElement<"u"&&(typeof t=="string"||t instanceof HTMLImageElement)}}class V3{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(t,r,n){const i=r.width,s=r.height;if(n){const o=t.width/2/i,u=t.height/2/s,c=t.x/i+o,h=t.y/s+u;n=oe.add(n,oe.NW),this.x0=c+o*oe.uX(n),this.y0=h+u*oe.uY(n),n=oe.add(n,2),this.x1=c+o*oe.uX(n),this.y1=h+u*oe.uY(n),n=oe.add(n,2),this.x2=c+o*oe.uX(n),this.y2=h+u*oe.uY(n),n=oe.add(n,2),this.x3=c+o*oe.uX(n),this.y3=h+u*oe.uY(n)}else this.x0=t.x/i,this.y0=t.y/s,this.x1=(t.x+t.width)/i,this.y1=t.y/s,this.x2=(t.x+t.width)/i,this.y2=(t.y+t.height)/s,this.x3=t.x/i,this.y3=(t.y+t.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const eT=new V3;function Hc(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}class et extends Ma{constructor(t,r,n,i,s,o,u){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Et(0,0,1,1)),t instanceof et&&(t=t.baseTexture),this.baseTexture=t,this._frame=r,this.trim=i,this.valid=!1,this._uvs=eT,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new wt(o.x,o.y):new wt(0,0),this.defaultBorders=u,this._updateID=0,this.textureCacheIds=[],t.valid?this.noFrame?t.valid&&this.onBaseTextureUpdated(t):this.frame=r:t.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&t.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(t){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=t.width,this._frame.height=t.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(t){if(this.baseTexture){if(t){const{resource:r}=this.baseTexture;(r==null?void 0:r.url)&&Xn[r.url]&&et.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,et.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const t=this._frame.clone(),r=this._frame===this.orig?t:this.orig.clone(),n=new et(this.baseTexture,!this.noFrame&&t,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=t),n}updateUvs(){this._uvs===eT&&(this._uvs=new V3),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(t,r={},n=tt.STRICT_TEXTURE_CACHE){const i=typeof t=="string";let s=null;if(i)s=t;else if(t instanceof bt){if(!t.cacheId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";t.cacheId=`${u}-${uo()}`,bt.addToCache(t,t.cacheId)}s=t.cacheId}else{if(!t._pixiId){const u=(r==null?void 0:r.pixiIdPrefix)||"pixiid";t._pixiId=`${u}_${uo()}`}s=t._pixiId}let o=Xn[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(t instanceof bt)?(r.resolution||(r.resolution=Ts(t)),o=new et(new bt(t,r)),o.baseTexture.cacheId=s,bt.addToCache(o.baseTexture,s),et.addToCache(o,s)):!o&&t instanceof bt&&(o=new et(t),et.addToCache(o,s)),o}static fromURL(t,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=et.from(t,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(t,r,n,i){return new et(bt.fromBuffer(t,r,n,i))}static fromLoader(t,r,n,i){const s=new bt(t,Object.assign({scaleMode:bt.defaultOptions.scaleMode,resolution:Ts(r)},i)),{resource:o}=s;o instanceof W3&&(o.url=r);const u=new et(s);return n||(n=r),bt.addToCache(u.baseTexture,n),et.addToCache(u,n),n!==r&&(bt.addToCache(u.baseTexture,r),et.addToCache(u,r)),u.baseTexture.valid?Promise.resolve(u):new Promise(c=>{u.baseTexture.once("loaded",()=>c(u))})}static addToCache(t,r){r&&(t.textureCacheIds.includes(r)||t.textureCacheIds.push(r),Xn[r]&&Xn[r]!==t&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Xn[r]=t)}static removeFromCache(t){if(typeof t=="string"){const r=Xn[t];if(r){const n=r.textureCacheIds.indexOf(t);return n>-1&&r.textureCacheIds.splice(n,1),delete Xn[t],r}}else if(t!=null&&t.textureCacheIds){for(let r=0;r<t.textureCacheIds.length;++r)Xn[t.textureCacheIds[r]]===t&&delete Xn[t.textureCacheIds[r]];return t.textureCacheIds.length=0,t}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(t){this._frame=t,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=t,o=r+i>this.baseTexture.width,u=n+s>this.baseTexture.height;if(o||u){const c=o&&u?"and":"or",h=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,f=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${h} ${c} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=t),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(t){this._rotate=t,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return et._EMPTY||(et._EMPTY=new et(new bt),Hc(et._EMPTY),Hc(et._EMPTY.baseTexture)),et._EMPTY}static get WHITE(){if(!et._WHITE){const t=tt.ADAPTER.createCanvas(16,16),r=t.getContext("2d");t.width=16,t.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),et._WHITE=new et(bt.from(t)),Hc(et._WHITE),Hc(et._WHITE.baseTexture)}return et._WHITE}}class ii extends et{constructor(t,r){super(t,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(t){this.framebuffer.multisample=t}resize(t,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(t*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(t){const{baseTexture:r}=this;r.resolution!==t&&(r.setResolution(t),this.resize(r.width,r.height,!1))}static create(t){return new ii(new $3(t))}}class X3{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,r,n=we.NONE){const i=new $3(Object.assign({width:t,height:r,resolution:1,multisample:n},this.textureOptions));return new ii(i)}getOptimalTexture(t,r,n=1,i=we.NONE){let s;t=Math.ceil(t*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||t!==this._pixelsWidth||r!==this._pixelsHeight?(t=ed(t),r=ed(r),s=((t&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(t,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(t,r,n){const i=this.getOptimalTexture(t.width,t.height,r||t.resolution,n||we.NONE);return i.filterFrame=t.filterFrame,i}returnTexture(t){const r=t.filterPoolKey;t.filterFrame=null,this.texturePool[r].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}X3.SCREEN_KEY=-1;class $4 extends _s{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class Y3 extends _s{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new xe(this.vertices),this.uvBuffer=new xe(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(t,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/t.width,this.uvs[3]=i,this.uvs[4]=n+r.width/t.width,this.uvs[5]=i+r.height/t.height,this.uvs[6]=n,this.uvs[7]=i+r.height/t.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class W4{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=we.NONE,this.sourceFrame=new Et,this.destinationFrame=new Et,this.bindingSourceFrame=new Et,this.bindingDestinationFrame=new Et,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const jc=[new wt,new wt,new wt,new wt],ip=new ie;class K3{constructor(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new X3,this.statePool=[],this.quad=new $4,this.quadUv=new Y3,this.tempRect=new Et,this.activeState={},this.globalUniforms=new Mn({outputFrame:new Et,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(t,r){var x,S;const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new W4,o=this.renderer.renderTexture;let u=r[0].resolution,c=r[0].multisample,h=r[0].padding,f=r[0].autoFit,m=(x=r[0].legacy)!=null?x:!0;for(let E=1;E<r.length;E++){const w=r[E];u=Math.min(u,w.resolution),c=Math.min(c,w.multisample),h=this.useMaxPadding?Math.max(h,w.padding):h+w.padding,f=f&&w.autoFit,m=m||((S=w.legacy)!=null?S:!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=u,s.multisample=c,s.legacy=m,s.target=t,s.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),s.sourceFrame.pad(h);const g=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(ip.copyFrom(n.projection.transform).invert(),g),f?(s.sourceFrame.fit(g),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(g)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,u,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const v=this.tempRect;v.x=0,v.y=0,v.width=s.sourceFrame.width,v.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,v),n.framebuffer.clear(0,0,0,0)}pop(){const t=this.defaultFilterStack,r=t.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,u=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],u[0]=.5*o[2],u[1]=.5*o[3],u[2]=r.sourceFrame.width*s[2]-.5*o[2],u[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const h=i.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=t[t.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,Kn.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let h=r.renderTexture,f=this.getOptimalFilterTexture(h.width,h.height,r.resolution);f.filterFrame=h.filterFrame;let m=0;for(m=0;m<n.length-1;++m){m===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(h.width,h.height,r.resolution),f.filterFrame=h.filterFrame),n[m].apply(this,h,f,Kn.CLEAR,r);const g=h;h=f,f=g}n[m].apply(this,h,c.renderTexture,Kn.BLEND,r),m>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(t,r=Kn.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t!=null&&t.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=t.filterFrame.width,o.height=t.filterFrame.height,n.bind(t,t.filterFrame,o)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Kn.CLEAR||r===Kn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(t,r,n,i){const s=this.renderer;s.state.set(t.state),this.bindAndClear(n,i),t.uniforms.uSampler=r,t.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Sn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Sn.TRIANGLE_STRIP))}calculateSpriteMatrix(t,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=t.set(i.width,0,0,i.height,n.x,n.y),u=r.worldTransform.copyTo(ie.TEMP_MATRIX);return u.invert(),o.prepend(u),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(t,r,n=1,i=we.NONE){return this.texturePool.getOptimalTexture(t,r,n,i)}getFilterTexture(t,r,n){if(typeof t=="number"){const s=t;t=r,r=s}t=t||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(t.width,t.height,r||t.resolution,n||we.NONE);return i.filterFrame=t.filterFrame,i}returnFilterTexture(t){this.texturePool.returnTexture(t)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(t,r){const n=jc[0],i=jc[1],s=jc[2],o=jc[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),t.apply(n,n),t.apply(i,i),t.apply(s,s),t.apply(o,o);const u=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),h=Math.max(n.x,i.x,s.x,o.x),f=Math.max(n.y,i.y,s.y,o.y);r.x=u,r.y=c,r.width=h-u,r.height=f-c}roundFrame(t,r,n,i,s){if(!(t.width<=0||t.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:u,c,d:h}=s;if((Math.abs(u)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}s=s?ip.copyFrom(s):ip.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,t),t.ceil(r),this.transformAABB(s.invert(),t)}}}K3.extension={type:ot.RendererSystem,name:"filter"};pt.add(K3);class V4{constructor(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=we.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const X4=new Et;class Q3{constructor(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new L0(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Et,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;tt.PREFER_ENV===mo.WEBGL_LEGACY&&(r=null,n=null),r?t.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,t.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)}bind(t,r,n=0){const{gl:i}=this;if(t){const s=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(t.dirtyId++,t.dirtyFormat++,s.mipLevel=n),s.dirtyId!==t.dirtyId&&(s.dirtyId=t.dirtyId,s.dirtyFormat!==t.dirtyFormat?(s.dirtyFormat=t.dirtyFormat,s.dirtySize=t.dirtySize,this.updateFramebuffer(t,n)):s.dirtySize!==t.dirtySize&&(s.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(let o=0;o<t.colorTextures.length;o++){const u=t.colorTextures[o];this.renderer.texture.unbind(u.parentTextureArray||u)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),r){const o=r.width>>n,u=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,u)}else{const o=t.width>>n,u=t.height>>n;this.setViewport(0,0,o,u)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(t,r,n,i){const s=this.viewport;t=Math.round(t),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==t||s.y!==r)&&(s.x=t,s.y=r,s.width=n,s.height=i,this.gl.viewport(t,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(t,r,n,i,s=x0.COLOR|x0.DEPTH){const{gl:o}=this;o.clearColor(t,r,n,i),o.clear(s)}initFramebuffer(t){const{gl:r}=this,n=new V4(r.createFramebuffer());return n.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(t),t.disposeRunner.add(this),n}resizeFramebuffer(t){const{gl:r}=this,n=t.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height));const i=t.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const u=i[o],c=u.parentTextureArray||u;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height))}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)}updateFramebuffer(t,r){const{gl:n}=this,i=t.glFramebuffers[this.CONTEXT_UID],s=t.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(t)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const u=[];for(let c=0;c<o;c++){const h=s[c],f=h.parentTextureArray||h;this.renderer.texture.bind(f,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,h.target,f._glTextures[this.CONTEXT_UID].texture,r),u.push(n.COLOR_ATTACHMENT0+c))}if(u.length>1&&n.drawBuffers(u),t.depthTexture&&this.writeDepthTexture){const h=t.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}(t.stencil||t.depth)&&!(t.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,t.width,t.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t.width,t.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture}detectSamples(t){const{msaaSamples:r}=this;let n=we.NONE;if(t<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=t){n=r[i];break}return n===1&&(n=we.NONE),n}blit(t,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:u}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[u];if(!c)return;if(!t){if(!c.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;c.blitFramebuffer||(c.blitFramebuffer=new L0(i.width,i.height),c.blitFramebuffer.addColorTexture(0,f)),t=c.blitFramebuffer,t.colorTextures[0]!==f&&(t.colorTextures[0]=f,t.dirtyId++,t.dirtyFormat++),(t.width!==i.width||t.height!==i.height)&&(t.width=i.width,t.height=i.height,t.dirtyId++,t.dirtySize++)}r||(r=X4,r.width=i.width,r.height=i.height),n||(n=r);const h=r.width===n.width&&r.height===n.height;this.bind(t),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,t.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(t,r){const n=t.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete t.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(t);s>=0&&this.managedFramebuffers.splice(s,1),t.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(t){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],t)}forceStencil(){const t=this.current;if(!t)return;const r=t.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;t.stencil=!0;const n=t.width,i=t.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Et}destroy(){this.renderer=null}}Q3.extension={type:ot.RendererSystem,name:"framebuffer"};pt.add(Q3);const sp={5126:4,5123:2,5121:1};class Z3{constructor(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const t=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;tt.PREFER_ENV===mo.WEBGL_LEGACY&&(n=null),n?(t.createVertexArray=()=>n.createVertexArrayOES(),t.bindVertexArray=i=>n.bindVertexArrayOES(i),t.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,t.createVertexArray=()=>null,t.bindVertexArray=()=>null,t.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=t.getExtension("ANGLE_instanced_arrays");n?(t.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),t.drawElementsInstanced=(i,s,o,u,c)=>n.drawElementsInstancedANGLE(i,s,o,u,c),t.drawArraysInstanced=(i,s,o,u)=>n.drawArraysInstancedANGLE(i,s,o,u)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(t,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=t.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(t,r,s);this._activeGeometry=t,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(t,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const t=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<t.buffers.length;n++){const i=t.buffers[n];r.update(i)}}checkCompatibility(t,r){const n=t.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(t,r){const n=t.attributes,i=r.attributeData,s=["g",t.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(t,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,u=r.program;u.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(t,u);const c=this.getSignature(t,u),h=t.glVertexArrayObjects[this.CONTEXT_UID];let f=h[c];if(f)return h[u.id]=f,f;const m=t.buffers,g=t.attributes,v={},x={};for(const S in m)v[S]=0,x[S]=0;for(const S in g)!g[S].size&&u.attributeData[S]?g[S].size=u.attributeData[S].size:g[S].size||console.warn(`PIXI Geometry attribute '${S}' size cannot be determined (likely the bound shader does not have the attribute)`),v[g[S].buffer]+=g[S].size*sp[g[S].type];for(const S in g){const E=g[S],w=E.size;E.stride===void 0&&(v[E.buffer]===w*sp[E.type]?E.stride=0:E.stride=v[E.buffer]),E.start===void 0&&(E.start=x[E.buffer],x[E.buffer]+=w*sp[E.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let S=0;S<m.length;S++){const E=m[S];o.bind(E),n&&E._glBuffers[s].refCount++}return this.activateVao(t,u),h[u.id]=f,h[c]=f,i.bindVertexArray(null),o.unbind(ri.ARRAY_BUFFER),f}disposeGeometry(t,r){var u;if(!this.managedGeometries[t.id])return;delete this.managedGeometries[t.id];const n=t.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=t.buffers,o=(u=this.renderer)==null?void 0:u.buffer;if(t.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<s.length;c++){const h=s[c]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&o.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const h=n[c];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(t){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],t)}activateVao(t,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=t.buffers,u=t.attributes;t.indexBuffer&&s.bind(t.indexBuffer);let c=null;for(const h in u){const f=u[h],m=o[f.buffer],g=m._glBuffers[i];if(r.attributeData[h]){c!==g&&(s.bind(m),c=g);const v=r.attributeData[h].location;if(n.enableVertexAttribArray(v),n.vertexAttribPointer(v,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(v,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(t,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const u=o.indexBuffer.data.BYTES_PER_ELEMENT,c=u===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;u===2||u===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(t,r||o.indexBuffer.data.length,c,(n||0)*u,i||1):s.drawElements(t,r||o.indexBuffer.data.length,c,(n||0)*u):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(t,n,r||o.getSize(),i||1):s.drawArrays(t,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}Z3.extension={type:ot.RendererSystem,name:"geometry"};pt.add(Z3);const rT=new ie;class h1{constructor(t,r){this._texture=t,this.mapCoord=new ie,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(t){this._texture=t,this._textureID=-1}multiplyUvs(t,r){r===void 0&&(r=t);const n=this.mapCoord;for(let i=0;i<t.length;i+=2){const s=t[i],o=t[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(t){const r=this._texture;if(!r||!r.valid||!t&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(rT.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(rT));const o=r.baseTexture,u=this.uClampFrame,c=this.clampMargin/o.resolution,h=this.clampOffset;return u[0]=(r._frame.x+c+h)/o.width,u[1]=(r._frame.y+c+h)/o.height,u[2]=(r._frame.x+r._frame.width-c+h)/o.width,u[3]=(r._frame.y+r._frame.height-c+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var Y4=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,K4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class Q4 extends It{constructor(t,r,n){let i=null;typeof t!="string"&&r===void 0&&n===void 0&&(i=t,t=void 0,r=void 0,n=void 0),super(t||K4,r||Y4,n),this.maskSprite=i,this.maskMatrix=new ie}get maskSprite(){return this._maskSprite}set maskSprite(t){this._maskSprite=t,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(t,r,n,i){const s=this._maskSprite,o=s._texture;!o.valid||(o.uvMatrix||(o.uvMatrix=new h1(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,t.applyFilter(this,r,n,i))}}class Z4{constructor(t=null){this.type=Ae.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=It.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ae.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class q3{constructor(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)}push(t,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new Z4;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=t,n.type!==Ae.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Ae.SCISSOR:this.renderer.scissor.push(n);break;case Ae.STENCIL:this.renderer.stencil.push(n);break;case Ae.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Ae.COLOR:this.pushColorMask(n);break}n.type===Ae.SPRITE&&this.maskStack.push(n)}pop(t){const r=this.maskStack.pop();if(!(!r||r._target!==t)){if(r.enabled)switch(r.type){case Ae.SCISSOR:this.renderer.scissor.pop(r);break;case Ae.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Ae.SPRITE:this.popSpriteMask(r);break;case Ae.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Ae.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(t){const r=t.maskObject;r?r.isSprite?t.type=Ae.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=Ae.SCISSOR:t.type=Ae.STENCIL:t.type=Ae.COLOR}pushSpriteMask(t){var f,m;const{maskObject:r}=t,n=t._target;let i=t._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new Q4]));const s=this.renderer,o=s.renderTexture;let u,c;if(o.current){const g=o.current;u=t.resolution||g.resolution,c=(f=t.multisample)!=null?f:g.multisample}else u=t.resolution||s.resolution,c=(m=t.multisample)!=null?m:s.multisample;i[0].resolution=u,i[0].multisample=c,i[0].maskSprite=r;const h=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=h,t._filters||this.alphaMaskIndex++}popSpriteMask(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(t){const r=t._colorMask,n=t._colorMask=r&t.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(t){const r=t._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}q3.extension={type:ot.RendererSystem,name:"mask"};pt.add(q3);class J3{constructor(t){this.renderer=t,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(t){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=t;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const nT=new ie,iT=[],xh=class extends J3{constructor(e){super(e),this.glConst=tt.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){var o;if(e._scissorRectLocal)return;const t=e._scissorRect,{maskObject:r}=e,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,(o=iT.pop())!=null?o:new Et);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),t&&s.fit(t),e._scissorRectLocal=s}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:r,c:n,d:i}=e;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(i)>1e-4)}testScissor(e){const{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||xh.isMatrixRotated(t.worldTransform)||xh.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const r=e._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(e,t,r,n,i){xh.isMatrixRotated(i)||(i=i?nT.copyFrom(i):nT.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,e),e.fit(n),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&iT.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};let tb=xh;tb.extension={type:ot.RendererSystem,name:"scissor"};pt.add(tb);class eb extends J3{constructor(t){super(t),this.glConst=tt.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._stencilCounter:0}push(t){const r=t.maskObject,{gl:n}=this.renderer,i=t._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),t._stencilCounter++;const s=t._colorMask;s!==0&&(t._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(t._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(t){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const t=this.renderer.gl;t.stencilFunc(t.EQUAL,this.getStackLength(),4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)}}eb.extension={type:ot.RendererSystem,name:"stencil"};pt.add(eb);class rb{constructor(t){this.renderer=t,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return At("7.0.0","renderer.plugins.extract has moved to renderer.extract"),t.extract}},prepare:{enumerable:!1,get(){return At("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),t.prepare}},interaction:{enumerable:!1,get(){return At("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),t.events}}})}init(){const t=this.rendererPlugins;for(const r in t)this.plugins[r]=new t[r](this.renderer)}destroy(){for(const t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null}}rb.extension={type:[ot.RendererSystem,ot.CanvasRendererSystem],name:"_plugin"};pt.add(rb);class nb{constructor(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ie,this.transform=null}update(t,r,n,i){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(t,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(t){}destroy(){this.renderer=null}}nb.extension={type:ot.RendererSystem,name:"projection"};pt.add(nb);const q4=new Ud;class ib{constructor(t){this.renderer=t,this._tempMatrix=new ie}generateTexture(t,r){const{region:n,...i}=r||{},s=n||t.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=ii.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const u=t.transform;return t.transform=q4,this.renderer.render(t,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!t.parent,blit:!0}),t.transform=u,o}destroy(){}}ib.extension={type:[ot.RendererSystem,ot.CanvasRendererSystem],name:"textureGenerator"};pt.add(ib);const Us=new Et,dl=new Et;class sb{constructor(t){this.renderer=t,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Et,this.destinationFrame=new Et,this.viewportFrame=new Et}contextChange(){var r;const t=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(t=null,r,n){const i=this.renderer;this.current=t;let s,o,u;t?(s=t.baseTexture,u=s.resolution,r||(Us.width=t.frame.width,Us.height=t.frame.height,r=Us),n||(dl.x=t.frame.x,dl.y=t.frame.y,dl.width=r.width,dl.height=r.height,n=dl),o=s.framebuffer):(u=i.resolution,r||(Us.width=i._view.screen.width,Us.height=i._view.screen.height,r=Us),n||(n=Us,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*u,c.y=n.y*u,c.width=n.width*u,c.height=n.height*u,t||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,u,!o),t?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(t,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Gt.shared.setValue(t||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,u=s.width!==o.width||s.height!==o.height;if(u){let{x:c,y:h,width:f,height:m}=this.viewportFrame;c=Math.round(c),h=Math.round(h),f=Math.round(f),m=Math.round(m),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,h,f,m)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),u&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}sb.extension={type:ot.RendererSystem,name:"renderTexture"};pt.add(sb);class J4{constructor(t,r){this.program=t,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function tA(e,t){const r={},n=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=t.getActiveAttrib(e,i);if(s.name.startsWith("gl_"))continue;const o=H3(t,s.type),u={type:o,name:s.name,size:G3(o),location:t.getAttribLocation(e,s.name)};r[s.name]=u}return r}function eA(e,t){const r={},n=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=t.getActiveUniform(e,i),o=s.name.replace(/\[.*?\]$/,""),u=!!s.name.match(/\[.*?\]$/),c=H3(t,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:u,value:U3(c,s.size)}}return r}function rA(e,t){var c;const r=Qx(e,e.VERTEX_SHADER,t.vertexSrc),n=Qx(e,e.FRAGMENT_SHADER,t.fragmentSrc),i=e.createProgram();e.attachShader(i,r),e.attachShader(i,n);const s=(c=t.extra)==null?void 0:c.transformFeedbackVaryings;if(s&&(typeof e.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||k4(e,i,r,n),t.attributeData=tA(i,e),t.uniformData=eA(i,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const h=Object.keys(t.attributeData);h.sort((f,m)=>f>m?1:-1);for(let f=0;f<h.length;f++)t.attributeData[h[f]].location=f,e.bindAttribLocation(i,f,h[f]);e.linkProgram(i)}e.deleteShader(r),e.deleteShader(n);const o={};for(const h in t.uniformData){const f=t.uniformData[h];o[h]={location:e.getUniformLocation(i,h),value:U3(f.type,f.size)}}return new J4(i,o)}function nA(e,t,r,n,i){r.buffer.update(i)}const iA={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},ob={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function sA(e){const t=e.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<t.length;s++){const o=t[s];if(r=ob[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const u=n%r%16;n+=u,i+=u}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:t,size:i}}function oA(e,t){const r=[];for(const n in e)t[n]&&r.push(t[n]);return r.sort((n,i)=>n.index-i.index),r}function aA(e,t){if(!e.autoManage)return{size:0,syncFunc:nA};const r=oA(e.uniforms,t),{uboElements:n,size:i}=sA(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const u=n[o],c=e.uniforms[u.data.name],h=u.data.name;let f=!1;for(let m=0;m<va.length;m++){const g=va[m];if(g.codeUbo&&g.test(u.data,c)){s.push(`offset = ${u.offset/4};`,va[m].codeUbo(u.data.name,c)),f=!0;break}}if(!f)if(u.data.size>1){const m=G3(u.data.type),g=Math.max(ob[u.data.type]/16,1),v=m/g,x=(4-v%4)%4;s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${u.offset/4};

                t = 0;

                for(var i=0; i < ${u.data.size*g}; i++)
                {
                    for(var j = 0; j < ${v}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${x};
                }

                `)}else{const m=iA[u.data.type];s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${u.offset/4};
                ${m};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let lA=0;const $c={textureCount:0,uboCount:0};class ab{constructor(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=lA++}systemCheck(){if(!D4())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(t){this.gl=t,this.reset()}bind(t,r){t.disposeRunner.add(this),t.uniforms.globals=this.renderer.globalUniforms;const n=t.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||($c.textureCount=0,$c.uboCount=0,this.syncUniformGroup(t.uniformGroup,$c)),i}setUniforms(t){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,t,this.renderer)}syncUniformGroup(t,r){const n=this.getGlProgram();(!t.static||t.dirtyId!==n.uniformDirtyGroups[t.id])&&(n.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,n,r))}syncUniforms(t,r,n){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(r.uniformData,t.uniforms,this.renderer,n)}createSyncGroups(t){const r=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=P4(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[r],t.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(t,r){const n=this.getGlProgram();if(!t.static||t.dirtyId!==0||!n.uniformGroups[t.id]){t.dirtyId=0;const i=n.uniformGroups[t.id]||this.createSyncBufferGroup(t,n,r);t.buffer.update(),i(n.uniformData,t.uniforms,this.renderer,$c,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(t,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(t.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(t,this.shader.program.uniformData,"ubo");let u=this._uboCache[o];if(u||(u=this._uboCache[o]=aA(t,this.shader.program.uniformData)),t.autoManage){const c=new Float32Array(u.size/4);t.buffer.update(c)}return r.uniformGroups[t.id]=u.syncFunc,r.uniformGroups[t.id]}getSignature(t,r,n){const i=t.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(t){const r=this.gl,n=t.program,i=rA(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(t){this.shader===t&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}ab.extension={type:ot.RendererSystem,name:"shader"};pt.add(ab);class jd{constructor(t){this.renderer=t}run(t){const{renderer:r}=this;r.runners.init.emit(r.options),t.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}jd.defaultOptions={hello:!1};jd.extension={type:[ot.RendererSystem,ot.CanvasRendererSystem],name:"startup"};pt.add(jd);function uA(e,t=[]){return t[mt.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.ADD]=[e.ONE,e.ONE],t[mt.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.NONE]=[0,0],t[mt.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[mt.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[mt.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[mt.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[mt.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[mt.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[mt.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[mt.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[mt.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[mt.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[mt.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}const cA=0,hA=1,dA=2,fA=3,mA=4,pA=5,B0=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=mt.NONE,this._blendEq=!1,this.map=[],this.map[cA]=this.setBlend,this.map[hA]=this.setOffset,this.map[dA]=this.setCullFace,this.map[fA]=this.setDepthTest,this.map[mA]=this.setFrontFace,this.map[pA]=this.setDepthMask,this.checks=[],this.defaultState=new Bi,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=uA(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)t&1&&this.map[r].call(this,!!(e.data&1<<r)),t=t>>1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(B0.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(B0.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],r=this.gl;t.length===2?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const r=this.checks.indexOf(e);t&&r===-1?this.checks.push(e):!t&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};let lb=B0;lb.extension={type:ot.RendererSystem,name:"state"};pt.add(lb);class gA extends Ma{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(t){var i;this.addRunners(...t.runners);const r=((i=t.priority)!=null?i:[]).filter(s=>t.systems[s]),n=[...r,...Object.keys(t.systems).filter(s=>!r.includes(s))];for(const s of n)this.addSystem(t.systems[s],s)}addRunners(...t){t.forEach(r=>{this.runners[r]=new kn(r)})}addSystem(t,r){const n=new t(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(t,r){const n=Object.keys(this._systemsHash);t.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[t.name](r[s])})}destroy(){Object.values(this.runners).forEach(t=>{t.destroy()}),this._systemsHash={}}}const Th=class{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Th.defaultMaxIdle,this.checkCountMax=Th.defaultCheckCountMax,this.mode=Th.defaultMode}postrender(){!this.renderer.objectRenderer.renderingToScreen||(this.count++,this.mode!==o1.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let r=!1;for(let n=0;n<t.length;n++){const i=t[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(e.destroyTexture(i,!0),t[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<t.length;i++)t[i]!==null&&(t[n++]=t[i]);t.length=n}}unload(e){const t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let n=e.children.length-1;n>=0;n--)this.unload(e.children[n])}destroy(){this.renderer=null}};let wn=Th;wn.defaultMode=o1.AUTO;wn.defaultMaxIdle=60*60;wn.defaultCheckCountMax=60*10;wn.extension={type:ot.RendererSystem,name:"textureGC"};pt.add(wn);class op{constructor(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=yt.UNSIGNED_BYTE,this.internalFormat=J.RGBA,this.samplerType=0}}function yA(e){let t;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?t={[yt.UNSIGNED_BYTE]:{[J.RGBA]:e.RGBA8,[J.RGB]:e.RGB8,[J.RG]:e.RG8,[J.RED]:e.R8,[J.RGBA_INTEGER]:e.RGBA8UI,[J.RGB_INTEGER]:e.RGB8UI,[J.RG_INTEGER]:e.RG8UI,[J.RED_INTEGER]:e.R8UI,[J.ALPHA]:e.ALPHA,[J.LUMINANCE]:e.LUMINANCE,[J.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[yt.BYTE]:{[J.RGBA]:e.RGBA8_SNORM,[J.RGB]:e.RGB8_SNORM,[J.RG]:e.RG8_SNORM,[J.RED]:e.R8_SNORM,[J.RGBA_INTEGER]:e.RGBA8I,[J.RGB_INTEGER]:e.RGB8I,[J.RG_INTEGER]:e.RG8I,[J.RED_INTEGER]:e.R8I},[yt.UNSIGNED_SHORT]:{[J.RGBA_INTEGER]:e.RGBA16UI,[J.RGB_INTEGER]:e.RGB16UI,[J.RG_INTEGER]:e.RG16UI,[J.RED_INTEGER]:e.R16UI,[J.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[yt.SHORT]:{[J.RGBA_INTEGER]:e.RGBA16I,[J.RGB_INTEGER]:e.RGB16I,[J.RG_INTEGER]:e.RG16I,[J.RED_INTEGER]:e.R16I},[yt.UNSIGNED_INT]:{[J.RGBA_INTEGER]:e.RGBA32UI,[J.RGB_INTEGER]:e.RGB32UI,[J.RG_INTEGER]:e.RG32UI,[J.RED_INTEGER]:e.R32UI,[J.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[yt.INT]:{[J.RGBA_INTEGER]:e.RGBA32I,[J.RGB_INTEGER]:e.RGB32I,[J.RG_INTEGER]:e.RG32I,[J.RED_INTEGER]:e.R32I},[yt.FLOAT]:{[J.RGBA]:e.RGBA32F,[J.RGB]:e.RGB32F,[J.RG]:e.RG32F,[J.RED]:e.R32F,[J.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[yt.HALF_FLOAT]:{[J.RGBA]:e.RGBA16F,[J.RGB]:e.RGB16F,[J.RG]:e.RG16F,[J.RED]:e.R16F},[yt.UNSIGNED_SHORT_5_6_5]:{[J.RGB]:e.RGB565},[yt.UNSIGNED_SHORT_4_4_4_4]:{[J.RGBA]:e.RGBA4},[yt.UNSIGNED_SHORT_5_5_5_1]:{[J.RGBA]:e.RGB5_A1},[yt.UNSIGNED_INT_2_10_10_10_REV]:{[J.RGBA]:e.RGB10_A2,[J.RGBA_INTEGER]:e.RGB10_A2UI},[yt.UNSIGNED_INT_10F_11F_11F_REV]:{[J.RGB]:e.R11F_G11F_B10F},[yt.UNSIGNED_INT_5_9_9_9_REV]:{[J.RGB]:e.RGB9_E5},[yt.UNSIGNED_INT_24_8]:{[J.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[yt.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[J.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:t={[yt.UNSIGNED_BYTE]:{[J.RGBA]:e.RGBA,[J.RGB]:e.RGB,[J.ALPHA]:e.ALPHA,[J.LUMINANCE]:e.LUMINANCE,[J.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[yt.UNSIGNED_SHORT_5_6_5]:{[J.RGB]:e.RGB},[yt.UNSIGNED_SHORT_4_4_4_4]:{[J.RGBA]:e.RGBA},[yt.UNSIGNED_SHORT_5_5_5_1]:{[J.RGBA]:e.RGBA}},t}class ub{constructor(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new bt,this.hasIntegerTextures=!1}contextChange(){const t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=yA(t);const r=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new op(t.createTexture());t.bindTexture(t.TEXTURE_2D,n.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=n,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new op(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(t,r=0){const{gl:n}=this;if(t=t==null?void 0:t.castToBaseTexture(),(t==null?void 0:t.valid)&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;const i=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[r]!==t&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(t.target,i.texture)),i.dirtyId!==t.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(t)):i.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(t),this.boundTextures[r]=t}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture}unbind(t){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===t&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(t.target,this.emptyTextures[t.target].texture),n[i]=null)}ensureSamplerType(t){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(!!n)for(let s=t-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==T0.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(t){const r=new op(this.gl.createTexture());return r.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),r}initTextureType(t,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[t.type])==null?void 0:n[t.format])!=null?i:t.format,this.webGLVersion===2&&t.type===yt.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=t.type}updateTexture(t){var i;const r=t._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(t,r),(i=t.resource)!=null&&i.upload(n,t,r))r.samplerType!==T0.FLOAT&&(this.hasIntegerTextures=!0);else{const s=t.realWidth,o=t.realHeight,u=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,u.texImage2D(t.target,0,r.internalFormat,s,o,0,t.format,r.type,null))}t.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(t),r.dirtyId=t.dirtyId}destroyTexture(t,r){const{gl:n}=this;if(t=t.castToBaseTexture(),t._glTextures[this.CONTEXT_UID]&&(this.unbind(t),n.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(t);i!==-1&&ga(this.managedTextures,i,1)}}updateTextureStyle(t){var n;const r=t._glTextures[this.CONTEXT_UID];!r||((t.mipmap===si.POW2||this.webGLVersion!==2)&&!t.isPowerOfTwo?r.mipmap=!1:r.mipmap=t.mipmap>=1,this.webGLVersion!==2&&!t.isPowerOfTwo?r.wrapMode=Ai.CLAMP:r.wrapMode=t.wrapMode,(n=t.resource)!=null&&n.style(this.renderer,t,r)||this.setStyle(t,r),r.dirtyStyleId=t.dirtyStyleId)}setStyle(t,r){const n=this.gl;if(r.mipmap&&t.mipmap!==si.ON_MANUAL&&n.generateMipmap(t.target),n.texParameteri(t.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(t.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===qn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&t.anisotropicLevel>0&&t.scaleMode===qn.LINEAR){const s=Math.min(t.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(t.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(t.target,n.TEXTURE_MIN_FILTER,t.scaleMode===qn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(t.target,n.TEXTURE_MAG_FILTER,t.scaleMode===qn.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}ub.extension={type:ot.RendererSystem,name:"texture"};pt.add(ub);class cb{constructor(t){this.renderer=t}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:r,CONTEXT_UID:n}=this,i=t._glTransformFeedbacks[n]||this.createGLTransformFeedback(t);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:t}=this;t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(t,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(t)}endTransformFeedback(){const{gl:t}=this;t.endTransformFeedback()}createGLTransformFeedback(t){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();t._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<t.buffers.length;o++){const u=t.buffers[o];!u||(n.buffer.update(u),u._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,u._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),t.disposeRunner.add(this),s}disposeTransformFeedback(t,r){const n=t._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<t.buffers.length;o++){const u=t.buffers[o];if(!u)continue;const c=u._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(u,r))}!n||(r||i.deleteTransformFeedback(n),delete t._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}cb.extension={type:ot.RendererSystem,name:"transformFeedback"};pt.add(cb);class $d{constructor(t){this.renderer=t}init(t){this.screen=new Et(0,0,t.width,t.height),this.element=t.view||tt.ADAPTER.createCanvas(),this.resolution=t.resolution||tt.RESOLUTION,this.autoDensity=!!t.autoDensity}resizeView(t,r){this.element.width=Math.round(t*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(t){var r;t&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}$d.defaultOptions={width:800,height:600,resolution:tt.RESOLUTION,autoDensity:!1};$d.extension={type:[ot.RendererSystem,ot.CanvasRendererSystem],name:"_view"};pt.add($d);tt.PREFER_ENV=mo.WEBGL2;tt.STRICT_TEXTURE_CACHE=!1;tt.RENDER_OPTIONS={...Hd.defaultOptions,...Gd.defaultOptions,...$d.defaultOptions,...jd.defaultOptions};Object.defineProperties(tt,{WRAP_MODE:{get(){return bt.defaultOptions.wrapMode},set(e){At("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),bt.defaultOptions.wrapMode=e}},SCALE_MODE:{get(){return bt.defaultOptions.scaleMode},set(e){At("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),bt.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get(){return bt.defaultOptions.mipmap},set(e){At("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),bt.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get(){return bt.defaultOptions.anisotropicLevel},set(e){At("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),bt.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get(){return At("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),It.defaultResolution},set(e){It.defaultResolution=e}},FILTER_MULTISAMPLE:{get(){return At("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),It.defaultMultisample},set(e){It.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get(){return bn.defaultMaxTextures},set(e){At("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),bn.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get(){return bn.defaultBatchSize},set(e){At("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),bn.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get(){return bn.canUploadSameBuffer},set(e){At("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),bn.canUploadSameBuffer=e}},GC_MODE:{get(){return wn.defaultMode},set(e){At("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),wn.defaultMode=e}},GC_MAX_IDLE:{get(){return wn.defaultMaxIdle},set(e){At("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),wn.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get(){return wn.defaultCheckCountMax},set(e){At("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),wn.defaultCheckCountMax=e}},PRECISION_VERTEX:{get(){return En.defaultVertexPrecision},set(e){At("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),En.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get(){return En.defaultFragmentPrecision},set(e){At("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),En.defaultFragmentPrecision=e}}});var ws=(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))(ws||{});class ap{constructor(t,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=t,this.context=r,this.priority=n,this.once=i}match(t,r=null){return this.fn===t&&this.context===r}emit(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this}destroy(t=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=t?null:r,this.previous=null,r}}const Ir=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new ap(null,null,1/0),this.deltaMS=1/Ir.targetFPMS,this.elapsedMS=1/Ir.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=ws.NORMAL){return this._addListener(new ap(e,t,r))}addOnce(e,t,r=ws.NORMAL){return this._addListener(new ap(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(!t)e.connect(r);else{for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r.match(e,t)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let t;if(e>this.lastTime){if(t=this.elapsedMS=e-this.lastTime,t>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){const i=e-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=e-i%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*Ir.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,Ir.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!Ir._shared){const e=Ir._shared=new Ir;e.autoStart=!0,e._protected=!0}return Ir._shared}static get system(){if(!Ir._system){const e=Ir._system=new Ir;e.autoStart=!0,e._protected=!0}return Ir._system}};let _e=Ir;_e.targetFPMS=.06;Object.defineProperties(tt,{TARGET_FPMS:{get(){return _e.targetFPMS},set(e){At("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),_e.targetFPMS=e}}});class hb{static init(t){t=Object.assign({autoStart:!0,sharedTicker:!1},t),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,ws.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=t.sharedTicker?_e.shared:new _e,t.autoStart&&this.start()}static destroy(){if(this._ticker){const t=this._ticker;this.ticker=null,t.destroy()}}}hb.extension=ot.Application;pt.add(hb);const db=[];pt.handleByList(ot.Renderer,db);function vA(e){for(const t of db)if(t.test(e))return new t(e);throw new Error("Unable to auto-detect a suitable renderer.")}var xA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,TA=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const _A=xA,fb=TA;class mb{constructor(t){this.renderer=t}contextChange(t){let r;if(this.renderer.context.webGLVersion===1){const n=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),r=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,n)}else{const n=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING);t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),r=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,n)}r>=we.HIGH?this.multisample=we.HIGH:r>=we.MEDIUM?this.multisample=we.MEDIUM:r>=we.LOW?this.multisample=we.LOW:this.multisample=we.NONE}destroy(){}}mb.extension={type:ot.RendererSystem,name:"_multisample"};pt.add(mb);class bA{constructor(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class pb{constructor(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(t){const{gl:r,CONTEXT_UID:n}=this,i=t._glBuffers[n]||this.createGLBuffer(t);r.bindBuffer(t.type,i.buffer)}unbind(t){const{gl:r}=this;r.bindBuffer(t,null)}bindBufferBase(t,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==t){const s=t._glBuffers[i]||this.createGLBuffer(t);this.boundBufferBases[r]=t,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(t,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=t._glBuffers[s]||this.createGLBuffer(t);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(t){const{gl:r,CONTEXT_UID:n}=this,i=t._glBuffers[n]||this.createGLBuffer(t);if(t._updateID!==i.updateID)if(i.updateID=t._updateID,r.bindBuffer(t.type,i.buffer),i.byteLength>=t.data.byteLength)r.bufferSubData(t.type,0,t.data);else{const s=t.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=t.data.byteLength,r.bufferData(t.type,t.data,s)}}dispose(t,r){if(!this.managedBuffers[t.id])return;delete this.managedBuffers[t.id];const n=t._glBuffers[this.CONTEXT_UID],i=this.gl;t.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete t._glBuffers[this.CONTEXT_UID])}disposeAll(t){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],t)}createGLBuffer(t){const{CONTEXT_UID:r,gl:n}=this;return t._glBuffers[r]=new bA(n.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[r]}}pb.extension={type:ot.RendererSystem,name:"buffer"};pt.add(pb);class gb{constructor(t){this.renderer=t}render(t,r){const n=this.renderer;let i,s,o,u;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,u=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=t),!u){const c=t.enableTempParent();t.updateTransform(),t.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s!=null?s:n.background.clearBeforeRender)&&n.renderTexture.clear(),t.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}gb.extension={type:ot.RendererSystem,name:"objectRenderer"};pt.add(gb);const U0=class extends gA{constructor(e){super(),this.type=w3.WEBGL,e=Object.assign({},tt.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Mn({projectionMatrix:new ie},!0);const t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:U0.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(At("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=U0.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:KC()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return At("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return At("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return At("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return At("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){At("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return At("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){At("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return At("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};let As=U0;As.extension={type:ot.Renderer,priority:1};As.__plugins={};As.__systems={};pt.handleByMap(ot.RendererPlugin,As.__plugins);pt.handleByMap(ot.RendererSystem,As.__systems);pt.add(As);class yb extends au{constructor(t,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<t;s++){const o=new bt;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=t,this._load=null,this.baseTexture=null}initFromArray(t,r){for(let n=0;n<this.length;n++)!t[n]||(t[n].castToBaseTexture?this.addBaseTextureAt(t[n].castToBaseTexture(),n):t[n]instanceof au?this.addResourceAt(t[n],n):this.addResourceAt(F3(t[n],r),n))}dispose(){for(let t=0,r=this.length;t<r;t++)this.items[t].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(t,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return t.valid&&!this.valid&&this.resize(t.width,t.height),this.items[r].setResource(t),this}bind(t){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(t);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=t,this.items[r].on("update",t.update,t)}unbind(t){super.unbind(t);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",t.update,t)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class wA extends yb{constructor(t,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(t)?(s=t,o=t.length):o=t,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(t,r){if(t.resource)this.addResourceAt(t.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(t){super.bind(t),t.target=fa.TEXTURE_2D_ARRAY}upload(t,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:u}=t;n.dirtyId<0&&u.texImage3D(u.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const h=o[c];s[c]<h.dirtyId&&(s[c]=h.dirtyId,h.valid&&u.texSubImage3D(u.TEXTURE_2D_ARRAY,0,0,0,c,h.resource.width,h.resource.height,1,r.format,n.type,h.resource.source))}return!0}}class SA extends bs{constructor(t){super(t)}static test(t){const{OffscreenCanvas:r}=globalThis;return r&&t instanceof r?!0:globalThis.HTMLCanvasElement&&t instanceof HTMLCanvasElement}}const bl=class extends yb{constructor(e,t){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=t||{};if(e&&e.length!==bl.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<bl.SIDES;o++)this.items[o].target=fa.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,e&&this.initFromArray(e,t),i!==!1&&this.load()}bind(e){super.bind(e),e.target=fa.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=fa.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(e,t,r){const n=this.itemDirtyIds;for(let i=0;i<bl.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<t.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(e,s,r),n[i]=s.dirtyId):n[i]<-1&&(e.gl.texImage2D(s.target,0,r.internalFormat,t.realWidth,t.realHeight,0,t.format,r.type,null),n[i]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===bl.SIDES}};let vb=bl;vb.SIDES=6;class sa extends bs{constructor(t,r){var s;r=r||{};let n,i;typeof t=="string"?(n=sa.EMPTY,i=t):(n=t,i=null),super(n),this.url=i,this.crossOrigin=(s=r.crossOrigin)!=null?s:!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(t,r)=>{if(this.url===null){t(this);return}try{const n=await tt.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Nn.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),t(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(t,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(t,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(t){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof t=="string"||t instanceof ImageBitmap)}static get EMPTY(){var t;return sa._EMPTY=(t=sa._EMPTY)!=null?t:tt.ADAPTER.createCanvas(0,0),sa._EMPTY}}const _h=class extends bs{constructor(e,t){t=t||{},super(tt.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),e(this)},_h.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;bs.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{!this._resolve||(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=t*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*t,i=this._overrideHeight||this._overrideWidth/t*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${uo()}`,s.getContext("2d").drawImage(e,0,0,t,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(e){const t=_h.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&_h.SVG_XML.test(e)}};let uu=_h;uu.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;uu.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const z0=class extends bs{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof e=="string"&&(e=[e]);const n=e[0].src||e[0];bs.crossOrigin(r,n,t.crossorigin);for(let i=0;i<e.length;++i){const s=document.createElement("source");let{src:o,mime:u}=e[i];o=o||e[i];const c=o.split("?").shift().toLowerCase(),h=c.slice(c.lastIndexOf(".")+1);u=u||z0.MIME_TYPES[h]||`video/${h}`,s.src=o,s.type=u,r.appendChild(s)}e=r}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){const t=_e.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart.bind(this)),e.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise(t=>{this.valid?t(this):(this._resolve=t,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(_e.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(_e.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._isConnectedToTicker&&(_e.shared.remove(this.update,this),this._isConnectedToTicker=!1);const e=this.source;e&&(e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(_e.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(_e.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e)}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||z0.TYPES.includes(t)}};let d1=z0;d1.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];d1.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};D0.push(sa,W3,SA,d1,uu,bu,vb,wA);class id{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(t){return this.minX>this.maxX||this.minY>this.maxY?Et.EMPTY:(t=t||new Et(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)}addPoint(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)}addPointMatrix(t,r){const{a:n,b:i,c:s,d:o,tx:u,ty:c}=t,h=n*r.x+s*r.y+u,f=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(t){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=t[0],u=t[1];r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=t[2],u=t[3],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=t[4],u=t[5],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,o=t[6],u=t[7],r=o<r?o:r,n=u<n?u:n,i=o>i?o:i,s=u>s?u:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(t,r,n,i,s){this.addFrameMatrix(t.worldTransform,r,n,i,s)}addFrameMatrix(t,r,n,i,s){const o=t.a,u=t.b,c=t.c,h=t.d,f=t.tx,m=t.ty;let g=this.minX,v=this.minY,x=this.maxX,S=this.maxY,E=o*r+c*n+f,w=u*r+h*n+m;g=E<g?E:g,v=w<v?w:v,x=E>x?E:x,S=w>S?w:S,E=o*i+c*n+f,w=u*i+h*n+m,g=E<g?E:g,v=w<v?w:v,x=E>x?E:x,S=w>S?w:S,E=o*r+c*s+f,w=u*r+h*s+m,g=E<g?E:g,v=w<v?w:v,x=E>x?E:x,S=w>S?w:S,E=o*i+c*s+f,w=u*i+h*s+m,g=E<g?E:g,v=w<v?w:v,x=E>x?E:x,S=w>S?w:S,this.minX=g,this.minY=v,this.maxX=x,this.maxY=S}addVertexData(t,r,n){let i=this.minX,s=this.minY,o=this.maxX,u=this.maxY;for(let c=r;c<n;c+=2){const h=t[c],f=t[c+1];i=h<i?h:i,s=f<s?f:s,o=h>o?h:o,u=f>u?f:u}this.minX=i,this.minY=s,this.maxX=o,this.maxY=u}addVertices(t,r,n,i){this.addVerticesMatrix(t.worldTransform,r,n,i)}addVerticesMatrix(t,r,n,i,s=0,o=s){const u=t.a,c=t.b,h=t.c,f=t.d,m=t.tx,g=t.ty;let v=this.minX,x=this.minY,S=this.maxX,E=this.maxY;for(let w=n;w<i;w+=2){const b=r[w],_=r[w+1],C=u*b+h*_+m,P=f*_+c*b+g;v=Math.min(v,C-s),S=Math.max(S,C+s),x=Math.min(x,P-o),E=Math.max(E,P+o)}this.minX=v,this.minY=x,this.maxX=S,this.maxY=E}addBounds(t){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=t.minX<r?t.minX:r,this.minY=t.minY<n?t.minY:n,this.maxX=t.maxX>i?t.maxX:i,this.maxY=t.maxY>s?t.maxY:s}addBoundsMask(t,r){const n=t.minX>r.minX?t.minX:r.minX,i=t.minY>r.minY?t.minY:r.minY,s=t.maxX<r.maxX?t.maxX:r.maxX,o=t.maxY<r.maxY?t.maxY:r.maxY;if(n<=s&&i<=o){const u=this.minX,c=this.minY,h=this.maxX,f=this.maxY;this.minX=n<u?n:u,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}addBoundsMatrix(t,r){this.addFrameMatrix(r,t.minX,t.minY,t.maxX,t.maxY)}addBoundsArea(t,r){const n=t.minX>r.x?t.minX:r.x,i=t.minY>r.y?t.minY:r.y,s=t.maxX<r.x+r.width?t.maxX:r.x+r.width,o=t.maxY<r.y+r.height?t.maxY:r.y+r.height;if(n<=s&&i<=o){const u=this.minX,c=this.minY,h=this.maxX,f=this.maxY;this.minX=n<u?n:u,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}pad(t=0,r=t){this.isEmpty()||(this.minX-=t,this.maxX+=t,this.minY-=r,this.maxY+=r)}addFramePad(t,r,n,i,s,o){t-=s,r-=o,n+=s,i+=o,this.minX=this.minX<t?this.minX:t,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Kt extends Ma{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Ud,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new id,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(t){const r=Object.keys(t);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Kt.prototype,i,Object.getOwnPropertyDescriptor(t,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(t,r){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Et),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(t){t||(this._localBoundsRect||(this._localBoundsRect=new Et),t=this._localBoundsRect),this._localBounds||(this._localBounds=new id);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,t);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(t,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,r)}toLocal(t,r,n,i){return r&&(t=r.toGlobal(t,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,n)}setParent(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t}removeFromParent(){var t;(t=this.parent)==null||t.removeChild(this)}setTransform(t=0,r=0,n=1,i=1,s=0,o=0,u=0,c=0,h=0){return this.position.x=t,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=u,this.pivot.x=c,this.pivot.y=h,this}destroy(t){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new EA),this.tempDisplayObjectParent}enableTempParent(){const t=this.parent;return this.parent=this._tempDisplayObjectParent,t}disableTempParent(t){this.parent=t}get x(){return this.position.x}set x(t){this.transform.position.x=t}get y(){return this.position.y}set y(t){this.transform.position.y=t}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(t){this.transform.position.copyFrom(t)}get scale(){return this.transform.scale}set scale(t){this.transform.scale.copyFrom(t)}get pivot(){return this.transform.pivot}set pivot(t){this.transform.pivot.copyFrom(t)}get skew(){return this.transform.skew}set skew(t){this.transform.skew.copyFrom(t)}get rotation(){return this.transform.rotation}set rotation(t){this.transform.rotation=t}get angle(){return this.transform.rotation*b4}set angle(t){this.transform.rotation=t*lu}get zIndex(){return this._zIndex}set zIndex(t){this._zIndex=t,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}get mask(){return this._mask}set mask(t){if(this._mask!==t){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=t,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class EA extends Kt{constructor(){super(...arguments),this.sortDirty=null}}Kt.prototype.displayObjectUpdateTransform=Kt.prototype.updateTransform;const CA=new ie;function AA(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}const G0=class extends Kt{constructor(){super(),this.children=[],this.sortableChildren=G0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.addChild(e[t]);else{const t=e[0];t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",t,this,this.children.length-1),t.emit("added",this)}return e[0]}addChildAt(e,t){if(t<0||t>this.children.length)throw new Error(`${e}addChildAt: The index ${t} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e}swapChildren(e,t){if(e===t)return;const r=this.getChildIndex(e),n=this.getChildIndex(t);this.children[r]=t,this.children[n]=e,this.onChildrenChange(r<n?r:n)}getChildIndex(e){const t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t}setChildIndex(e,t){if(t<0||t>=this.children.length)throw new Error(`The index ${t} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(e);ga(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let t=0;t<e.length;t++)this.removeChild(e[t]);else{const t=e[0],r=this.children.indexOf(t);if(r===-1)return null;t.parent=null,t.transform._parentID=-1,ga(this.children,r,1),this._boundsID++,this.onChildrenChange(r),t.emit("removed",this),this.emit("childRemoved",t,this,r)}return e[0]}removeChildAt(e){const t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,ga(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t}removeChildren(e=0,t=this.children.length){const r=e,n=t,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let t=0,r=this.children.length;t<r;++t){const n=this.children[t];n._lastSortedIndex=t,!e&&n.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(AA),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,t=this.children.length;e<t;++e){const r=this.children[e];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const t=this.children[e];if(!(!t.visible||!t.renderable))if(t.calculateBounds(),t._mask){const r=t._mask.isMaskData?t._mask.maskObject:t._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)):this._bounds.addBounds(t._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,t=!1){const r=super.getLocalBounds(e);if(!t)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(e){const t=e.renderTexture.sourceFrame;if(!(t.width>0&&t.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==G0.prototype._render&&(r=this.getBounds(!0));const i=e.projection.transform;if(i&&(n?(n=CA.copyFrom(n),n.prepend(i)):n=i),r&&t.intersects(r,n))this._render(e);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const u=this.children[s],c=u.cullable;u.cullable=c||!this.cullArea,u.render(e),u.cullable=c}}render(e){var t;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||((t=this.filters)==null?void 0:t.length))this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(e)}}renderAdvanced(e){var i,s,o;const t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let u=0;u<t.length;u++)t[u].enabled&&this._enabledFilters.push(t[u])}const n=t&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Ae.NONE));if(n&&e.batch.flush(),t&&((s=this._enabledFilters)==null?void 0:s.length)&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let u=0,c=this.children.length;u<c;++u)this.children[u].render(e)}n&&e.batch.flush(),r&&e.mask.pop(this),t&&((o=this._enabledFilters)==null?void 0:o.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const t=typeof e=="boolean"?e:e==null?void 0:e.children,r=this.removeChildren(0,this.children.length);if(t)for(let n=0;n<r.length;++n)r[n].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const t=this.getLocalBounds().width;t!==0?this.scale.x=e/t:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const t=this.getLocalBounds().height;t!==0?this.scale.y=e/t:this.scale.y=1,this._height=e}};let Ht=G0;Ht.defaultSortableChildren=!1;Ht.prototype.containerUpdateTransform=Ht.prototype.updateTransform;Object.defineProperties(tt,{SORTABLE_CHILDREN:{get(){return Ht.defaultSortableChildren},set(e){At("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Ht.defaultSortableChildren=e}}});var Wd=(e=>(e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",e))(Wd||{});const fl=new wt,PA=new Uint16Array([0,1,2,0,2,3]);class Jt extends Ht{constructor(t){super(),this._anchor=new Jn(this._onAnchorUpdate,this,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Gt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=mt.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=t||et.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=PA,this.pluginName="batch",this.isSprite=!0,this._roundPixels=tt.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ls(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ls(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const t=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===t._updateID)return;this._textureID!==t._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=t._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,u=r.tx,c=r.ty,h=this.vertexData,f=t.trim,m=t.orig,g=this._anchor;let v=0,x=0,S=0,E=0;if(f?(x=f.x-g._x*m.width,v=x+f.width,E=f.y-g._y*m.height,S=E+f.height):(x=-g._x*m.width,v=x+m.width,E=-g._y*m.height,S=E+m.height),h[0]=n*x+s*E+u,h[1]=o*E+i*x+c,h[2]=n*v+s*E+u,h[3]=o*E+i*v+c,h[4]=n*v+s*S+u,h[5]=o*S+i*v+c,h[6]=n*x+s*S+u,h[7]=o*S+i*x+c,this._roundPixels){const w=tt.RESOLUTION;for(let b=0;b<h.length;++b)h[b]=Math.round(h[b]*w)/w}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const t=this._texture,r=this.vertexTrimmedData,n=t.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,u=s.b,c=s.c,h=s.d,f=s.tx,m=s.ty,g=-i._x*n.width,v=g+n.width,x=-i._y*n.height,S=x+n.height;r[0]=o*g+c*x+f,r[1]=h*x+u*g+m,r[2]=o*v+c*x+f,r[3]=h*x+u*v+m,r[4]=o*v+c*S+f,r[5]=h*S+u*v+m,r[6]=o*g+c*S+f,r[7]=h*S+u*g+m}_render(t){this.calculateVertices(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)}_calculateBounds(){const t=this._texture.trim,r=this._texture.orig;!t||t.width===r.width&&t.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(t){return this.children.length===0?(this._localBounds||(this._localBounds=new id),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Et),t=this._localBoundsRect),this._localBounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,fl);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return fl.x>=i&&fl.x<i+r&&(s=-n*this.anchor.y,fl.y>=s&&fl.y<s+n)}destroy(t){if(super.destroy(t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof t=="boolean"?t:t==null?void 0:t.texture){const n=typeof t=="boolean"?t:t==null?void 0:t.baseTexture;this._texture.destroy(!!n)}this._texture=null}static from(t,r){const n=t instanceof et?t:et.from(t,r);return new Jt(n)}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(t){const r=ls(this.scale.x)||1;this.scale.x=r*t/this._texture.orig.width,this._width=t}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(t){const r=ls(this.scale.y)||1;this.scale.y=r*t/this._texture.orig.height,this._height=t}get anchor(){return this._anchor}set anchor(t){this._anchor.copyFrom(t)}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(t){this._texture!==t&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=t||et.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.valid?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}const Wc={willReadFrequently:!0},ht=class{static get experimentalLetterSpacingSupported(){let e=ht._experimentalLetterSpacingSupported;if(e!==void 0){const t=tt.ADAPTER.getCanvasRenderingContext2D().prototype;e=ht._experimentalLetterSpacingSupported="letterSpacing"in t||"textLetterSpacing"in t}return e}constructor(e,t,r,n,i,s,o,u,c){this.text=e,this.style=t,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=u,this.fontProperties=c}static measureText(e,t,r,n=ht._canvas){r=r==null?t.wordWrap:r;const i=t.toFontString(),s=ht.measureFont(i);s.fontSize===0&&(s.fontSize=t.fontSize,s.ascent=t.fontSize);const o=n.getContext("2d",Wc);o.font=i;const c=(r?ht.wordWrap(e,t,n):e).split(/(?:\r\n|\r|\n)/),h=new Array(c.length);let f=0;for(let x=0;x<c.length;x++){const S=ht._measureText(c[x],t.letterSpacing,o);h[x]=S,f=Math.max(f,S)}let m=f+t.strokeThickness;t.dropShadow&&(m+=t.dropShadowDistance);const g=t.lineHeight||s.fontSize+t.strokeThickness;let v=Math.max(g,s.fontSize+t.strokeThickness*2)+(c.length-1)*(g+t.leading);return t.dropShadow&&(v+=t.dropShadowDistance),new ht(e,t,m,v,c,h,g+t.leading,f,s)}static _measureText(e,t,r){let n=!1;ht.experimentalLetterSpacingSupported&&(ht.experimentalLetterSpacing?(r.letterSpacing=`${t}px`,r.textLetterSpacing=`${t}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(e).width;return i>0&&(n?i-=t:i+=(ht.graphemeSegmenter(e).length-1)*t),i}static wordWrap(e,t,r=ht._canvas){const n=r.getContext("2d",Wc);let i=0,s="",o="";const u=Object.create(null),{letterSpacing:c,whiteSpace:h}=t,f=ht.collapseSpaces(h),m=ht.collapseNewlines(h);let g=!f;const v=t.wordWrapWidth+c,x=ht.tokenize(e);for(let S=0;S<x.length;S++){let E=x[S];if(ht.isNewline(E)){if(!m){o+=ht.addLine(s),g=!f,s="",i=0;continue}E=" "}if(f){const b=ht.isBreakingSpace(E),_=ht.isBreakingSpace(s[s.length-1]);if(b&&_)continue}const w=ht.getFromCache(E,c,u,n);if(w>v)if(s!==""&&(o+=ht.addLine(s),s="",i=0),ht.canBreakWords(E,t.breakWords)){const b=ht.wordWrapSplit(E);for(let _=0;_<b.length;_++){let C=b[_],P=C,O=1;for(;b[_+O];){const N=b[_+O];if(!ht.canBreakChars(P,N,E,_,t.breakWords))C+=N;else break;P=N,O++}_+=O-1;const M=ht.getFromCache(C,c,u,n);M+i>v&&(o+=ht.addLine(s),g=!1,s="",i=0),s+=C,i+=M}}else{s.length>0&&(o+=ht.addLine(s),s="",i=0);const b=S===x.length-1;o+=ht.addLine(E,!b),g=!1,s="",i=0}else w+i>v&&(g=!1,o+=ht.addLine(s),s="",i=0),(s.length>0||!ht.isBreakingSpace(E)||g)&&(s+=E,i+=w)}return o+=ht.addLine(s,!1),o}static addLine(e,t=!0){return e=ht.trimRight(e),e=t?`${e}
`:e,e}static getFromCache(e,t,r,n){let i=r[e];return typeof i!="number"&&(i=ht._measureText(e,t,n)+t,r[e]=i),i}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let t=e.length-1;t>=0;t--){const r=e[t];if(!ht.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:ht._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,t){return typeof e!="string"?!1:ht._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const t=[];let r="";if(typeof e!="string")return t;for(let n=0;n<e.length;n++){const i=e[n],s=e[n+1];if(ht.isBreakingSpace(i,s)||ht.isNewline(i)){r!==""&&(t.push(r),r=""),t.push(i);continue}r+=i}return r!==""&&t.push(r),t}static canBreakWords(e,t){return t}static canBreakChars(e,t,r,n,i){return!0}static wordWrapSplit(e){return ht.graphemeSegmenter(e)}static measureFont(e){if(ht._fonts[e])return ht._fonts[e];const t={ascent:0,descent:0,fontSize:0},r=ht._canvas,n=ht._context;n.font=e;const i=ht.METRICS_STRING+ht.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(ht.BASELINE_SYMBOL).width);const u=Math.ceil(ht.HEIGHT_MULTIPLIER*o);if(o=o*ht.BASELINE_MULTIPLIER|0,s===0||u===0)return ht._fonts[e]=t,t;r.width=s,r.height=u,n.fillStyle="#f00",n.fillRect(0,0,s,u),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const c=n.getImageData(0,0,s,u).data,h=c.length,f=s*4;let m=0,g=0,v=!1;for(m=0;m<o;++m){for(let x=0;x<f;x+=4)if(c[g+x]!==255){v=!0;break}if(!v)g+=f;else break}for(t.ascent=o-m,g=h-f,v=!1,m=u;m>o;--m){for(let x=0;x<f;x+=4)if(c[g+x]!==255){v=!0;break}if(!v)g-=f;else break}return t.descent=m-o,t.fontSize=t.ascent+t.descent,ht._fonts[e]=t,t}static clearMetrics(e=""){e?delete ht._fonts[e]:ht._fonts={}}static get _canvas(){if(!ht.__canvas){let e;try{const t=new OffscreenCanvas(0,0),r=t.getContext("2d",Wc);if(r!=null&&r.measureText)return ht.__canvas=t,t;e=tt.ADAPTER.createCanvas()}catch{e=tt.ADAPTER.createCanvas()}e.width=e.height=10,ht.__canvas=e}return ht.__canvas}static get _context(){return ht.__context||(ht.__context=ht._canvas.getContext("2d",Wc)),ht.__context}};let $e=ht;$e.METRICS_STRING="|\xC9q\xC5";$e.BASELINE_SYMBOL="M";$e.BASELINE_MULTIPLIER=1.4;$e.HEIGHT_MULTIPLIER=2;$e.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const e=new Intl.Segmenter;return t=>[...e.segment(t)].map(r=>r.segment)}return e=>[...e]})();$e.experimentalLetterSpacing=!1;$e._fonts={};$e._newlines=[10,13];$e._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const IA=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],wl=class{constructor(e){this.styleID=0,this.reset(),up(this,e,e)}clone(){const e={};return up(e,this,wl.defaultStyle),new wl(e)}reset(){up(this,wl.defaultStyle,wl.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const t=lp(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const t=lp(e);this._fill!==t&&(this._fill=t,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){RA(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const t=lp(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(let r=t.length-1;r>=0;r--){let n=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!IA.includes(n)&&(n=`"${n}"`),t[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${t.join(",")}`}};let me=wl;me.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Wd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function lp(e){const t=Gt.shared;return Array.isArray(e)?e.map(r=>t.setValue(r).toHex()):t.setValue(e).toHex()}function RA(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function up(e,t,r){for(const n in r)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}const kA={texture:!0,children:!1,baseTexture:!0},H0=class extends Jt{constructor(e,t,r){var s;let n=!1;r||(r=tt.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=et.from(r);i.orig=new Et,i.trim=new Et,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=(s=H0.defaultResolution)!=null?s:tt.RESOLUTION,this._autoResolution=H0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=t,this.localStyleID=-1}static get experimentalLetterSpacing(){return $e.experimentalLetterSpacing}static set experimentalLetterSpacing(e){At("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),$e.experimentalLetterSpacing=e}updateText(e){const t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const r=this.context,n=$e.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,u=n.lineHeight,c=n.lineWidths,h=n.maxLineWidth,f=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+t.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+t.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=t.strokeThickness,r.textBaseline=t.textBaseline,r.lineJoin=t.lineJoin,r.miterLimit=t.miterLimit;let m,g;const v=t.dropShadow?2:1;for(let x=0;x<v;++x){const S=t.dropShadow&&x===0,E=S?Math.ceil(Math.max(1,s)+t.padding*2):0,w=E*this._resolution;if(S){r.fillStyle="black",r.strokeStyle="black";const _=t.dropShadowColor,C=t.dropShadowBlur*this._resolution,P=t.dropShadowDistance*this._resolution;r.shadowColor=Gt.shared.setValue(_).setAlpha(t.dropShadowAlpha).toRgbaString(),r.shadowBlur=C,r.shadowOffsetX=Math.cos(t.dropShadowAngle)*P,r.shadowOffsetY=Math.sin(t.dropShadowAngle)*P+w}else r.fillStyle=this._generateFillStyle(t,o,n),r.strokeStyle=t.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let b=(u-f.fontSize)/2;u-f.fontSize<0&&(b=0);for(let _=0;_<o.length;_++)m=t.strokeThickness/2,g=t.strokeThickness/2+_*u+f.ascent+b,t.align==="right"?m+=h-c[_]:t.align==="center"&&(m+=(h-c[_])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(o[_],m+t.padding,g+t.padding-E,!0),t.fill&&this.drawLetterSpacing(o[_],m+t.padding,g+t.padding-E)}this.updateTexture()}drawLetterSpacing(e,t,r,n=!1){const s=this._style.letterSpacing;let o=!1;if($e.experimentalLetterSpacingSupported&&($e.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(e,t,r):this.context.fillText(e,t,r);return}let u=t;const c=$e.graphemeSegmenter(e);let h=this.context.measureText(e).width,f=0;for(let m=0;m<c.length;++m){const g=c[m];n?this.context.strokeText(g,u,r):this.context.fillText(g,u,r);let v="";for(let x=m+1;x<c.length;++x)v+=c[x];f=this.context.measureText(v).width,u+=h-f+s,h=f}}updateTexture(){const e=this.canvas;if(this._style.trim){const s=h4(e);s.data&&(e.width=s.width,e.height=s.height,this.context.putImageData(s.data,0,0))}const t=this._texture,r=this._style,n=r.trim?0:r.padding,i=t.baseTexture;t.trim.width=t._frame.width=e.width/this._resolution,t.trim.height=t._frame.height=e.height/this._resolution,t.trim.x=-n,t.trim.y=-n,t.orig.width=t._frame.width-n*2,t.orig.height=t._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(e.width,e.height,this._resolution),t.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,t){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,t)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,t,r){const n=e.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=e.dropShadow?e.dropShadowDistance:0,o=e.padding||0,u=this.canvas.width/this._resolution-s-o*2,c=this.canvas.height/this._resolution-s-o*2,h=n.slice(),f=e.fillGradientStops.slice();if(!f.length){const m=h.length+1;for(let g=1;g<m;++g)f.push(g/m)}if(h.unshift(n[0]),f.unshift(0),h.push(n[n.length-1]),f.push(1),e.fillGradientType===Wd.LINEAR_VERTICAL){i=this.context.createLinearGradient(u/2,o,u/2,c+o);const m=r.fontProperties.fontSize+e.strokeThickness;for(let g=0;g<t.length;g++){const v=r.lineHeight*(g-1)+m,x=r.lineHeight*g;let S=x;g>0&&v>x&&(S=(x+v)/2);const E=x+m,w=r.lineHeight*(g+1);let b=E;g+1<t.length&&w<E&&(b=(E+w)/2);const _=(b-S)/c;for(let C=0;C<h.length;C++){let P=0;typeof f[C]=="number"?P=f[C]:P=C/h.length;let O=Math.min(1,Math.max(0,S/c+P*_));O=Number(O.toFixed(5)),i.addColorStop(O,h[C])}}}else{i=this.context.createLinearGradient(o,c/2,u+o,c/2);const m=h.length+1;let g=1;for(let v=0;v<h.length;v++){let x;typeof f[v]=="number"?x=f[v]:x=g/m,i.addColorStop(x,h[v]),g++}}return i}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},kA,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const t=ls(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const t=ls(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof me?this._style=e:this._style=new me(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e==null?"":e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};let Da=H0;Da.defaultAutoResolution=!0;class sd{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class bh{static test(t){return typeof t=="string"&&t.startsWith("info face=")}static parse(t){const r=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],u=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const h in u){const f=u[h].split("="),m=f[0],g=f[1].replace(/"/gm,""),v=parseFloat(g),x=isNaN(v)?g:v;c[m]=x}n[o].push(c)}const i=new sd;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class j0{static test(t){const r=t;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(t){const r=new sd,n=t.getElementsByTagName("info"),i=t.getElementsByTagName("common"),s=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),u=t.getElementsByTagName("kerning"),c=t.getElementsByTagName("distanceField");for(let h=0;h<n.length;h++)r.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(let h=0;h<i.length;h++)r.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(let h=0;h<s.length;h++)r.page.push({id:parseInt(s[h].getAttribute("id"),10)||0,file:s[h].getAttribute("file")});for(let h=0;h<o.length;h++){const f=o[h];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let h=0;h<u.length;h++)r.kerning.push({first:parseInt(u[h].getAttribute("first"),10),second:parseInt(u[h].getAttribute("second"),10),amount:parseInt(u[h].getAttribute("amount"),10)});for(let h=0;h<c.length;h++)r.distanceField.push({fieldType:c[h].getAttribute("fieldType"),distanceRange:parseInt(c[h].getAttribute("distanceRange"),10)});return r}}class $0{static test(t){return typeof t=="string"&&t.includes("<font>")?j0.test(tt.ADAPTER.parseXML(t)):!1}static parse(t){return j0.parse(tt.ADAPTER.parseXML(t))}}const cp=[bh,j0,$0];function MA(e){for(let t=0;t<cp.length;t++)if(cp[t].test(e))return cp[t];return null}function DA(e,t,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let u;const c=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,f=e.width/n-c-h*2,m=e.height/n-c-h*2,g=o.slice(),v=r.fillGradientStops.slice();if(!v.length){const x=g.length+1;for(let S=1;S<x;++S)v.push(S/x)}if(g.unshift(o[0]),v.unshift(0),g.push(o[o.length-1]),v.push(1),r.fillGradientType===Wd.LINEAR_VERTICAL){u=t.createLinearGradient(f/2,h,f/2,m+h);let x=0;const E=(s.fontProperties.fontSize+r.strokeThickness)/m;for(let w=0;w<i.length;w++){const b=s.lineHeight*w;for(let _=0;_<g.length;_++){let C=0;typeof v[_]=="number"?C=v[_]:C=_/g.length;const P=b/m+C*E;let O=Math.max(x,P);O=Math.min(O,1),u.addColorStop(O,g[_]),x=O}}}else{u=t.createLinearGradient(h,m/2,f+h,m/2);const x=g.length+1;let S=1;for(let E=0;E<g.length;E++){let w;typeof v[E]=="number"?w=v[E]:w=S/x,u.addColorStop(w,g[E]),S++}}return u}function NA(e,t,r,n,i,s,o){const u=r.text,c=r.fontProperties;t.translate(n,i),t.scale(s,s);const h=o.strokeThickness/2,f=-(o.strokeThickness/2);if(t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=DA(e,t,o,s,[u],r),t.strokeStyle=o.stroke,o.dropShadow){const m=o.dropShadowColor,g=o.dropShadowBlur*s,v=o.dropShadowDistance*s;t.shadowColor=Gt.shared.setValue(m).setAlpha(o.dropShadowAlpha).toRgbaString(),t.shadowBlur=g,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;o.stroke&&o.strokeThickness&&t.strokeText(u,h,f+r.lineHeight-c.descent),o.fill&&t.fillText(u,h,f+r.lineHeight-c.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function wh(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}function xb(e){return Array.from?Array.from(e):e.split("")}function FA(e){typeof e=="string"&&(e=[e]);const t=[];for(let r=0,n=e.length;r<n;r++){const i=e[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let u=s,c=o;u<=c;u++)t.push(String.fromCharCode(u))}else t.push(...xb(i))}if(t.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}const yn=class{constructor(e,t,r){var h,f;const[n]=e.info,[i]=e.common,[s]=e.page,[o]=e.distanceField,u=Ts(s.file),c={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/u,this.chars={},this.pageTextures=c;for(let m=0;m<e.page.length;m++){const{id:g,file:v}=e.page[m];c[g]=t instanceof Array?t[m]:t[v],(o==null?void 0:o.fieldType)&&o.fieldType!=="none"&&(c[g].baseTexture.alphaMode=Nn.NO_PREMULTIPLIED_ALPHA,c[g].baseTexture.mipmap=si.OFF)}for(let m=0;m<e.char.length;m++){const{id:g,page:v}=e.char[m];let{x,y:S,width:E,height:w,xoffset:b,yoffset:_,xadvance:C}=e.char[m];x/=u,S/=u,E/=u,w/=u,b/=u,_/=u,C/=u;const P=new Et(x+c[v].frame.x/u,S+c[v].frame.y/u,E,w);this.chars[g]={xOffset:b,yOffset:_,xAdvance:C,kerning:{},texture:new et(c[v].baseTexture,P),page:v}}for(let m=0;m<e.kerning.length;m++){let{first:g,second:v,amount:x}=e.kerning[m];g/=u,v/=u,x/=u,this.chars[v]&&(this.chars[v].kerning[g]=x)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=(f=(h=o==null?void 0:o.fieldType)==null?void 0:h.toLowerCase())!=null?f:"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,t,r){let n;if(e instanceof sd)n=e;else{const s=MA(e);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(e)}t instanceof et&&(t=[t]);const i=new yn(n,t,r);return yn.available[i.font]=i,i}static uninstall(e){const t=yn.available[e];if(!t)throw new Error(`No font found named '${e}'`);t.destroy(),delete yn.available[e]}static from(e,t,r){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:u,...c}=Object.assign({},yn.defaultOptions,r),h=FA(n),f=t instanceof me?t:new me(t),m=o,g=new sd;g.info[0]={face:f.fontFamily,size:f.fontSize},g.common[0]={lineHeight:f.fontSize};let v=0,x=0,S,E,w,b=0;const _=[];for(let P=0;P<h.length;P++){S||(S=tt.ADAPTER.createCanvas(),S.width=o,S.height=u,E=S.getContext("2d"),w=new bt(S,{resolution:s,...c}),_.push(new et(w)),g.page.push({id:_.length-1,file:""}));const O=h[P],M=$e.measureText(O,f,!1,S),N=M.width,Q=Math.ceil(M.height),V=Math.ceil((f.fontStyle==="italic"?2:1)*N);if(x>=u-Q*s){if(x===0)throw new Error(`[BitmapFont] textureHeight ${u}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${O}')`);--P,S=null,E=null,w=null,x=0,v=0,b=0;continue}if(b=Math.max(Q+M.fontProperties.descent,b),V*s+v>=m){if(v===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${O}')`);--P,x+=b*s,x=Math.ceil(x),v=0,b=0;continue}NA(S,E,M,v,x,s,f);const Y=wh(M.text);g.char.push({id:Y,page:_.length-1,x:v/s,y:x/s,width:V,height:Q,xoffset:0,yoffset:0,xadvance:N-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),v+=(V+2*i)*s,v=Math.ceil(v)}for(let P=0,O=h.length;P<O;P++){const M=h[P];for(let N=0;N<O;N++){const Q=h[N],V=E.measureText(M).width,Y=E.measureText(Q).width,W=E.measureText(M+Q).width-(V+Y);W&&g.kerning.push({first:wh(M),second:wh(Q),amount:W})}}const C=new yn(g,_,!0);return yn.available[e]!==void 0&&yn.uninstall(e),yn.available[e]=C,C}};let yr=yn;yr.ALPHA=[["a","z"],["A","Z"]," "];yr.NUMERIC=[["0","9"]];yr.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "];yr.ASCII=[[" ","~"]];yr.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:yn.ALPHANUMERIC};yr.available={};class OA{constructor(t,r){this.uvBuffer=t,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(t){if(!t&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const hp=new wt,sT=new ya,Tb=class extends Ht{constructor(e,t,r,n=Sn.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||Bi.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=tt.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Sn.TRIANGLES&&t.length<Tb.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[n]),e.plugins[n].render(this)}calculateVertices(){const t=this.geometry.buffers[0],r=t.data,n=t._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,u=i.c,c=i.d,h=i.tx,f=i.ty,m=this.vertexData;for(let g=0;g<m.length/2;g++){const v=r[g*2],x=r[g*2+1];m[g*2]=s*v+u*x+h,m[g*2+1]=o*v+c*x+f}if(this._roundPixels){const g=tt.RESOLUTION;for(let v=0;v<m.length;++v)m[v]=Math.round(m[v]*g)/g}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new OA(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,hp);const t=this.geometry.getBuffer("aVertexPosition").data,r=sT.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const u=n[o]*2,c=n[o+1]*2,h=n[o+2]*2;if(r[0]=t[u],r[1]=t[u+1],r[2]=t[c],r[3]=t[c+1],r[4]=t[h],r[5]=t[h+1],sT.contains(hp.x,hp.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Ca=Tb;Ca.BATCHABLE_SIZE=100;class Vd extends _s{constructor(t,r,n){super();const i=new xe(t),s=new xe(r,!0),o=new xe(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,yt.FLOAT).addAttribute("aTextureCoord",s,2,!1,yt.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var LA=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,BA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class cu extends ni{constructor(t,r){const n={uSampler:t,alpha:1,uTextureMatrix:ie.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||En.from(BA,LA),n),this._colorDirty=!1,this.uvMatrix=new h1(t),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Gt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(t){this.uniforms.uSampler!==t&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!t.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=t,this.uvMatrix.texture=t)}set alpha(t){t!==this._alpha&&(this._alpha=t,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(t){t!==this.tint&&(this._tintColor.setValue(t),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const r=this.texture.baseTexture.alphaMode;Gt.shared.setValue(this._tintColor).premultiply(this._alpha,r).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var UA=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,zA=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const oT=[],aT=[],lT=[],_b=class extends Ht{constructor(e,t={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:u}=Object.assign({},_b.styleDefaults,t);if(!yr.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new Gt(n),this._font=void 0,this._fontName=o,this._fontSize=u,this.text=e,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Jn(()=>{this.dirty=!0},this,0,0),this._roundPixels=tt.ROUND_PIXELS,this.dirty=!0,this._resolution=tt.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var V;const e=yr.available[this._fontName],t=this.fontSize,r=t/e.size,n=new wt,i=[],s=[],o=[],u=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=xb(u),h=this._maxWidth*e.size/t,f=e.distanceFieldType==="none"?oT:aT;let m=null,g=0,v=0,x=0,S=-1,E=0,w=0,b=0,_=0;for(let Y=0;Y<c.length;Y++){const it=c[Y],W=wh(it);if(/(?:\s)/.test(it)&&(S=Y,E=g,_++),it==="\r"||it===`
`){s.push(g),o.push(-1),v=Math.max(v,g),++x,++w,n.x=0,n.y+=e.lineHeight,m=null,_=0;continue}const U=e.chars[W];if(!U)continue;m&&U.kerning[m]&&(n.x+=U.kerning[m]);const ft=lT.pop()||{texture:et.EMPTY,line:0,charCode:0,prevSpaces:0,position:new wt};ft.texture=U.texture,ft.line=x,ft.charCode=W,ft.position.x=Math.round(n.x+U.xOffset+this._letterSpacing/2),ft.position.y=Math.round(n.y+U.yOffset),ft.prevSpaces=_,i.push(ft),g=ft.position.x+Math.max(U.xAdvance-U.xOffset,U.texture.orig.width),n.x+=U.xAdvance+this._letterSpacing,b=Math.max(b,U.yOffset+U.texture.height),m=W,S!==-1&&h>0&&n.x>h&&(++w,ga(i,1+S-w,1+Y-S),Y=S,S=-1,s.push(E),o.push(i.length>0?i[i.length-1].prevSpaces:0),v=Math.max(v,E),x++,n.x=0,n.y+=e.lineHeight,m=null,_=0)}const C=c[c.length-1];C!=="\r"&&C!==`
`&&(/(?:\s)/.test(C)&&(g=E),s.push(g),v=Math.max(v,g),o.push(-1));const P=[];for(let Y=0;Y<=x;Y++){let it=0;this._align==="right"?it=v-s[Y]:this._align==="center"?it=(v-s[Y])/2:this._align==="justify"&&(it=o[Y]<0?0:(v-s[Y])/o[Y]),P.push(it)}const O=i.length,M={},N=[],Q=this._activePagesMeshData;f.push(...Q);for(let Y=0;Y<O;Y++){const it=i[Y].texture,W=it.baseTexture.uid;if(!M[W]){let U=f.pop();if(!U){const vt=new Vd;let z,R;e.distanceFieldType==="none"?(z=new cu(et.EMPTY),R=mt.NORMAL):(z=new cu(et.EMPTY,{program:En.from(zA,UA),uniforms:{uFWidth:0}}),R=mt.NORMAL_NPM);const L=new Ca(vt,z);L.blendMode=R,U={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:L,vertices:null,uvs:null,indices:null}}U.index=0,U.indexCount=0,U.vertexCount=0,U.uvsCount=0,U.total=0;const{_textureCache:ft}=this;ft[W]=ft[W]||new et(it.baseTexture),U.mesh.texture=ft[W],U.mesh.tint=this._tintColor.value,N.push(U),M[W]=U}M[W].total++}for(let Y=0;Y<Q.length;Y++)N.includes(Q[Y])||this.removeChild(Q[Y].mesh);for(let Y=0;Y<N.length;Y++)N[Y].mesh.parent!==this&&this.addChild(N[Y].mesh);this._activePagesMeshData=N;for(const Y in M){const it=M[Y],W=it.total;if(!(((V=it.indices)==null?void 0:V.length)>6*W)||it.vertices.length<Ca.BATCHABLE_SIZE*2)it.vertices=new Float32Array(4*2*W),it.uvs=new Float32Array(4*2*W),it.indices=new Uint16Array(6*W);else{const U=it.total,ft=it.vertices;for(let vt=U*4*2;vt<ft.length;vt++)ft[vt]=0}it.mesh.size=6*W}for(let Y=0;Y<O;Y++){const it=i[Y];let W=it.position.x+P[it.line]*(this._align==="justify"?it.prevSpaces:1);this._roundPixels&&(W=Math.round(W));const U=W*r,ft=it.position.y*r,vt=it.texture,z=M[vt.baseTexture.uid],R=vt.frame,L=vt._uvs,k=z.index++;z.indices[k*6+0]=0+k*4,z.indices[k*6+1]=1+k*4,z.indices[k*6+2]=2+k*4,z.indices[k*6+3]=0+k*4,z.indices[k*6+4]=2+k*4,z.indices[k*6+5]=3+k*4,z.vertices[k*8+0]=U,z.vertices[k*8+1]=ft,z.vertices[k*8+2]=U+R.width*r,z.vertices[k*8+3]=ft,z.vertices[k*8+4]=U+R.width*r,z.vertices[k*8+5]=ft+R.height*r,z.vertices[k*8+6]=U,z.vertices[k*8+7]=ft+R.height*r,z.uvs[k*8+0]=L.x0,z.uvs[k*8+1]=L.y0,z.uvs[k*8+2]=L.x1,z.uvs[k*8+3]=L.y1,z.uvs[k*8+4]=L.x2,z.uvs[k*8+5]=L.y2,z.uvs[k*8+6]=L.x3,z.uvs[k*8+7]=L.y3}this._textWidth=v*r,this._textHeight=(n.y+e.lineHeight)*r;for(const Y in M){const it=M[Y];if(this.anchor.x!==0||this.anchor.y!==0){let vt=0;const z=this._textWidth*this.anchor.x,R=this._textHeight*this.anchor.y;for(let L=0;L<it.total;L++)it.vertices[vt++]-=z,it.vertices[vt++]-=R,it.vertices[vt++]-=z,it.vertices[vt++]-=R,it.vertices[vt++]-=z,it.vertices[vt++]-=R,it.vertices[vt++]-=z,it.vertices[vt++]-=R}this._maxLineHeight=b*r;const W=it.mesh.geometry.getBuffer("aVertexPosition"),U=it.mesh.geometry.getBuffer("aTextureCoord"),ft=it.mesh.geometry.getIndex();W.data=it.vertices,U.data=it.uvs,ft.data=it.indices,W.update(),U.update(),ft.update()}for(let Y=0;Y<i.length;Y++)lT.push(i[Y]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:t,distanceFieldType:r,size:n}=yr.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:u}=this.worldTransform,c=Math.sqrt(i*i+s*s),h=Math.sqrt(o*o+u*u),f=(Math.abs(c)+Math.abs(h))/2,m=this.fontSize/n,g=e._view.resolution;for(const v of this._activePagesMeshData)v.mesh.shader.uniforms.uFWidth=f*t*m*g}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=yr.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!yr.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){var e;return(e=this._fontSize)!=null?e:yr.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e==null?"":e),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:t}=this,n=yr.available[this._fontName].distanceFieldType==="none"?oT:aT;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>t[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=et.EMPTY});for(const i in t)t[i].destroy(),delete t[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};let bb=_b;bb.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const uT={loader:ot.LoadParser,resolver:ot.ResolveParser,cache:ot.CacheParser,detection:ot.DetectionParser};pt.handle(ot.Asset,e=>{const t=e.ref;Object.entries(uT).filter(([r])=>!!t[r]).forEach(([r,n])=>{var i;return pt.add(Object.assign(t[r],{extension:(i=t[r].extension)!=null?i:n}))})},e=>{const t=e.ref;Object.keys(uT).filter(r=>!!t[r]).forEach(r=>pt.remove(t[r]))});class GA{constructor(t,r=!1){this._loader=t,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(t){t.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const t=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)t.push(this._assetList.pop());await this._loader.load(t),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(t){this._isActive!==t&&(this._isActive=t,t&&!this._isLoading&&this._next())}}function wu(e,t){if(Array.isArray(t)){for(const r of t)if(e.startsWith(`data:${r}`))return!0;return!1}return e.startsWith(`data:${t}`)}function po(e,t){const r=e.split("?")[0],n=nr.extname(r).toLowerCase();return Array.isArray(t)?t.includes(n):n===t}const Pi=(e,t)=>(Array.isArray(e)||(e=[e]),t?e.map(r=>typeof r=="string"?t(r):r):e),W0=(e,t)=>{const r=t.split("?")[1];return r&&(e+=`?${r}`),e};function wb(e,t,r,n,i){const s=t[r];for(let o=0;o<s.length;o++){const u=s[o];r<t.length-1?wb(e.replace(n[r],u),t,r+1,n,i):i.push(e.replace(n[r],u))}}function HA(e){const t=/\{(.*?)\}/g,r=e.match(t),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),wb(e,i,0,r,n)}else n.push(e);return n}const od=e=>!Array.isArray(e);class jA{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(t){return this._cache.has(t)}get(t){const r=this._cache.get(t);return r||console.warn(`[Assets] Asset id ${t} was not found in the Cache`),r}set(t,r){const n=Pi(t);let i;for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(u=>{i[u]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(u=>{this._cacheMap.set(u,o)}),s.forEach(u=>{this._cache.has(u)&&this._cache.get(u)!==r&&console.warn("[Cache] already has key:",u),this._cache.set(u,i[u])}),r instanceof et){const u=r;n.forEach(c=>{u.baseTexture!==et.EMPTY.baseTexture&&bt.addToCache(u.baseTexture,c),et.addToCache(u,c)})}}remove(t){if(this._cacheMap.get(t),!this._cacheMap.has(t)){console.warn(`[Assets] Asset id ${t} was not found in the Cache`);return}const r=this._cacheMap.get(t);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const ml=new jA;class $A{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(t,r,n)=>(this._parsersValidated=!1,t[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(t,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,u;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${t}`)),!s){for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.load&&((o=h.test)==null?void 0:o.call(h,t,r,this))){s=h;break}}if(!s)return console.warn(`[Assets] ${t} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(t,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];h.parse&&h.parse&&await((u=h.testParse)==null?void 0:u.call(h,i,r,this))&&(i=await h.parse(i,r,this)||i,n.parser=h)}return i})(),n}async load(t,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=od(t),o=Pi(t,h=>({src:h})),u=o.length,c=o.map(async h=>{const f=nr.toAbsolute(h.src);if(!i[h.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,h)),i[h.src]=await this.promiseCache[f].promise,r&&r(++n/u)}catch(m){throw delete this.promiseCache[f],delete i[h.src],new Error(`[Loader.load] Failed to load ${f}.
${m}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(t){const n=Pi(t,i=>({src:i})).map(async i=>{var u,c;const s=nr.toAbsolute(i.src),o=this.promiseCache[s];if(o){const h=await o.promise;(c=(u=o.parser)==null?void 0:u.unload)==null||c.call(u,h,i,this),delete this.promiseCache[s]}});await Promise.all(n)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(t=>t.name).reduce((t,r)=>(t[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...t,[r.name]:r}),{})}}var li=(e=>(e[e.Low=0]="Low",e[e.Normal=1]="Normal",e[e.High=2]="High",e))(li||{});const WA=".json",VA="application/json",XA={extension:{type:ot.LoadParser,priority:li.Low},name:"loadJson",test(e){return wu(e,VA)||po(e,WA)},async load(e){return await(await tt.ADAPTER.fetch(e)).json()}};pt.add(XA);const YA=".txt",KA="text/plain",QA={name:"loadTxt",extension:{type:ot.LoadParser,priority:li.Low},test(e){return wu(e,KA)||po(e,YA)},async load(e){return await(await tt.ADAPTER.fetch(e)).text()}};pt.add(QA);const ZA=["normal","bold","100","200","300","400","500","600","700","800","900"],qA=[".ttf",".otf",".woff",".woff2"],JA=["font/ttf","font/otf","font/woff","font/woff2"],tP=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function eP(e){const t=nr.extname(e),i=nr.basename(e,t).replace(/(-|_)/g," ").toLowerCase().split(" ").map(u=>u.charAt(0).toUpperCase()+u.slice(1));let s=i.length>0;for(const u of i)if(!u.match(tP)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const rP={extension:{type:ot.LoadParser,priority:li.Low},name:"loadWebFont",test(e){return wu(e,JA)||po(e,qA)},async load(e,t){var n,i,s,o,u,c;const r=tt.ADAPTER.getFontFaceSet();if(r){const h=[],f=(i=(n=t.data)==null?void 0:n.family)!=null?i:eP(e),m=(u=(o=(s=t.data)==null?void 0:s.weights)==null?void 0:o.filter(v=>ZA.includes(v)))!=null?u:["normal"],g=(c=t.data)!=null?c:{};for(let v=0;v<m.length;v++){const x=m[v],S=new FontFace(f,`url(${encodeURI(e)})`,{...g,weight:x});await S.load(),r.add(S),h.push(S)}return h.length===1?h[0]:h}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(e){(Array.isArray(e)?e:[e]).forEach(t=>tt.ADAPTER.getFontFaceSet().delete(t))}};pt.add(rP);let cT=0,dp;const nP="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",iP={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${nP}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},sP={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let fp;class oP{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(t=>{const r=URL.createObjectURL(new Blob([iP.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),t(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(t){return this._run("loadImageBitmap",[t])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){dp===void 0&&(dp=navigator.hardwareConcurrency||4);let t=this.workerPool.pop();return!t&&this._createdWorkers<dp&&(fp||(fp=URL.createObjectURL(new Blob([sP.code],{type:"application/javascript"}))),this._createdWorkers++,t=new Worker(fp),t.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),t}returnWorker(t){this.workerPool.push(t)}complete(t){t.error!==void 0?this.resolveHash[t.uuid].reject(t.error):this.resolveHash[t.uuid].resolve(t.data),this.resolveHash[t.uuid]=null}async _run(t,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:t,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const t=this.getWorker();if(!t)return;const r=this.queue.pop(),n=r.id;this.resolveHash[cT]={resolve:r.resolve,reject:r.reject},t.postMessage({data:r.arguments,uuid:cT++,id:n})}}const hT=new oP;function Xd(e,t,r){const n=new et(e);return n.baseTexture.on("dispose",()=>{delete t.promiseCache[r]}),n}const aP=[".jpeg",".jpg",".png",".webp",".avif"],lP=["image/jpeg","image/png","image/webp","image/avif"];async function uP(e){const t=await tt.ADAPTER.fetch(e);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${e}: ${t.status} ${t.statusText}`);const r=await t.blob();return await createImageBitmap(r)}const Yd={name:"loadTextures",extension:{type:ot.LoadParser,priority:li.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(e){return wu(e,lP)||po(e,aP)},async load(e,t,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await hT.isImageBitmapSupported()?n=await hT.loadImageBitmap(e):n=await uP(e):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=e,n.complete?s(n):n.onload=()=>{s(n)}});const i=new bt(n,{resolution:Ts(e),...t.data});return i.resource.src=e,Xd(i,r,e)},unload(e){e.destroy(!0)}};pt.add(Yd);const cP=".svg",hP="image/svg+xml",dP={extension:{type:ot.LoadParser,priority:li.High},name:"loadSVG",test(e){return wu(e,hP)||po(e,cP)},async testParse(e){return uu.test(e)},async parse(e,t,r){var o;const n=new uu(e,(o=t==null?void 0:t.data)==null?void 0:o.resourceOptions);await n.load();const i=new bt(n,{resolution:Ts(e),...t==null?void 0:t.data});return i.resource.src=e,Xd(i,r,e)},async load(e,t){return(await tt.ADAPTER.fetch(e)).text()},unload:Yd.unload};pt.add(dP);class fP{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(t,r)=>`${t}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(t,r)=>r.replace(`${t}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(t){var r,n,i;if(this._bundleIdConnector=(r=t.connector)!=null?r:this._bundleIdConnector,this._createBundleAssetId=(n=t.createBundleAssetId)!=null?n:this._createBundleAssetId,this._extractAssetIdFromBundle=(i=t.extractAssetIdFromBundle)!=null?i:this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...t){t.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(t){this._basePath=t}get basePath(){return this._basePath}set rootPath(t){this._rootPath=t}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(t){if(typeof t=="string")this._defaultSearchParams=t;else{const r=t;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(t){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=t,t.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(t,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(t,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(t,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(t,i)),this.add([i,this._createBundleAssetId(t,i)],r[i])}),this._bundles[t]=n}add(t,r,n){const i=Pi(t);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=HA(r):r=[r]);const s=r.map(o=>{var c;let u=o;if(typeof o=="string"){let h=!1;for(let f=0;f<this._parsers.length;f++){const m=this._parsers[f];if(m.test(o)){u=m.parse(o),h=!0;break}}h||(u={src:o})}return u.format||(u.format=u.src.split(".").pop()),u.alias||(u.alias=i),(this._basePath||this._rootPath)&&(u.src=nr.toAbsolute(u.src,this._basePath,this._rootPath)),u.src=this._appendDefaultSearchParams(u.src),u.data=(c=u.data)!=null?c:n,u});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(t){const r=od(t);t=Pi(t);const n={};return t.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),u={};for(const c in o){const h=o[c];u[this._extractAssetIdFromBundle(i,c)]=h}n[i]=u}}),r?n[t[0]]:n}resolveUrl(t){const r=this.resolve(t);if(typeof t!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(t){const r=od(t);t=Pi(t);const n={};return t.forEach(i=>{var s;if(!this._resolverHash[i])if(this._assetMap[i]){let o=this._assetMap[i];const u=this._getPreferredOrder(o),c=o[0];u==null||u.priority.forEach(h=>{u.params[h].forEach(f=>{const m=o.filter(g=>g[h]?g[h]===f:!1);m.length&&(o=m)})}),this._resolverHash[i]=(s=o[0])!=null?s:c}else{let o=i;(this._basePath||this._rootPath)&&(o=nr.toAbsolute(o,this._basePath,this._rootPath)),o=this._appendDefaultSearchParams(o),this._resolverHash[i]={src:o}}n[i]=this._resolverHash[i]}),r?n[t[0]]:n}hasKey(t){return!!this._assetMap[t]}hasBundle(t){return!!this._bundles[t]}_getPreferredOrder(t){for(let r=0;r<t.length;r++){const n=t[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(t){if(!this._defaultSearchParams)return t;const r=/\?/.test(t)?"&":"?";return`${t}${r}${this._defaultSearchParams}`}}class mP{constructor(){this._detections=[],this._initialized=!1,this.resolver=new fP,this.loader=new $A,this.cache=ml,this._backgroundLoader=new GA(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(t={}){var s,o,u,c;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,t.defaultSearchParams&&this.resolver.setDefaultSearchParams(t.defaultSearchParams),t.basePath&&(this.resolver.basePath=t.basePath),t.bundleIdentifier&&this.resolver.setBundleIdentifier(t.bundleIdentifier),t.manifest){let h=t.manifest;typeof h=="string"&&(h=await this.load(h)),this.resolver.addManifest(h)}const r=(o=(s=t.texturePreference)==null?void 0:s.resolution)!=null?o:1,n=typeof r=="number"?[r]:r;let i=[];if((u=t.texturePreference)!=null&&u.format){const h=(c=t.texturePreference)==null?void 0:c.format;i=typeof h=="string"?[h]:h;for(const f of this._detections)await f.test()||(i=await f.remove(i))}else for(const h of this._detections)await h.test()&&(i=await h.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),t.preferences&&this.setPreferences(t.preferences)}add(t,r,n){this.resolver.add(t,r,n)}async load(t,r){this._initialized||await this.init();const n=od(t),i=Pi(t).map(u=>typeof u!="string"?(this.resolver.add(u.src,u),u.src):(this.resolver.hasKey(u)||this.resolver.add(u,u),u)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(t,r){this.resolver.addBundle(t,r)}async loadBundle(t,r){this._initialized||await this.init();let n=!1;typeof t=="string"&&(n=!0,t=[t]);const i=this.resolver.resolveBundle(t),s={},o=Object.keys(i);let u=0,c=0;const h=()=>{r==null||r(++u/c)},f=o.map(m=>{const g=i[m];return c+=Object.keys(g).length,this._mapLoadToResolve(g,h).then(v=>{s[m]=v})});return await Promise.all(f),n?s[t[0]]:s}async backgroundLoad(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const r=this.resolver.resolve(t);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(t){this._initialized||await this.init(),typeof t=="string"&&(t=[t]);const r=this.resolver.resolveBundle(t);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(t){if(typeof t=="string")return ml.get(t);const r={};for(let n=0;n<t.length;n++)r[n]=ml.get(t[n]);return r}async _mapLoadToResolve(t,r){const n=Object.values(t),i=Object.keys(t);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((u,c)=>{const h=s[u.src],f=[u.src];u.alias&&f.push(...u.alias),o[i[c]]=h,ml.set(f,h)}),o}async unload(t){this._initialized||await this.init();const r=Pi(t).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(t){this._initialized||await this.init(),t=Pi(t);const r=this.resolver.resolveBundle(t),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(t){const r=Object.values(t);r.forEach(n=>{ml.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return Yd.config.preferWorkers}set preferWorkers(t){At("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:t})}setPreferences(t){this.loader.parsers.forEach(r=>{!r.config||Object.keys(r.config).filter(n=>n in t).forEach(n=>{r.config[n]=t[n]})})}}const Vc=new mP;pt.handleByList(ot.LoadParser,Vc.loader.parsers).handleByList(ot.ResolveParser,Vc.resolver.parsers).handleByList(ot.CacheParser,Vc.cache.parsers).handleByList(ot.DetectionParser,Vc.detections);const pP={extension:ot.CacheParser,test:e=>Array.isArray(e)&&e.every(t=>t instanceof et),getCacheableAssets:(e,t)=>{const r={};return e.forEach(n=>{t.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};pt.add(pP);const gP={extension:{type:ot.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const e="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",t=await tt.ADAPTER.fetch(e).then(r=>r.blob());return createImageBitmap(t).then(()=>!0,()=>!1)},add:async e=>[...e,"avif"],remove:async e=>e.filter(t=>t!=="avif")};pt.add(gP);const yP={extension:{type:ot.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const e="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",t=await tt.ADAPTER.fetch(e).then(r=>r.blob());return createImageBitmap(t).then(()=>!0,()=>!1)},add:async e=>[...e,"webp"],remove:async e=>e.filter(t=>t!=="webp")};pt.add(yP);const dT=["png","jpg","jpeg"],vP={extension:{type:ot.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async e=>[...e,...dT],remove:async e=>e.filter(t=>!dT.includes(t))};pt.add(vP);const xP={extension:ot.ResolveParser,test:Yd.test,parse:e=>{var t,r;return{resolution:parseFloat((r=(t=tt.RETINA_PREFIX.exec(e))==null?void 0:t[1])!=null?r:"1"),format:e.split(".").pop(),src:e}}};pt.add(xP);const TP=[".xml",".fnt"],_P={extension:{type:ot.LoadParser,priority:li.Normal},name:"loadBitmapFont",test(e){return TP.includes(nr.extname(e).toLowerCase())},async testParse(e){return bh.test(e)||$0.test(e)},async parse(e,t,r){const n=bh.test(e)?bh.parse(e):$0.parse(e),{src:i}=t,{page:s}=n,o=[];for(let h=0;h<s.length;++h){const f=s[h].file;let m=nr.join(nr.dirname(i),f);m=W0(m,i),o.push(m)}const u=await r.load(o),c=o.map(h=>u[h]);return yr.install(n,c,!0)},async load(e,t){return(await tt.ADAPTER.fetch(e)).text()},unload(e){e.destroy()}};pt.add(_P);const ad={build(e){const t=e.points;let r,n,i,s,o,u;if(e.type===We.CIRC){const x=e.shape;r=x.x,n=x.y,o=u=x.radius,i=s=0}else if(e.type===We.ELIP){const x=e.shape;r=x.x,n=x.y,o=x.width,u=x.height,i=s=0}else{const x=e.shape,S=x.width/2,E=x.height/2;r=x.x+S,n=x.y+E,o=u=Math.max(0,Math.min(x.radius,Math.min(S,E))),i=S-o,s=E-u}if(!(o>=0&&u>=0&&i>=0&&s>=0)){t.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+u)),h=c*8+(i?4:0)+(s?4:0);if(t.length=h,h===0)return;if(c===0){t.length=8,t[0]=t[6]=r+i,t[1]=t[3]=n+s,t[2]=t[4]=r-i,t[5]=t[7]=n-s;return}let f=0,m=c*4+(i?2:0)+2,g=m,v=h;{const x=i+o,S=s,E=r+x,w=r-x,b=n+S;if(t[f++]=E,t[f++]=b,t[--m]=b,t[--m]=w,s){const _=n-S;t[g++]=w,t[g++]=_,t[--v]=_,t[--v]=E}}for(let x=1;x<c;x++){const S=Math.PI/2*(x/c),E=i+Math.cos(S)*o,w=s+Math.sin(S)*u,b=r+E,_=r-E,C=n+w,P=n-w;t[f++]=b,t[f++]=C,t[--m]=C,t[--m]=_,t[g++]=_,t[g++]=P,t[--v]=P,t[--v]=b}{const x=i,S=s+u,E=r+x,w=r-x,b=n+S,_=n-S;t[f++]=E,t[f++]=b,t[--v]=_,t[--v]=E,i&&(t[f++]=w,t[f++]=b,t[--v]=_,t[--v]=w)}},triangulate(e,t){const r=e.points,n=t.points,i=t.indices;if(r.length===0)return;let s=n.length/2;const o=s;let u,c;if(e.type!==We.RREC){const f=e.shape;u=f.x,c=f.y}else{const f=e.shape;u=f.x+f.width/2,c=f.y+f.height/2}const h=e.matrix;n.push(e.matrix?h.a*u+h.c*c+h.tx:u,e.matrix?h.b*u+h.d*c+h.ty:c),s++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function fT(e,t=!1){const r=e.length;if(r<6)return;let n=0;for(let i=0,s=e[r-2],o=e[r-1];i<r;i+=2){const u=e[i],c=e[i+1];n+=(u-s)*(c+o),s=u,o=c}if(!t&&n>0||t&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,u=r-s-1,c=s,h=s+1;[e[o],e[c]]=[e[c],e[o]],[e[u],e[h]]=[e[h],e[u]]}}}const Sb={build(e){e.points=e.shape.points.slice()},triangulate(e,t){let r=e.points;const n=e.holes,i=t.points,s=t.indices;if(r.length>=6){fT(r,!1);const o=[];for(let h=0;h<n.length;h++){const f=n[h];fT(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const u=a1.exports(r,o,2);if(!u)return;const c=i.length/2;for(let h=0;h<u.length;h+=3)s.push(u[h]+c),s.push(u[h+1]+c),s.push(u[h+2]+c);for(let h=0;h<r.length;h++)i.push(r[h])}}},bP={build(e){const t=e.shape,r=t.x,n=t.y,i=t.width,s=t.height,o=e.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(e,t){const r=e.points,n=t.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},wP={build(e){ad.build(e)},triangulate(e,t){ad.triangulate(e,t)}};var xn=(e=>(e.MITER="miter",e.BEVEL="bevel",e.ROUND="round",e))(xn||{}),qs=(e=>(e.BUTT="butt",e.ROUND="round",e.SQUARE="square",e))(qs||{});const Aa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(e,t=20){if(!this.adaptive||!e||isNaN(e))return t;let r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class mT{static curveTo(t,r,n,i,s,o){const u=o[o.length-2],h=o[o.length-1]-r,f=u-t,m=i-r,g=n-t,v=Math.abs(h*g-f*m);if(v<1e-8||s===0)return(o[o.length-2]!==t||o[o.length-1]!==r)&&o.push(t,r),null;const x=h*h+f*f,S=m*m+g*g,E=h*m+f*g,w=s*Math.sqrt(x)/v,b=s*Math.sqrt(S)/v,_=w*E/x,C=b*E/S,P=w*g+b*f,O=w*m+b*h,M=f*(b+_),N=h*(b+_),Q=g*(w+C),V=m*(w+C),Y=Math.atan2(N-O,M-P),it=Math.atan2(V-O,Q-P);return{cx:P+t,cy:O+r,radius:s,startAngle:Y,endAngle:it,anticlockwise:f*m>g*h}}static arc(t,r,n,i,s,o,u,c,h){const f=u-o,m=Aa._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/nd)*40),g=f/(m*2),v=g*2,x=Math.cos(g),S=Math.sin(g),E=m-1,w=E%1/E;for(let b=0;b<=E;++b){const _=b+w*b,C=g+o+v*_,P=Math.cos(C),O=-Math.sin(C);h.push((x*P+S*O)*s+n,(x*-O+S*P)*s+i)}}}class SP{constructor(){this.reset()}begin(t,r,n){this.reset(),this.style=t,this.start=r,this.attribStart=n}end(t,r){this.attribSize=r-this.attribStart,this.size=t-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class f1{static curveLength(t,r,n,i,s,o,u,c){let f=0,m=0,g=0,v=0,x=0,S=0,E=0,w=0,b=0,_=0,C=0,P=t,O=r;for(let M=1;M<=10;++M)m=M/10,g=m*m,v=g*m,x=1-m,S=x*x,E=S*x,w=E*t+3*S*m*n+3*x*g*s+v*u,b=E*r+3*S*m*i+3*x*g*o+v*c,_=P-w,C=O-b,P=w,O=b,f+=Math.sqrt(_*_+C*C);return f}static curveTo(t,r,n,i,s,o,u){const c=u[u.length-2],h=u[u.length-1];u.length-=2;const f=Aa._segmentsCount(f1.curveLength(c,h,t,r,n,i,s,o));let m=0,g=0,v=0,x=0,S=0;u.push(c,h);for(let E=1,w=0;E<=f;++E)w=E/f,m=1-w,g=m*m,v=g*m,x=w*w,S=x*w,u.push(v*c+3*g*w*t+3*m*x*n+S*s,v*h+3*g*w*r+3*m*x*i+S*o)}}function pT(e,t,r,n,i,s,o,u){const c=e-r*i,h=t-n*i,f=e+r*s,m=t+n*s;let g,v;o?(g=n,v=-r):(g=-n,v=r);const x=c+g,S=h+v,E=f+g,w=m+v;return u.push(x,S,E,w),2}function zs(e,t,r,n,i,s,o,u){const c=r-e,h=n-t;let f=Math.atan2(c,h),m=Math.atan2(i-e,s-t);u&&f<m?f+=Math.PI*2:!u&&f>m&&(m+=Math.PI*2);let g=f;const v=m-f,x=Math.abs(v),S=Math.sqrt(c*c+h*h),E=(15*x*Math.sqrt(S)/Math.PI>>0)+1,w=v/E;if(g+=w,u){o.push(e,t,r,n);for(let b=1,_=g;b<E;b++,_+=w)o.push(e,t,e+Math.sin(_)*S,t+Math.cos(_)*S);o.push(e,t,i,s)}else{o.push(r,n,e,t);for(let b=1,_=g;b<E;b++,_+=w)o.push(e+Math.sin(_)*S,t+Math.cos(_)*S,e,t);o.push(i,s,e,t)}return E*2}function EP(e,t){const r=e.shape;let n=e.points||r.points.slice();const i=t.closePointEps;if(n.length===0)return;const s=e.lineStyle,o=new wt(n[0],n[1]),u=new wt(n[n.length-2],n[n.length-1]),c=r.type!==We.POLY||r.closeStroke,h=Math.abs(o.x-u.x)<i&&Math.abs(o.y-u.y)<i;if(c){n=n.slice(),h&&(n.pop(),n.pop(),u.set(n[n.length-2],n[n.length-1]));const z=(o.x+u.x)*.5,R=(u.y+o.y)*.5;n.unshift(z,R),n.push(z,R)}const f=t.points,m=n.length/2;let g=n.length;const v=f.length/2,x=s.width/2,S=x*x,E=s.miterLimit*s.miterLimit;let w=n[0],b=n[1],_=n[2],C=n[3],P=0,O=0,M=-(b-C),N=w-_,Q=0,V=0,Y=Math.sqrt(M*M+N*N);M/=Y,N/=Y,M*=x,N*=x;const it=s.alignment,W=(1-it)*2,U=it*2;c||(s.cap===qs.ROUND?g+=zs(w-M*(W-U)*.5,b-N*(W-U)*.5,w-M*W,b-N*W,w+M*U,b+N*U,f,!0)+2:s.cap===qs.SQUARE&&(g+=pT(w,b,M,N,W,U,!0,f))),f.push(w-M*W,b-N*W,w+M*U,b+N*U);for(let z=1;z<m-1;++z){w=n[(z-1)*2],b=n[(z-1)*2+1],_=n[z*2],C=n[z*2+1],P=n[(z+1)*2],O=n[(z+1)*2+1],M=-(b-C),N=w-_,Y=Math.sqrt(M*M+N*N),M/=Y,N/=Y,M*=x,N*=x,Q=-(C-O),V=_-P,Y=Math.sqrt(Q*Q+V*V),Q/=Y,V/=Y,Q*=x,V*=x;const R=_-w,L=b-C,k=_-P,K=O-C,nt=R*k+L*K,St=L*k-K*R,_t=St<0;if(Math.abs(St)<.001*Math.abs(nt)){f.push(_-M*W,C-N*W,_+M*U,C+N*U),nt>=0&&(s.join===xn.ROUND?g+=zs(_,C,_-M*W,C-N*W,_-Q*W,C-V*W,f,!1)+4:g+=2,f.push(_-Q*U,C-V*U,_+Q*W,C+V*W));continue}const Bt=(-M+w)*(-N+C)-(-M+_)*(-N+b),Pt=(-Q+P)*(-V+C)-(-Q+_)*(-V+O),Lt=(R*Pt-k*Bt)/St,ke=(K*Bt-L*Pt)/St,Ue=(Lt-_)*(Lt-_)+(ke-C)*(ke-C),he=_+(Lt-_)*W,Rt=C+(ke-C)*W,Qt=_-(Lt-_)*U,Nt=C-(ke-C)*U,Br=Math.min(R*R+L*L,k*k+K*K),Ur=_t?W:U,Is=Br+Ur*Ur*S,rf=Ue<=Is;let vo=s.join;if(vo===xn.MITER&&Ue/S>E&&(vo=xn.BEVEL),rf)switch(vo){case xn.MITER:{f.push(he,Rt,Qt,Nt);break}case xn.BEVEL:{_t?f.push(he,Rt,_+M*U,C+N*U,he,Rt,_+Q*U,C+V*U):f.push(_-M*W,C-N*W,Qt,Nt,_-Q*W,C-V*W,Qt,Nt),g+=2;break}case xn.ROUND:{_t?(f.push(he,Rt,_+M*U,C+N*U),g+=zs(_,C,_+M*U,C+N*U,_+Q*U,C+V*U,f,!0)+4,f.push(he,Rt,_+Q*U,C+V*U)):(f.push(_-M*W,C-N*W,Qt,Nt),g+=zs(_,C,_-M*W,C-N*W,_-Q*W,C-V*W,f,!1)+4,f.push(_-Q*W,C-V*W,Qt,Nt));break}}else{switch(f.push(_-M*W,C-N*W,_+M*U,C+N*U),vo){case xn.MITER:{_t?f.push(Qt,Nt,Qt,Nt):f.push(he,Rt,he,Rt),g+=2;break}case xn.ROUND:{_t?g+=zs(_,C,_+M*U,C+N*U,_+Q*U,C+V*U,f,!0)+2:g+=zs(_,C,_-M*W,C-N*W,_-Q*W,C-V*W,f,!1)+2;break}}f.push(_-Q*W,C-V*W,_+Q*U,C+V*U),g+=2}}w=n[(m-2)*2],b=n[(m-2)*2+1],_=n[(m-1)*2],C=n[(m-1)*2+1],M=-(b-C),N=w-_,Y=Math.sqrt(M*M+N*N),M/=Y,N/=Y,M*=x,N*=x,f.push(_-M*W,C-N*W,_+M*U,C+N*U),c||(s.cap===qs.ROUND?g+=zs(_-M*(W-U)*.5,C-N*(W-U)*.5,_-M*W,C-N*W,_+M*U,C+N*U,f,!1)+2:s.cap===qs.SQUARE&&(g+=pT(_,C,M,N,W,U,!1,f)));const ft=t.indices,vt=Aa.epsilon*Aa.epsilon;for(let z=v;z<g+v-2;++z)w=f[z*2],b=f[z*2+1],_=f[(z+1)*2],C=f[(z+1)*2+1],P=f[(z+2)*2],O=f[(z+2)*2+1],!(Math.abs(w*(C-O)+_*(O-b)+P*(b-C))<vt)&&ft.push(z,z+1,z+2)}function CP(e,t){let r=0;const n=e.shape,i=e.points||n.points,s=n.type!==We.POLY||n.closeStroke;if(i.length===0)return;const o=t.points,u=t.indices,c=i.length/2,h=o.length/2;let f=h;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),u.push(f,f+1),f++;s&&u.push(f,h)}function gT(e,t){e.lineStyle.native?CP(e,t):EP(e,t)}class m1{static curveLength(t,r,n,i,s,o){const u=t-2*n+s,c=r-2*i+o,h=2*n-2*t,f=2*i-2*r,m=4*(u*u+c*c),g=4*(u*h+c*f),v=h*h+f*f,x=2*Math.sqrt(m+g+v),S=Math.sqrt(m),E=2*m*S,w=2*Math.sqrt(v),b=g/S;return(E*x+S*g*(x-w)+(4*v*m-g*g)*Math.log((2*S+b+x)/(b+w)))/(4*E)}static curveTo(t,r,n,i,s){const o=s[s.length-2],u=s[s.length-1],c=Aa._segmentsCount(m1.curveLength(o,u,t,r,n,i));let h=0,f=0;for(let m=1;m<=c;++m){const g=m/c;h=o+(t-o)*g,f=u+(r-u)*g,s.push(h+(t+(n-t)*g-h)*g,f+(r+(i-r)*g-f)*g)}}}const mp={[We.POLY]:Sb,[We.CIRC]:ad,[We.ELIP]:ad,[We.RECT]:bP,[We.RREC]:wP},yT=[],Xc=[];class ld{constructor(t,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=t,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=t.type}clone(){return new ld(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Lo=new wt,Eb=class extends O3{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new id,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Xc.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t.reset(),yT.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,n=null){const i=new ld(e,t,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;const r=new ld(e,null,null,t),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const t=this.graphicsData;for(let r=0;r<t.length;++r){const n=t[r];if(!!n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(e,Lo):Lo.copyFrom(e),n.shape.contains(Lo.x,Lo.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(Lo.x,Lo.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,t=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let u=this.shapeIndex;u<t.length;u++){this.shapeIndex++;const c=t[u],h=c.fillStyle,f=c.lineStyle;mp[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(h.visible||f.visible)&&this.processHoles(c.holes);for(let g=0;g<2;g++){const v=g===0?h:f;if(!v.visible)continue;const x=v.texture.baseTexture,S=this.indices.length,E=this.points.length/2;x.wrapMode=Ai.REPEAT,g===0?this.processFill(c):this.processLine(c);const w=this.points.length/2-E;w!==0&&(r&&!this._compareStyles(n,v)&&(r.end(S,E),r=null),r||(r=yT.pop()||new SP,r.begin(v,S,E),this.batches.push(r),n=v),this.addUvs(this.points,e,v.texture,E,w,v.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){const r=this.graphicsData[e],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let t=0,r=e.length;t<r;t++){const n=e[t];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<Eb.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++bt._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),Xc.push(this.drawCalls[f]);this.drawCalls.length=0;const t=this.colors,r=this.textureIds;let n=Xc.pop();n||(n=new N0,n.texArray=new O0),n.texArray.count=0,n.start=0,n.size=0,n.type=Sn.TRIANGLES;let i=0,s=null,o=0,u=!1,c=Sn.TRIANGLES,h=0;this.drawCalls.push(n);for(let f=0;f<this.batches.length;f++){const m=this.batches[f],g=8,v=m.style,x=v.texture.baseTexture;u!==!!v.native&&(u=!!v.native,c=u?Sn.LINES:Sn.TRIANGLES,s=null,i=g,e++),s!==x&&(s=x,x._batchEnabled!==e&&(i===g&&(e++,i=0,n.size>0&&(n=Xc.pop(),n||(n=new N0,n.texArray=new O0),this.drawCalls.push(n)),n.start=h,n.size=0,n.texArray.count=0,n.type=c),x.touched=1,x._batchEnabled=e,x._batchLocation=i,x.wrapMode=Ai.REPEAT,n.texArray.elements[n.texArray.count++]=x,i++)),n.size+=m.size,h+=m.size,o=x._batchLocation,this.addColors(t,v.color,v.alpha,m.attribSize,m.attribStart),this.addTextureIds(r,o,m.attribSize,m.attribStart)}bt._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,t=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(e.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let u=0;for(let c=0;c<e.length/2;c++)s[u++]=e[c*2],s[u++]=e[c*2+1],s[u++]=t[c*2],s[u++]=t[c*2+1],o[u++]=r[c],s[u++]=n[c];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?Sb.triangulate(e,this):mp[e.type].triangulate(e,this)}processLine(e){gT(e,this);for(let t=0;t<e.holes.length;t++)gT(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){const r=e[t];mp[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){const n=e[r*2],i=e[r*2+1];e[r*2]=t.a*n+t.c*i+t.tx,e[r*2+1]=t.b*n+t.d*i+t.ty}}addColors(e,t,r,n,i=0){const s=Gt.shared.setValue(t).toLittleEndianNumber(),o=Gt.shared.setValue(s).toPremultiplied(r);e.length=Math.max(e.length,i+n);for(let u=0;u<n;u++)e[i+u]=o}addTextureIds(e,t,r,n=0){e.length=Math.max(e.length,n+r);for(let i=0;i<r;i++)e[n+i]=t}addUvs(e,t,r,n,i,s=null){let o=0;const u=t.length,c=r.frame;for(;o<i;){let f=e[(n+o)*2],m=e[(n+o)*2+1];if(s){const g=s.a*f+s.c*m+s.tx;m=s.b*f+s.d*m+s.ty,f=g}o++,t.push(f/c.width,m/c.height)}const h=r.baseTexture;(c.width<h.width||c.height<h.height)&&this.adjustUvs(t,r,u,i)}adjustUvs(e,t,r,n){const i=t.baseTexture,s=1e-6,o=r+n*2,u=t.frame,c=u.width/i.width,h=u.height/i.height;let f=u.x/u.width,m=u.y/u.height,g=Math.floor(e[r]+s),v=Math.floor(e[r+1]+s);for(let x=r+2;x<o;x+=2)g=Math.min(g,Math.floor(e[x]+s)),v=Math.min(v,Math.floor(e[x+1]+s));f-=g,m-=v;for(let x=r;x<o;x+=2)e[x]=(e[x]+f)*c,e[x+1]=(e[x+1]+m)*h}};let Cb=Eb;Cb.BATCHABLE_SIZE=100;class Kd{constructor(){this.color=16777215,this.alpha=1,this.texture=et.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const t=new Kd;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t}reset(){this.color=16777215,this.alpha=1,this.texture=et.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class p1 extends Kd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=qs.BUTT,this.join=xn.MITER,this.miterLimit=10}clone(){const t=new p1;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t.width=this.width,t.alignment=this.alignment,t.native=this.native,t.cap=this.cap,t.join=this.join,t.miterLimit=this.miterLimit,t}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const pp={},Sh=class extends Ht{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Kd,this._lineStyle=new p1,this._matrix=null,this._holeMode=!1,this.state=Bi.for2d(),this._geometry=e||new Cb,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Gt(16777215),this.blendMode=mt.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Sh(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,n=.5,i=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:r,alignment:n,native:i}),this.lineTextureStyle(e)}lineTextureStyle(e){const t={width:0,texture:et.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:qs.BUTT,join:xn.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new ya,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new ya,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==e||i!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),m1.curveTo(e,t,r,n,i),this}bezierCurveTo(e,t,r,n,i,s){return this._initCurve(),f1.curveTo(e,t,r,n,i,s,this.currentPath.points),this}arcTo(e,t,r,n,i){this._initCurve(e,t);const s=this.currentPath.points,o=mT.curveTo(e,t,r,n,i,s);if(o){const{cx:u,cy:c,radius:h,startAngle:f,endAngle:m,anticlockwise:g}=o;this.arc(u,c,h,f,m,g)}return this}arc(e,t,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=nd:s&&n<=i&&(n+=nd),i-n===0)return this;const u=e+Math.cos(n)*r,c=t+Math.sin(n)*r,h=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const m=Math.abs(f[f.length-2]-u),g=Math.abs(f[f.length-1]-c);m<h&&g<h||f.push(u,c)}else this.moveTo(u,c),f=this.currentPath.points;return mT.arc(u,c,e,t,r,n,i,s,f),this}beginFill(e=0,t){return this.beginTextureFill({texture:et.WHITE,color:e,alpha:t})}normalizeColor(e){var r,n;const t=Gt.shared.setValue((r=e.color)!=null?r:0);e.color=t.toNumber(),(n=e.alpha)!=null||(e.alpha=t.alpha)}beginTextureFill(e){const t={texture:et.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,n){return this.drawShape(new Et(e,t,r,n))}drawRoundedRect(e,t,r,n,i){return this.drawShape(new c1(e,t,r,n,i))}drawCircle(e,t,r){return this.drawShape(new l1(e,t,r))}drawEllipse(e,t,r,n){return this.drawShape(new u1(e,t,r,n))}drawPolygon(...e){let t,r=!0;const n=e[0];n.points?(r=n.closeStroke,t=n.points):Array.isArray(e[0])?t=e[0]:t=e;const i=new ya(t);return i.closeStroke=r,this.drawShape(i),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===We.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let n=0;n<r;n++){const i=e.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),u=new Float32Array(e.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),c=new Uint16Array(e.indicesUint16.buffer,i.start*2,i.size),h={vertexData:o,blendMode:t,indices:c,uvs:u,_batchRGB:Gt.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=h}}_renderBatched(e){if(!!this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){const n=this.batches[t];n.worldAlpha=this.worldAlpha*n.alpha,e.plugins[this.pluginName].render(n)}}}_renderDirect(e){const t=this._resolveDirectShader(e),r=this._geometry,n=this.worldAlpha,i=t.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,Gt.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let o=0,u=s.length;o<u;o++)this._renderDrawCallDirect(e,r.drawCalls[o])}_renderDrawCallDirect(e,t){const{texArray:r,type:n,size:i,start:s}=t,o=r.count;for(let u=0;u<o;u++)e.texture.bind(r.elements[u],u);e.geometry.draw(n,i,s)}_resolveDirectShader(e){let t=this.shader;const r=this.pluginName;if(!t){if(!pp[r]){const{maxTextures:n}=e.plugins[r],i=new Int32Array(n);for(let u=0;u<n;u++)i[u]=u;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new ie,default:Mn.from({uSamplers:i},!0)},o=e.plugins[r]._shader.program;pp[r]=new ni(o,s)}t=pp[r]}return t}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:t,minY:r,maxX:n,maxY:i}=e.bounds;this._bounds.addFrame(this.transform,t,r,n,i)}containsPoint(e){return this.worldTransform.applyInverse(e,Sh._TEMP_POINT),this._geometry.containsPoint(Sh._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const t=this.batches[e];t._tintRGB=Gt.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const t=this.transform.worldTransform,r=t.a,n=t.b,i=t.c,s=t.d,o=t.tx,u=t.ty,c=this._geometry.points,h=this.vertexData;let f=0;for(let m=0;m<c.length;m+=2){const g=c[m],v=c[m+1];h[f++]=r*g+i*v+o,h[f++]=s*v+n*g+u}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};let nn=Sh;nn.curves=Aa;nn._TEMP_POINT=new wt;class AP extends Vd{constructor(t=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=t,this.height=r,this.build()}build(){const t=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,u=this.width/s,c=this.height/o;for(let f=0;f<t;f++){const m=f%this.segWidth,g=f/this.segWidth|0;r.push(m*u,g*c),n.push(m/s,g/o)}const h=s*o;for(let f=0;f<h;f++){const m=f%s,g=f/s|0,v=g*this.segWidth+m,x=g*this.segWidth+m+1,S=(g+1)*this.segWidth+m,E=(g+1)*this.segWidth+m+1;i.push(v,x,S,x,E,S)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class PP extends Vd{constructor(t=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=t,this.textureScale=n,this.build()}get width(){return this._width}build(){const t=this.points;if(!t)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(t.length<1)return;r.data.length/4!==t.length&&(r.data=new Float32Array(t.length*4),n.data=new Float32Array(t.length*4),i.data=new Uint16Array((t.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let u=0,c=t[0];const h=this._width*this.textureScale,f=t.length;for(let g=0;g<f;g++){const v=g*4;if(this.textureScale>0){const x=c.x-t[g].x,S=c.y-t[g].y,E=Math.sqrt(x*x+S*S);c=t[g],u+=E/h}else u=g/(f-1);s[v]=u,s[v+1]=0,s[v+2]=u,s[v+3]=1}let m=0;for(let g=0;g<f-1;g++){const v=g*2;o[m++]=v,o[m++]=v+1,o[m++]=v+2,o[m++]=v+2,o[m++]=v+1,o[m++]=v+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const t=this.points;if(t.length<1)return;let r=t[0],n,i=0,s=0;const o=this.buffers[0].data,u=t.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let h=0;h<u;h++){const f=t[h],m=h*4;h<t.length-1?n=t[h+1]:n=f,s=-(n.x-r.x),i=n.y-r.y;const g=Math.sqrt(i*i+s*s);g<1e-6?(i=0,s=0):(i/=g,s/=g,i*=c,s*=c),o[m]=f.x+i,o[m+1]=f.y+s,o[m+2]=f.x-i,o[m+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class IP extends Ca{constructor(t,r,n){const i=new AP(t.width,t.height,r,n),s=new cu(et.WHITE);super(i,s),this.texture=t,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const t=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(t.width!==r||t.height!==n)&&(t.width=this.shader.texture.width,t.height=this.shader.texture.height,t.build())}set texture(t){this.shader.texture!==t&&(this.shader.texture=t,this._textureID=-1,t.baseTexture.valid?this.textureUpdated():t.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(t)}destroy(t){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(t)}}const Yc=10;class RP extends IP{constructor(t,r,n,i,s){var o,u,c,h,f,m,g,v;super(et.WHITE,4,4),this._origWidth=t.orig.width,this._origHeight=t.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=(u=r!=null?r:(o=t.defaultBorders)==null?void 0:o.left)!=null?u:Yc,this._rightWidth=(h=i!=null?i:(c=t.defaultBorders)==null?void 0:c.right)!=null?h:Yc,this._topHeight=(m=n!=null?n:(f=t.defaultBorders)==null?void 0:f.top)!=null?m:Yc,this._bottomHeight=(v=s!=null?s:(g=t.defaultBorders)==null?void 0:g.bottom)!=null?v:Yc,this.texture=t}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}updateHorizontalVertices(){const t=this.vertices,r=this._getMinScale();t[9]=t[11]=t[13]=t[15]=this._topHeight*r,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight*r,t[25]=t[27]=t[29]=t[31]=this._height}updateVerticalVertices(){const t=this.vertices,r=this._getMinScale();t[2]=t[10]=t[18]=t[26]=this._leftWidth*r,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth*r,t[6]=t[14]=t[22]=t[30]=this._width}_getMinScale(){const t=this._leftWidth+this._rightWidth,r=this._width>t?1:this._width/t,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(t){this._width=t,this._refresh()}get height(){return this._height}set height(t){this._height=t,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(t){this._leftWidth=t,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(t){this._rightWidth=t,this._refresh()}get topHeight(){return this._topHeight}set topHeight(t){this._topHeight=t,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(t){this._bottomHeight=t,this._refresh()}_refresh(){const t=this.texture,r=this.geometry.buffers[1].data;this._origWidth=t.orig.width,this._origHeight=t.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class kP extends Ca{constructor(t=et.EMPTY,r,n,i,s){const o=new Vd(r,n,i);o.getBuffer("aVertexPosition").static=!1;const u=new cu(t);super(o,u,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(t){this.geometry.getBuffer("aVertexPosition").data=t}_render(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(t)}}class MP extends Ca{constructor(t,r,n=0){const i=new PP(t.height,r,n),s=new cu(t);n>0&&(t.baseTexture.wrapMode=Ai.REPEAT),super(i,s),this.autoUpdate=!0}_render(t){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(t)}}class DP extends Ht{constructor(t=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=t,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=mt.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Gt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(t){t&&(this._properties[0]="vertices"in t||"scale"in t?!!t.vertices||!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="tint"in t||"alpha"in t?!!t.tint||!!t.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t),this._tintColor.toRgbArray(this.tintRgb)}render(t){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),t.batch.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))}onChildrenChange(t){const r=Math.floor(t/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._buffers=null}}destroy(t){super.destroy(t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class vT{constructor(t,r,n){this.geometry=new _s,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<t.length;++i){let s=t[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||yt.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const t=this.geometry;let r=0;this.indexBuffer=new xe(a4(this.size),!0,!0),t.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];u.offset=r,r+=u.size,this.dynamicStride+=u.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new xe(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];u.offset=i,i+=u.size,this.staticStride+=u.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new xe(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const u=this.dynamicProperties[o];t.addAttribute(u.attributeName,this.dynamicBuffer,0,u.type===yt.UNSIGNED_BYTE,u.type,this.dynamicStride*4,u.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const u=this.staticProperties[o];t.addAttribute(u.attributeName,this.staticBuffer,0,u.type===yt.UNSIGNED_BYTE,u.type,this.staticStride*4,u.offset*4)}}uploadDynamic(t,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(t,r,n,s.type===yt.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(t,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(t,r,n,s.type===yt.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var NP=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,FP=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class Ab extends zd{constructor(t){super(t),this.shader=null,this.properties=null,this.tempMatrix=new ie,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:yt.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=ni.from(FP,NP,{}),this.state=Bi.for2d()}render(t){const r=t.children,n=t._maxSize,i=t._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!t.autoResize&&(o=n);let u=t._buffers;u||(u=t._buffers=this.generateBuffers(t));const c=r[0]._texture.baseTexture,h=c.alphaMode>0;this.state.blendMode=M3(t.blendMode,h),s.state.set(this.state);const f=s.gl,m=t.worldTransform.copyTo(this.tempMatrix);m.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=m.toArray(!0),this.shader.uniforms.uColor=Gt.shared.setValue(t.tintRgb).premultiply(t.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let g=!1;for(let v=0,x=0;v<o;v+=i,x+=1){let S=o-v;S>i&&(S=i),x>=u.length&&u.push(this._generateOneMoreBuffer(t));const E=u[x];E.uploadDynamic(r,v,S);const w=t._bufferUpdateIDs[x]||0;g=g||E._updateID<w,g&&(E._updateID=t._updateID,E.uploadStatic(r,v,S)),s.geometry.bind(E.geometry),f.drawElements(f.TRIANGLES,S*6,f.UNSIGNED_SHORT,0)}}generateBuffers(t){const r=[],n=t._maxSize,i=t._batchSize,s=t._properties;for(let o=0;o<n;o+=i)r.push(new vT(this.properties,s,i));return r}_generateOneMoreBuffer(t){const r=t._batchSize,n=t._properties;return new vT(this.properties,n,r)}uploadVertices(t,r,n,i,s,o){let u=0,c=0,h=0,f=0;for(let m=0;m<n;++m){const g=t[r+m],v=g._texture,x=g.scale.x,S=g.scale.y,E=v.trim,w=v.orig;E?(c=E.x-g.anchor.x*w.width,u=c+E.width,f=E.y-g.anchor.y*w.height,h=f+E.height):(u=w.width*(1-g.anchor.x),c=w.width*-g.anchor.x,h=w.height*(1-g.anchor.y),f=w.height*-g.anchor.y),i[o]=c*x,i[o+1]=f*S,i[o+s]=u*x,i[o+s+1]=f*S,i[o+s*2]=u*x,i[o+s*2+1]=h*S,i[o+s*3]=c*x,i[o+s*3+1]=h*S,o+=s*4}}uploadPosition(t,r,n,i,s,o){for(let u=0;u<n;u++){const c=t[r+u].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(t,r,n,i,s,o){for(let u=0;u<n;u++){const c=t[r+u].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(t,r,n,i,s,o){for(let u=0;u<n;++u){const c=t[r+u]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(t,r,n,i,s,o){for(let u=0;u<n;++u){const c=t[r+u],h=Gt.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}Ab.extension={name:"particle",type:ot.RendererPlugin};pt.add(Ab);class hu extends Jt{constructor(t,r=!0){super(t[0]instanceof et?t[0]:t[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=t}stop(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(_e.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(_e.shared.add(this.update,this,ws.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(t){this.stop(),this.currentFrame=t}gotoAndPlay(t){this.currentFrame=t,this.play()}update(t){if(!this._playing)return;const r=this.animationSpeed*t,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const t=this.currentFrame;this._previousFrame!==t&&(this._previousFrame=t,this._texture=this._textures[t],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(t){this.stop(),super.destroy(t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(t){const r=[];for(let n=0;n<t.length;++n)r.push(et.from(t[n]));return new hu(r)}static fromImages(t){const r=[];for(let n=0;n<t.length;++n)r.push(et.from(t[n]));return new hu(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(t){if(t[0]instanceof et)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<t.length;r++)this._textures.push(t[r].texture),this._durations.push(t[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}set currentFrame(t){if(t<0||t>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${t}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=t,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(_e.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(_e.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const pl=new wt;class g1 extends Jt{constructor(t,r=100,n=100){super(t),this.tileTransform=new Ud,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new h1(t),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(t){this.uvMatrix.clampMargin=t,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(t){this.tileTransform.scale.copyFrom(t)}get tilePosition(){return this.tileTransform.position}set tilePosition(t){this.tileTransform.position.copyFrom(t)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(t){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),t.batch.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))}_calculateBounds(){const t=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,r,n,i)}getLocalBounds(t){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Et),t=this._localBoundsRect),this._bounds.getRectangle(t)):super.getLocalBounds.call(this,t)}containsPoint(t){this.worldTransform.applyInverse(t,pl);const r=this._width,n=this._height,i=-r*this.anchor._x;if(pl.x>=i&&pl.x<i+r){const s=-n*this.anchor._y;if(pl.y>=s&&pl.y<s+n)return!0}return!1}destroy(t){super.destroy(t),this.tileTransform=null,this.uvMatrix=null}static from(t,r){const n=t instanceof et?t:et.from(t,r);return new g1(n,r.width,r.height)}get width(){return this._width}set width(t){this._width=t}get height(){return this._height}set height(t){this._height=t}}var OP=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,LP=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,BP=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,xT=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,UP=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Kc=new ie;class Pb extends zd{constructor(t){super(t),t.runners.contextChange.add(this),this.quad=new Y3,this.state=Bi.for2d()}contextChange(){const t=this.renderer,r={globals:t.globalUniforms};this.simpleShader=ni.from(xT,UP,r),this.shader=t.context.webGLVersion>1?ni.from(LP,OP,r):ni.from(xT,BP,r)}render(t){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=t._width*-t.anchor.x,i[1]=i[3]=t._height*-t.anchor.y,i[2]=i[4]=t._width*(1-t.anchor.x),i[5]=i[7]=t._height*(1-t.anchor.y);const s=t.uvRespectAnchor?t.anchor.x:0,o=t.uvRespectAnchor?t.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const u=t._texture,c=u.baseTexture,h=c.alphaMode>0,f=t.tileTransform.localTransform,m=t.uvMatrix;let g=c.isPowerOfTwo&&u.frame.width===c.width&&u.frame.height===c.height;g&&(c._glTextures[r.CONTEXT_UID]?g=c.wrapMode!==Ai.CLAMP:c.wrapMode===Ai.CLAMP&&(c.wrapMode=Ai.REPEAT));const v=g?this.simpleShader:this.shader,x=u.width,S=u.height,E=t._width,w=t._height;Kc.set(f.a*x/E,f.b*x/w,f.c*S/E,f.d*S/w,f.tx/E,f.ty/w),Kc.invert(),g?Kc.prepend(m.mapCoord):(v.uniforms.uMapCoord=m.mapCoord.toArray(!0),v.uniforms.uClampFrame=m.uClampFrame,v.uniforms.uClampOffset=m.uClampOffset),v.uniforms.uTransform=Kc.toArray(!0),v.uniforms.uColor=Gt.shared.setValue(t.tint).premultiply(t.worldAlpha,h).toArray(v.uniforms.uColor),v.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),v.uniforms.uSampler=u,r.shader.bind(v),r.geometry.bind(n),this.state.blendMode=M3(t.blendMode,h),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}Pb.extension={name:"tilingSprite",type:ot.RendererPlugin};pt.add(Pb);const V0=class{constructor(e){this.stage=new Ht,e=Object.assign({forceCanvas:!1},e),this.renderer=vA(e),V0._plugins.forEach(t=>{t.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(e,t){const r=V0._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null}};let Su=V0;Su._plugins=[];pt.handleByList(ot.Application,Su._plugins);class Ib{static init(t){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{!this._resizeTo||(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=t.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}Ib.extension=ot.Application;pt.add(Ib);var Xt={exports:{}},zP="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",GP=zP,HP=GP;function Rb(){}function kb(){}kb.resetWarningCache=Rb;var jP=function(){function e(n,i,s,o,u,c){if(c!==HP){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kb,resetWarningCache:Rb};return r.PropTypes=r,r};Xt.exports=jP();function Nr(e){return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(e)}function Mb(e){var t=function(r,n){if(Nr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Nr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(e,"string");return Nr(t)==="symbol"?t:String(t)}function ve(e,t,r){return(t=Mb(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gp(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Fi(e){return function(t){if(Array.isArray(t))return gp(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,r){if(t){if(typeof t=="string")return gp(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?gp(t,r):void 0}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function pe(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var $P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WP(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VP=function(e){return e==null};function Sl(e){var t=[];if(e===void 0)return t;if(typeof e=="string")t=e.split(",");else if(typeof e=="number")t=[e];else if(Array.isArray(e))t=Fi(e);else{if(e===null||Nr(e)!=="object")return t;t=[e&&(e==null?void 0:e.x)||0,e&&(e==null?void 0:e.y)||0]}return t.filter(function(r){return!VP(r)&&!isNaN(r)}).map(Number)}function TT(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function yp(e){return e instanceof wt||e instanceof Jn}var ud=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function vp(e,t,r){if(yp(e[t])&&yp(r))e[t].copyFrom(r);else if(yp(e[t])){var n=Sl(r);pe(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",t,JSON.stringify(r),Nr(r)),e[t].set(n.shift(),n.shift())}else e[t]=r}var Bo,Db=function(e){var t,r=e;if(!Array.isArray(r)){if(t=e,Object.prototype.toString.call(t)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(e)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},Nb=function(e){return function(){return!e.apply(void 0,arguments)}},X0="children",XP=(ve(Bo={},X0,!0),ve(Bo,"parent",!0),ve(Bo,"worldAlpha",!0),ve(Bo,"worldTransform",!0),ve(Bo,"worldVisible",!0),Bo),Y0={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},oi=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(u){return requestAnimationFrame(function(){var c,h;u==null||(c=u.__reactpixi)===null||c===void 0||(h=c.root)===null||h===void 0||h.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(u,c){if(r.hasOwnProperty(u))return pe(c.typeofs.some(function(h){return Nr(r[u])===h})||c.instanceofs.some(function(h){return r[u]instanceof h}),"".concat(e," ").concat(u," prop is invalid")),r[u]};if(r.texture)return pe(r.texture instanceof et,"".concat(e," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,et]});pe(!!s,"".concat(e," could not get texture from props"));var o=et.from(s);return o.__reactpixi={root:t},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},YP=Nb(Db([].concat(Fi(Object.keys(XP)),Fi(ud))));function ai(e,t,r){var n=!1;if(pe(Kt.prototype.isPrototypeOf(e),"instance needs to be typeof `DisplayObject`, got `%s`",Nr(e)),!r.ignoreEvents)for(var i=typeof e.removeListener=="function",s=typeof e.on=="function",o=0;o<ud.length;o++){var u=ud[o];t[u]!==r[u]&&(n=!0,typeof t[u]=="function"&&i&&e.removeListener(u,t[u]),typeof r[u]=="function"&&s&&e.on(u,r[u]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var h=0;h<c.length;h++){var f=c[h];t[f]!==r[f]&&(n=!0,vp(e,f,r[f]))}return n}for(var m=c.filter(YP),g=0;g<m.length;g++){var v=m[g],x=r[v];r[v]!==t[v]&&(n=!0),x!==void 0?vp(e,v,x):v in Y0?(console.warn("setting default value: ".concat(v,", from: ").concat(e[v]," to: ").concat(x," for"),e),n=!0,vp(e,v,Y0[v])):console.warn("ignoring prop: ".concat(v,", from ").concat(e[v]," to ").concat(x," for"),e)}return n}var KP=function(e,t){var r=t.text,n=t.style;return new bb(r,n)},QP=function(){return new Ht};function Ps(e,t){if(e==null)return{};var r,n,i=function(o,u){if(o==null)return{};var c,h,f={},m=Object.keys(o);for(h=0;h<m.length;h++)c=m[h],u.indexOf(c)>=0||(f[c]=o[c]);return f}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}var ZP=["draw","geometry"],qP=function(e,t){var r=t.geometry;pe(!r||r instanceof nn,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new nn(r.geometry):new nn;return n.applyProps=function(i,s,o){var u=o.draw;o.geometry;var c=ai(i,s,Ps(o,ZP));return s.draw!==u&&typeof u=="function"&&(c=!0,u.call(n,n)),c},n},JP=["image","texture"],tI=function(e,t){var r=t.leftWidth,n=r===void 0?10:r,i=t.topHeight,s=i===void 0?10:i,o=t.rightWidth,u=o===void 0?10:o,c=t.bottomHeight,h=c===void 0?10:c,f=oi("NineSlicePlane",e,t),m=new RP(f,n,s,u,h);return m.applyProps=function(g,v,x){var S=x.image,E=x.texture,w=ai(g,v,Ps(x,JP));return(S||E)&&(E!==v.texture&&(w=!0),g.texture=oi("NineSlicePlane",e,x)),w},m};function _T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Qc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(r),!0).forEach(function(n){ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_T(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var eI=function(e,t){var r=t.maxSize,n=r===void 0?1500:r,i=t.batchSize,s=i===void 0?16384:i,o=t.autoResize,u=o!==void 0&&o,c=Qc(Qc({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),t.properties||{}),h=Qc(Qc({},{children:!1,texture:!1,baseTexture:!1}),t.destroyOptions||{}),f=new DP(n,c,s,u);return f.willUnmount=function(m,g,v){m.destroy(h)},f},rI=["image","texture"],nI=function(e,t){var r=new Jt(oi("Sprite",e,t));return r.applyProps=function(n,i,s){var o=s.image,u=s.texture,c=ai(n,i,Ps(s,rI));return(u&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=oi("Sprite",e,s)),c},r},iI=["textures","isPlaying","initialFrame"],sI=function(e,t){var r=t.textures,n=t.images,i=t.isPlaying,s=i===void 0||i,o=t.initialFrame,u=function(h){return h.map(function(f){return pe(f instanceof et||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),f})},c=n?hu.fromImages(n):new hu(u(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(h,f,m){var g=m.textures,v=m.isPlaying,x=m.initialFrame,S=ai(h,f,Ps(m,iI));if(g&&f.textures!==g&&(h.textures=u(g),S=!0),v!==f.isPlaying||x!==f.initialFrame){var E=typeof x=="number"?x:c.currentFrame||0;c[v?"gotoAndPlay":"gotoAndStop"](E),S=!0}return S},c},oI=function(e,t){var r=t.text,n=r===void 0?"":r,i=t.style,s=i===void 0?{}:i,o=t.isSprite,u=new Da(n,s);return o?(u.updateText(),new Jt(u.texture)):u},aI=["tileScale","tilePosition","image","texture"],lI=function(e,t){var r=t.width,n=r===void 0?100:r,i=t.height,s=i===void 0?100:i,o=oi("TilingSprite",e,t),u=new g1(o,n,s);return u.applyProps=function(c,h,f){var m=f.tileScale,g=f.tilePosition,v=f.image,x=f.texture,S=ai(c,h,Ps(f,aI));if(g){var E,w=Sl(g);(E=c.tilePosition).set.apply(E,Fi(w)),S=!TT(Sl(h.tilePosition),w)||S}if(m){var b,_=Sl(m);(b=c.tileScale).set.apply(b,Fi(_)),S=!TT(Sl(h.tileScale),_)||S}return(v||x)&&(x!==h.texture&&(S=!0),c.texture=oi("Sprite",e,f)),S},u},uI=["image","texture"],cI=function(e,t){var r=oi("Mesh",e,t),n=t.vertices,i=t.uvs,s=t.indices,o=t.drawMode,u=o===void 0?Sn.TRIANGLES:o,c=new kP(r,n,i,s,u);return c.applyProps=function(h,f,m){var g=m.image,v=m.texture,x=ai(h,f,Ps(m,uI));return(g||v)&&(v!==f.texture&&(x=!0),h.texture=oi("Mesh",e,m)),x},c},hI=["image","texture"],dI=function(e,t){var r=oi("SimpleRope",e,t),n=t.points,i=new MP(r,n);return i.applyProps=function(s,o,u){var c=u.image,h=u.texture,f=Ps(u,hI);pe(Array.isArray(u.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var m=ai(s,o,f);return(c||h)&&(h!==o.texture&&(m=!0),s.texture=oi("SimpleRope",e,u)),m},i},fI=Object.freeze({__proto__:null,BitmapText:KP,Container:QP,Graphics:qP,NineSlicePlane:tI,ParticleContainer:eI,Sprite:nI,Text:oI,TilingSprite:lI,SimpleMesh:cI,SimpleRope:dI,AnimatedSprite:sI});function bT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function wT(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(r),!0).forEach(function(n){ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var wr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},mI=Object.keys(wr).reduce(function(e,t){return wT(wT({},e),{},ve({},t,fI[t]))},{}),Fb={};function pI(e,t){return pe(!!e,"Expect type to be defined, got `%s`",e),pe(!wr[e],"Component `%s` could not be created, already exists in default components.",e),Fb[e]=t,e}var ST,ET,CT,AT,K0={},Q0={},gI={get exports(){return Q0},set exports(e){Q0=e}},PT={};function yI(){return ET||(ET=1,gI.exports=(ST||(ST=1,function(e){function t(R,L){var k=R.length;R.push(L);t:for(;0<k;){var K=k-1>>>1,nt=R[K];if(!(0<i(nt,L)))break t;R[K]=L,R[k]=nt,k=K}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var L=R[0],k=R.pop();if(k!==L){R[0]=k;t:for(var K=0,nt=R.length,St=nt>>>1;K<St;){var _t=2*(K+1)-1,Bt=R[_t],Pt=_t+1,Lt=R[Pt];if(0>i(Bt,k))Pt<nt&&0>i(Lt,Bt)?(R[K]=Lt,R[Pt]=k,K=Pt):(R[K]=Bt,R[_t]=k,K=_t);else{if(!(Pt<nt&&0>i(Lt,k)))break t;R[K]=Lt,R[Pt]=k,K=Pt}}}return L}function i(R,L){var k=R.sortIndex-L.sortIndex;return k!==0?k:R.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();e.unstable_now=function(){return o.now()-u}}var c=[],h=[],f=1,m=null,g=3,v=!1,x=!1,S=!1,E=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function _(R){for(var L=r(h);L!==null;){if(L.callback===null)n(h);else{if(!(L.startTime<=R))break;n(h),L.sortIndex=L.expirationTime,t(c,L)}L=r(h)}}function C(R){if(S=!1,_(R),!x)if(r(c)!==null)x=!0,vt(P);else{var L=r(h);L!==null&&z(C,L.startTime-R)}}function P(R,L){x=!1,S&&(S=!1,w(Q),Q=-1),v=!0;var k=g;try{for(_(L),m=r(c);m!==null&&(!(m.expirationTime>L)||R&&!it());){var K=m.callback;if(typeof K=="function"){m.callback=null,g=m.priorityLevel;var nt=K(m.expirationTime<=L);L=e.unstable_now(),typeof nt=="function"?m.callback=nt:m===r(c)&&n(c),_(L)}else n(c);m=r(c)}if(m!==null)var St=!0;else{var _t=r(h);_t!==null&&z(C,_t.startTime-L),St=!1}return St}finally{m=null,g=k,v=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O,M=!1,N=null,Q=-1,V=5,Y=-1;function it(){return!(e.unstable_now()-Y<V)}function W(){if(N!==null){var R=e.unstable_now();Y=R;var L=!0;try{L=N(!0,R)}finally{L?O():(M=!1,N=null)}}else M=!1}if(typeof b=="function")O=function(){b(W)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,ft=U.port2;U.port1.onmessage=W,O=function(){ft.postMessage(null)}}else O=function(){E(W,0)};function vt(R){N=R,M||(M=!0,O())}function z(R,L){Q=E(function(){R(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){x||v||(x=!0,vt(P))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(g){case 1:case 2:case 3:var L=3;break;default:L=g}var k=g;g=L;try{return R()}finally{g=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,L){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var k=g;g=R;try{return L()}finally{g=k}},e.unstable_scheduleCallback=function(R,L,k){var K=e.unstable_now();switch(k=typeof k=="object"&&k!==null&&typeof(k=k.delay)=="number"&&0<k?K+k:K,R){case 1:var nt=-1;break;case 2:nt=250;break;case 5:nt=1073741823;break;case 4:nt=1e4;break;default:nt=5e3}return R={id:f++,callback:L,priorityLevel:R,startTime:k,expirationTime:nt=k+nt,sortIndex:-1},k>K?(R.sortIndex=k,t(h,R),r(c)===null&&R===r(h)&&(S?(w(Q),Q=-1):S=!0,z(C,k-K))):(R.sortIndex=nt,t(c,R),x||v||(x=!0,vt(P))),R},e.unstable_shouldYield=it,e.unstable_wrapCallback=function(R){var L=g;return function(){var k=g;g=L;try{return R.apply(this,arguments)}finally{g=k}}}}(PT)),PT)),Q0}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function vI(){return AT||(AT=1,CT=function(e){var t={},r=An,n=yI(),i=Object.assign;function s(a){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),C=Symbol.iterator;function P(a){return a===null||typeof a!="object"?null:typeof(a=C&&a[C]||a["@@iterator"])=="function"?a:null}function O(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case h:return"Fragment";case c:return"Portal";case m:return"Profiler";case f:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case v:return(a.displayName||"Context")+".Consumer";case g:return(a._context.displayName||"Context")+".Provider";case x:var l=a.render;return(a=a.displayName)||(a=(a=l.displayName||l.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case w:return(l=a.displayName||null)!==null?l:O(a.type)||"Memo";case b:l=a._payload,a=a._init;try{return O(a(l))}catch{}}return null}function M(a){var l=a.type;switch(a.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=l.render).displayName||a.name||"",l.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return O(l);case 8:return l===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function N(a){var l=a,d=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do(4098&(l=a).flags)!=0&&(d=l.return),a=l.return;while(a)}return l.tag===3?d:null}function Q(a){if(N(a)!==a)throw Error(s(188))}function V(a){var l=a.alternate;if(!l){if((l=N(a))===null)throw Error(s(188));return l!==a?null:a}for(var d=a,p=l;;){var y=d.return;if(y===null)break;var T=y.alternate;if(T===null){if((p=y.return)!==null){d=p;continue}break}if(y.child===T.child){for(T=y.child;T;){if(T===d)return Q(y),a;if(T===p)return Q(y),l;T=T.sibling}throw Error(s(188))}if(d.return!==p.return)d=y,p=T;else{for(var A=!1,I=y.child;I;){if(I===d){A=!0,d=y,p=T;break}if(I===p){A=!0,p=y,d=T;break}I=I.sibling}if(!A){for(I=T.child;I;){if(I===d){A=!0,d=T,p=y;break}if(I===p){A=!0,p=T,d=y;break}I=I.sibling}if(!A)throw Error(s(189))}}if(d.alternate!==p)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?a:l}function Y(a){return(a=V(a))!==null?it(a):null}function it(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var l=it(a);if(l!==null)return l;a=a.sibling}return null}function W(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var l=W(a);if(l!==null)return l}a=a.sibling}return null}var U,ft=Array.isArray,vt=e.getPublicInstance,z=e.getRootHostContext,R=e.getChildHostContext,L=e.prepareForCommit,k=e.resetAfterCommit,K=e.createInstance,nt=e.appendInitialChild,St=e.finalizeInitialChildren,_t=e.prepareUpdate,Bt=e.shouldSetTextContent,Pt=e.createTextInstance,Lt=e.scheduleTimeout,ke=e.cancelTimeout,Ue=e.noTimeout,he=e.isPrimaryRenderer,Rt=e.supportsMutation,Qt=e.supportsPersistence,Nt=e.supportsHydration,Br=e.getInstanceFromNode,Ur=e.preparePortalMount,Is=e.getCurrentEventPriority,rf=e.detachDeletedInstance,vo=e.supportsMicrotasks,xw=e.scheduleMicrotask,Na=e.supportsTestSelectors,Tw=e.findFiberRoot,_w=e.getBoundingRect,bw=e.getTextContent,Fa=e.isHiddenSubtree,ww=e.matchAccessibilityRole,Sw=e.setFocusIfFocusable,Ew=e.setupIntersectionObserver,Cw=e.appendChild,Aw=e.appendChildToContainer,Pw=e.commitTextUpdate,Iw=e.commitMount,Rw=e.commitUpdate,kw=e.insertBefore,Mw=e.insertInContainerBefore,Dw=e.removeChild,Nw=e.removeChildFromContainer,T1=e.resetTextContent,Fw=e.hideInstance,Ow=e.hideTextInstance,Lw=e.unhideInstance,Bw=e.unhideTextInstance,Uw=e.clearContainer,zw=e.cloneInstance,_1=e.createContainerChildSet,b1=e.appendChildToContainerChildSet,Gw=e.finalizeContainerChildren,nf=e.replaceContainerChildren,w1=e.cloneHiddenInstance,S1=e.cloneHiddenTextInstance,Hw=e.canHydrateInstance,jw=e.canHydrateTextInstance,$w=e.canHydrateSuspenseInstance,E1=e.isSuspenseInstancePending,sf=e.isSuspenseInstanceFallback,Ww=e.getSuspenseInstanceFallbackErrorDetails,Vw=e.registerSuspenseInstanceRetry,Cu=e.getNextHydratableSibling,Xw=e.getFirstHydratableChild,Yw=e.getFirstHydratableChildWithinContainer,Kw=e.getFirstHydratableChildWithinSuspenseInstance,Qw=e.hydrateInstance,Zw=e.hydrateTextInstance,qw=e.hydrateSuspenseInstance,Jw=e.getNextHydratableInstanceAfterSuspenseInstance,t5=e.commitHydratedContainer,e5=e.commitHydratedSuspenseInstance,r5=e.clearSuspenseBoundary,n5=e.clearSuspenseBoundaryFromContainer,i5=e.shouldDeleteUnhydratedTailInstances,s5=e.didNotMatchHydratedContainerTextInstance,o5=e.didNotMatchHydratedTextInstance;function Oa(a){if(U===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);U=l&&l[1]||""}return`
`+U+a}var of=!1;function af(a,l){if(!a||of)return"";of=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(G){var p=G}Reflect.construct(a,[],l)}else{try{l.call()}catch(G){p=G}a.call(l.prototype)}else{try{throw Error()}catch(G){p=G}a()}}catch(G){if(G&&p&&typeof G.stack=="string"){for(var y=G.stack.split(`
`),T=p.stack.split(`
`),A=y.length-1,I=T.length-1;1<=A&&0<=I&&y[A]!==T[I];)I--;for(;1<=A&&0<=I;A--,I--)if(y[A]!==T[I]){if(A!==1||I!==1)do if(A--,0>--I||y[A]!==T[I]){var F=`
`+y[A].replace(" at new "," at ");return a.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",a.displayName)),F}while(1<=A&&0<=I);break}}}finally{of=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?Oa(a):""}var a5=Object.prototype.hasOwnProperty,lf=[],xo=-1;function Ui(a){return{current:a}}function te(a){0>xo||(a.current=lf[xo],lf[xo]=null,xo--)}function Vt(a,l){xo++,lf[xo]=a.current,a.current=l}var zi={},Ye=Ui(zi),fr=Ui(!1),Rs=zi;function To(a,l){var d=a.type.contextTypes;if(!d)return zi;var p=a.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===l)return p.__reactInternalMemoizedMaskedChildContext;var y,T={};for(y in d)T[y]=l[y];return p&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=l,a.__reactInternalMemoizedMaskedChildContext=T),T}function Sr(a){return(a=a.childContextTypes)!=null}function uf(){te(fr),te(Ye)}function C1(a,l,d){if(Ye.current!==zi)throw Error(s(168));Vt(Ye,l),Vt(fr,d)}function A1(a,l,d){var p=a.stateNode;if(l=l.childContextTypes,typeof p.getChildContext!="function")return d;for(var y in p=p.getChildContext())if(!(y in l))throw Error(s(108,M(a)||"Unknown",y));return i({},d,p)}function Au(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||zi,Rs=Ye.current,Vt(Ye,a),Vt(fr,fr.current),!0}function P1(a,l,d){var p=a.stateNode;if(!p)throw Error(s(169));d?(a=A1(a,l,Rs),p.__reactInternalMemoizedMergedChildContext=a,te(fr),te(Ye),Vt(Ye,a)):te(fr),Vt(fr,d)}var an=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(l5(a)/u5|0)|0},l5=Math.log,u5=Math.LN2,cf=64,hf=4194304;function La(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Pu(a,l){var d=a.pendingLanes;if(d===0)return 0;var p=0,y=a.suspendedLanes,T=a.pingedLanes,A=268435455&d;if(A!==0){var I=A&~y;I!==0?p=La(I):(T&=A)!==0&&(p=La(T))}else(A=d&~y)!==0?p=La(A):T!==0&&(p=La(T));if(p===0)return 0;if(l!==0&&l!==p&&(l&y)==0&&((y=p&-p)>=(T=l&-l)||y===16&&(4194240&T)!=0))return l;if((4&p)!=0&&(p|=16&d),(l=a.entangledLanes)!==0)for(a=a.entanglements,l&=p;0<l;)y=1<<(d=31-an(l)),p|=a[d],l&=~y;return p}function c5(a,l){switch(a){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;default:return-1}}function df(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function I1(){var a=cf;return(4194240&(cf<<=1))==0&&(cf=64),a}function ff(a){for(var l=[],d=0;31>d;d++)l.push(a);return l}function Ba(a,l,d){a.pendingLanes|=l,l!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[l=31-an(l)]=d}function mf(a,l){var d=a.entangledLanes|=l;for(a=a.entanglements;d;){var p=31-an(d),y=1<<p;y&l|a[p]&l&&(a[p]|=l),d&=~y}}var Ft=0;function R1(a){return 1<(a&=-a)?4<a?(268435455&a)!=0?16:536870912:4:1}var pf=n.unstable_scheduleCallback,k1=n.unstable_cancelCallback,h5=n.unstable_shouldYield,d5=n.unstable_requestPaint,Me=n.unstable_now,gf=n.unstable_ImmediatePriority,f5=n.unstable_UserBlockingPriority,M1=n.unstable_NormalPriority,m5=n.unstable_IdlePriority,Iu=null,Fn=null,ln=typeof Object.is=="function"?Object.is:function(a,l){return a===l&&(a!==0||1/a==1/l)||a!=a&&l!=l},ui=null,Ru=!1,yf=!1;function D1(a){ui===null?ui=[a]:ui.push(a)}function On(){if(!yf&&ui!==null){yf=!0;var a=0,l=Ft;try{var d=ui;for(Ft=1;a<d.length;a++){var p=d[a];do p=p(!0);while(p!==null)}ui=null,Ru=!1}catch(y){throw ui!==null&&(ui=ui.slice(a+1)),pf(gf,On),y}finally{Ft=l,yf=!1}}return null}var _o=[],bo=0,ku=null,Mu=0,zr=[],Gr=0,ks=null,Ln=1,ci="";function Ms(a,l){_o[bo++]=Mu,_o[bo++]=ku,ku=a,Mu=l}function N1(a,l,d){zr[Gr++]=Ln,zr[Gr++]=ci,zr[Gr++]=ks,ks=a;var p=Ln;a=ci;var y=32-an(p)-1;p&=~(1<<y),d+=1;var T=32-an(l)+y;if(30<T){var A=y-y%5;T=(p&(1<<A)-1).toString(32),p>>=A,y-=A,Ln=1<<32-an(l)+y|d<<y|p,ci=T+a}else Ln=1<<T|d<<y|p,ci=a}function vf(a){a.return!==null&&(Ms(a,1),N1(a,1,0))}function xf(a){for(;a===ku;)ku=_o[--bo],_o[bo]=null,Mu=_o[--bo],_o[bo]=null;for(;a===ks;)ks=zr[--Gr],zr[Gr]=null,ci=zr[--Gr],zr[Gr]=null,Ln=zr[--Gr],zr[Gr]=null}var Er=null,Hr=null,ee=!1,Ua=!1,un=null;function F1(a,l){var d=Xr(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=a,(l=a.deletions)===null?(a.deletions=[d],a.flags|=16):l.push(d)}function O1(a,l){switch(a.tag){case 5:return(l=Hw(l,a.type,a.pendingProps))!==null&&(a.stateNode=l,Er=a,Hr=Xw(l),!0);case 6:return(l=jw(l,a.pendingProps))!==null&&(a.stateNode=l,Er=a,Hr=null,!0);case 13:if((l=$w(l))!==null){var d=ks!==null?{id:Ln,overflow:ci}:null;return a.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},(d=Xr(18,null,null,0)).stateNode=l,d.return=a,a.child=d,Er=a,Hr=null,!0}return!1;default:return!1}}function Tf(a){return(1&a.mode)!=0&&(128&a.flags)==0}function _f(a){if(ee){var l=Hr;if(l){var d=l;if(!O1(a,l)){if(Tf(a))throw Error(s(418));l=Cu(d);var p=Er;l&&O1(a,l)?F1(p,d):(a.flags=-4097&a.flags|2,ee=!1,Er=a)}}else{if(Tf(a))throw Error(s(418));a.flags=-4097&a.flags|2,ee=!1,Er=a}}}function L1(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Er=a}function Du(a){if(!Nt||a!==Er)return!1;if(!ee)return L1(a),ee=!0,!1;if(a.tag!==3&&(a.tag!==5||i5(a.type)&&!Bt(a.type,a.memoizedProps))){var l=Hr;if(l){if(Tf(a))throw B1(),Error(s(418));for(;l;)F1(a,l),l=Cu(l)}}if(L1(a),a.tag===13){if(!Nt)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));Hr=Jw(a)}else Hr=Er?Cu(a.stateNode):null;return!0}function B1(){for(var a=Hr;a;)a=Cu(a)}function wo(){Nt&&(Hr=Er=null,Ua=ee=!1)}function bf(a){un===null?un=[a]:un.push(a)}var p5=o.ReactCurrentBatchConfig;function Nu(a,l){if(ln(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var d=Object.keys(a),p=Object.keys(l);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var y=d[p];if(!a5.call(l,y)||!ln(a[y],l[y]))return!1}return!0}function g5(a){switch(a.tag){case 5:return Oa(a.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return a=af(a.type,!1);case 11:return a=af(a.type.render,!1);case 1:return a=af(a.type,!0);default:return""}}function cn(a,l){if(a&&a.defaultProps){for(var d in l=i({},l),a=a.defaultProps)l[d]===void 0&&(l[d]=a[d]);return l}return l}var Fu=Ui(null),Ou=null,So=null,wf=null;function Sf(){wf=So=Ou=null}function U1(a,l,d){he?(Vt(Fu,l._currentValue),l._currentValue=d):(Vt(Fu,l._currentValue2),l._currentValue2=d)}function Ef(a){var l=Fu.current;te(Fu),he?a._currentValue=l:a._currentValue2=l}function Cf(a,l,d){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===d)break;a=a.return}}function Eo(a,l){Ou=a,wf=So=null,(a=a.dependencies)!==null&&a.firstContext!==null&&((a.lanes&l)!=0&&(mr=!0),a.firstContext=null)}function jr(a){var l=he?a._currentValue:a._currentValue2;if(wf!==a)if(a={context:a,memoizedValue:l,next:null},So===null){if(Ou===null)throw Error(s(308));So=a,Ou.dependencies={lanes:0,firstContext:a}}else So=So.next=a;return l}var Ds=null;function Af(a){Ds===null?Ds=[a]:Ds.push(a)}function z1(a,l,d,p){var y=l.interleaved;return y===null?(d.next=d,Af(l)):(d.next=y.next,y.next=d),l.interleaved=d,Bn(a,p)}function Bn(a,l){a.lanes|=l;var d=a.alternate;for(d!==null&&(d.lanes|=l),d=a,a=a.return;a!==null;)a.childLanes|=l,(d=a.alternate)!==null&&(d.childLanes|=l),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Gi=!1;function Pf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G1(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function hi(a,l){return{eventTime:a,lane:l,tag:0,payload:null,callback:null,next:null}}function Hi(a,l,d){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(2&Mt)!=0){var y=p.pending;return y===null?l.next=l:(l.next=y.next,y.next=l),p.pending=l,Bn(a,d)}return(y=p.interleaved)===null?(l.next=l,Af(p)):(l.next=y.next,y.next=l),p.interleaved=l,Bn(a,d)}function Lu(a,l,d){if((l=l.updateQueue)!==null&&(l=l.shared,(4194240&d)!=0)){var p=l.lanes;d|=p&=a.pendingLanes,l.lanes=d,mf(a,d)}}function H1(a,l){var d=a.updateQueue,p=a.alternate;if(p!==null&&d===(p=p.updateQueue)){var y=null,T=null;if((d=d.firstBaseUpdate)!==null){do{var A={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};T===null?y=T=A:T=T.next=A,d=d.next}while(d!==null);T===null?y=T=l:T=T.next=l}else y=T=l;return d={baseState:p.baseState,firstBaseUpdate:y,lastBaseUpdate:T,shared:p.shared,effects:p.effects},void(a.updateQueue=d)}(a=d.lastBaseUpdate)===null?d.firstBaseUpdate=l:a.next=l,d.lastBaseUpdate=l}function Bu(a,l,d,p){var y=a.updateQueue;Gi=!1;var T=y.firstBaseUpdate,A=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var F=I,G=F.next;F.next=null,A===null?T=G:A.next=G,A=F;var j=a.alternate;j!==null&&(I=(j=j.updateQueue).lastBaseUpdate)!==A&&(I===null?j.firstBaseUpdate=G:I.next=G,j.lastBaseUpdate=F)}if(T!==null){var rt=y.baseState;for(A=0,j=G=F=null,I=T;;){var H=I.lane,q=I.eventTime;if((p&H)===H){j!==null&&(j=j.next={eventTime:q,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});t:{var ut=a,Ct=I;switch(H=l,q=d,Ct.tag){case 1:if(typeof(ut=Ct.payload)=="function"){rt=ut.call(q,rt,H);break t}rt=ut;break t;case 3:ut.flags=-65537&ut.flags|128;case 0:if((H=typeof(ut=Ct.payload)=="function"?ut.call(q,rt,H):ut)==null)break t;rt=i({},rt,H);break t;case 2:Gi=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,(H=y.effects)===null?y.effects=[I]:H.push(I))}else q={eventTime:q,lane:H,tag:I.tag,payload:I.payload,callback:I.callback,next:null},j===null?(G=j=q,F=rt):j=j.next=q,A|=H;if((I=I.next)===null){if((I=y.shared.pending)===null)break;I=(H=I).next,H.next=null,y.lastBaseUpdate=H,y.shared.pending=null}}if(j===null&&(F=rt),y.baseState=F,y.firstBaseUpdate=G,y.lastBaseUpdate=j,(l=y.shared.interleaved)!==null){y=l;do A|=y.lane,y=y.next;while(y!==l)}else T===null&&(y.shared.lanes=0);Fs|=A,a.lanes=A,a.memoizedState=rt}}function j1(a,l,d){if(a=l.effects,l.effects=null,a!==null)for(l=0;l<a.length;l++){var p=a[l],y=p.callback;if(y!==null){if(p.callback=null,p=d,typeof y!="function")throw Error(s(191,y));y.call(p)}}}var $1=new r.Component().refs;function If(a,l,d,p){d=(d=d(p,l=a.memoizedState))==null?l:i({},l,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Uu={isMounted:function(a){return!!(a=a._reactInternals)&&N(a)===a},enqueueSetState:function(a,l,d){a=a._reactInternals;var p=Ze(),y=Vi(a),T=hi(p,y);T.payload=l,d!=null&&(T.callback=d),(l=Hi(a,T,y))!==null&&(Vr(l,a,y,p),Lu(l,a,y))},enqueueReplaceState:function(a,l,d){a=a._reactInternals;var p=Ze(),y=Vi(a),T=hi(p,y);T.tag=1,T.payload=l,d!=null&&(T.callback=d),(l=Hi(a,T,y))!==null&&(Vr(l,a,y,p),Lu(l,a,y))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var d=Ze(),p=Vi(a),y=hi(d,p);y.tag=2,l!=null&&(y.callback=l),(l=Hi(a,y,p))!==null&&(Vr(l,a,p,d),Lu(l,a,p))}};function W1(a,l,d,p,y,T,A){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,T,A):!l.prototype||!l.prototype.isPureReactComponent||!Nu(d,p)||!Nu(y,T)}function V1(a,l,d){var p=!1,y=zi,T=l.contextType;return typeof T=="object"&&T!==null?T=jr(T):(y=Sr(l)?Rs:Ye.current,T=(p=(p=l.contextTypes)!=null)?To(a,y):zi),l=new l(d,T),a.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=Uu,a.stateNode=l,l._reactInternals=a,p&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=T),l}function X1(a,l,d,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,p),l.state!==a&&Uu.enqueueReplaceState(l,l.state,null)}function Rf(a,l,d,p){var y=a.stateNode;y.props=d,y.state=a.memoizedState,y.refs=$1,Pf(a);var T=l.contextType;typeof T=="object"&&T!==null?y.context=jr(T):(T=Sr(l)?Rs:Ye.current,y.context=To(a,T)),y.state=a.memoizedState,typeof(T=l.getDerivedStateFromProps)=="function"&&(If(a,l,T,d),y.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(l=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),l!==y.state&&Uu.enqueueReplaceState(y,y.state,null),Bu(a,d,y,p),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function za(a,l,d){if((a=d.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner){if(d.tag!==1)throw Error(s(309));var p=d.stateNode}if(!p)throw Error(s(147,a));var y=p,T=""+a;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===T?l.ref:(l=function(A){var I=y.refs;I===$1&&(I=y.refs={}),A===null?delete I[T]:I[T]=A},l._stringRef=T,l)}if(typeof a!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,a))}return a}function zu(a,l){throw a=Object.prototype.toString.call(l),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a))}function Y1(a){return(0,a._init)(a._payload)}function K1(a){function l($,D){if(a){var B=$.deletions;B===null?($.deletions=[D],$.flags|=16):B.push(D)}}function d($,D){if(!a)return null;for(;D!==null;)l($,D),D=D.sibling;return null}function p($,D){for($=new Map;D!==null;)D.key!==null?$.set(D.key,D):$.set(D.index,D),D=D.sibling;return $}function y($,D){return($=Yi($,D)).index=0,$.sibling=null,$}function T($,D,B){return $.index=B,a?(B=$.alternate)!==null?(B=B.index)<D?($.flags|=2,D):B:($.flags|=2,D):($.flags|=1048576,D)}function A($){return a&&$.alternate===null&&($.flags|=2),$}function I($,D,B,X){return D===null||D.tag!==6?((D=gm(B,$.mode,X)).return=$,D):((D=y(D,B)).return=$,D)}function F($,D,B,X){var gt=B.type;return gt===h?j($,D,B.props.children,X,B.key):D!==null&&(D.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===b&&Y1(gt)===D.type)?((X=y(D,B.props)).ref=za($,D,B),X.return=$,X):((X=dc(B.type,B.key,B.props,null,$.mode,X)).ref=za($,D,B),X.return=$,X)}function G($,D,B,X){return D===null||D.tag!==4||D.stateNode.containerInfo!==B.containerInfo||D.stateNode.implementation!==B.implementation?((D=ym(B,$.mode,X)).return=$,D):((D=y(D,B.children||[])).return=$,D)}function j($,D,B,X,gt){return D===null||D.tag!==7?((D=Bs(B,$.mode,X,gt)).return=$,D):((D=y(D,B)).return=$,D)}function rt($,D,B){if(typeof D=="string"&&D!==""||typeof D=="number")return(D=gm(""+D,$.mode,B)).return=$,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case u:return(B=dc(D.type,D.key,D.props,null,$.mode,B)).ref=za($,null,D),B.return=$,B;case c:return(D=ym(D,$.mode,B)).return=$,D;case b:return rt($,(0,D._init)(D._payload),B)}if(ft(D)||P(D))return(D=Bs(D,$.mode,B,null)).return=$,D;zu($,D)}return null}function H($,D,B,X){var gt=D!==null?D.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return gt!==null?null:I($,D,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case u:return B.key===gt?F($,D,B,X):null;case c:return B.key===gt?G($,D,B,X):null;case b:return H($,D,(gt=B._init)(B._payload),X)}if(ft(B)||P(B))return gt!==null?null:j($,D,B,X,null);zu($,B)}return null}function q($,D,B,X,gt){if(typeof X=="string"&&X!==""||typeof X=="number")return I(D,$=$.get(B)||null,""+X,gt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case u:return F(D,$=$.get(X.key===null?B:X.key)||null,X,gt);case c:return G(D,$=$.get(X.key===null?B:X.key)||null,X,gt);case b:return q($,D,B,(0,X._init)(X._payload),gt)}if(ft(X)||P(X))return j(D,$=$.get(B)||null,X,gt,null);zu(D,X)}return null}function ut($,D,B,X){for(var gt=null,Ut=null,ct=D,Ot=D=0,Ge=null;ct!==null&&Ot<B.length;Ot++){ct.index>Ot?(Ge=ct,ct=null):Ge=ct.sibling;var zt=H($,ct,B[Ot],X);if(zt===null){ct===null&&(ct=Ge);break}a&&ct&&zt.alternate===null&&l($,ct),D=T(zt,D,Ot),Ut===null?gt=zt:Ut.sibling=zt,Ut=zt,ct=Ge}if(Ot===B.length)return d($,ct),ee&&Ms($,Ot),gt;if(ct===null){for(;Ot<B.length;Ot++)(ct=rt($,B[Ot],X))!==null&&(D=T(ct,D,Ot),Ut===null?gt=ct:Ut.sibling=ct,Ut=ct);return ee&&Ms($,Ot),gt}for(ct=p($,ct);Ot<B.length;Ot++)(Ge=q(ct,$,Ot,B[Ot],X))!==null&&(a&&Ge.alternate!==null&&ct.delete(Ge.key===null?Ot:Ge.key),D=T(Ge,D,Ot),Ut===null?gt=Ge:Ut.sibling=Ge,Ut=Ge);return a&&ct.forEach(function(Ki){return l($,Ki)}),ee&&Ms($,Ot),gt}function Ct($,D,B,X){var gt=P(B);if(typeof gt!="function")throw Error(s(150));if((B=gt.call(B))==null)throw Error(s(151));for(var Ut=gt=null,ct=D,Ot=D=0,Ge=null,zt=B.next();ct!==null&&!zt.done;Ot++,zt=B.next()){ct.index>Ot?(Ge=ct,ct=null):Ge=ct.sibling;var Ki=H($,ct,zt.value,X);if(Ki===null){ct===null&&(ct=Ge);break}a&&ct&&Ki.alternate===null&&l($,ct),D=T(Ki,D,Ot),Ut===null?gt=Ki:Ut.sibling=Ki,Ut=Ki,ct=Ge}if(zt.done)return d($,ct),ee&&Ms($,Ot),gt;if(ct===null){for(;!zt.done;Ot++,zt=B.next())(zt=rt($,zt.value,X))!==null&&(D=T(zt,D,Ot),Ut===null?gt=zt:Ut.sibling=zt,Ut=zt);return ee&&Ms($,Ot),gt}for(ct=p($,ct);!zt.done;Ot++,zt=B.next())(zt=q(ct,$,Ot,zt.value,X))!==null&&(a&&zt.alternate!==null&&ct.delete(zt.key===null?Ot:zt.key),D=T(zt,D,Ot),Ut===null?gt=zt:Ut.sibling=zt,Ut=zt);return a&&ct.forEach(function(z5){return l($,z5)}),ee&&Ms($,Ot),gt}return function $(D,B,X,gt){if(typeof X=="object"&&X!==null&&X.type===h&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case u:t:{for(var Ut=X.key,ct=B;ct!==null;){if(ct.key===Ut){if((Ut=X.type)===h){if(ct.tag===7){d(D,ct.sibling),(B=y(ct,X.props.children)).return=D,D=B;break t}}else if(ct.elementType===Ut||typeof Ut=="object"&&Ut!==null&&Ut.$$typeof===b&&Y1(Ut)===ct.type){d(D,ct.sibling),(B=y(ct,X.props)).ref=za(D,ct,X),B.return=D,D=B;break t}d(D,ct);break}l(D,ct),ct=ct.sibling}X.type===h?((B=Bs(X.props.children,D.mode,gt,X.key)).return=D,D=B):((gt=dc(X.type,X.key,X.props,null,D.mode,gt)).ref=za(D,B,X),gt.return=D,D=gt)}return A(D);case c:t:{for(ct=X.key;B!==null;){if(B.key===ct){if(B.tag===4&&B.stateNode.containerInfo===X.containerInfo&&B.stateNode.implementation===X.implementation){d(D,B.sibling),(B=y(B,X.children||[])).return=D,D=B;break t}d(D,B);break}l(D,B),B=B.sibling}(B=ym(X,D.mode,gt)).return=D,D=B}return A(D);case b:return $(D,B,(ct=X._init)(X._payload),gt)}if(ft(X))return ut(D,B,X,gt);if(P(X))return Ct(D,B,X,gt);zu(D,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,B!==null&&B.tag===6?(d(D,B.sibling),(B=y(B,X)).return=D,D=B):(d(D,B),(B=gm(X,D.mode,gt)).return=D,D=B),A(D)):d(D,B)}}var Co=K1(!0),Q1=K1(!1),Ga={},$r=Ui(Ga),Ha=Ui(Ga),Ao=Ui(Ga);function Un(a){if(a===Ga)throw Error(s(174));return a}function kf(a,l){Vt(Ao,l),Vt(Ha,a),Vt($r,Ga),a=z(l),te($r),Vt($r,a)}function Po(){te($r),te(Ha),te(Ao)}function Z1(a){var l=Un(Ao.current),d=Un($r.current);d!==(l=R(d,a.type,l))&&(Vt(Ha,a),Vt($r,l))}function Mf(a){Ha.current===a&&(te($r),te(Ha))}var de=Ui(0);function Gu(a){for(var l=a;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&((d=d.dehydrated)===null||E1(d)||sf(d)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((128&l.flags)!=0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Df=[];function Nf(){for(var a=0;a<Df.length;a++){var l=Df[a];he?l._workInProgressVersionPrimary=null:l._workInProgressVersionSecondary=null}Df.length=0}var Hu=o.ReactCurrentDispatcher,Ff=o.ReactCurrentBatchConfig,Ns=0,se=null,De=null,Ne=null,ju=!1,ja=!1,$a=0,y5=0;function Ke(){throw Error(s(321))}function Of(a,l){if(l===null)return!1;for(var d=0;d<l.length&&d<a.length;d++)if(!ln(a[d],l[d]))return!1;return!0}function Lf(a,l,d,p,y,T){if(Ns=T,se=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Hu.current=a===null||a.memoizedState===null?_5:b5,a=d(p,y),ja){T=0;do{if(ja=!1,$a=0,25<=T)throw Error(s(301));T+=1,Ne=De=null,l.updateQueue=null,Hu.current=w5,a=d(p,y)}while(ja)}if(Hu.current=Vu,l=De!==null&&De.next!==null,Ns=0,Ne=De=se=null,ju=!1,l)throw Error(s(300));return a}function Bf(){var a=$a!==0;return $a=0,a}function zn(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?se.memoizedState=Ne=a:Ne=Ne.next=a,Ne}function Wr(){if(De===null){var a=se.alternate;a=a!==null?a.memoizedState:null}else a=De.next;var l=Ne===null?se.memoizedState:Ne.next;if(l!==null)Ne=l,De=a;else{if(a===null)throw Error(s(310));a={memoizedState:(De=a).memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Ne===null?se.memoizedState=Ne=a:Ne=Ne.next=a}return Ne}function Wa(a,l){return typeof l=="function"?l(a):l}function Uf(a){var l=Wr(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var p=De,y=p.baseQueue,T=d.pending;if(T!==null){if(y!==null){var A=y.next;y.next=T.next,T.next=A}p.baseQueue=y=T,d.pending=null}if(y!==null){T=y.next,p=p.baseState;var I=A=null,F=null,G=T;do{var j=G.lane;if((Ns&j)===j)F!==null&&(F=F.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),p=G.hasEagerState?G.eagerState:a(p,G.action);else{var rt={lane:j,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};F===null?(I=F=rt,A=p):F=F.next=rt,se.lanes|=j,Fs|=j}G=G.next}while(G!==null&&G!==T);F===null?A=p:F.next=I,ln(p,l.memoizedState)||(mr=!0),l.memoizedState=p,l.baseState=A,l.baseQueue=F,d.lastRenderedState=p}if((a=d.interleaved)!==null){y=a;do T=y.lane,se.lanes|=T,Fs|=T,y=y.next;while(y!==a)}else y===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function zf(a){var l=Wr(),d=l.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var p=d.dispatch,y=d.pending,T=l.memoizedState;if(y!==null){d.pending=null;var A=y=y.next;do T=a(T,A.action),A=A.next;while(A!==y);ln(T,l.memoizedState)||(mr=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),d.lastRenderedState=T}return[T,p]}function q1(){}function J1(a,l){var d=se,p=Wr(),y=l(),T=!ln(p.memoizedState,y);if(T&&(p.memoizedState=y,mr=!0),p=p.queue,Gf(ry.bind(null,d,p,a),[a]),p.getSnapshot!==l||T||Ne!==null&&1&Ne.memoizedState.tag){if(d.flags|=2048,Va(9,ey.bind(null,d,p,y,l),void 0,null),Fe===null)throw Error(s(349));(30&Ns)!=0||ty(d,l,y)}return y}function ty(a,l,d){a.flags|=16384,a={getSnapshot:l,value:d},(l=se.updateQueue)===null?(l={lastEffect:null,stores:null},se.updateQueue=l,l.stores=[a]):(d=l.stores)===null?l.stores=[a]:d.push(a)}function ey(a,l,d,p){l.value=d,l.getSnapshot=p,ny(l)&&iy(a)}function ry(a,l,d){return d(function(){ny(l)&&iy(a)})}function ny(a){var l=a.getSnapshot;a=a.value;try{var d=l();return!ln(a,d)}catch{return!0}}function iy(a){var l=Bn(a,1);l!==null&&Vr(l,a,1,-1)}function sy(a){var l=zn();return typeof a=="function"&&(a=a()),l.memoizedState=l.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:a},l.queue=a,a=a.dispatch=T5.bind(null,se,a),[l.memoizedState,a]}function Va(a,l,d,p){return a={tag:a,create:l,destroy:d,deps:p,next:null},(l=se.updateQueue)===null?(l={lastEffect:null,stores:null},se.updateQueue=l,l.lastEffect=a.next=a):(d=l.lastEffect)===null?l.lastEffect=a.next=a:(p=d.next,d.next=a,a.next=p,l.lastEffect=a),a}function oy(){return Wr().memoizedState}function $u(a,l,d,p){var y=zn();se.flags|=a,y.memoizedState=Va(1|l,d,void 0,p===void 0?null:p)}function Wu(a,l,d,p){var y=Wr();p=p===void 0?null:p;var T=void 0;if(De!==null){var A=De.memoizedState;if(T=A.destroy,p!==null&&Of(p,A.deps))return void(y.memoizedState=Va(l,d,T,p))}se.flags|=a,y.memoizedState=Va(1|l,d,T,p)}function ay(a,l){return $u(8390656,8,a,l)}function Gf(a,l){return Wu(2048,8,a,l)}function ly(a,l){return Wu(4,2,a,l)}function uy(a,l){return Wu(4,4,a,l)}function cy(a,l){return typeof l=="function"?(a=a(),l(a),function(){l(null)}):l!=null?(a=a(),l.current=a,function(){l.current=null}):void 0}function hy(a,l,d){return d=d!=null?d.concat([a]):null,Wu(4,4,cy.bind(null,l,a),d)}function Hf(){}function dy(a,l){var d=Wr();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&Of(l,p[1])?p[0]:(d.memoizedState=[a,l],a)}function fy(a,l){var d=Wr();l=l===void 0?null:l;var p=d.memoizedState;return p!==null&&l!==null&&Of(l,p[1])?p[0]:(a=a(),d.memoizedState=[a,l],a)}function my(a,l,d){return(21&Ns)==0?(a.baseState&&(a.baseState=!1,mr=!0),a.memoizedState=d):(ln(d,l)||(d=I1(),se.lanes|=d,Fs|=d,a.baseState=!0),l)}function v5(a,l){var d=Ft;Ft=d!==0&&4>d?d:4,a(!0);var p=Ff.transition;Ff.transition={};try{a(!1),l()}finally{Ft=d,Ff.transition=p}}function py(){return Wr().memoizedState}function x5(a,l,d){var p=Vi(a);d={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null},gy(a)?yy(l,d):(d=z1(a,l,d,p))!==null&&(Vr(d,a,p,Ze()),vy(d,l,p))}function T5(a,l,d){var p=Vi(a),y={lane:p,action:d,hasEagerState:!1,eagerState:null,next:null};if(gy(a))yy(l,y);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer)!==null)try{var A=l.lastRenderedState,I=T(A,d);if(y.hasEagerState=!0,y.eagerState=I,ln(I,A)){var F=l.interleaved;return F===null?(y.next=y,Af(l)):(y.next=F.next,F.next=y),void(l.interleaved=y)}}catch{}(d=z1(a,l,y,p))!==null&&(Vr(d,a,p,y=Ze()),vy(d,l,p))}}function gy(a){var l=a.alternate;return a===se||l!==null&&l===se}function yy(a,l){ja=ju=!0;var d=a.pending;d===null?l.next=l:(l.next=d.next,d.next=l),a.pending=l}function vy(a,l,d){if((4194240&d)!=0){var p=l.lanes;d|=p&=a.pendingLanes,l.lanes=d,mf(a,d)}}var Vu={readContext:jr,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useInsertionEffect:Ke,useLayoutEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useMutableSource:Ke,useSyncExternalStore:Ke,useId:Ke,unstable_isNewReconciler:!1},_5={readContext:jr,useCallback:function(a,l){return zn().memoizedState=[a,l===void 0?null:l],a},useContext:jr,useEffect:ay,useImperativeHandle:function(a,l,d){return d=d!=null?d.concat([a]):null,$u(4194308,4,cy.bind(null,l,a),d)},useLayoutEffect:function(a,l){return $u(4194308,4,a,l)},useInsertionEffect:function(a,l){return $u(4,2,a,l)},useMemo:function(a,l){var d=zn();return l=l===void 0?null:l,a=a(),d.memoizedState=[a,l],a},useReducer:function(a,l,d){var p=zn();return l=d!==void 0?d(l):l,p.memoizedState=p.baseState=l,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:l},p.queue=a,a=a.dispatch=x5.bind(null,se,a),[p.memoizedState,a]},useRef:function(a){return a={current:a},zn().memoizedState=a},useState:sy,useDebugValue:Hf,useDeferredValue:function(a){return zn().memoizedState=a},useTransition:function(){var a=sy(!1),l=a[0];return a=v5.bind(null,a[1]),zn().memoizedState=a,[l,a]},useMutableSource:function(){},useSyncExternalStore:function(a,l,d){var p=se,y=zn();if(ee){if(d===void 0)throw Error(s(407));d=d()}else{if(d=l(),Fe===null)throw Error(s(349));(30&Ns)!=0||ty(p,l,d)}y.memoizedState=d;var T={value:d,getSnapshot:l};return y.queue=T,ay(ry.bind(null,p,T,a),[a]),p.flags|=2048,Va(9,ey.bind(null,p,T,d,l),void 0,null),d},useId:function(){var a=zn(),l=Fe.identifierPrefix;if(ee){var d=ci;l=":"+l+"R"+(d=(Ln&~(1<<32-an(Ln)-1)).toString(32)+d),0<(d=$a++)&&(l+="H"+d.toString(32)),l+=":"}else l=":"+l+"r"+(d=y5++).toString(32)+":";return a.memoizedState=l},unstable_isNewReconciler:!1},b5={readContext:jr,useCallback:dy,useContext:jr,useEffect:Gf,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:fy,useReducer:Uf,useRef:oy,useState:function(){return Uf(Wa)},useDebugValue:Hf,useDeferredValue:function(a){return my(Wr(),De.memoizedState,a)},useTransition:function(){return[Uf(Wa)[0],Wr().memoizedState]},useMutableSource:q1,useSyncExternalStore:J1,useId:py,unstable_isNewReconciler:!1},w5={readContext:jr,useCallback:dy,useContext:jr,useEffect:Gf,useImperativeHandle:hy,useInsertionEffect:ly,useLayoutEffect:uy,useMemo:fy,useReducer:zf,useRef:oy,useState:function(){return zf(Wa)},useDebugValue:Hf,useDeferredValue:function(a){var l=Wr();return De===null?l.memoizedState=a:my(l,De.memoizedState,a)},useTransition:function(){return[zf(Wa)[0],Wr().memoizedState]},useMutableSource:q1,useSyncExternalStore:J1,useId:py,unstable_isNewReconciler:!1};function Io(a,l){try{var d="",p=l;do d+=g5(p),p=p.return;while(p);var y=d}catch(T){y=`
Error generating stack: `+T.message+`
`+T.stack}return{value:a,source:l,stack:y,digest:null}}function jf(a,l,d){return{value:a,source:null,stack:d!=null?d:null,digest:l!=null?l:null}}function $f(a,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var S5=typeof WeakMap=="function"?WeakMap:Map;function xy(a,l,d){(d=hi(-1,d)).tag=3,d.payload={element:null};var p=l.value;return d.callback=function(){oc||(oc=!0,um=p),$f(0,l)},d}function Ty(a,l,d){(d=hi(-1,d)).tag=3;var p=a.type.getDerivedStateFromError;if(typeof p=="function"){var y=l.value;d.payload=function(){return p(y)},d.callback=function(){$f(0,l)}}var T=a.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(d.callback=function(){$f(0,l),typeof p!="function"&&($i===null?$i=new Set([this]):$i.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})}),d}function _y(a,l,d){var p=a.pingCache;if(p===null){p=a.pingCache=new S5;var y=new Set;p.set(l,y)}else(y=p.get(l))===void 0&&(y=new Set,p.set(l,y));y.has(d)||(y.add(d),a=D5.bind(null,a,l,d),l.then(a,a))}function by(a){do{var l;if((l=a.tag===13)&&(l=(l=a.memoizedState)===null||l.dehydrated!==null),l)return a;a=a.return}while(a!==null);return null}function wy(a,l,d,p,y){return(1&a.mode)==0?(a===l?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:((l=hi(-1,1)).tag=2,Hi(d,l,1))),d.lanes|=1),a):(a.flags|=65536,a.lanes=y,a)}var E5=o.ReactCurrentOwner,mr=!1;function pr(a,l,d,p){l.child=a===null?Q1(l,null,d,p):Co(l,a.child,d,p)}function Sy(a,l,d,p,y){d=d.render;var T=l.ref;return Eo(l,y),p=Lf(a,l,d,p,T,y),d=Bf(),a===null||mr?(ee&&d&&vf(l),l.flags|=1,pr(a,l,p,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,di(a,l,y))}function Ey(a,l,d,p,y){if(a===null){var T=d.type;return typeof T!="function"||pm(T)||T.defaultProps!==void 0||d.compare!==null||d.defaultProps!==void 0?((a=dc(d.type,null,p,l,l.mode,y)).ref=l.ref,a.return=l,l.child=a):(l.tag=15,l.type=T,Cy(a,l,T,p,y))}if(T=a.child,(a.lanes&y)==0){var A=T.memoizedProps;if((d=(d=d.compare)!==null?d:Nu)(A,p)&&a.ref===l.ref)return di(a,l,y)}return l.flags|=1,(a=Yi(T,p)).ref=l.ref,a.return=l,l.child=a}function Cy(a,l,d,p,y){if(a!==null){var T=a.memoizedProps;if(Nu(T,p)&&a.ref===l.ref){if(mr=!1,l.pendingProps=p=T,(a.lanes&y)==0)return l.lanes=a.lanes,di(a,l,y);(131072&a.flags)!=0&&(mr=!0)}}return Wf(a,l,d,p,y)}function Ay(a,l,d){var p=l.pendingProps,y=p.children,T=a!==null?a.memoizedState:null;if(p.mode==="hidden")if((1&l.mode)==0)l.memoizedState={baseLanes:0,cachePool:null,transitions:null},Vt(ko,Cr),Cr|=d;else{if((1073741824&d)==0)return a=T!==null?T.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:a,cachePool:null,transitions:null},l.updateQueue=null,Vt(ko,Cr),Cr|=a,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=T!==null?T.baseLanes:d,Vt(ko,Cr),Cr|=p}else T!==null?(p=T.baseLanes|d,l.memoizedState=null):p=d,Vt(ko,Cr),Cr|=p;return pr(a,l,y,d),l.child}function Py(a,l){var d=l.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Wf(a,l,d,p,y){var T=Sr(d)?Rs:Ye.current;return T=To(l,T),Eo(l,y),d=Lf(a,l,d,p,T,y),p=Bf(),a===null||mr?(ee&&p&&vf(l),l.flags|=1,pr(a,l,d,y),l.child):(l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~y,di(a,l,y))}function Iy(a,l,d,p,y){if(Sr(d)){var T=!0;Au(l)}else T=!1;if(Eo(l,y),l.stateNode===null)Qu(a,l),V1(l,d,p),Rf(l,d,p,y),p=!0;else if(a===null){var A=l.stateNode,I=l.memoizedProps;A.props=I;var F=A.context,G=d.contextType;typeof G=="object"&&G!==null?G=jr(G):G=To(l,G=Sr(d)?Rs:Ye.current);var j=d.getDerivedStateFromProps,rt=typeof j=="function"||typeof A.getSnapshotBeforeUpdate=="function";rt||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==p||F!==G)&&X1(l,A,p,G),Gi=!1;var H=l.memoizedState;A.state=H,Bu(l,p,A,y),F=l.memoizedState,I!==p||H!==F||fr.current||Gi?(typeof j=="function"&&(If(l,d,j,p),F=l.memoizedState),(I=Gi||W1(l,d,I,p,H,F,G))?(rt||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(l.flags|=4194308)):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=F),A.props=p,A.state=F,A.context=G,p=I):(typeof A.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{A=l.stateNode,G1(a,l),I=l.memoizedProps,G=l.type===l.elementType?I:cn(l.type,I),A.props=G,rt=l.pendingProps,H=A.context,typeof(F=d.contextType)=="object"&&F!==null?F=jr(F):F=To(l,F=Sr(d)?Rs:Ye.current);var q=d.getDerivedStateFromProps;(j=typeof q=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||(I!==rt||H!==F)&&X1(l,A,p,F),Gi=!1,H=l.memoizedState,A.state=H,Bu(l,p,A,y);var ut=l.memoizedState;I!==rt||H!==ut||fr.current||Gi?(typeof q=="function"&&(If(l,d,q,p),ut=l.memoizedState),(G=Gi||W1(l,d,G,p,H,ut,F)||!1)?(j||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,ut,F),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,ut,F)),typeof A.componentDidUpdate=="function"&&(l.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&H===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&H===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ut),A.props=p,A.state=ut,A.context=F,p=G):(typeof A.componentDidUpdate!="function"||I===a.memoizedProps&&H===a.memoizedState||(l.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&H===a.memoizedState||(l.flags|=1024),p=!1)}return Vf(a,l,d,p,T,y)}function Vf(a,l,d,p,y,T){Py(a,l);var A=(128&l.flags)!=0;if(!p&&!A)return y&&P1(l,d,!1),di(a,l,T);p=l.stateNode,E5.current=l;var I=A&&typeof d.getDerivedStateFromError!="function"?null:p.render();return l.flags|=1,a!==null&&A?(l.child=Co(l,a.child,null,T),l.child=Co(l,null,I,T)):pr(a,l,I,T),l.memoizedState=p.state,y&&P1(l,d,!0),l.child}function Ry(a){var l=a.stateNode;l.pendingContext?C1(0,l.pendingContext,l.pendingContext!==l.context):l.context&&C1(0,l.context,!1),kf(a,l.containerInfo)}function ky(a,l,d,p,y){return wo(),bf(y),l.flags|=256,pr(a,l,d,p),l.child}var Xa,Ya,Xu,Yu,Xf={dehydrated:null,treeContext:null,retryLane:0};function Yf(a){return{baseLanes:a,cachePool:null,transitions:null}}function My(a,l,d){var p,y=l.pendingProps,T=de.current,A=!1,I=(128&l.flags)!=0;if((p=I)||(p=(a===null||a.memoizedState!==null)&&(2&T)!=0),p?(A=!0,l.flags&=-129):a!==null&&a.memoizedState===null||(T|=1),Vt(de,1&T),a===null)return _f(l),(a=l.memoizedState)!==null&&(a=a.dehydrated)!==null?((1&l.mode)==0?l.lanes=1:sf(a)?l.lanes=8:l.lanes=1073741824,null):(I=y.children,a=y.fallback,A?(y=l.mode,A=l.child,I={mode:"hidden",children:I},(1&y)==0&&A!==null?(A.childLanes=0,A.pendingProps=I):A=fc(I,y,0,null),a=Bs(a,y,d,null),A.return=l,a.return=l,A.sibling=a,l.child=A,l.child.memoizedState=Yf(d),l.memoizedState=Xf,a):Kf(l,I));if((T=a.memoizedState)!==null&&(p=T.dehydrated)!==null)return function(G,j,rt,H,q,ut,Ct){if(rt)return 256&j.flags?(j.flags&=-257,Ku(G,j,Ct,H=jf(Error(s(422))))):j.memoizedState!==null?(j.child=G.child,j.flags|=128,null):(ut=H.fallback,q=j.mode,H=fc({mode:"visible",children:H.children},q,0,null),(ut=Bs(ut,q,Ct,null)).flags|=2,H.return=j,ut.return=j,H.sibling=ut,j.child=H,(1&j.mode)!=0&&Co(j,G.child,null,Ct),j.child.memoizedState=Yf(Ct),j.memoizedState=Xf,ut);if((1&j.mode)==0)return Ku(G,j,Ct,null);if(sf(q))return H=Ww(q).digest,ut=Error(s(419)),H=jf(ut,H,void 0),Ku(G,j,Ct,H);if(rt=(Ct&G.childLanes)!=0,mr||rt){if((H=Fe)!==null){switch(Ct&-Ct){case 4:q=2;break;case 16:q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:q=32;break;case 536870912:q=268435456;break;default:q=0}(q=(q&(H.suspendedLanes|Ct))!=0?0:q)!==0&&q!==ut.retryLane&&(ut.retryLane=q,Bn(G,q),Vr(H,G,q,-1))}return mm(),Ku(G,j,Ct,H=jf(Error(s(421))))}return E1(q)?(j.flags|=128,j.child=G.child,j=N5.bind(null,G),Vw(q,j),null):(G=ut.treeContext,Nt&&(Hr=Kw(q),Er=j,ee=!0,un=null,Ua=!1,G!==null&&(zr[Gr++]=Ln,zr[Gr++]=ci,zr[Gr++]=ks,Ln=G.id,ci=G.overflow,ks=j)),j=Kf(j,H.children),j.flags|=4096,j)}(a,l,I,y,p,T,d);if(A){A=y.fallback,I=l.mode,p=(T=a.child).sibling;var F={mode:"hidden",children:y.children};return(1&I)==0&&l.child!==T?((y=l.child).childLanes=0,y.pendingProps=F,l.deletions=null):(y=Yi(T,F)).subtreeFlags=14680064&T.subtreeFlags,p!==null?A=Yi(p,A):(A=Bs(A,I,d,null)).flags|=2,A.return=l,y.return=l,y.sibling=A,l.child=y,y=A,A=l.child,I=(I=a.child.memoizedState)===null?Yf(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},A.memoizedState=I,A.childLanes=a.childLanes&~d,l.memoizedState=Xf,y}return a=(A=a.child).sibling,y=Yi(A,{mode:"visible",children:y.children}),(1&l.mode)==0&&(y.lanes=d),y.return=l,y.sibling=null,a!==null&&((d=l.deletions)===null?(l.deletions=[a],l.flags|=16):d.push(a)),l.child=y,l.memoizedState=null,y}function Kf(a,l){return(l=fc({mode:"visible",children:l},a.mode,0,null)).return=a,a.child=l}function Ku(a,l,d,p){return p!==null&&bf(p),Co(l,a.child,null,d),(a=Kf(l,l.pendingProps.children)).flags|=2,l.memoizedState=null,a}function Dy(a,l,d){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),Cf(a.return,l,d)}function Qf(a,l,d,p,y){var T=a.memoizedState;T===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:y}:(T.isBackwards=l,T.rendering=null,T.renderingStartTime=0,T.last=p,T.tail=d,T.tailMode=y)}function Ny(a,l,d){var p=l.pendingProps,y=p.revealOrder,T=p.tail;if(pr(a,l,p.children,d),(2&(p=de.current))!=0)p=1&p|2,l.flags|=128;else{if(a!==null&&(128&a.flags)!=0)t:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Dy(a,d,l);else if(a.tag===19)Dy(a,d,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break t;for(;a.sibling===null;){if(a.return===null||a.return===l)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}p&=1}if(Vt(de,p),(1&l.mode)==0)l.memoizedState=null;else switch(y){case"forwards":for(d=l.child,y=null;d!==null;)(a=d.alternate)!==null&&Gu(a)===null&&(y=d),d=d.sibling;(d=y)===null?(y=l.child,l.child=null):(y=d.sibling,d.sibling=null),Qf(l,!1,y,d,T);break;case"backwards":for(d=null,y=l.child,l.child=null;y!==null;){if((a=y.alternate)!==null&&Gu(a)===null){l.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}Qf(l,!0,d,null,T);break;case"together":Qf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function Qu(a,l){(1&l.mode)==0&&a!==null&&(a.alternate=null,l.alternate=null,l.flags|=2)}function di(a,l,d){if(a!==null&&(l.dependencies=a.dependencies),Fs|=l.lanes,(d&l.childLanes)==0)return null;if(a!==null&&l.child!==a.child)throw Error(s(153));if(l.child!==null){for(d=Yi(a=l.child,a.pendingProps),l.child=d,d.return=l;a.sibling!==null;)a=a.sibling,(d=d.sibling=Yi(a,a.pendingProps)).return=l;d.sibling=null}return l.child}function Gn(a){a.flags|=4}function Fy(a,l){if(a!==null&&a.child===l.child)return!0;if((16&l.flags)!=0)return!1;for(a=l.child;a!==null;){if((12854&a.flags)!=0||(12854&a.subtreeFlags)!=0)return!1;a=a.sibling}return!0}if(Rt)Xa=function(a,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)nt(a,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Ya=function(){},Xu=function(a,l,d,p,y){if((a=a.memoizedProps)!==p){var T=l.stateNode,A=Un($r.current);d=_t(T,d,a,p,y,A),(l.updateQueue=d)&&Gn(l)}},Yu=function(a,l,d,p){d!==p&&Gn(l)};else if(Qt){Xa=function(a,l,d,p){for(var y=l.child;y!==null;){if(y.tag===5){var T=y.stateNode;d&&p&&(T=w1(T,y.type,y.memoizedProps,y)),nt(a,T)}else if(y.tag===6)T=y.stateNode,d&&p&&(T=S1(T,y.memoizedProps,y)),nt(a,T);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(T=y.child)!==null&&(T.return=y),Xa(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var Oy=function(a,l,d,p){for(var y=l.child;y!==null;){if(y.tag===5){var T=y.stateNode;d&&p&&(T=w1(T,y.type,y.memoizedProps,y)),b1(a,T)}else if(y.tag===6)T=y.stateNode,d&&p&&(T=S1(T,y.memoizedProps,y)),b1(a,T);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(T=y.child)!==null&&(T.return=y),Oy(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===l)break;for(;y.sibling===null;){if(y.return===null||y.return===l)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};Ya=function(a,l){var d=l.stateNode;if(!Fy(a,l)){a=d.containerInfo;var p=_1(a);Oy(p,l,!1,!1),d.pendingChildren=p,Gn(l),Gw(a,p)}},Xu=function(a,l,d,p,y){var T=a.stateNode,A=a.memoizedProps;if((a=Fy(a,l))&&A===p)l.stateNode=T;else{var I=l.stateNode,F=Un($r.current),G=null;A!==p&&(G=_t(I,d,A,p,y,F)),a&&G===null?l.stateNode=T:(T=zw(T,G,d,A,p,l,a,I),St(T,d,p,y,F)&&Gn(l),l.stateNode=T,a?Gn(l):Xa(T,l,!1,!1))}},Yu=function(a,l,d,p){d!==p?(a=Un(Ao.current),d=Un($r.current),l.stateNode=Pt(p,a,d,l),Gn(l)):l.stateNode=a.stateNode}}else Ya=function(){},Xu=function(){},Yu=function(){};function Ka(a,l){if(!ee)switch(a.tailMode){case"hidden":l=a.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function sr(a){var l=a.alternate!==null&&a.alternate.child===a.child,d=0,p=0;if(l)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,p|=14680064&y.subtreeFlags,p|=14680064&y.flags,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,p|=y.subtreeFlags,p|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=p,a.childLanes=d,l}function C5(a,l,d){var p=l.pendingProps;switch(xf(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sr(l),null;case 1:case 17:return Sr(l.type)&&uf(),sr(l),null;case 3:return d=l.stateNode,Po(),te(fr),te(Ye),Nf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),a!==null&&a.child!==null||(Du(l)?Gn(l):a===null||a.memoizedState.isDehydrated&&(256&l.flags)==0||(l.flags|=1024,un!==null&&(dm(un),un=null))),Ya(a,l),sr(l),null;case 5:Mf(l),d=Un(Ao.current);var y=l.type;if(a!==null&&l.stateNode!=null)Xu(a,l,y,p,d),a.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!p){if(l.stateNode===null)throw Error(s(166));return sr(l),null}if(a=Un($r.current),Du(l)){if(!Nt)throw Error(s(175));a=Qw(l.stateNode,l.type,l.memoizedProps,d,a,l,!Ua),l.updateQueue=a,a!==null&&Gn(l)}else{var T=K(y,p,d,a,l);Xa(T,l,!1,!1),l.stateNode=T,St(T,y,p,d,a)&&Gn(l)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return sr(l),null;case 6:if(a&&l.stateNode!=null)Yu(a,l,a.memoizedProps,p);else{if(typeof p!="string"&&l.stateNode===null)throw Error(s(166));if(a=Un(Ao.current),d=Un($r.current),Du(l)){if(!Nt)throw Error(s(176));if(a=l.stateNode,d=l.memoizedProps,(p=Zw(a,d,l,!Ua))&&(y=Er)!==null)switch(y.tag){case 3:s5(y.stateNode.containerInfo,a,d,(1&y.mode)!=0);break;case 5:o5(y.type,y.memoizedProps,y.stateNode,a,d,(1&y.mode)!=0)}p&&Gn(l)}else l.stateNode=Pt(p,a,d,l)}return sr(l),null;case 13:if(te(de),p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(ee&&Hr!==null&&(1&l.mode)!=0&&(128&l.flags)==0)B1(),wo(),l.flags|=98560,y=!1;else if(y=Du(l),p!==null&&p.dehydrated!==null){if(a===null){if(!y)throw Error(s(318));if(!Nt)throw Error(s(344));if(!(y=(y=l.memoizedState)!==null?y.dehydrated:null))throw Error(s(317));qw(y,l)}else wo(),(128&l.flags)==0&&(l.memoizedState=null),l.flags|=4;sr(l),y=!1}else un!==null&&(dm(un),un=null),y=!0;if(!y)return 65536&l.flags?l:null}return(128&l.flags)!=0?(l.lanes=d,l):((d=p!==null)!=(a!==null&&a.memoizedState!==null)&&d&&(l.child.flags|=8192,(1&l.mode)!=0&&(a===null||(1&de.current)!=0?Ce===0&&(Ce=3):mm())),l.updateQueue!==null&&(l.flags|=4),sr(l),null);case 4:return Po(),Ya(a,l),a===null&&Ur(l.stateNode.containerInfo),sr(l),null;case 10:return Ef(l.type._context),sr(l),null;case 19:if(te(de),(y=l.memoizedState)===null)return sr(l),null;if(p=(128&l.flags)!=0,(T=y.rendering)===null)if(p)Ka(y,!1);else{if(Ce!==0||a!==null&&(128&a.flags)!=0)for(a=l.child;a!==null;){if((T=Gu(a))!==null){for(l.flags|=128,Ka(y,!1),(a=T.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),l.subtreeFlags=0,a=d,d=l.child;d!==null;)y=a,(p=d).flags&=14680066,(T=p.alternate)===null?(p.childLanes=0,p.lanes=y,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=T.childLanes,p.lanes=T.lanes,p.child=T.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=T.memoizedProps,p.memoizedState=T.memoizedState,p.updateQueue=T.updateQueue,p.type=T.type,y=T.dependencies,p.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),d=d.sibling;return Vt(de,1&de.current|2),l.child}a=a.sibling}y.tail!==null&&Me()>lm&&(l.flags|=128,p=!0,Ka(y,!1),l.lanes=4194304)}else{if(!p)if((a=Gu(T))!==null){if(l.flags|=128,p=!0,(a=a.updateQueue)!==null&&(l.updateQueue=a,l.flags|=4),Ka(y,!0),y.tail===null&&y.tailMode==="hidden"&&!T.alternate&&!ee)return sr(l),null}else 2*Me()-y.renderingStartTime>lm&&d!==1073741824&&(l.flags|=128,p=!0,Ka(y,!1),l.lanes=4194304);y.isBackwards?(T.sibling=l.child,l.child=T):((a=y.last)!==null?a.sibling=T:l.child=T,y.last=T)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.renderingStartTime=Me(),l.sibling=null,a=de.current,Vt(de,p?1&a|2:1&a),l):(sr(l),null);case 22:case 23:return fm(),d=l.memoizedState!==null,a!==null&&a.memoizedState!==null!==d&&(l.flags|=8192),d&&(1&l.mode)!=0?(1073741824&Cr)!=0&&(sr(l),Rt&&6&l.subtreeFlags&&(l.flags|=8192)):sr(l),null;case 24:case 25:return null}throw Error(s(156,l.tag))}function A5(a,l){switch(xf(l),l.tag){case 1:return Sr(l.type)&&uf(),65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 3:return Po(),te(fr),te(Ye),Nf(),(65536&(a=l.flags))!=0&&(128&a)==0?(l.flags=-65537&a|128,l):null;case 5:return Mf(l),null;case 13:if(te(de),(a=l.memoizedState)!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(s(340));wo()}return 65536&(a=l.flags)?(l.flags=-65537&a|128,l):null;case 19:return te(de),null;case 4:return Po(),null;case 10:return Ef(l.type._context),null;case 22:case 23:return fm(),null;default:return null}}var Zu=!1,Qe=!1,P5=typeof WeakSet=="function"?WeakSet:Set,at=null;function Ro(a,l){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(p){re(a,l,p)}else d.current=null}function Ly(a,l,d){try{d()}catch(p){re(a,l,p)}}var By=!1;function Qa(a,l,d){var p=l.updateQueue;if((p=p!==null?p.lastEffect:null)!==null){var y=p=p.next;do{if((y.tag&a)===a){var T=y.destroy;y.destroy=void 0,T!==void 0&&Ly(l,d,T)}y=y.next}while(y!==p)}}function qu(a,l){if((l=(l=l.updateQueue)!==null?l.lastEffect:null)!==null){var d=l=l.next;do{if((d.tag&a)===a){var p=d.create;d.destroy=p()}d=d.next}while(d!==l)}}function Zf(a){var l=a.ref;if(l!==null){var d=a.stateNode;a.tag===5?a=vt(d):a=d,typeof l=="function"?l(a):l.current=a}}function Uy(a){var l=a.alternate;l!==null&&(a.alternate=null,Uy(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode)!==null&&rf(l),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function zy(a){return a.tag===5||a.tag===3||a.tag===4}function Gy(a){t:for(;;){for(;a.sibling===null;){if(a.return===null||zy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue t;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function qf(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?Mw(d,a,l):Aw(d,a);else if(p!==4&&(a=a.child)!==null)for(qf(a,l,d),a=a.sibling;a!==null;)qf(a,l,d),a=a.sibling}function Jf(a,l,d){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?kw(d,a,l):Cw(d,a);else if(p!==4&&(a=a.child)!==null)for(Jf(a,l,d),a=a.sibling;a!==null;)Jf(a,l,d),a=a.sibling}var or=null,Hn=!1;function jn(a,l,d){for(d=d.child;d!==null;)tm(a,l,d),d=d.sibling}function tm(a,l,d){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(Iu,d)}catch{}switch(d.tag){case 5:Qe||Ro(d,l);case 6:if(Rt){var p=or,y=Hn;or=null,jn(a,l,d),Hn=y,(or=p)!==null&&(Hn?Nw(or,d.stateNode):Dw(or,d.stateNode))}else jn(a,l,d);break;case 18:Rt&&or!==null&&(Hn?n5(or,d.stateNode):r5(or,d.stateNode));break;case 4:Rt?(p=or,y=Hn,or=d.stateNode.containerInfo,Hn=!0,jn(a,l,d),or=p,Hn=y):(Qt&&(p=d.stateNode.containerInfo,y=_1(p),nf(p,y)),jn(a,l,d));break;case 0:case 11:case 14:case 15:if(!Qe&&(p=d.updateQueue)!==null&&(p=p.lastEffect)!==null){y=p=p.next;do{var T=y,A=T.destroy;T=T.tag,A!==void 0&&((2&T)!=0||(4&T)!=0)&&Ly(d,l,A),y=y.next}while(y!==p)}jn(a,l,d);break;case 1:if(!Qe&&(Ro(d,l),typeof(p=d.stateNode).componentWillUnmount=="function"))try{p.props=d.memoizedProps,p.state=d.memoizedState,p.componentWillUnmount()}catch(I){re(d,l,I)}jn(a,l,d);break;case 21:jn(a,l,d);break;case 22:1&d.mode?(Qe=(p=Qe)||d.memoizedState!==null,jn(a,l,d),Qe=p):jn(a,l,d);break;default:jn(a,l,d)}}function Hy(a){var l=a.updateQueue;if(l!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new P5),l.forEach(function(p){var y=F5.bind(null,a,p);d.has(p)||(d.add(p),p.then(y,y))})}}function hn(a,l){var d=l.deletions;if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];try{var T=a,A=l;if(Rt){var I=A;t:for(;I!==null;){switch(I.tag){case 5:or=I.stateNode,Hn=!1;break t;case 3:case 4:or=I.stateNode.containerInfo,Hn=!0;break t}I=I.return}if(or===null)throw Error(s(160));tm(T,A,y),or=null,Hn=!1}else tm(T,A,y);var F=y.alternate;F!==null&&(F.return=null),y.return=null}catch(G){re(y,l,G)}}if(12854&l.subtreeFlags)for(l=l.child;l!==null;)jy(l,a),l=l.sibling}function jy(a,l){var d=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(hn(l,a),$n(a),4&p){try{Qa(3,a,a.return),qu(3,a)}catch(H){re(a,a.return,H)}try{Qa(5,a,a.return)}catch(H){re(a,a.return,H)}}break;case 1:hn(l,a),$n(a),512&p&&d!==null&&Ro(d,d.return);break;case 5:if(hn(l,a),$n(a),512&p&&d!==null&&Ro(d,d.return),Rt){if(32&a.flags){var y=a.stateNode;try{T1(y)}catch(H){re(a,a.return,H)}}if(4&p&&(y=a.stateNode)!=null){var T=a.memoizedProps;if(d=d!==null?d.memoizedProps:T,p=a.type,l=a.updateQueue,a.updateQueue=null,l!==null)try{Rw(y,l,p,d,T,a)}catch(H){re(a,a.return,H)}}}break;case 6:if(hn(l,a),$n(a),4&p&&Rt){if(a.stateNode===null)throw Error(s(162));y=a.stateNode,T=a.memoizedProps,d=d!==null?d.memoizedProps:T;try{Pw(y,d,T)}catch(H){re(a,a.return,H)}}break;case 3:if(hn(l,a),$n(a),4&p){if(Rt&&Nt&&d!==null&&d.memoizedState.isDehydrated)try{t5(l.containerInfo)}catch(H){re(a,a.return,H)}if(Qt){y=l.containerInfo,T=l.pendingChildren;try{nf(y,T)}catch(H){re(a,a.return,H)}}}break;case 4:if(hn(l,a),$n(a),4&p&&Qt){y=(T=a.stateNode).containerInfo,T=T.pendingChildren;try{nf(y,T)}catch(H){re(a,a.return,H)}}break;case 13:hn(l,a),$n(a),8192&(y=a.child).flags&&(T=y.memoizedState!==null,y.stateNode.isHidden=T,!T||y.alternate!==null&&y.alternate.memoizedState!==null||(am=Me())),4&p&&Hy(a);break;case 22:var A=d!==null&&d.memoizedState!==null;if(1&a.mode?(Qe=(d=Qe)||A,hn(l,a),Qe=d):hn(l,a),$n(a),8192&p){if(d=a.memoizedState!==null,(a.stateNode.isHidden=d)&&!A&&(1&a.mode)!=0)for(at=a,p=a.child;p!==null;){for(l=at=p;at!==null;){var I=(A=at).child;switch(A.tag){case 0:case 11:case 14:case 15:Qa(4,A,A.return);break;case 1:Ro(A,A.return);var F=A.stateNode;if(typeof F.componentWillUnmount=="function"){var G=A,j=A.return;try{var rt=G;F.props=rt.memoizedProps,F.state=rt.memoizedState,F.componentWillUnmount()}catch(H){re(G,j,H)}}break;case 5:Ro(A,A.return);break;case 22:if(A.memoizedState!==null){Vy(l);continue}}I!==null?(I.return=A,at=I):Vy(l)}p=p.sibling}if(Rt){t:if(p=null,Rt)for(l=a;;){if(l.tag===5){if(p===null){p=l;try{y=l.stateNode,d?Fw(y):Lw(l.stateNode,l.memoizedProps)}catch(H){re(a,a.return,H)}}}else if(l.tag===6){if(p===null)try{T=l.stateNode,d?Ow(T):Bw(T,l.memoizedProps)}catch(H){re(a,a.return,H)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break t;for(;l.sibling===null;){if(l.return===null||l.return===a)break t;p===l&&(p=null),l=l.return}p===l&&(p=null),l.sibling.return=l.return,l=l.sibling}}}break;case 19:hn(l,a),$n(a),4&p&&Hy(a);break;case 21:break;default:hn(l,a),$n(a)}}function $n(a){var l=a.flags;if(2&l){try{if(Rt){t:{for(var d=a.return;d!==null;){if(zy(d)){var p=d;break t}d=d.return}throw Error(s(160))}switch(p.tag){case 5:var y=p.stateNode;32&p.flags&&(T1(y),p.flags&=-33),Jf(a,Gy(a),y);break;case 3:case 4:var T=p.stateNode.containerInfo;qf(a,Gy(a),T);break;default:throw Error(s(161))}}}catch(A){re(a,a.return,A)}a.flags&=-3}4096&l&&(a.flags&=-4097)}function I5(a,l,d){at=a,$y(a)}function $y(a,l,d){for(var p=(1&a.mode)!=0;at!==null;){var y=at,T=y.child;if(y.tag===22&&p){var A=y.memoizedState!==null||Zu;if(!A){var I=y.alternate,F=I!==null&&I.memoizedState!==null||Qe;I=Zu;var G=Qe;if(Zu=A,(Qe=F)&&!G)for(at=y;at!==null;)F=(A=at).child,A.tag===22&&A.memoizedState!==null?Xy(y):F!==null?(F.return=A,at=F):Xy(y);for(;T!==null;)at=T,$y(T),T=T.sibling;at=y,Zu=I,Qe=G}Wy(a)}else(8772&y.subtreeFlags)!=0&&T!==null?(T.return=y,at=T):Wy(a)}}function Wy(a){for(;at!==null;){var l=at;if((8772&l.flags)!=0){var d=l.alternate;try{if((8772&l.flags)!=0)switch(l.tag){case 0:case 11:case 15:Qe||qu(5,l);break;case 1:var p=l.stateNode;if(4&l.flags&&!Qe)if(d===null)p.componentDidMount();else{var y=l.elementType===l.type?d.memoizedProps:cn(l.type,d.memoizedProps);p.componentDidUpdate(y,d.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var T=l.updateQueue;T!==null&&j1(l,T,p);break;case 3:var A=l.updateQueue;if(A!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=vt(l.child.stateNode);break;case 1:d=l.child.stateNode}j1(l,A,d)}break;case 5:var I=l.stateNode;d===null&&4&l.flags&&Iw(I,l.type,l.memoizedProps,l);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Nt&&l.memoizedState===null){var F=l.alternate;if(F!==null){var G=F.memoizedState;if(G!==null){var j=G.dehydrated;j!==null&&e5(j)}}}break;default:throw Error(s(163))}Qe||512&l.flags&&Zf(l)}catch(rt){re(l,l.return,rt)}}if(l===a){at=null;break}if((d=l.sibling)!==null){d.return=l.return,at=d;break}at=l.return}}function Vy(a){for(;at!==null;){var l=at;if(l===a){at=null;break}var d=l.sibling;if(d!==null){d.return=l.return,at=d;break}at=l.return}}function Xy(a){for(;at!==null;){var l=at;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{qu(4,l)}catch(F){re(l,d,F)}break;case 1:var p=l.stateNode;if(typeof p.componentDidMount=="function"){var y=l.return;try{p.componentDidMount()}catch(F){re(l,y,F)}}var T=l.return;try{Zf(l)}catch(F){re(l,T,F)}break;case 5:var A=l.return;try{Zf(l)}catch(F){re(l,A,F)}}}catch(F){re(l,l.return,F)}if(l===a){at=null;break}var I=l.sibling;if(I!==null){I.return=l.return,at=I;break}at=l.return}}var Ju=0,tc=1,ec=2,rc=3,nc=4;if(typeof Symbol=="function"&&Symbol.for){var Za=Symbol.for;Ju=Za("selector.component"),tc=Za("selector.has_pseudo_class"),ec=Za("selector.role"),rc=Za("selector.test_id"),nc=Za("selector.text")}function em(a){var l=Br(a);if(l!=null){if(typeof l.memoizedProps["data-testname"]!="string")throw Error(s(364));return l}if((a=Tw(a))===null)throw Error(s(362));return a.stateNode.current}function rm(a,l){switch(l.$$typeof){case Ju:if(a.type===l.value)return!0;break;case tc:t:{l=l.value,a=[a,0];for(var d=0;d<a.length;){var p=a[d++],y=a[d++],T=l[y];if(p.tag!==5||!Fa(p)){for(;T!=null&&rm(p,T);)T=l[++y];if(y===l.length){l=!0;break t}for(p=p.child;p!==null;)a.push(p,y),p=p.sibling}}l=!1}return l;case ec:if(a.tag===5&&ww(a.stateNode,l.value))return!0;break;case nc:if((a.tag===5||a.tag===6)&&(a=bw(a))!==null&&0<=a.indexOf(l.value))return!0;break;case rc:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===l.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function nm(a){switch(a.$$typeof){case Ju:return"<"+(O(a.value)||"Unknown")+">";case tc:return":has("+(nm(a)||"")+")";case ec:return'[role="'+a.value+'"]';case nc:return'"'+a.value+'"';case rc:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function Yy(a,l){var d=[];a=[a,0];for(var p=0;p<a.length;){var y=a[p++],T=a[p++],A=l[T];if(y.tag!==5||!Fa(y)){for(;A!=null&&rm(y,A);)A=l[++T];if(T===l.length)d.push(y);else for(y=y.child;y!==null;)a.push(y,T),y=y.sibling}}return d}function im(a,l){if(!Na)throw Error(s(363));a=Yy(a=em(a),l),l=[],a=Array.from(a);for(var d=0;d<a.length;){var p=a[d++];if(p.tag===5)Fa(p)||l.push(p.stateNode);else for(p=p.child;p!==null;)a.push(p),p=p.sibling}return l}var R5=Math.ceil,ic=o.ReactCurrentDispatcher,sm=o.ReactCurrentOwner,ge=o.ReactCurrentBatchConfig,Mt=0,Fe=null,be=null,ze=0,Cr=0,ko=Ui(0),Ce=0,qa=null,Fs=0,sc=0,om=0,Ja=null,Ar=null,am=0,lm=1/0,ji=null;function Mo(){lm=Me()+500}var Ky,oc=!1,um=null,$i=null,ac=!1,Wi=null,lc=0,tl=0,cm=null,uc=-1,cc=0;function Ze(){return(6&Mt)!=0?Me():uc!==-1?uc:uc=Me()}function Vi(a){return(1&a.mode)==0?1:(2&Mt)!=0&&ze!==0?ze&-ze:p5.transition!==null?(cc===0&&(cc=I1()),cc):(a=Ft)!==0?a:Is()}function Vr(a,l,d,p){if(50<tl)throw tl=0,cm=null,Error(s(185));Ba(a,d,p),(2&Mt)!=0&&a===Fe||(a===Fe&&((2&Mt)==0&&(sc|=d),Ce===4&&Xi(a,ze)),gr(a,p),d===1&&Mt===0&&(1&l.mode)==0&&(Mo(),Ru&&On()))}function gr(a,l){var d=a.callbackNode;(function(y,T){for(var A=y.suspendedLanes,I=y.pingedLanes,F=y.expirationTimes,G=y.pendingLanes;0<G;){var j=31-an(G),rt=1<<j,H=F[j];H===-1?(rt&A)!=0&&(rt&I)==0||(F[j]=c5(rt,T)):H<=T&&(y.expiredLanes|=rt),G&=~rt}})(a,l);var p=Pu(a,a===Fe?ze:0);if(p===0)d!==null&&k1(d),a.callbackNode=null,a.callbackPriority=0;else if(l=p&-p,a.callbackPriority!==l){if(d!=null&&k1(d),l===1)a.tag===0?function(y){Ru=!0,D1(y)}(Zy.bind(null,a)):D1(Zy.bind(null,a)),vo?xw(function(){(6&Mt)==0&&On()}):pf(gf,On),d=null;else{switch(R1(p)){case 1:d=gf;break;case 4:d=f5;break;case 16:default:d=M1;break;case 536870912:d=m5}d=sv(d,Qy.bind(null,a))}a.callbackPriority=l,a.callbackNode=d}}function Qy(a,l){if(uc=-1,cc=0,(6&Mt)!=0)throw Error(s(327));var d=a.callbackNode;if(Ls()&&a.callbackNode!==d)return null;var p=Pu(a,a===Fe?ze:0);if(p===0)return null;if((30&p)!=0||(p&a.expiredLanes)!=0||l)l=hc(a,p);else{l=p;var y=Mt;Mt|=2;var T=tv();for(Fe===a&&ze===l||(ji=null,Mo(),Os(a,l));;)try{M5();break}catch(I){Jy(a,I)}Sf(),ic.current=T,Mt=y,be!==null?l=0:(Fe=null,ze=0,l=Ce)}if(l!==0){if(l===2&&(y=df(a))!==0&&(p=y,l=hm(a,y)),l===1)throw d=qa,Os(a,0),Xi(a,p),gr(a,Me()),d;if(l===6)Xi(a,p);else{if(y=a.current.alternate,(30&p)==0&&!function(I){for(var F=I;;){if(16384&F.flags){var G=F.updateQueue;if(G!==null&&(G=G.stores)!==null)for(var j=0;j<G.length;j++){var rt=G[j],H=rt.getSnapshot;rt=rt.value;try{if(!ln(H(),rt))return!1}catch{return!1}}}if(G=F.child,16384&F.subtreeFlags&&G!==null)G.return=F,F=G;else{if(F===I)break;for(;F.sibling===null;){if(F.return===null||F.return===I)return!0;F=F.return}F.sibling.return=F.return,F=F.sibling}}return!0}(y)&&((l=hc(a,p))===2&&(T=df(a))!==0&&(p=T,l=hm(a,T)),l===1))throw d=qa,Os(a,0),Xi(a,p),gr(a,Me()),d;switch(a.finishedWork=y,a.finishedLanes=p,l){case 0:case 1:throw Error(s(345));case 2:case 5:Do(a,Ar,ji);break;case 3:if(Xi(a,p),(130023424&p)===p&&10<(l=am+500-Me())){if(Pu(a,0)!==0)break;if(((y=a.suspendedLanes)&p)!==p){Ze(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=Lt(Do.bind(null,a,Ar,ji),l);break}Do(a,Ar,ji);break;case 4:if(Xi(a,p),(4194240&p)===p)break;for(l=a.eventTimes,y=-1;0<p;){var A=31-an(p);T=1<<A,(A=l[A])>y&&(y=A),p&=~T}if(p=y,10<(p=(120>(p=Me()-p)?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*R5(p/1960))-p)){a.timeoutHandle=Lt(Do.bind(null,a,Ar,ji),p);break}Do(a,Ar,ji);break;default:throw Error(s(329))}}}return gr(a,Me()),a.callbackNode===d?Qy.bind(null,a):null}function hm(a,l){var d=Ja;return a.current.memoizedState.isDehydrated&&(Os(a,l).flags|=256),(a=hc(a,l))!==2&&(l=Ar,Ar=d,l!==null&&dm(l)),a}function dm(a){Ar===null?Ar=a:Ar.push.apply(Ar,a)}function Xi(a,l){for(l&=~om,l&=~sc,a.suspendedLanes|=l,a.pingedLanes&=~l,a=a.expirationTimes;0<l;){var d=31-an(l),p=1<<d;a[d]=-1,l&=~p}}function Zy(a){if((6&Mt)!=0)throw Error(s(327));Ls();var l=Pu(a,0);if((1&l)==0)return gr(a,Me()),null;var d=hc(a,l);if(a.tag!==0&&d===2){var p=df(a);p!==0&&(l=p,d=hm(a,p))}if(d===1)throw d=qa,Os(a,0),Xi(a,l),gr(a,Me()),d;if(d===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=l,Do(a,Ar,ji),gr(a,Me()),null}function qy(a){Wi!==null&&Wi.tag===0&&(6&Mt)==0&&Ls();var l=Mt;Mt|=1;var d=ge.transition,p=Ft;try{if(ge.transition=null,Ft=1,a)return a()}finally{Ft=p,ge.transition=d,(6&(Mt=l))==0&&On()}}function fm(){Cr=ko.current,te(ko)}function Os(a,l){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==Ue&&(a.timeoutHandle=Ue,ke(d)),be!==null)for(d=be.return;d!==null;){var p=d;switch(xf(p),p.tag){case 1:(p=p.type.childContextTypes)!=null&&uf();break;case 3:Po(),te(fr),te(Ye),Nf();break;case 5:Mf(p);break;case 4:Po();break;case 13:case 19:te(de);break;case 10:Ef(p.type._context);break;case 22:case 23:fm()}d=d.return}if(Fe=a,be=a=Yi(a.current,null),ze=Cr=l,Ce=0,qa=null,om=sc=Fs=0,Ar=Ja=null,Ds!==null){for(l=0;l<Ds.length;l++)if((p=(d=Ds[l]).interleaved)!==null){d.interleaved=null;var y=p.next,T=d.pending;if(T!==null){var A=T.next;T.next=y,p.next=A}d.pending=p}Ds=null}return a}function Jy(a,l){for(;;){var d=be;try{if(Sf(),Hu.current=Vu,ju){for(var p=se.memoizedState;p!==null;){var y=p.queue;y!==null&&(y.pending=null),p=p.next}ju=!1}if(Ns=0,Ne=De=se=null,ja=!1,$a=0,sm.current=null,d===null||d.return===null){Ce=1,qa=l,be=null;break}t:{var T=a,A=d.return,I=d,F=l;if(l=ze,I.flags|=32768,F!==null&&typeof F=="object"&&typeof F.then=="function"){var G=F,j=I,rt=j.tag;if((1&j.mode)==0&&(rt===0||rt===11||rt===15)){var H=j.alternate;H?(j.updateQueue=H.updateQueue,j.memoizedState=H.memoizedState,j.lanes=H.lanes):(j.updateQueue=null,j.memoizedState=null)}var q=by(A);if(q!==null){q.flags&=-257,wy(q,A,I,0,l),1&q.mode&&_y(T,G,l),F=G;var ut=(l=q).updateQueue;if(ut===null){var Ct=new Set;Ct.add(F),l.updateQueue=Ct}else ut.add(F);break t}if((1&l)==0){_y(T,G,l),mm();break t}F=Error(s(426))}else if(ee&&1&I.mode){var $=by(A);if($!==null){(65536&$.flags)==0&&($.flags|=256),wy($,A,I,0,l),bf(Io(F,I));break t}}T=F=Io(F,I),Ce!==4&&(Ce=2),Ja===null?Ja=[T]:Ja.push(T),T=A;do{switch(T.tag){case 3:T.flags|=65536,l&=-l,T.lanes|=l,H1(T,xy(0,F,l));break t;case 1:I=F;var D=T.type,B=T.stateNode;if((128&T.flags)==0&&(typeof D.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&($i===null||!$i.has(B)))){T.flags|=65536,l&=-l,T.lanes|=l,H1(T,Ty(T,I,l));break t}}T=T.return}while(T!==null)}rv(d)}catch(X){l=X,be===d&&d!==null&&(be=d=d.return);continue}break}}function tv(){var a=ic.current;return ic.current=Vu,a===null?Vu:a}function mm(){Ce!==0&&Ce!==3&&Ce!==2||(Ce=4),Fe===null||(268435455&Fs)==0&&(268435455&sc)==0||Xi(Fe,ze)}function hc(a,l){var d=Mt;Mt|=2;var p=tv();for(Fe===a&&ze===l||(ji=null,Os(a,l));;)try{k5();break}catch(y){Jy(a,y)}if(Sf(),Mt=d,ic.current=p,be!==null)throw Error(s(261));return Fe=null,ze=0,Ce}function k5(){for(;be!==null;)ev(be)}function M5(){for(;be!==null&&!h5();)ev(be)}function ev(a){var l=Ky(a.alternate,a,Cr);a.memoizedProps=a.pendingProps,l===null?rv(a):be=l,sm.current=null}function rv(a){var l=a;do{var d=l.alternate;if(a=l.return,(32768&l.flags)==0){if((d=C5(d,l,Cr))!==null)return void(be=d)}else{if((d=A5(d,l))!==null)return d.flags&=32767,void(be=d);if(a===null)return Ce=6,void(be=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((l=l.sibling)!==null)return void(be=l);be=l=a}while(l!==null);Ce===0&&(Ce=5)}function Do(a,l,d){var p=Ft,y=ge.transition;try{ge.transition=null,Ft=1,function(T,A,I,F){do Ls();while(Wi!==null);if((6&Mt)!=0)throw Error(s(327));I=T.finishedWork;var G=T.finishedLanes;if(I===null)return null;if(T.finishedWork=null,T.finishedLanes=0,I===T.current)throw Error(s(177));T.callbackNode=null,T.callbackPriority=0;var j=I.lanes|I.childLanes;if(function(q,ut){var Ct=q.pendingLanes&~ut;q.pendingLanes=ut,q.suspendedLanes=0,q.pingedLanes=0,q.expiredLanes&=ut,q.mutableReadLanes&=ut,q.entangledLanes&=ut,ut=q.entanglements;var $=q.eventTimes;for(q=q.expirationTimes;0<Ct;){var D=31-an(Ct),B=1<<D;ut[D]=0,$[D]=-1,q[D]=-1,Ct&=~B}}(T,j),T===Fe&&(be=Fe=null,ze=0),(2064&I.subtreeFlags)==0&&(2064&I.flags)==0||ac||(ac=!0,sv(M1,function(){return Ls(),null})),j=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||j){j=ge.transition,ge.transition=null;var rt=Ft;Ft=1;var H=Mt;Mt|=4,sm.current=null,function(q,ut){for(L(q.containerInfo),at=ut;at!==null;)if(ut=(q=at).child,(1028&q.subtreeFlags)!=0&&ut!==null)ut.return=q,at=ut;else for(;at!==null;){q=at;try{var Ct=q.alternate;if((1024&q.flags)!=0)switch(q.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Ct!==null){var $=Ct.memoizedProps,D=Ct.memoizedState,B=q.stateNode,X=B.getSnapshotBeforeUpdate(q.elementType===q.type?$:cn(q.type,$),D);B.__reactInternalSnapshotBeforeUpdate=X}break;case 3:Rt&&Uw(q.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(gt){re(q,q.return,gt)}if((ut=q.sibling)!==null){ut.return=q.return,at=ut;break}at=q.return}Ct=By,By=!1}(T,I),jy(I,T),k(T.containerInfo),T.current=I,I5(I),d5(),Mt=H,Ft=rt,ge.transition=j}else T.current=I;if(ac&&(ac=!1,Wi=T,lc=G),j=T.pendingLanes,j===0&&($i=null),function(q){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(Iu,q,void 0,(128&q.current.flags)==128)}catch{}}(I.stateNode),gr(T,Me()),A!==null)for(F=T.onRecoverableError,I=0;I<A.length;I++)G=A[I],F(G.value,{componentStack:G.stack,digest:G.digest});if(oc)throw oc=!1,T=um,um=null,T;(1&lc)!=0&&T.tag!==0&&Ls(),j=T.pendingLanes,(1&j)!=0?T===cm?tl++:(tl=0,cm=T):tl=0,On()}(a,l,d,p)}finally{ge.transition=y,Ft=p}return null}function Ls(){if(Wi!==null){var a=R1(lc),l=ge.transition,d=Ft;try{if(ge.transition=null,Ft=16>a?16:a,Wi===null)var p=!1;else{if(a=Wi,Wi=null,lc=0,(6&Mt)!=0)throw Error(s(331));var y=Mt;for(Mt|=4,at=a.current;at!==null;){var T=at,A=T.child;if((16&at.flags)!=0){var I=T.deletions;if(I!==null){for(var F=0;F<I.length;F++){var G=I[F];for(at=G;at!==null;){var j=at;switch(j.tag){case 0:case 11:case 15:Qa(8,j,T)}var rt=j.child;if(rt!==null)rt.return=j,at=rt;else for(;at!==null;){var H=(j=at).sibling,q=j.return;if(Uy(j),j===G){at=null;break}if(H!==null){H.return=q,at=H;break}at=q}}}var ut=T.alternate;if(ut!==null){var Ct=ut.child;if(Ct!==null){ut.child=null;do{var $=Ct.sibling;Ct.sibling=null,Ct=$}while(Ct!==null)}}at=T}}if((2064&T.subtreeFlags)!=0&&A!==null)A.return=T,at=A;else t:for(;at!==null;){if((2048&(T=at).flags)!=0)switch(T.tag){case 0:case 11:case 15:Qa(9,T,T.return)}var D=T.sibling;if(D!==null){D.return=T.return,at=D;break t}at=T.return}}var B=a.current;for(at=B;at!==null;){var X=(A=at).child;if((2064&A.subtreeFlags)!=0&&X!==null)X.return=A,at=X;else t:for(A=B;at!==null;){if((2048&(I=at).flags)!=0)try{switch(I.tag){case 0:case 11:case 15:qu(9,I)}}catch(Ut){re(I,I.return,Ut)}if(I===A){at=null;break t}var gt=I.sibling;if(gt!==null){gt.return=I.return,at=gt;break t}at=I.return}}if(Mt=y,On(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(Iu,a)}catch{}p=!0}return p}finally{Ft=d,ge.transition=l}}return!1}function nv(a,l,d){a=Hi(a,l=xy(0,l=Io(d,l),1),1),l=Ze(),a!==null&&(Ba(a,1,l),gr(a,l))}function re(a,l,d){if(a.tag===3)nv(a,a,d);else for(;l!==null;){if(l.tag===3){nv(l,a,d);break}if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&($i===null||!$i.has(p))){l=Hi(l,a=Ty(l,a=Io(d,a),1),1),a=Ze(),l!==null&&(Ba(l,1,a),gr(l,a));break}}l=l.return}}function D5(a,l,d){var p=a.pingCache;p!==null&&p.delete(l),l=Ze(),a.pingedLanes|=a.suspendedLanes&d,Fe===a&&(ze&d)===d&&(Ce===4||Ce===3&&(130023424&ze)===ze&&500>Me()-am?Os(a,0):om|=d),gr(a,l)}function iv(a,l){l===0&&((1&a.mode)==0?l=1:(l=hf,(130023424&(hf<<=1))==0&&(hf=4194304)));var d=Ze();(a=Bn(a,l))!==null&&(Ba(a,l,d),gr(a,d))}function N5(a){var l=a.memoizedState,d=0;l!==null&&(d=l.retryLane),iv(a,d)}function F5(a,l){var d=0;switch(a.tag){case 13:var p=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:p=a.stateNode;break;default:throw Error(s(314))}p!==null&&p.delete(l),iv(a,d)}function sv(a,l){return pf(a,l)}function O5(a,l,d,p){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xr(a,l,d,p){return new O5(a,l,d,p)}function pm(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Yi(a,l){var d=a.alternate;return d===null?((d=Xr(a.tag,l,a.key,a.mode)).elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=l,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=14680064&a.flags,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,l=a.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function dc(a,l,d,p,y,T){var A=2;if(p=a,typeof a=="function")pm(a)&&(A=1);else if(typeof a=="string")A=5;else t:switch(a){case h:return Bs(d.children,y,T,l);case f:A=8,y|=8;break;case m:return(a=Xr(12,d,l,2|y)).elementType=m,a.lanes=T,a;case S:return(a=Xr(13,d,l,y)).elementType=S,a.lanes=T,a;case E:return(a=Xr(19,d,l,y)).elementType=E,a.lanes=T,a;case _:return fc(d,y,T,l);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case g:A=10;break t;case v:A=9;break t;case x:A=11;break t;case w:A=14;break t;case b:A=16,p=null;break t}throw Error(s(130,a==null?a:typeof a,""))}return(l=Xr(A,d,l,y)).elementType=a,l.type=p,l.lanes=T,l}function Bs(a,l,d,p){return(a=Xr(7,a,p,l)).lanes=d,a}function fc(a,l,d,p){return(a=Xr(22,a,p,l)).elementType=_,a.lanes=d,a.stateNode={isHidden:!1},a}function gm(a,l,d){return(a=Xr(6,a,null,l)).lanes=d,a}function ym(a,l,d){return(l=Xr(4,a.children!==null?a.children:[],a.key,l)).lanes=d,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}function L5(a,l,d,p,y){this.tag=l,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ue,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ff(0),this.expirationTimes=ff(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ff(0),this.identifierPrefix=p,this.onRecoverableError=y,Nt&&(this.mutableSourceEagerHydrationData=null)}function ov(a,l,d,p,y,T,A,I,F){return a=new L5(a,l,d,I,F),l===1?(l=1,T===!0&&(l|=8)):l=0,T=Xr(3,null,null,l),a.current=T,T.stateNode=a,T.memoizedState={element:p,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pf(T),a}function av(a){if(!a)return zi;t:{if(N(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var l=a;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(Sr(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(l!==null);throw Error(s(171))}if(a.tag===1){var d=a.type;if(Sr(d))return A1(a,d,l)}return l}function lv(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=Y(l))===null?null:a.stateNode}function uv(a,l){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<l?d:l}}function mc(a,l){uv(a,l),(a=a.alternate)&&uv(a,l)}function B5(a){return(a=Y(a))===null?null:a.stateNode}function U5(){return null}return Ky=function(a,l,d){if(a!==null)if(a.memoizedProps!==l.pendingProps||fr.current)mr=!0;else{if((a.lanes&d)==0&&(128&l.flags)==0)return mr=!1,function(rt,H,q){switch(H.tag){case 3:Ry(H),wo();break;case 5:Z1(H);break;case 1:Sr(H.type)&&Au(H);break;case 4:kf(H,H.stateNode.containerInfo);break;case 10:U1(0,H.type._context,H.memoizedProps.value);break;case 13:var ut=H.memoizedState;if(ut!==null)return ut.dehydrated!==null?(Vt(de,1&de.current),H.flags|=128,null):(q&H.child.childLanes)!=0?My(rt,H,q):(Vt(de,1&de.current),(rt=di(rt,H,q))!==null?rt.sibling:null);Vt(de,1&de.current);break;case 19:if(ut=(q&H.childLanes)!=0,(128&rt.flags)!=0){if(ut)return Ny(rt,H,q);H.flags|=128}var Ct=H.memoizedState;if(Ct!==null&&(Ct.rendering=null,Ct.tail=null,Ct.lastEffect=null),Vt(de,de.current),ut)break;return null;case 22:case 23:return H.lanes=0,Ay(rt,H,q)}return di(rt,H,q)}(a,l,d);mr=(131072&a.flags)!=0}else mr=!1,ee&&(1048576&l.flags)!=0&&N1(l,Mu,l.index);switch(l.lanes=0,l.tag){case 2:var p=l.type;Qu(a,l),a=l.pendingProps;var y=To(l,Ye.current);Eo(l,d),y=Lf(null,l,p,a,y,d);var T=Bf();return l.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,Sr(p)?(T=!0,Au(l)):T=!1,l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,Pf(l),y.updater=Uu,l.stateNode=y,y._reactInternals=l,Rf(l,p,a,d),l=Vf(null,l,p,!0,T,d)):(l.tag=0,ee&&T&&vf(l),pr(null,l,y,d),l=l.child),l;case 16:p=l.elementType;t:{switch(Qu(a,l),a=l.pendingProps,p=(y=p._init)(p._payload),l.type=p,y=l.tag=function(rt){if(typeof rt=="function")return pm(rt)?1:0;if(rt!=null){if((rt=rt.$$typeof)===x)return 11;if(rt===w)return 14}return 2}(p),a=cn(p,a),y){case 0:l=Wf(null,l,p,a,d);break t;case 1:l=Iy(null,l,p,a,d);break t;case 11:l=Sy(null,l,p,a,d);break t;case 14:l=Ey(null,l,p,cn(p.type,a),d);break t}throw Error(s(306,p,""))}return l;case 0:return p=l.type,y=l.pendingProps,Wf(a,l,p,y=l.elementType===p?y:cn(p,y),d);case 1:return p=l.type,y=l.pendingProps,Iy(a,l,p,y=l.elementType===p?y:cn(p,y),d);case 3:t:{if(Ry(l),a===null)throw Error(s(387));p=l.pendingProps,y=(T=l.memoizedState).element,G1(a,l),Bu(l,p,null,d);var A=l.memoizedState;if(p=A.element,Nt&&T.isDehydrated){if(T={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},l.updateQueue.baseState=T,l.memoizedState=T,256&l.flags){l=ky(a,l,p,d,y=Io(Error(s(423)),l));break t}if(p!==y){l=ky(a,l,p,d,y=Io(Error(s(424)),l));break t}for(Nt&&(Hr=Yw(l.stateNode.containerInfo),Er=l,ee=!0,un=null,Ua=!1),d=Q1(l,null,p,d),l.child=d;d;)d.flags=-3&d.flags|4096,d=d.sibling}else{if(wo(),p===y){l=di(a,l,d);break t}pr(a,l,p,d)}l=l.child}return l;case 5:return Z1(l),a===null&&_f(l),p=l.type,y=l.pendingProps,T=a!==null?a.memoizedProps:null,A=y.children,Bt(p,y)?A=null:T!==null&&Bt(p,T)&&(l.flags|=32),Py(a,l),pr(a,l,A,d),l.child;case 6:return a===null&&_f(l),null;case 13:return My(a,l,d);case 4:return kf(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=Co(l,null,p,d):pr(a,l,p,d),l.child;case 11:return p=l.type,y=l.pendingProps,Sy(a,l,p,y=l.elementType===p?y:cn(p,y),d);case 7:return pr(a,l,l.pendingProps,d),l.child;case 8:case 12:return pr(a,l,l.pendingProps.children,d),l.child;case 10:t:{if(p=l.type._context,y=l.pendingProps,T=l.memoizedProps,U1(0,p,A=y.value),T!==null)if(ln(T.value,A)){if(T.children===y.children&&!fr.current){l=di(a,l,d);break t}}else for((T=l.child)!==null&&(T.return=l);T!==null;){var I=T.dependencies;if(I!==null){A=T.child;for(var F=I.firstContext;F!==null;){if(F.context===p){if(T.tag===1){(F=hi(-1,d&-d)).tag=2;var G=T.updateQueue;if(G!==null){var j=(G=G.shared).pending;j===null?F.next=F:(F.next=j.next,j.next=F),G.pending=F}}T.lanes|=d,(F=T.alternate)!==null&&(F.lanes|=d),Cf(T.return,d,l),I.lanes|=d;break}F=F.next}}else if(T.tag===10)A=T.type===l.type?null:T.child;else if(T.tag===18){if((A=T.return)===null)throw Error(s(341));A.lanes|=d,(I=A.alternate)!==null&&(I.lanes|=d),Cf(A,d,l),A=T.sibling}else A=T.child;if(A!==null)A.return=T;else for(A=T;A!==null;){if(A===l){A=null;break}if((T=A.sibling)!==null){T.return=A.return,A=T;break}A=A.return}T=A}pr(a,l,y.children,d),l=l.child}return l;case 9:return y=l.type,p=l.pendingProps.children,Eo(l,d),p=p(y=jr(y)),l.flags|=1,pr(a,l,p,d),l.child;case 14:return y=cn(p=l.type,l.pendingProps),Ey(a,l,p,y=cn(p.type,y),d);case 15:return Cy(a,l,l.type,l.pendingProps,d);case 17:return p=l.type,y=l.pendingProps,y=l.elementType===p?y:cn(p,y),Qu(a,l),l.tag=1,Sr(p)?(a=!0,Au(l)):a=!1,Eo(l,d),V1(l,p,y),Rf(l,p,y,d),Vf(null,l,p,!0,a,d);case 19:return Ny(a,l,d);case 22:return Ay(a,l,d)}throw Error(s(156,l.tag))},t.attemptContinuousHydration=function(a){if(a.tag===13){var l=Bn(a,134217728);l!==null&&Vr(l,a,134217728,Ze()),mc(a,134217728)}},t.attemptDiscreteHydration=function(a){if(a.tag===13){var l=Bn(a,1);l!==null&&Vr(l,a,1,Ze()),mc(a,1)}},t.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var l=Vi(a),d=Bn(a,l);d!==null&&Vr(d,a,l,Ze()),mc(a,l)}},t.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var l=a.stateNode;if(l.current.memoizedState.isDehydrated){var d=La(l.pendingLanes);d!==0&&(mf(l,1|d),gr(l,Me()),(6&Mt)==0&&(Mo(),On()))}break;case 13:qy(function(){var p=Bn(a,1);if(p!==null){var y=Ze();Vr(p,a,1,y)}}),mc(a,1)}},t.batchedUpdates=function(a,l){var d=Mt;Mt|=1;try{return a(l)}finally{(Mt=d)===0&&(Mo(),Ru&&On())}},t.createComponentSelector=function(a){return{$$typeof:Ju,value:a}},t.createContainer=function(a,l,d,p,y,T,A){return ov(a,l,!1,null,0,p,0,T,A)},t.createHasPseudoClassSelector=function(a){return{$$typeof:tc,value:a}},t.createHydrationContainer=function(a,l,d,p,y,T,A,I,F){return(a=ov(d,p,!0,a,0,T,0,I,F)).context=av(null),d=a.current,(T=hi(p=Ze(),y=Vi(d))).callback=l!=null?l:null,Hi(d,T,y),a.current.lanes=y,Ba(a,y,p),gr(a,p),a},t.createPortal=function(a,l,d){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:p==null?null:""+p,children:a,containerInfo:l,implementation:d}},t.createRoleSelector=function(a){return{$$typeof:ec,value:a}},t.createTestNameSelector=function(a){return{$$typeof:rc,value:a}},t.createTextSelector=function(a){return{$$typeof:nc,value:a}},t.deferredUpdates=function(a){var l=Ft,d=ge.transition;try{return ge.transition=null,Ft=16,a()}finally{Ft=l,ge.transition=d}},t.discreteUpdates=function(a,l,d,p,y){var T=Ft,A=ge.transition;try{return ge.transition=null,Ft=1,a(l,d,p,y)}finally{Ft=T,ge.transition=A,Mt===0&&Mo()}},t.findAllNodes=im,t.findBoundingRects=function(a,l){if(!Na)throw Error(s(363));l=im(a,l),a=[];for(var d=0;d<l.length;d++)a.push(_w(l[d]));for(l=a.length-1;0<l;l--)for(var p=(d=a[l]).x,y=p+d.width,T=d.y,A=T+d.height,I=l-1;0<=I;I--)if(l!==I){var F=a[I],G=F.x,j=G+F.width,rt=F.y,H=rt+F.height;if(p>=G&&T>=rt&&y<=j&&A<=H){a.splice(l,1);break}if(!(p!==G||d.width!==F.width||H<T||rt>A)){rt>T&&(F.height+=rt-T,F.y=T),H<A&&(F.height=A-rt),a.splice(l,1);break}if(!(T!==rt||d.height!==F.height||j<p||G>y)){G>p&&(F.width+=G-p,F.x=p),j<y&&(F.width=y-G),a.splice(l,1);break}}return a},t.findHostInstance=lv,t.findHostInstanceWithNoPortals=function(a){return(a=(a=V(a))!==null?W(a):null)===null?null:a.stateNode},t.findHostInstanceWithWarning=function(a){return lv(a)},t.flushControlled=function(a){var l=Mt;Mt|=1;var d=ge.transition,p=Ft;try{ge.transition=null,Ft=1,a()}finally{Ft=p,ge.transition=d,(Mt=l)===0&&(Mo(),On())}},t.flushPassiveEffects=Ls,t.flushSync=qy,t.focusWithin=function(a,l){if(!Na)throw Error(s(363));for(l=Yy(a=em(a),l),l=Array.from(l),a=0;a<l.length;){var d=l[a++];if(!Fa(d)){if(d.tag===5&&Sw(d.stateNode))return!0;for(d=d.child;d!==null;)l.push(d),d=d.sibling}}return!1},t.getCurrentUpdatePriority=function(){return Ft},t.getFindAllNodesFailureDescription=function(a,l){if(!Na)throw Error(s(363));var d=0,p=[];a=[em(a),0];for(var y=0;y<a.length;){var T=a[y++],A=a[y++],I=l[A];if((T.tag!==5||!Fa(T))&&(rm(T,I)&&(p.push(nm(I)),++A>d&&(d=A)),A<l.length))for(T=T.child;T!==null;)a.push(T,A),T=T.sibling}if(d<l.length){for(a=[];d<l.length;d++)a.push(nm(l[d]));return`findAllNodes was able to match part of the selector:
  `+p.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},t.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?vt(a.child.stateNode):a.child.stateNode:null},t.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:B5,findFiberByHostInstance:a.findFiberByHostInstance||U5,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var l=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(l.isDisabled||!l.supportsFiber)a=!0;else{try{Iu=l.inject(a),Fn=l}catch{}a=!!l.checkDCE}}return a},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(a,l,d,p){if(!Na)throw Error(s(363));a=im(a,l);var y=Ew(a,d,p).disconnect;return{disconnect:function(){y()}}},t.registerMutableSourceForHydration=function(a,l){var d=l._getVersion;d=d(l._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[l,d]:a.mutableSourceEagerHydrationData.push(l,d)},t.runWithPriority=function(a,l){var d=Ft;try{return Ft=a,l()}finally{Ft=d}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(a,l,d,p){var y=l.current,T=Ze(),A=Vi(y);return d=av(d),l.context===null?l.context=d:l.pendingContext=d,(l=hi(T,A)).payload={element:a},(p=p===void 0?null:p)!==null&&(l.callback=p),(a=Hi(y,l,A))!==null&&(Vr(a,y,A,T),Lu(a,y,A)),A},t}),CT}({get exports(){return K0},set exports(e){K0=e}}).exports=vI();var xI=WP(K0),Ob={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Z0={},Zc={get exports(){return Z0},set exports(e){Z0=e}};(function(){var e,t,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Zc.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Zc.exports=function(){return(e()-i)/1e6},t=process.hrtime,n=(e=function(){var o;return 1e9*(o=t())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(Zc.exports=function(){return Date.now()-r},r=Date.now()):(Zc.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call($P);var IT,oa={},Gs={};({get exports(){return oa},set exports(e){oa=e}}).exports=(IT||(IT=1,Gs.ConcurrentRoot=1,Gs.ContinuousEventPriority=4,Gs.DefaultEventPriority=16,Gs.DiscreteEventPriority=1,Gs.IdleEventPriority=536870912,Gs.LegacyRoot=0),Gs);var TI={};function xp(e,t){e.addChild&&(e.addChild(t),typeof t.didMount=="function"&&t.didMount(t,e))}function Lb(e,t){var r,n,i;(r=e.willUnmount)===null||r===void 0||r.call(e,e,t),((n=e.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=e.children)!==null&&i!==void 0&&i.length&&Fi(e.children).forEach(function(s){Lb(s,e)})}function RT(e,t){var r;Lb(t,e),e.removeChild(t);var n=(r=t.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,u=o===void 0||o,c=n.destroyTexture,h=c!==void 0&&c,f=n.destroyBaseTexture,m=f!==void 0&&f;s&&t.destroy({children:u,texture:h,baseTexture:m})}function kT(e,t,r){pe(t!==r,"pixi-react: PixiFiber cannot insert node before itself"),e.children.indexOf(t)!==-1&&e.removeChild(t);var n=e.getChildIndex(r);e.addChildAt(t,n)}var MT=null,Cn=xI({getRootHostContext:function(){return TI},getChildHostContext:function(e){return e},getChildHostContextForEventComponent:function(e){return e},getPublicInstance:function(e){return e},getCurrentEventPriority:function(){return function(){var e,t;if(typeof window>"u")return oa.DefaultEventPriority;switch((e=window)===null||e===void 0||(t=e.event)===null||t===void 0?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return oa.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return oa.ContinuousEventPriority;default:return oa.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(e){var t,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=mI[e];if(typeof s=="function"&&(t=s(i,n)),!t){var o=Fb[e];o&&((t=o.create(n)).didMount=o.didMount?o.didMount.bind(t):void 0,t.willUnmount=o.willUnmount?o.willUnmount.bind(t):void 0,t.applyProps=o.applyProps?o.applyProps.bind(t):void 0,t.config=o.config)}return t&&((typeof((r=t)===null||r===void 0?void 0:r.applyProps)=="function"?t.applyProps:ai)(t,{},n),t.__reactpixi={root:i}),t},hideInstance:function(e){e.visible=!1},unhideInstance:function(e,t){var r=t==null||!t.hasOwnProperty("visible")||t.visible;e.visible=r},finalizeInitialChildren:function(e,t,r){return!1},prepareUpdate:function(e,t,r,n,i,s){return MT=function(o,u,c,h){var f=null;for(var m in c)!h.hasOwnProperty(m)&&c.hasOwnProperty(m)&&c[m]!==null&&(m===X0||(f||(f=[]),f.push(m,null)));for(var g in h){var v=h[g],x=c!==null?c[g]:void 0;!h.hasOwnProperty(g)||v===x||v===null&&x===null||g===X0||(f||(f=[]),f.push(g,v))}return f}(0,0,r,n)},shouldSetTextContent:function(e,t){return!1},shouldDeprioritizeSubtree:function(e,t){var r=t.alpha===void 0||t.alpha>0,n=t.renderable===void 0||t.renderable===!0,i=t.visible===void 0||t.visible===!0;return!(r&&n&&i)},createTextInstance:function(e,t,r){pe(!1,'pixi-react: Error trying to add text node "'.concat(e,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(e,t){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Z0,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=xp.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=xp.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=xp.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=RT.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=RT.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:kT,insertInContainerBefore:function(){for(var e,t,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=kT.apply(null,n);return(e=n[0].__reactpixi)===null||e===void 0||(t=e.root)===null||t===void 0||t.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(e,t,r,n,i){var s,o,u=e&&e.applyProps;typeof u!="function"&&(u=ai),(u(e,n,i)||MT)&&((s=e.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(e,t,r,n,i){},commitTextUpdate:function(e,t,r){},resetTextContent:function(e){},clearContainer:function(e){},getFundamentalComponentInstance:function(e){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(e){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(e){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(e){throw new Error("Not yet implemented.")},getInstanceFromNode:function(e){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(e){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(e){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(e){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(e){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(e){}}),_I=Ob.dependencies["react-dom"].replace(/[^0-9.]/g,""),bI=Ob.name;Cn.injectIntoDevTools({bundleType:0,version:_I,rendererPackageName:bI,findHostInstanceByFiber:Cn.findHostInstance});var ys=new Map;function Bb(e){if(pe(Ht.prototype.isPrototypeOf(e),"Invalid argument `container`, expected instance of `PIXI.Container`."),ys.has(e)){var t=ys.get(e).pixiFiberContainer;Cn.updateContainer(null,t,void 0,function(){ys.delete(e)})}}function Ub(e){pe(Ht.prototype.isPrototypeOf(e),"Invalid argument `container`, expected instance of `PIXI.Container`.");var t=ys.get(e);if(pe(!t,"Pixi React: createRoot should only be called once"),!t){var r=Cn.createContainer(e);t={pixiFiberContainer:r,reactRoot:{render:function(n){return Cn.updateContainer(n,r,void 0),Cn.getPublicRootInstance(r)},unmount:function(){Bb(e),ys.delete(e)}}},ys.set(e,t)}return t.reactRoot}function wI(e,t,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),ys.has(t)?n=ys.get(t).reactRoot:n=Ub(t),n.render(e)}function SI(e){Bb(e)}function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},du.apply(this,arguments)}function EI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function CI(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Mb(n.key),n)}}function gi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function cd(e,t){return cd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},cd(e,t)}function AI(e,t){if(t&&(Nr(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gi(e)}function hd(e){return hd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},hd(e)}var Qd=An.createContext(null),zb=Qd.Provider,Gb=Qd.Consumer,PI=function(e){var t=An.forwardRef(function(r,n){return An.createElement(Gb,null,function(i){return An.createElement(e,du({},r,{ref:n,app:i}))})});return t.displayName="withPIXIApp(".concat(e.displayName||e.name,")"),t};function II(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=hd(e);if(t){var i=hd(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return AI(this,r)}}function DT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function qc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(r),!0).forEach(function(n){ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var NT=function(){},Hb={width:Xt.exports.number,height:Xt.exports.number,onMount:Xt.exports.func,onUnmount:Xt.exports.func,raf:Xt.exports.bool,renderOnComponentChange:Xt.exports.bool,children:Xt.exports.node,options:Xt.exports.shape({autoStart:Xt.exports.bool,width:Xt.exports.number,height:Xt.exports.number,useContextAlpha:Xt.exports.bool,backgroundAlpha:Xt.exports.number,autoDensity:Xt.exports.bool,antialias:Xt.exports.bool,preserveDrawingBuffer:Xt.exports.bool,resolution:Xt.exports.number,forceCanvas:Xt.exports.bool,backgroundColor:Xt.exports.number,clearBeforeRender:Xt.exports.bool,powerPreference:Xt.exports.string,sharedTicker:Xt.exports.bool,sharedLoader:Xt.exports.bool,resizeTo:function(e,t){var r=e[t];r&&pe(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Nr(r),", expect `window` or an `HTMLElement`."))},view:function(e,t,r){var n=e[t];n&&pe(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Nr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},RI={width:800,height:600,onMount:NT,onUnmount:NT,raf:!0,renderOnComponentChange:!0},q0=function(e){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&cd(s,o)})(i,An.Component);var t,r,n=II(i);function i(){var s;EI(this,i);for(var o=arguments.length,u=new Array(o),c=0;c<o;c++)u[c]=arguments[c];return ve(gi(s=n.call.apply(n,[this].concat(u))),"_canvas",null),ve(gi(s),"_mediaQuery",null),ve(gi(s),"_ticker",null),ve(gi(s),"_needsUpdate",!0),ve(gi(s),"app",null),ve(gi(s),"updateSize",function(){var h=s.props,f=h.width,m=h.height,g=h.options;g!=null&&g.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,m)}),ve(gi(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),ve(gi(s),"renderStage",function(){var h=s.props,f=h.renderOnComponentChange;!h.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return t=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,u=s.width,c=s.height,h=s.options,f=s.raf,m=s.renderOnComponentChange;this.app=new Su(qc(qc({width:u,height:c,view:this._canvas},h),{},{autoDensity:(h==null?void 0:h.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Cn.createContainer(this.app.stage),Cn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),h!=null&&h.autoDensity&&window.matchMedia&&(h==null?void 0:h.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),m&&!f&&(this._ticker=new _e,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,u){var c,h=this.props,f=h.width,m=h.height,g=h.raf,v=h.renderOnComponentChange,x=h.options;(x==null?void 0:x.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(x==null?void 0:x.resolution)&&(this.app.renderer.resolution=x.resolution,this.resetInteractionManager()),s.height===m&&s.width===f&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(x==null?void 0:x.resolution)||this.updateSize(),s.raf!==g&&this.app.ticker[g?"start":"stop"](),Cn.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===m&&s.raf===g&&s.renderOnComponentChange===v&&s.options===x||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return An.createElement(zb,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Cn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,u=this,c=this.props.options;return c&&c.view?(pe(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):An.createElement("canvas",du({},(s=this.props,o=[].concat(Fi(Object.keys(Hb)),Fi(Object.keys(Y0))),Object.keys(s).filter(function(h){return!o.includes(h)}).reduce(function(h,f){return qc(qc({},h),{},ve({},f,s[f]))},{})),{ref:function(h){return u._canvas=h}}))}}])&&CI(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),i}();q0.propTypes=Hb,q0.defaultProps=RI;var kI=q0;function jb(){var e=xt.exports.useContext(Qd);return pe(e instanceof Su,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),e}function MI(e){var t=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=jb();pe(typeof e=="function","`useTick` needs a callback function."),pe(r instanceof Su,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=xt.exports.useRef(null);xt.exports.useEffect(function(){n.current=e},[e]),xt.exports.useEffect(function(){if(t){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[t])}function DI(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function J0(e,t,r){return J0=DI()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var u=new(Function.bind.apply(n,o));return s&&cd(u,s.prototype),u},J0.apply(null,arguments)}var NI=["children","apply"];function FT(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function Jc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(r),!0).forEach(function(n){ve(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}var FI=function(e,t){pe(Nr(t)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(t),n=function(i){var s=i.children,o=i.apply,u=Ps(i,NI),c=xt.exports.useRef(xt.exports.useMemo(function(){return r.map(function(m){var g,v=(u==null||(g=u[m])===null||g===void 0?void 0:g.construct)||[];return J0(t[m],Fi(v))})},[r])),h=xt.exports.useMemo(function(){return r.reduce(function(m,g,v){return Jc(Jc({},m),{},ve({},g,c.current[v]))},{})},[r]),f=xt.exports.useMemo(function(){return Object.keys(u).filter(Nb(Db(r))).reduce(function(m,g){return Jc(Jc({},m),{},ve({},g,u[g]))},{})},[u,r]);return r.forEach(function(m,g){return Object.assign(c.current[g],u[m])}),o&&function(){for(var m=arguments.length,g=new Array(m),v=0;v<m;v++)g[v]=arguments[v];return g.every(function(x){return typeof x=="function"})}(o)&&o.call(e,h),An.createElement(e,du({},f,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Xt.exports.node,apply:Xt.exports.func},n},OI=wr.BitmapText,LI=wr.Container,BI=wr.Graphics,UI=wr.NineSlicePlane,zI=wr.ParticleContainer,GI=wr.Sprite,HI=wr.AnimatedSprite,jI=wr.Text,$I=wr.TilingSprite,WI=wr.SimpleMesh,VI=wr.SimpleRope;const XI=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:HI,AppConsumer:Gb,AppContext:Qd,AppProvider:zb,BitmapText:OI,Container:LI,Graphics:BI,NineSlicePlane:UI,ParticleContainer:zI,PixiComponent:pI,PixiFiber:Cn,SimpleMesh:WI,SimpleRope:VI,Sprite:GI,Stage:kI,TYPES:wr,Text:jI,TilingSprite:$I,applyDefaultProps:ai,createRoot:Ub,eventHandlers:ud,render:wI,unmountComponentAtNode:SI,useApp:jb,useTick:MI,withFilters:FI,withPixiApp:PI},Symbol.toStringTag,{value:"Module"})),YI=$5(XI);(function(e){e.exports=YI})(Wt);const $b=new ie;Kt.prototype._cacheAsBitmap=!1;Kt.prototype._cacheData=null;Kt.prototype._cacheAsBitmapResolution=null;Kt.prototype._cacheAsBitmapMultisample=null;class KI{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(Kt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(e){if(this._cacheAsBitmap===e)return;this._cacheAsBitmap=e;let t;e?(this._cacheData||(this._cacheData=new KI),t=this._cacheData,t.originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}});Kt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};Kt.prototype._initCachedDisplayObject=function(t){var g,v,x;if((g=this._cacheData)!=null&&g.sprite)return;const r=this.alpha;this.alpha=1,t.batch.flush();const n=this.getLocalBounds(null,!0).clone();if((v=this.filters)!=null&&v.length){const S=this.filters[0].padding;n.pad(S)}n.ceil(tt.RESOLUTION);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),u=t.projection.transform,c=ii.create({width:n.width,height:n.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:(x=this.cacheAsBitmapMultisample)!=null?x:t.multisample}),h=`cacheAsBitmap_${uo()}`;this._cacheData.textureCacheId=h,bt.addToCache(c.baseTexture,h),et.addToCache(c,h);const f=this.transform.localTransform.copyTo($b).invert().translate(-n.x,-n.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:c,clear:!0,transform:f,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=u,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const m=new Jt(c);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(n.x/n.width),m.anchor.y=-(n.y/n.height),m.alpha=r,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=m.containsPoint.bind(m)};Kt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};Kt.prototype._initCachedDisplayObjectCanvas=function(t){var f;if((f=this._cacheData)!=null&&f.sprite)return;const r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;const i=t.canvasContext.activeContext,s=t._projTransform;r.ceil(tt.RESOLUTION);const o=ii.create({width:r.width,height:r.height}),u=`cacheAsBitmap_${uo()}`;this._cacheData.textureCacheId=u,bt.addToCache(o.baseTexture,u),et.addToCache(o,u);const c=$b;this.transform.localTransform.copyTo(c),c.invert(),c.tx-=r.x,c.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:c,skipUpdateTransform:!1}),t.canvasContext.activeContext=i,t._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;const h=new Jt(o);h.transform.worldTransform=this.transform.worldTransform,h.anchor.x=-(r.x/r.width),h.anchor.y=-(r.y/r.height),h.alpha=n,h._bounds=this._bounds,this._cacheData.sprite=h,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=h.containsPoint.bind(h)};Kt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Kt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Kt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,bt.removeFromCache(this._cacheData.textureCacheId),et.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Kt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};Kt.prototype.name=null;Ht.prototype.getChildByName=function(t,r){for(let n=0,i=this.children.length;n<i;n++)if(this.children[n].name===t)return this.children[n];if(r)for(let n=0,i=this.children.length;n<i;n++){const s=this.children[n];if(!s.getChildByName)continue;const o=s.getChildByName(t,!0);if(o)return o}return null};Kt.prototype.getGlobalPosition=function(t=new wt,r=!1){return this.parent?this.parent.toGlobal(this.position,t,r):(t.x=this.position.x,t.y=this.position.y),t};var QI=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class Wb extends It{constructor(t=1){super(_A,QI,{uAlpha:1}),this.alpha=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}const ZI={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},qI=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function JI(e){const t=ZI[e],r=t.length;let n=qI,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let u=0;u<e;u++){let c=s.replace("%index%",u.toString());o=u,u>=r&&(o=e-u-1),c=c.replace("%value%",t[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}const t6=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function e6(e,t){const r=Math.ceil(e/2);let n=t6,i="",s;t?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<e;o++){let u=s.replace("%index%",o.toString());u=u.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",e.toString()),n}class fu extends It{constructor(t,r=8,n=4,i=It.defaultResolution,s=5){const o=e6(s,t),u=JI(s);super(o,u),this.horizontal=t,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(t,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/t.renderer.width*(t.renderer.width/r.width):this.uniforms.strength=1/t.renderer.height*(t.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)t.applyFilter(this,r,n,i);else{const s=t.getFilterTexture(),o=t.renderer;let u=r,c=s;this.state.blend=!1,t.applyFilter(this,u,c,Kn.CLEAR);for(let h=1;h<this.passes-1;h++){t.bindAndClear(u,Kn.BLIT),this.uniforms.uSampler=c;const f=c;c=u,u=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,t.applyFilter(this,c,n,i),t.returnFilterTexture(s)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}}class y1 extends It{constructor(t=8,r=4,n=It.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new fu(!0,t,r,n,i),this.blurYFilter=new fu(!1,t,r,n,i),this.resolution=n,this.quality=r,this.blur=t,this.repeatEdgePixels=!1}apply(t,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const u=t.getFilterTexture();this.blurXFilter.apply(t,r,u,Kn.CLEAR),this.blurYFilter.apply(t,u,n,i),t.returnFilterTexture(u)}else o?this.blurYFilter.apply(t,r,n,i):this.blurXFilter.apply(t,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(t){this.blurYFilter.blendMode=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}var r6=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class tg extends It{constructor(){const t={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(fb,r6,t),this.alpha=1}_loadMatrix(t,r=!1){let n=t;r&&(this._multiply(n,this.uniforms.m,t),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(t,r,n){return t[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],t[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],t[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],t[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],t[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],t[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],t[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],t[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],t[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],t[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],t[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],t[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],t[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],t[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],t[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],t[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],t[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],t[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],t[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],t[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],t}_colorMatrix(t){const r=new Float32Array(t);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(t,r){const n=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(t,r){const[n,i,s]=Gt.shared.setValue(t).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(t,r){const n=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(t){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,t)}hue(t,r){t=(t||0)/180*Math.PI;const n=Math.cos(t),i=Math.sin(t),s=Math.sqrt,o=1/3,u=s(o),c=n+(1-n)*o,h=o*(1-n)-u*i,f=o*(1-n)+u*i,m=o*(1-n)+u*i,g=n+o*(1-n),v=o*(1-n)-u*i,x=o*(1-n)-u*i,S=o*(1-n)+u*i,E=n+o*(1-n),w=[c,h,f,0,0,m,g,v,0,0,x,S,E,0,0,0,0,0,1,0];this._loadMatrix(w,r)}contrast(t,r){const n=(t||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(t=0,r){const n=t*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(t){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,t)}sepia(t){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,t)}technicolor(t){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,t)}polaroid(t){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,t)}toBGR(t){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,t)}kodachrome(t){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,t)}browni(t){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,t)}vintage(t){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,t)}colorTone(t,r,n,i,s){t=t||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Gt.shared,[u,c,h]=o.setValue(n).toArray(),[f,m,g]=o.setValue(i).toArray(),v=[.3,.59,.11,0,0,u,c,h,t,0,f,m,g,r,0,u-f,c-m,h-g,0,0];this._loadMatrix(v,s)}night(t,r){t=t||.1;const n=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,t*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(t,r){const n=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(n,r)}lsd(t){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,t)}reset(){const t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)}get matrix(){return this.uniforms.m}set matrix(t){this.uniforms.m=t}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}}tg.prototype.grayscale=tg.prototype.greyscale;var n6=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,i6=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class s6 extends It{constructor(t,r){const n=new ie;t.renderable=!1,super(i6,n6,{mapSampler:t._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=t,this.maskMatrix=n,r==null&&(r=20),this.scale=new wt(r,r)}apply(t,r,n,i){this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),u=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&u!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/u,this.uniforms.rotation[3]=s.d/u),t.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(t){this.uniforms.mapSampler=t}}var o6=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,a6=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class l6 extends It{constructor(){super(a6,o6)}}var u6=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class c6 extends It{constructor(t=.5,r=Math.random()){super(fb,u6,{uNoise:0,uSeed:0}),this.noise=t,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(t){this.uniforms.uNoise=t}get seed(){return this.uniforms.uSeed}set seed(t){this.uniforms.uSeed=t}}const OT={AlphaFilter:Wb,BlurFilter:y1,BlurFilterPass:fu,ColorMatrixFilter:tg,DisplacementFilter:s6,FXAAFilter:l6,NoiseFilter:c6};Object.entries(OT).forEach(([e,t])=>{Object.defineProperty(OT,e,{get(){return At("7.1.0",`filters.${e} has moved to ${e}`),t}})});class h6{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(t){this.removeTickerListener(),this.events=t,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(t){this._pauseUpdate=t}addTickerListener(){this.tickerAdded||!this.domElement||(_e.system.add(this.tickerUpdate,this,ws.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){!this.tickerAdded||(_e.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const t=this.events.rootPointerEvent;this.events.supportsTouchEvents&&t.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:t.clientX,clientY:t.clientY}))}tickerUpdate(t){this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const ss=new h6;class Eu{constructor(t){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Eu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new wt,this.page=new wt,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=t}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(t,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(t,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class dd extends Eu{constructor(){super(...arguments),this.client=new wt,this.movement=new wt,this.offset=new wt,this.global=new wt,this.screen=new wt}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(t,r,n){return t.worldTransform.applyInverse(n||this.global,r)}getModifierState(t){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(t)}initMouseEvent(t,r,n,i,s,o,u,c,h,f,m,g,v,x,S){throw new Error("Method not implemented.")}}class gn extends dd{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Pa extends dd{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Pa.DOM_DELTA_PIXEL=0;Pa.DOM_DELTA_LINE=1;Pa.DOM_DELTA_PAGE=2;const d6=2048,f6=new wt,Tp=new wt;class m6{constructor(t){this.dispatch=new Ma,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=t,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(t,r){this.mappingTable[t]||(this.mappingTable[t]=[]),this.mappingTable[t].push({fn:r,priority:0}),this.mappingTable[t].sort((n,i)=>n.priority-i.priority)}dispatchEvent(t,r){t.propagationStopped=!1,t.propagationImmediatelyStopped=!1,this.propagate(t,r),this.dispatch.emit(r||t.type,t)}mapEvent(t){if(!this.rootTarget)return;const r=this.mappingTable[t.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(t);else console.warn(`[EventBoundary]: Event mapping not defined for ${t.type}`)}hitTest(t,r){ss.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",s=this[i](this.rootTarget,this.rootTarget.eventMode,f6.set(t,r),this.hitTestFn,this.hitPruneFn);return s&&s[0]}propagate(t,r){if(!t.target)return;const n=t.composedPath();t.eventPhase=t.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(t.currentTarget=n[i],this.notifyTarget(t,r),t.propagationStopped||t.propagationImmediatelyStopped)return;if(t.eventPhase=t.AT_TARGET,t.currentTarget=t.target,this.notifyTarget(t,r),!(t.propagationStopped||t.propagationImmediatelyStopped)){t.eventPhase=t.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(t.currentTarget=n[i],this.notifyTarget(t,r),t.propagationStopped||t.propagationImmediatelyStopped)return}}all(t,r,n=this._allInteractiveElements){if(n.length===0)return;t.eventPhase=t.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{t.currentTarget=n[s],this.notifyTarget(t,o)})}propagationPath(t){const r=[t];for(let n=0;n<d6&&t!==this.rootTarget;n++){if(!t.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(t.parent),t=t.parent}return r.reverse(),r}hitTestMoveRecursive(t,r,n,i,s,o=!1){let u=!1;if(this._interactivePrune(t))return null;if((t.eventMode==="dynamic"||r==="dynamic")&&(ss.pauseUpdate=!1),t.interactiveChildren&&t.children){const f=t.children;for(let m=f.length-1;m>=0;m--){const g=f[m],v=this.hitTestMoveRecursive(g,this._isInteractive(r)?r:g.eventMode,n,i,s,o||s(t,n));if(v){if(v.length>0&&!v[v.length-1].parent)continue;const x=t.isInteractive();(v.length>0||x)&&(x&&this._allInteractiveElements.push(t),v.push(t)),this._hitElements.length===0&&(this._hitElements=v),u=!0}}}const c=this._isInteractive(r),h=t.isInteractive();return h&&h&&this._allInteractiveElements.push(t),o||this._hitElements.length>0?null:u?this._hitElements:c&&!s(t,n)&&i(t,n)?h?[t]:[]:null}hitTestRecursive(t,r,n,i,s){if(this._interactivePrune(t)||s(t,n))return null;if((t.eventMode==="dynamic"||r==="dynamic")&&(ss.pauseUpdate=!1),t.interactiveChildren&&t.children){const c=t.children;for(let h=c.length-1;h>=0;h--){const f=c[h],m=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s);if(m){if(m.length>0&&!m[m.length-1].parent)continue;const g=t.isInteractive();return(m.length>0||g)&&m.push(t),m}}}const o=this._isInteractive(r),u=t.isInteractive();return o&&i(t,n)?u?[t]:[]:null}_isInteractive(t){return t==="static"||t==="dynamic"}_interactivePrune(t){return!!(!t||t.isMask||!t.visible||!t.renderable||t.eventMode==="none"||t.eventMode==="passive"&&!t.interactiveChildren||t.isMask)}hitPruneFn(t,r){var n;if(t.hitArea&&(t.worldTransform.applyInverse(r,Tp),!t.hitArea.contains(Tp.x,Tp.y)))return!0;if(t._mask){const i=t._mask.isMaskData?t._mask.maskObject:t._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(t,r){return t.eventMode==="passive"?!1:t.hitArea?!0:t.containsPoint?t.containsPoint(r):!1}notifyTarget(t,r){var s,o;r=r!=null?r:t.type;const n=`on${r}`;(o=(s=t.currentTarget)[n])==null||o.call(s,t);const i=t.eventPhase===t.CAPTURING_PHASE||t.eventPhase===t.AT_TARGET?`${r}capture`:r;this.notifyListeners(t,i),t.eventPhase===t.AT_TARGET&&this.notifyListeners(t,r)}mapPointerDown(t){if(!(t instanceof gn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(t);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(t.pointerId);n.pressTargetsByButton[t.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(t){var c,h,f;if(!(t instanceof gn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(t);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(t.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==r.target){const m=t.type==="mousemove"?"mouseout":"pointerout",g=this.createPointerEvent(t,m,s);if(this.dispatchEvent(g,"pointerout"),n&&this.dispatchEvent(g,"mouseout"),!r.composedPath().includes(s)){const v=this.createPointerEvent(t,"pointerleave",s);for(v.eventPhase=v.AT_TARGET;v.target&&!r.composedPath().includes(v.target);)v.currentTarget=v.target,this.notifyTarget(v),n&&this.notifyTarget(v,"mouseleave"),v.target=v.target.parent;this.freeEvent(v)}this.freeEvent(g)}if(s!==r.target){const m=t.type==="mousemove"?"mouseover":"pointerover",g=this.clonePointerEvent(r,m);this.dispatchEvent(g,"pointerover"),n&&this.dispatchEvent(g,"mouseover");let v=s==null?void 0:s.parent;for(;v&&v!==this.rootTarget.parent&&v!==r.target;)v=v.parent;if(!v||v===this.rootTarget.parent){const S=this.clonePointerEvent(r,"pointerenter");for(S.eventPhase=S.AT_TARGET;S.target&&S.target!==s&&S.target!==this.rootTarget.parent;)S.currentTarget=S.target,this.notifyTarget(S),n&&this.notifyTarget(S,"mouseenter"),S.target=S.target.parent;this.freeEvent(S)}this.freeEvent(g)}const o=[],u=(h=this.enableGlobalMoveEvents)!=null?h:!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),u&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),u&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),u&&o.push("globalmousemove"),this.cursor=(f=r.target)==null?void 0:f.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(t){var o;if(!(t instanceof gn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(t.pointerId),n=this.createPointerEvent(t),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(t){if(!(t instanceof gn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(t.pointerId);if(r.overTargets){const n=t.pointerType==="mouse"||t.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(t,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(t,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(t){if(!(t instanceof gn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(t);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.dispatchEvent(n,u?"rightup":"mouseup")}const i=this.trackingData(t.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[t.button]);let o=s;if(s&&!n.composedPath().includes(s)){let u=s;for(;u&&!n.composedPath().includes(u);){if(n.currentTarget=u,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}u=u.parent}delete i.pressTargetsByButton[t.button],o=u}if(o){const u=this.clonePointerEvent(n,"click");u.target=o,u.path=null,i.clicksByButton[t.button]||(i.clicksByButton[t.button]={clickCount:0,target:u.target,timeStamp:r});const c=i.clicksByButton[t.button];if(c.target===u.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=u.target,c.timeStamp=r,u.detail=c.clickCount,u.pointerType==="mouse"){const h=u.button===2;this.dispatchEvent(u,h?"rightclick":"click")}else u.pointerType==="touch"&&this.dispatchEvent(u,"tap");this.dispatchEvent(u,"pointertap"),this.freeEvent(u)}this.freeEvent(n)}mapPointerUpOutside(t){if(!(t instanceof gn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(t.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[t.button]),i=this.createPointerEvent(t);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[t.button]}this.freeEvent(i)}mapWheel(t){if(!(t instanceof Pa)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(t);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(t){if(!t)return null;let r=t[0];for(let n=1;n<t.length&&t[n].parent===r;n++)r=t[n];return r}createPointerEvent(t,r,n){var s;const i=this.allocateEvent(gn);return this.copyPointerData(t,i),this.copyMouseData(t,i),this.copyData(t,i),i.nativeEvent=t.nativeEvent,i.originalEvent=t,i.target=(s=n!=null?n:this.hitTest(i.global.x,i.global.y))!=null?s:this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(t){const r=this.allocateEvent(Pa);return this.copyWheelData(t,r),this.copyMouseData(t,r),this.copyData(t,r),r.nativeEvent=t.nativeEvent,r.originalEvent=t,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(t,r){const n=this.allocateEvent(gn);return n.nativeEvent=t.nativeEvent,n.originalEvent=t.originalEvent,this.copyPointerData(t,n),this.copyMouseData(t,n),this.copyData(t,n),n.target=t.target,n.path=t.composedPath().slice(),n.type=r!=null?r:n.type,n}copyWheelData(t,r){r.deltaMode=t.deltaMode,r.deltaX=t.deltaX,r.deltaY=t.deltaY,r.deltaZ=t.deltaZ}copyPointerData(t,r){t instanceof gn&&r instanceof gn&&(r.pointerId=t.pointerId,r.width=t.width,r.height=t.height,r.isPrimary=t.isPrimary,r.pointerType=t.pointerType,r.pressure=t.pressure,r.tangentialPressure=t.tangentialPressure,r.tiltX=t.tiltX,r.tiltY=t.tiltY,r.twist=t.twist)}copyMouseData(t,r){t instanceof dd&&r instanceof dd&&(r.altKey=t.altKey,r.button=t.button,r.buttons=t.buttons,r.client.copyFrom(t.client),r.ctrlKey=t.ctrlKey,r.metaKey=t.metaKey,r.movement.copyFrom(t.movement),r.screen.copyFrom(t.screen),r.shiftKey=t.shiftKey,r.global.copyFrom(t.global))}copyData(t,r){r.isTrusted=t.isTrusted,r.srcElement=t.srcElement,r.timeStamp=performance.now(),r.type=t.type,r.detail=t.detail,r.view=t.view,r.which=t.which,r.layer.copyFrom(t.layer),r.page.copyFrom(t.page)}trackingData(t){return this.mappingState.trackingData[t]||(this.mappingState.trackingData[t]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[t]}allocateEvent(t){this.eventPool.has(t)||this.eventPool.set(t,[]);const r=this.eventPool.get(t).pop()||new t(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(t){if(t.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=t.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(t)}notifyListeners(t,r){const n=t.currentTarget._events[r];if(!!n&&!!t.currentTarget.isInteractive())if("fn"in n)n.once&&t.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,t);else for(let i=0,s=n.length;i<s&&!t.propagationImmediatelyStopped;i++)n[i].once&&t.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,t)}}const p6=1,g6={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},eg=class{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new m6(null),ss.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new gn(null),this.rootWheelEvent=new Pa(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...eg.defaultEventFeatures},{set:(t,r,n)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),t[r]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){var n,i;const{view:t,resolution:r}=this.renderer;this.setTargetElement(t),this.resolution=r,eg._defaultEventMode=(n=e.eventMode)!=null?n:"auto",Object.assign(this.features,(i=e.eventFeatures)!=null?i:{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let t=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(t=!1),this.currentCursor===e)return;this.currentCursor=e;const r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.domElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.domElement.style,r);break}else t&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch"))return;const t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let r=0,n=t.length;r<n;r++){const i=t[r],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch"))return;ss.pointerMoved();const t=this.normalizeToPointerData(e);for(let r=0,n=t.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch"))return;let t=e.target;e.composedPath&&e.composedPath().length>0&&(t=e.composedPath()[0]);const r=t!==this.domElement?"outside":"",n=this.normalizeToPointerData(e);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&e.pointerType==="touch"))return;const t=this.normalizeToPointerData(e);for(let r=0,n=t.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,t[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const t=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(t)}setTargetElement(e){this.removeEvents(),this.domElement=e,ss.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;ss.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;ss.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,t,r){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;e.x=(t-n.left)*(this.domElement.width/n.width)*i,e.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(e){const t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let r=0,n=e.changedTouches.length;r<n;r++){const i=e.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=e.type,t.push(i)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const r=e;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=p6),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,t.push(r)}else t.push(e);return t}normalizeWheelEvent(e){const t=this.rootWheelEvent;return this.transferMouseData(t,e),t.deltaX=e.deltaX,t.deltaY=e.deltaY,t.deltaZ=e.deltaZ,t.deltaMode=e.deltaMode,this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.nativeEvent=e,t.type=e.type,t}bootstrapEvent(e,t){return e.originalEvent=null,e.nativeEvent=t,e.pointerId=t.pointerId,e.width=t.width,e.height=t.height,e.isPrimary=t.isPrimary,e.pointerType=t.pointerType,e.pressure=t.pressure,e.tangentialPressure=t.tangentialPressure,e.tiltX=t.tiltX,e.tiltY=t.tiltY,e.twist=t.twist,this.transferMouseData(e,t),this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=t.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=g6[e.type]||e.type),e}transferMouseData(e,t){e.isTrusted=t.isTrusted,e.srcElement=t.srcElement,e.timeStamp=performance.now(),e.type=t.type,e.altKey=t.altKey,e.button=t.button,e.buttons=t.buttons,e.client.x=t.clientX,e.client.y=t.clientY,e.ctrlKey=t.ctrlKey,e.metaKey=t.metaKey,e.movement.x=t.movementX,e.movement.y=t.movementY,e.page.x=t.pageX,e.page.y=t.pageY,e.relatedTarget=null,e.shiftKey=t.shiftKey}};let mu=eg;mu.extension={name:"events",type:[ot.RendererSystem,ot.CanvasRendererSystem]};mu.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};pt.add(mu);function LT(e){return e==="dynamic"||e==="static"}const y6={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){var e;return(e=this._internalInteractive)!=null?e:LT(mu.defaultEventMode)},set interactive(e){At("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=e,this.eventMode=e?"static":"auto"},_internalEventMode:void 0,get eventMode(){var e;return(e=this._internalEventMode)!=null?e:mu.defaultEventMode},set eventMode(e){this._internalInteractive=LT(e),this._internalEventMode=e},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(e,t,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof t=="function"?void 0:t;e=n?`${e}capture`:e,t=typeof t=="function"?t:t.handleEvent,this.on(e,t,i)},removeEventListener(e,t,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof t=="function"?void 0:t;e=n?`${e}capture`:e,t=typeof t=="function"?t:t.handleEvent,this.off(e,t,i)},dispatchEvent(e){if(!(e instanceof Eu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return e.defaultPrevented=!1,e.path=null,e.target=this,e.manager.dispatchEvent(e),!e.defaultPrevented}};Kt.mixin(y6);const v6={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Kt.mixin(v6);const x6=9,th=100,T6=0,_6=0,BT=2,UT=1,b6=-1e3,w6=-1e3,S6=2;class Vb{constructor(t){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Ei.tablet||Ei.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${th}px`,r.style.height=`${th}px`,r.style.position="absolute",r.style.top=`${T6}px`,r.style.left=`${_6}px`,r.style.zIndex=BT.toString(),this.div=r,this.renderer=t,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const t=document.createElement("button");t.style.width=`${UT}px`,t.style.height=`${UT}px`,t.style.position="absolute",t.style.top=`${b6}px`,t.style.left=`${w6}px`,t.style.zIndex=S6.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(t),this._hookDiv=t}destroyTouchHook(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var t;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(t=this.renderer.view.parentNode)==null||t.appendChild(this.div))}deactivate(){var t;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(t=this.div.parentNode)==null||t.removeChild(this.div))}updateAccessibleObjects(t){if(!t.visible||!t.accessibleChildren)return;t.accessible&&t.isInteractive()&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);const r=t.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const t=performance.now();if(Ei.android.device&&t<this.androidUpdateCount||(this.androidUpdateCount=t+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:u,resolution:c}=this.renderer,h=i/o*c,f=s/u*c;let m=this.div;m.style.left=`${r}px`,m.style.top=`${n}px`,m.style.width=`${o}px`,m.style.height=`${u}px`;for(let g=0;g<this.children.length;g++){const v=this.children[g];if(v.renderId!==this.renderId)v._accessibleActive=!1,ga(this.children,g,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,g--;else{m=v._accessibleDiv;let x=v.hitArea;const S=v.worldTransform;v.hitArea?(m.style.left=`${(S.tx+x.x*S.a)*h}px`,m.style.top=`${(S.ty+x.y*S.d)*f}px`,m.style.width=`${x.width*S.a*h}px`,m.style.height=`${x.height*S.d*f}px`):(x=v.getBounds(),this.capHitArea(x),m.style.left=`${x.x*h}px`,m.style.top=`${x.y*f}px`,m.style.width=`${x.width*h}px`,m.style.height=`${x.height*f}px`,m.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(m.title=v.accessibleTitle),m.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&m.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==m.title||v.tabIndex!==m.tabIndex)&&(m.title=v.accessibleTitle,m.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(m))}}this.renderId++}updateDebugHTML(t){t.innerHTML=`type: ${t.type}</br> title : ${t.title}</br> tabIndex: ${t.tabIndex}`}capHitArea(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0);const{width:r,height:n}=this.renderer;t.x+t.width>r&&(t.width=r-t.x),t.y+t.height>n&&(t.height=n-t.y)}addChild(t){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${th}px`,r.style.height=`${th}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=BT.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=t.accessiblePointerEvents,r.type=t.accessibleType,t.accessibleTitle&&t.accessibleTitle!==null?r.title=t.accessibleTitle:(!t.accessibleHint||t.accessibleHint===null)&&(r.title=`displayObject ${t.tabIndex}`),t.accessibleHint&&t.accessibleHint!==null&&r.setAttribute("aria-label",t.accessibleHint),this.debug&&this.updateDebugHTML(r),t._accessibleActive=!0,t._accessibleDiv=r,r.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex}_dispatchEvent(t,r){const{displayObject:n}=t.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Eu(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(t){this._dispatchEvent(t,["click","pointertap","tap"])}_onFocus(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","assertive"),this._dispatchEvent(t,["mouseover"])}_onFocusOut(t){t.target.getAttribute("aria-live")||t.target.setAttribute("aria-live","polite"),this._dispatchEvent(t,["mouseout"])}_onKeyDown(t){t.keyCode===x6&&this.activate()}_onMouseMove(t){t.movementX===0&&t.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}Vb.extension={name:"accessibility",type:[ot.RendererPlugin,ot.CanvasRendererPlugin]};pt.add(Vb);var Rr=(e=>(e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",e))(Rr||{});const fd={[33776]:.5,[33777]:.5,[33778]:1,[33779]:1,[35916]:.5,[35917]:.5,[35918]:1,[35919]:1,[37488]:.5,[37489]:.5,[37490]:1,[37491]:1,[37492]:.5,[37496]:1,[37493]:.5,[37497]:1,[37494]:.5,[37495]:.5,[35840]:.5,[35842]:.5,[35841]:.25,[35843]:.25,[36196]:.5,[35986]:.5,[35986]:1,[34798]:1,[37808]:1};let yi,Ho;function zT(){Ho={s3tc:yi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:yi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:yi.getExtension("WEBGL_compressed_texture_etc"),etc1:yi.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:yi.getExtension("WEBGL_compressed_texture_pvrtc")||yi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:yi.getExtension("WEBGL_compressed_texture_atc"),astc:yi.getExtension("WEBGL_compressed_texture_astc")}}const E6={extension:{type:ot.DetectionParser,priority:2},test:async()=>{const t=tt.ADAPTER.createCanvas().getContext("webgl");return t?(yi=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async e=>{Ho||zT();const t=[];for(const r in Ho)!Ho[r]||t.push(r);return[...t,...e]},remove:async e=>(Ho||zT(),e.filter(t=>!(t in Ho)))};pt.add(E6);class C6 extends bu{constructor(t,r={width:1,height:1,autoLoad:!0}){let n,i;typeof t=="string"?(n=t,i=new Uint8Array):(n=null,i=t),super(i,r),this.origin=n,this.buffer=i?new M0(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(t){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(t=>t.blob()).then(t=>t.arrayBuffer()).then(t=>(this.data=new Uint32Array(t),this.buffer=new M0(t),this.loaded=!0,this.onBlobLoaded(t),this.update(),this)),this._load)}}class ro extends C6{constructor(t,r){super(t,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=ro._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||ro._createLevelBuffers(t instanceof Uint8Array?t:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(t,r,n){const i=t.gl;if(!t.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let o=0,u=this.levels;o<u;o++){const{levelID:c,levelWidth:h,levelHeight:f,levelBuffer:m}=this._levelBuffers[o];i.compressedTexImage2D(i.TEXTURE_2D,c,this.format,h,f,0,m)}return!0}onBlobLoaded(){this._levelBuffers=ro._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(t){if(t>=33776&&t<=33779)return"s3tc";if(t>=37488&&t<=37497)return"etc";if(t>=35840&&t<=35843)return"pvrtc";if(t>=36196)return"etc1";if(t>=35986&&t<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(t,r,n,i,s,o,u){const c=new Array(n);let h=t.byteOffset,f=o,m=u,g=f+i-1&~(i-1),v=m+s-1&~(s-1),x=g*v*fd[r];for(let S=0;S<n;S++)c[S]={levelID:S,levelWidth:n>1?f:g,levelHeight:n>1?m:v,levelBuffer:new Uint8Array(t.buffer,h,x)},h+=x,f=f>>1||1,m=m>>1||1,g=f+i-1&~(i-1),v=m+s-1&~(s-1),x=g*v*fd[r];return c}}const _p=4,eh=124,A6=32,GT=20,P6=542327876,rh={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},I6={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},nh={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},R6=1,k6=2,M6=4,D6=64,N6=512,F6=131072,O6=827611204,L6=861165636,B6=894720068,U6=808540228,z6=4,G6={[O6]:Rr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[L6]:Rr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[B6]:Rr.COMPRESSED_RGBA_S3TC_DXT5_EXT},H6={[70]:Rr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[71]:Rr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[73]:Rr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[74]:Rr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[76]:Rr.COMPRESSED_RGBA_S3TC_DXT5_EXT,[77]:Rr.COMPRESSED_RGBA_S3TC_DXT5_EXT,[72]:Rr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,[75]:Rr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,[78]:Rr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function j6(e){const t=new Uint32Array(e);if(t[0]!==P6)throw new Error("Invalid DDS file magic word");const n=new Uint32Array(e,0,eh/Uint32Array.BYTES_PER_ELEMENT),i=n[rh.HEIGHT],s=n[rh.WIDTH],o=n[rh.MIPMAP_COUNT],u=new Uint32Array(e,rh.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,A6/Uint32Array.BYTES_PER_ELEMENT),c=u[R6];if(c&M6){const h=u[I6.FOURCC];if(h!==U6){const _=G6[h],C=_p+eh,P=new Uint8Array(e,C);return[new ro(P,{format:_,width:s,height:i,levels:o})]}const f=_p+eh,m=new Uint32Array(t.buffer,f,GT/Uint32Array.BYTES_PER_ELEMENT),g=m[nh.DXGI_FORMAT],v=m[nh.RESOURCE_DIMENSION],x=m[nh.MISC_FLAG],S=m[nh.ARRAY_SIZE],E=H6[g];if(E===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${g}`);if(x===z6)throw new Error("DDSParser does not support cubemap textures");if(v===6)throw new Error("DDSParser does not supported 3D texture data");const w=new Array,b=_p+eh+GT;if(S===1)w.push(new Uint8Array(e,b));else{const _=fd[E];let C=0,P=s,O=i;for(let N=0;N<o;N++){const Q=Math.max(1,P+3&-4),V=Math.max(1,O+3&-4),Y=Q*V*_;C+=Y,P=P>>>1,O=O>>>1}let M=b;for(let N=0;N<S;N++)w.push(new Uint8Array(e,M,C)),M+=C}return w.map(_=>new ro(_,{format:E,width:s,height:i,levels:o}))}throw c&D6?new Error("DDSParser does not support uncompressed texture data."):c&N6?new Error("DDSParser does not supported YUV uncompressed texture data."):c&F6?new Error("DDSParser does not support single-channel (lumninance) texture data!"):c&k6?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const HT=[171,75,84,88,32,49,49,187,13,10,26,10],$6=67305985,mn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},rg=64,jT={[yt.UNSIGNED_BYTE]:1,[yt.UNSIGNED_SHORT]:2,[yt.INT]:4,[yt.UNSIGNED_INT]:4,[yt.FLOAT]:4,[yt.HALF_FLOAT]:8},W6={[J.RGBA]:4,[J.RGB]:3,[J.RG]:2,[J.RED]:1,[J.LUMINANCE]:1,[J.LUMINANCE_ALPHA]:2,[J.ALPHA]:1},V6={[yt.UNSIGNED_SHORT_4_4_4_4]:2,[yt.UNSIGNED_SHORT_5_5_5_1]:2,[yt.UNSIGNED_SHORT_5_6_5]:2};function X6(e,t,r=!1){const n=new DataView(t);if(!Y6(e,n))return null;const i=n.getUint32(mn.ENDIANNESS,!0)===$6,s=n.getUint32(mn.GL_TYPE,i),o=n.getUint32(mn.GL_FORMAT,i),u=n.getUint32(mn.GL_INTERNAL_FORMAT,i),c=n.getUint32(mn.PIXEL_WIDTH,i),h=n.getUint32(mn.PIXEL_HEIGHT,i)||1,f=n.getUint32(mn.PIXEL_DEPTH,i)||1,m=n.getUint32(mn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,g=n.getUint32(mn.NUMBER_OF_FACES,i),v=n.getUint32(mn.NUMBER_OF_MIPMAP_LEVELS,i),x=n.getUint32(mn.BYTES_OF_KEY_VALUE_DATA,i);if(h===0||f!==1)throw new Error("Only 2D textures are supported");if(g!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(m!==1)throw new Error("WebGL does not support array textures");const S=4,E=4,w=c+3&-4,b=h+3&-4,_=new Array(m);let C=c*h;s===0&&(C=w*b);let P;if(s!==0?jT[s]?P=jT[s]*W6[o]:P=V6[s]:P=fd[u],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const O=r?Q6(n,x,i):null;let N=C*P,Q=c,V=h,Y=w,it=b,W=rg+x;for(let U=0;U<v;U++){const ft=n.getUint32(W,i);let vt=W+4;for(let z=0;z<m;z++){let R=_[z];R||(R=_[z]=new Array(v)),R[U]={levelID:U,levelWidth:v>1||s!==0?Q:Y,levelHeight:v>1||s!==0?V:it,levelBuffer:new Uint8Array(t,vt,N)},vt+=N}W+=ft+4,W=W%4!==0?W+4-W%4:W,Q=Q>>1||1,V=V>>1||1,Y=Q+S-1&~(S-1),it=V+E-1&~(E-1),N=Y*it*P}return s!==0?{uncompressed:_.map(U=>{let ft=U[0].levelBuffer,vt=!1;return s===yt.FLOAT?ft=new Float32Array(U[0].levelBuffer.buffer,U[0].levelBuffer.byteOffset,U[0].levelBuffer.byteLength/4):s===yt.UNSIGNED_INT?(vt=!0,ft=new Uint32Array(U[0].levelBuffer.buffer,U[0].levelBuffer.byteOffset,U[0].levelBuffer.byteLength/4)):s===yt.INT&&(vt=!0,ft=new Int32Array(U[0].levelBuffer.buffer,U[0].levelBuffer.byteOffset,U[0].levelBuffer.byteLength/4)),{resource:new bu(ft,{width:U[0].levelWidth,height:U[0].levelHeight}),type:s,format:vt?K6(o):o}}),kvData:O}:{compressed:_.map(U=>new ro(null,{format:u,width:c,height:h,levels:v,levelBuffers:U})),kvData:O}}function Y6(e,t){for(let r=0;r<HT.length;r++)if(t.getUint8(r)!==HT[r])return console.error(`${e} is not a valid *.ktx file!`),!1;return!0}function K6(e){switch(e){case J.RGBA:return J.RGBA_INTEGER;case J.RGB:return J.RGB_INTEGER;case J.RG:return J.RG_INTEGER;case J.RED:return J.RED_INTEGER;default:return e}}function Q6(e,t,r){const n=new Map;let i=0;for(;i<t;){const s=e.getUint32(rg+i,r),o=rg+i+4,u=3-(s+3)%4;if(s===0||s>t-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&e.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const h=new TextDecoder().decode(new Uint8Array(e.buffer,o,c)),f=new DataView(e.buffer,o+c+1,s-c-1);n.set(h,f),i+=4+s+u}return n}const Z6={extension:{type:ot.LoadParser,priority:li.High},name:"loadDDS",test(e){return po(e,".dds")},async load(e,t,r){const i=await(await tt.ADAPTER.fetch(e)).arrayBuffer(),o=j6(i).map(u=>{const c=new bt(u,{mipmap:si.OFF,alphaMode:Nn.NO_PREMULTIPLIED_ALPHA,resolution:Ts(e),...t.data});return Xd(c,r,e)});return o.length===1?o[0]:o},unload(e){Array.isArray(e)?e.forEach(t=>t.destroy(!0)):e.destroy(!0)}};pt.add(Z6);const q6={extension:{type:ot.LoadParser,priority:li.High},name:"loadKTX",test(e){return po(e,".ktx")},async load(e,t,r){const i=await(await tt.ADAPTER.fetch(e)).arrayBuffer(),{compressed:s,uncompressed:o,kvData:u}=X6(e,i),c=s!=null?s:o,h={mipmap:si.OFF,alphaMode:Nn.NO_PREMULTIPLIED_ALPHA,resolution:Ts(e),...t.data},f=c.map(m=>{c===o&&Object.assign(h,{type:m.type,format:m.format});const g=new bt(m,h);return g.ktxKeyValueData=u,Xd(g,r,e)});return f.length===1?f[0]:f},unload(e){Array.isArray(e)?e.forEach(t=>t.destroy(!0)):e.destroy(!0)}};pt.add(q6);const J6={extension:ot.ResolveParser,test:e=>{const r=e.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(r)},parse:e=>{var n,i,s,o;if(e.split("?")[0].split(".").pop()==="ktx"){const u=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(u.some(c=>e.endsWith(c)))return{resolution:parseFloat((i=(n=tt.RETINA_PREFIX.exec(e))==null?void 0:n[1])!=null?i:"1"),format:u.find(c=>e.endsWith(c)),src:e}}return{resolution:parseFloat((o=(s=tt.RETINA_PREFIX.exec(e))==null?void 0:s[1])!=null?o:"1"),format:e.split(".").pop(),src:e}}};pt.add(J6);const t8=new Et,e8=4,El=class{constructor(e){this.renderer=e}async image(e,t,r){const n=new Image;return n.src=await this.base64(e,t,r),n}async base64(e,t,r){const n=this.canvas(e);if(n.toBlob!==void 0)return new Promise((i,s)=>{n.toBlob(o=>{if(!o){s(new Error("ICanvas.toBlob failed!"));return}const u=new FileReader;u.onload=()=>i(u.result),u.onerror=s,u.readAsDataURL(o)},t,r)});if(n.toDataURL!==void 0)return n.toDataURL(t,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:t,quality:r});return new Promise((s,o)=>{const u=new FileReader;u.onload=()=>s(u.result),u.onerror=o,u.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,t){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(e,t);s&&El._flipY(r,n,i),El._unpremultiplyAlpha(r);const o=new u4(n,i,1),u=new ImageData(new Uint8ClampedArray(r.buffer),n,i);return o.context.putImageData(u,0,0),o.canvas}pixels(e,t){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(e,t);return s&&El._flipY(r,n,i),El._unpremultiplyAlpha(r),r}_rawPixels(e,t){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i=!1,s,o=!1;if(e&&(e instanceof ii?s=e:(s=r.generateTexture(e,{resolution:r.resolution,multisample:r.multisample}),o=!0)),s){if(n=s.baseTexture.resolution,t=t!=null?t:s.frame,i=!1,!o){r.renderTexture.bind(s);const m=s.framebuffer.glFramebuffers[r.CONTEXT_UID];m.blitFramebuffer&&r.framebuffer.bind(m.blitFramebuffer)}}else n=r.resolution,t||(t=t8,t.width=r.width/n,t.height=r.height/n),i=!0,r.renderTexture.bind();const u=Math.round(t.width*n),c=Math.round(t.height*n),h=new Uint8Array(e8*u*c),f=r.gl;return f.readPixels(Math.round(t.x*n),Math.round(t.y*n),u,c,f.RGBA,f.UNSIGNED_BYTE,h),o&&(s==null||s.destroy(!0)),{pixels:h,width:u,height:c,flipY:i}}destroy(){this.renderer=null}static _flipY(e,t,r){const n=t<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const u=o*n,c=(r-o-1)*n;s.set(e.subarray(u,u+n)),e.copyWithin(u,c,c+n),e.set(s,c)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const t=e.length;for(let r=0;r<t;r+=4){const n=e[r+3];if(n!==0){const i=255.001/n;e[r]=e[r]*i+.5,e[r+1]=e[r+1]*i+.5,e[r+2]=e[r+2]*i+.5}}}};let Xb=El;Xb.extension={name:"extract",type:ot.RendererSystem};pt.add(Xb);class r8{constructor(t){this.maxItemsPerFrame=t,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function n8(e,t){var n;let r=!1;if((n=e==null?void 0:e._textures)!=null&&n.length){for(let i=0;i<e._textures.length;i++)if(e._textures[i]instanceof et){const s=e._textures[i].baseTexture;t.includes(s)||(t.push(s),r=!0)}}return r}function i8(e,t){if(e.baseTexture instanceof bt){const r=e.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function s8(e,t){if(e._texture&&e._texture instanceof et){const r=e._texture.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function o8(e,t){return t instanceof Da?(t.updateText(!0),!0):!1}function a8(e,t){if(t instanceof me){const r=t.toFontString();return $e.measureFont(r),!0}return!1}function l8(e,t){if(e instanceof Da){t.includes(e.style)||t.push(e.style),t.includes(e)||t.push(e);const r=e._texture.baseTexture;return t.includes(r)||t.push(r),!0}return!1}function u8(e,t){return e instanceof me?(t.includes(e)||t.push(e),!0):!1}const Yb=class{constructor(e){this.limiter=new r8(Yb.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{!this.queue||this.prepareItems()},this.registerFindHook(l8),this.registerFindHook(u8),this.registerFindHook(n8),this.registerFindHook(i8),this.registerFindHook(s8),this.registerUploadHook(o8),this.registerUploadHook(a8)}upload(e){return new Promise(t=>{e&&this.add(e),this.queue.length?(this.completes.push(t),this.ticking||(this.ticking=!0,_e.system.addOnce(this.tick,this,ws.UTILITY))):t()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let t=!1;if(e&&!e._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}}t||this.queue.shift()}if(this.queue.length)_e.system.addOnce(this.tick,this,ws.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let t=0,r=e.length;t<r;t++)e[t]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Ht)for(let t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this}destroy(){this.ticking&&_e.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let md=Yb;md.uploadsPerFrame=4;Object.defineProperties(tt,{UPLOADS_PER_FRAME:{get(){return md.uploadsPerFrame},set(e){At("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),md.uploadsPerFrame=e}}});function Kb(e,t){return t instanceof bt?(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0):!1}function c8(e,t){if(!(t instanceof nn))return!1;const{geometry:r}=t;t.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&Kb(e,s.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function h8(e,t){return e instanceof nn?(t.push(e),!0):!1}class Qb extends md{constructor(t){super(t),this.uploadHookHelper=this.renderer,this.registerFindHook(h8),this.registerUploadHook(Kb),this.registerUploadHook(c8)}}Qb.extension={name:"prepare",type:ot.RendererSystem};pt.add(Qb);const Cl=class{constructor(e,t,r=null){this.linkedSheets=[],this._texture=e instanceof et?e:null,this.baseTexture=e instanceof bt?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:t}=this.data.meta;let r=Ts(e,null);return r===null&&(r=parseFloat(t!=null?t:"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Cl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let t=e;const r=Cl.BATCH_SIZE;for(;t-e<r&&t<this._frameKeys.length;){const n=this._frameKeys[t],i=this._frames[n],s=i.frame;if(s){let o=null,u=null;const c=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,h=new Et(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);i.rotated?o=new Et(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Et(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(u=new Et(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new et(this.baseTexture,o,h,u,i.rotated?2:0,i.anchor,i.borders),et.addToCache(this.textures[n],n)}t++}}_processAnimations(){const e=this.data.animations||{};for(const t in e){this.animations[t]=[];for(let r=0;r<e[t].length;r++){const n=e[t][r];this.animations[t].push(this.textures[n])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Cl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Cl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var t;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((t=this._texture)==null||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let ng=Cl;ng.BATCH_SIZE=1e3;const d8=["jpg","png","jpeg","avif","webp"];function Zb(e,t,r){const n={};if(e.forEach(i=>{n[i]=t}),Object.keys(t.textures).forEach(i=>{n[i]=t.textures[i]}),!r){const i=nr.dirname(e[0]);t.linkedSheets.forEach((s,o)=>{const u=Zb([`${i}/${t.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,u)})}return n}const f8={extension:ot.Asset,cache:{test:e=>e instanceof ng,getCacheableAssets:(e,t)=>Zb(e,t,!1)},resolver:{test:e=>{const r=e.split("?")[0].split("."),n=r.pop(),i=r.pop();return n==="json"&&d8.includes(i)},parse:e=>{var r,n;const t=e.split(".");return{resolution:parseFloat((n=(r=tt.RETINA_PREFIX.exec(e))==null?void 0:r[1])!=null?n:"1"),format:t[t.length-2],src:e}}},loader:{name:"spritesheetLoader",extension:{type:ot.LoadParser,priority:li.Normal},async testParse(e,t){return nr.extname(t.src).toLowerCase()===".json"&&!!e.frames},async parse(e,t,r){var h,f;let n=nr.dirname(t.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+e.meta.image;i=W0(i,t.src);const o=(await r.load([i]))[i],u=new ng(o.baseTexture,e,t.src);await u.parse();const c=(h=e==null?void 0:e.meta)==null?void 0:h.related_multi_packs;if(Array.isArray(c)){const m=[];for(const v of c){if(typeof v!="string")continue;let x=n+v;(f=t.data)!=null&&f.ignoreMultiPack||(x=W0(x,t.src),m.push(r.load({src:x,data:{ignoreMultiPack:!0}})))}const g=await Promise.all(m);u.linkedSheets=g,g.forEach(v=>{v.linkedSheets=[u].concat(u.linkedSheets.filter(x=>x!==v))})}return u},unload(e){e.destroy(!0)}}};pt.add(f8);const jo=class extends me{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new jo(Object.keys(jo.defaultOptions).reduce((t,r)=>({...t,[r]:e[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete jo.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,t={}){const{availableFonts:r}=jo;if(r[e]){const n=r[e];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return tt.ADAPTER.fetch(e).then(n=>n.blob()).then(async n=>new Promise((i,s)=>{const o=URL.createObjectURL(n),u=new FileReader;u.onload=()=>i([o,u.result]),u.onerror=s,u.readAsDataURL(n)})).then(async([n,i])=>{const s=Object.assign({family:nr.basename(e,nr.extname(e)),weight:"normal",style:"normal",src:n,dataSrc:i,refs:1,originalUrl:e,fontFace:null},t);r[e]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const t=e.filter(r=>!this._overrides.includes(r));t.length>0&&(this._overrides.push(...t),this.styleID++)}removeOverride(...e){const t=e.filter(r=>this._overrides.includes(r));t.length>0&&(this._overrides=this._overrides.filter(r=>!t.includes(r)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,t)=>`${e}
            @font-face {
                font-family: "${t.family}";
                src: url('${t.dataSrc}');
                font-weight: ${t.weight};
                font-style: ${t.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Bd(e)),typeof e=="number"?s4(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const t=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&t<1&&(e+=(t*255|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${i} ${e}`}reset(){Object.assign(this,jo.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(t=>setTimeout(t,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=tt.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let Ul=jo;Ul.availableFonts={};Ul.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const $o=class extends Jt{constructor(e="",t={}){var f;super(et.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=et.from(r,{scaleMode:tt.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new Et,n.trim=new Et,this.texture=n;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),u=document.createElementNS(i,"foreignObject"),c=document.createElementNS(s,"div"),h=document.createElementNS(s,"style");u.setAttribute("width","10000"),u.setAttribute("height","10000"),u.style.overflow="hidden",o.appendChild(u),this.maxWidth=$o.defaultMaxWidth,this.maxHeight=$o.defaultMaxHeight,this._domElement=c,this._styleElement=h,this._svgRoot=o,this._foreignObject=u,this._foreignObject.appendChild(h),this._foreignObject.appendChild(c),this._image=r,this._loadImage=new Image,this._autoResolution=$o.defaultAutoResolution,this._resolution=(f=$o.defaultResolution)!=null?f:tt.RESOLUTION,this.text=e,this.style=t}measureText(e){var u,c;const{text:t,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:t,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),t!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(u=this._style)==null?void 0:u.toCSS(n)}),this._styleElement.textContent=(c=this._style)==null?void 0:c.toGlobalCSS()),{width:s+r.padding*2,height:o+r.padding*2}}async updateText(e=!0){const{style:t,_image:r,_loadImage:n}=this;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),!this.dirty&&e)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise(o=>{n.onload=async()=>{await t.onBeforeDraw(),this._loading=!1,r.src=n.src,n.onload=null,n.src="",this.updateTexture(),o()};const u=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(u)}`}))}get source(){return this._image}updateTexture(){const{style:e,texture:t,_image:r,resolution:n}=this,{padding:i}=e,{baseTexture:s}=t;t.trim.width=t._frame.width=r.width/n,t.trim.height=t._frame.height=r.height/n,t.trim.x=-i,t.trim.y=-i,t.orig.width=t._frame.width-i*2,t.orig.height=t._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var r,n,i,s,o;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},$o.defaultDestroyOptions,e),super.destroy(e);const t=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=t,(n=this._svgRoot)==null||n.remove(),this._svgRoot=t,(i=this._domElement)==null||i.remove(),this._domElement=t,(s=this._foreignObject)==null||s.remove(),this._foreignObject=t,(o=this._styleElement)==null||o.remove(),this._styleElement=t,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=t,this._image.src="",this._image=t}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const t=ls(this.scale.x)||1;this.scale.x=t*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const t=ls(this.scale.y)||1;this.scale.y=t*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Ul?(this.ownsStyle=!1,this._style=e):e instanceof me?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Ul.from(e)):(this.ownsStyle=!0,this._style=new Ul(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let Zd=$o;Zd.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0};Zd.defaultMaxWidth=2024;Zd.defaultMaxHeight=2024;Zd.defaultAutoResolution=!0;function m8(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function qb(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}const Jb=[16777215,7130603,15759548,16777215],$T=[2883570,16722807];let st=qb()*16/9,Tt=qb();const WT="4",VT="5",XT="6",YT="+",rr=st*.15,tr=rr/4,Ti=30,ur=rr*3,v1=1.8*Tt,pu=Tt*.1,bi=0,p8=0,ih=0,ig="/assets/hit.b45e2a6a.png";function Ee(e,t,r,n){const[i,s]=t,[o,u]=r;return e<i&&!n?o:e>s&&!n?u:o===u&&!n?o:(e-i)/(s-i)*(u-o)+o}function en(e,t,r){const[n,i]=t,[s,o]=r;let u=(e-n)/(i-n);return u=1-Math.pow(1-u,5),e<n?s:e>i?o:s===o?s:u*(o-s)+s}function Js(e,t,r,n,i,s){const o=new Da;return o.text=e,i&&(o.eventMode="static"),o.name="playbutton",o.x=t,o.y=r,o.anchor.set(n[0],n[1]),o.style=s||new me({fill:"white",fontFamily:"Courier New",fontSize:30,fontWeight:"900",fontVariant:"small-caps"}),o}function Wo(e,t,r,n,i,s,o,u,c,h){const f=Jt.from(c!=""&&c!=null?c:et.WHITE);return f.name=e,f.x=t,f.y=r,f.tint=c!=""&&c?1048575:o,f.width=n,f.height=i,h&&(f.interactive=h),f.anchor.set(s[0],s[1]),u&&f.on("mousedown",()=>{u.mousedown=e}),f}function rs(e,t,r,n,i,s,o,u,c){let h=new nn;return h.lineStyle(i,s,1),h.beginFill(c!=null?c:16777215,o),h.drawRect(0,0,r-i,n-i),h.endFill(),u||(h.blendMode=mt.ADD),h.x=e-h.width/2,h.y=t-h.height/2,h}function g8(e,t,r,n,i,s,o,u,c,h){let f=new nn;f.lineStyle(s,o,1),f.beginFill(16777215,u),f.drawRect(0,0,n-s,i-s),f.endFill(),f.x=t-f.width/2,f.y=r-f.height/2;let m=new nn;return m.lineStyle(s,o,1),m.beginFill(16777215,u),m.drawRect(0,0,n-s+c,i-s+c),m.endFill(),m.x=t-f.width/2,m.y=r-f.height/2,m.alpha=0,m.interactive=!0,[f,m]}let pi=new Ht;function y8(e){const t=Wt.exports.useApp();let r=e.endTime-e.startTime;const[n,i]=xt.exports.useState(Math.round(r*e.game.notespeed/1e3)-Ti),s=xt.exports.useRef(-n),[o,u]=xt.exports.useState(1),[c,h]=xt.exports.useState(.5),[f,m]=xt.exports.useState(-1),[g,v]=xt.exports.useState(0),[x,S]=xt.exports.useState(""),[E,w]=xt.exports.useState(st/2-ur/2+.5*ur);let b=Jb[e.keys-1],_=rs(0,0,tr,Ti,1,16777215,1,!0,b),C=Jt.from(ig),P=Jt.from(et.WHITE);return pi.getChildByName("note"+e.i+e.keys)==null?(P.name="hold"+e.i+e.keys,P.anchor.set(0,1),P.width=tr*.8,P.tint=b,C=Jt.from(ig),C.tint=b,C.anchor.set(.5,.5),C.width=C.height=tr*3,C.y=Tt-pu,C.blendMode=mt.ADD,C.alpha=0,C.name="hits"+e.i+e.keys,_.name="note"+e.i+e.keys,_.height=Ti,pi.addChild(P),pi.addChild(_),pi.addChild(C)):(_=pi.getChildByName("note"+e.i+e.keys),P=pi.getChildByName("hold"+e.i+e.keys),C=pi.getChildByName("hits"+e.i+e.keys)),Wt.exports.useTick(()=>{if(e.game.isPlaying){i(Math.round(r*e.game.notespeed/1e3));const M=e.game.currenttime;if(e.game.beatmap.cursor.length>0){let N=-1;for(let Q=0;Q<e.game.beatmap.cursor.length;Q++){const V=e.game.beatmap.cursor[Q];if(e.startTime<V.startTime)break;N++}N>-1&&w(st/2-ur/2+e.game.beatmap.cursor[N].x*ur)}e.game.hitlist.length>0&&(C.alpha=g,_.y=s.current+n,P.alpha=c,e.game.mode=="play"&&(C.alpha=g),_.alpha=o,_.x=E-rr/2+tr*(e.keys-1),C.x=e.keys==1?E-rr/2+tr/2:e.keys==2?E-rr/2+tr:e.keys==3?E+tr:E+tr*1.5,P.x=E-rr/2+tr*(e.keys-1),e.game.hitlist.forEach(N=>{N.startsWith(e.startTime.toString()+e.keys.toString())&&(!N.endsWith("miss")&&f==-1&&x==""?(S("true"),m(M)):N.endsWith("miss")&&S("false"))})),x!=""&&v(Ee(M,[f,f+1e3],[.2,0])),u(Ee(M,[e.startTime,e.startTime+e.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[1,0])),x=="true"?(u(0),h(1),P.y=Tt-pu,P.height=Ee(M,[e.startTime,e.endTime],[n,0])):(x=="false"&&h(.2),s.current=Ee(M,[e.startTime-e.game.NOTE_TRAVEL_DURATION()+e.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION(),e.startTime+e.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()+n/e.game.notespeed*1e3],[-n-Ti,Tt-Ti]),P.y=s.current+n+Ti,P.height=n)}}),pi.getChildByName("container"+e.i)==null&&t.stage.addChild(pi),null}let qi=new Ht;function v8(e){const t=e.game.beatmap.hitObjects.filter(S=>S.column==e.keys)[e.i].startTime,r=Wt.exports.useApp();qi.name="container"+e.i;let[n,i]=xt.exports.useState(!1);const s=xt.exports.useRef(0),o=xt.exports.useRef(1),u=xt.exports.useRef(-1),c=xt.exports.useRef(0),h=xt.exports.useRef(0);let f=Jb[e.keys-1];const[m,g]=xt.exports.useState(st/2-ur/2+.5*ur);let v=rs(0,0,tr,Ti,1,16777215,1,!0,f),x=Jt.from(et.WHITE);return qi.getChildByName("note"+e.i+e.keys)==null?(x=Jt.from(ig),x.tint=f,x.anchor.set(.5,.5),x.width=x.height=tr*3,x.y=Tt-pu,x.blendMode=mt.ADD,x.alpha=0,x.name="hits"+e.i+e.keys,v.name="note"+e.i+e.keys,v.height=Ti,qi.addChild(v),qi.addChild(x)):(v=qi.getChildByName("note"+e.i+e.keys),e.game.mode=="play"&&(x=qi.getChildByName("hits"+e.i+e.keys))),Wt.exports.useTick(()=>{let S=e.game.isPlaying;const E=e.game.currenttime;if(S&&E>=t-e.game.NOTE_TRAVEL_DURATION()+e.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()){if(x.alpha=c.current,x.scale.x=x.scale.y=h.current,v.alpha=o.current,v.y=s.current-Ti,e.game.mode=="play"&&(x.alpha=c.current),v.alpha=o.current,v.x=m-rr/2+tr*(e.keys-1),x.x=e.keys==1?m-rr/2+tr/2:e.keys==2?m-rr/2+tr:e.keys==3?m+tr:m+tr*1.5,e.game.beatmap.cursor.length>0){let w=-1;for(let b=0;b<e.game.beatmap.cursor.length;b++){const _=e.game.beatmap.cursor[b];if(t<_.startTime)break;w++}w>-1&&g(st/2-ur/2+e.game.beatmap.cursor[w].x*ur)}e.game.hitlist.length>0&&e.game.hitlist.forEach(w=>{w.startsWith(t.toString()+e.keys.toString())&&!w.endsWith("miss")&&u.current==-1&&(i(!0),u.current=E)}),!n||u.current==-1?(s.current=Ee(E,[t-e.game.NOTE_TRAVEL_DURATION()+e.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION(),t+e.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[0,Tt]),o.current=Ee(E,[t,t+e.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[1,0])):o.current=0,c.current=en(E,[u.current,u.current+1e3],[1,0]),h.current=en(E,[u.current,u.current+1e3],[.5,1])}}),qi.getChildByName("container"+e.i)==null&&r.stage.addChild(qi),null}const x8={XXXXX:16745142,STASIS:10485654,"X-PHASED":7929835,PHASED:16743931,"":16777215};let Al=-1,Kr=new Ht;function gu(e,t){switch(Kr.getChildByName("scoretext")==null?Kr.addChild(Ie):Kr.getChildByName("scoretext"),Al=e,console.log(t),t){case"miss":Ie.text="XXXXX";break;case"ok":Ie.text="STASIS";break;case"great":Ie.text="PHASED";break;case"perfect":Ie.text="X-PHASED";break;default:Ie.text="";break}}function Eh(e){return new Da(e,new me({fill:"white",dropShadow:!0,dropShadowBlur:0,dropShadowDistance:0,dropShadowColor:16777215,fontFamily:"Courier New",fontSize:25,fontVariant:"small-caps",trim:!1}))}let Ie=Eh("");Ie.anchor.set(.5,.5);Ie.name="scoretext";Ie.x=st/2;Ie.y=Tt/2+50;Ie.alpha=0;Ie.style=new me({fill:"white",fontFamily:"Courier New",fontSize:20,fontWeight:"900",align:"center"});function T8(e){Kr=e.container;const t=Wt.exports.useApp();t.stage.addChild(Kr);const[r,n]=xt.exports.useState("0"),[i,s]=xt.exports.useState(0),[o,u]=xt.exports.useState("0");let c=Eh(`INITIALIZING PROGRAM:
    OPERATION : ${e.game.beatmap.metadata.title}
    PERFORMER : ${e.game.beatmap.metadata.artist}
    SUPERVISER : ${e.game.beatmap.metadata.creator}
    TYPE : ${e.game.beatmap.metadata.difficult}
////////////
APPRECIATE THE REALITY
APPRECIATE THE REALITY
APPRECIATE THE REALITY
APPRECIATE THE REALITY
APPRECIATE THE REALITY
APPRECIATE THE REALITY
APPRECIATE THE REALITY
APPRECIATE THE REALITY
APPRECIATE THE REALITY
APPRECIATE THE REALITY
APPRECIATE THE REALITY
JOIN THE AWAKENING
/////////////`),h=Eh(""),f=Eh("");return Kr.getChildByName("scoretext")==null?(c.x=20+50,c.y=Tt-(pu+20),c.name="title",c.alpha=h.alpha=0,c.anchor.set(0,1),c.blendMode=h.blendMode=mt.EXCLUSION,c.style=new me({fontFamily:"Courier New",align:"left",fill:"#ffffff",fontSize:Tt*.01}),f.style=new me({fill:"white",fontFamily:"Courier New",fontSize:30,fontWeight:"900",align:"center"}),h.style=new me({fill:"white",fontFamily:"Courier New",fontSize:20,align:"left"}),f.x=st/2,f.y=Tt/2,f.name="combotext2",f.anchor.set(.5,.5),f.alpha=1,h.x=13,h.y=13,h.anchor.set(0,0),h.name="combotext",Kr.addChild(h),Kr.addChild(f),Kr.addChild(Ie)):(Ie=Kr.getChildByName("scoretext"),f=Kr.getChildByName("combotext2"),h=Kr.getChildByName("combotext")),xt.exports.useEffect(()=>{setInterval(()=>{u(Math.round(t.ticker.FPS).toString())},1e3)}),Wt.exports.useTick(()=>{if(e.game.mode=="play"){const m=e.game.currenttime;h.text=`${Math.round(e.game.score/e.game.maxscore*1e7+e.game.hitbonus)}`,f.text=`${e.game.combo}`,Ie.scale.x=Ie.scale.y=f.scale.x=f.scale.y=en(m,[Al,Al+500],[2,1]),Ie.alpha=en(m,[Al,Al+1e3],[1,0]),Ie.tint=x8[Ie.text],n(e.game.combo.toString())}}),Wt.exports.useTick(()=>{e.game.mode=="play"&&(s(1),c.alpha=.5,h.alpha=1)}),null}var qd={exports:{}},Jd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _8=xt.exports,b8=Symbol.for("react.element"),w8=Symbol.for("react.fragment"),S8=Object.prototype.hasOwnProperty,E8=_8.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C8={key:!0,ref:!0,__self:!0,__source:!0};function tw(e,t,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(n in t)S8.call(t,n)&&!C8.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:b8,type:e,key:s,ref:o,props:i,_owner:E8.current}}Jd.Fragment=w8;Jd.jsx=tw;Jd.jsxs=tw;(function(e){e.exports=Jd})(qd);const tf=qd.exports.Fragment,dt=qd.exports.jsx,He=qd.exports.jsxs,Ch=200-10*8,A8=140-8*8,P8=Ch;function KT(e,t){const r=6e4/t;return e*r}function sh(e){if(e.hitObjects.length==0)return null;const t=xt.exports.useRef(0),[r,n]=xt.exports.useState(-1);new Audio;let i=e.hitObjects.filter(u=>u.type=="hold"&&u.column==e.i).sort((u,c)=>u.startTime-c.startTime);Wt.exports.useTick(()=>{if(e.game.isPlaying){const c=e.game.currenttime;if(e.game.mode=="play"){const h=e.hitObjects[t.current];if(h){const f=c+p8,{startTime:m}=h,g=m-f;if(e.game.key[e.i-1][0]==="1"&&g>=-Ch&&g<=Ch){let x="perfect";g<=A8?x="great":g<=P8&&(x="ok"),e.game.score+=e.game.idtoscore(x),e.game.combo+=1,e.game.combo>e.game.highestcombo&&(e.game.highestcombo=e.game.combo),e.game.key[5-1]="00",e.game.hitbonus+=10,e.game.hitlist.push(m.toString()+e.i+","+x),gu(c,"perfect"),t.current++}const v=i.find(x=>x.endTime!==void 0&&x.endTime>=c);v&&(r<v.startTime?n(v.startTime+KT(1,100)):c>=r&&r!==-1&&(n(r+KT(1,100)),e.game.key[e.i-1][1]=="0"&&e.game.miss(v.startTime,e.i))),c>h.startTime+Ch&&(e.game.miss(c,e.i),t.current++)}}}});var s=e.game.mode=="edit"?st/4:st/2;let o=e.i==1?s-rr/2:e.i==2||e.i==3?s:s+rr/2;return dt(tf,{children:dt(Wt.exports.Container,{position:[0,0],children:e.hitObjects.map((u,c)=>u.type=="note"?dt(v8,{x:o,startTime:u.startTime,keys:e.i,i:c,game:e.game,container:e.container},c):dt(y8,{x:o,startTime:u.startTime,endTime:u.endTime,timingPoint:e.timingPoints.filter(h=>h.time<=u.startTime).sort((h,f)=>f.time-h.time)[0],keys:e.i,container:e.container,i:c,game:e.game},c))})})}const bp=100;function I8(e){const[t,r]=xt.exports.useState(.5);xt.exports.useState(-1);const[n,i]=xt.exports.useState(0);Wt.exports.useApp(),e.game.playStartTime;const s=xt.exports.useMemo(()=>e.cursors[n],[n]);return Wt.exports.useTick(()=>{if(e.game.playStartTime,e.game.isPlaying){const c=e.game.currenttime;for(let h=0;h<e.cursors.length;h++){const f=e.cursors[h],m=e.cursors[h+1]!=null?e.cursors[h+1].startTime:e.game.audio.duration*1e3;c>=f.startTime&&m>=c&&f.type=="normal"&&r(f.x)}if(e.game.mode=="play"&&s!=null){if(c>s.startTime+bp){var u=async()=>{e.game.combo=0,i(n+1),gu(c,"miss")};u()}if(t>s.x&&e.game.key[4][0]=="1"||t<s.x&&e.game.key[4][1]=="1"){c>=s.startTime-bp;for(let h=0;h<e.cursors.length;h++){const f=e.cursors[h];if(c>=f.startTime-bp){var u=async()=>{i(h+1),e.game.score+=e.game.idtoscore("perfect"),e.game.combo+=1,e.game.combo>e.game.highestcombo&&(e.game.highestcombo=e.game.combo),e.game.key[4]="00",e.game.hitbonus+=10,e.game.hitlist.push(f.startTime.toString()+"5,perfect"),gu(c,"perfect")};e.game.hitlist.find(g=>g.startsWith(f.startTime.toString()+"5,"))==null&&u()}}}}}}),null}const R8="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAS0AAAAyCAYAAAAJFI0UAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAKJkAACiZAbqDAN8AAAJFaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pg0KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPg0KICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPg0KICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4NCiAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjI2NDwvdGlmZjpZUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjI2NDwvdGlmZjpYUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPg0KICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4NCiAgICA8L3JkZjpEZXNjcmlwdGlvbj4NCiAgPC9yZGY6UkRGPg0KPC94OnhtcG1ldGE+DQo8P3hwYWNrZXQgZW5kPSJyIj8+Q7eE2wAADDJJREFUeF7t3euOI8txAOGztmVZtn75/d/QgCHJlu+2zA+agHLrNDnXhYSZDKBQWVlZ3RxiOrbYJGe//eHGT8tbefTczbni2c+G/7u1Of+/tyZX/n+e+tp/31pz/3Vr6v/t1qC2tf9xa/95a+arK/fvt6ZWHr+7Ncc1rofaxr996sOxrJvIwfEn5/inb9++/Sy3LI9Yab2de8/bmSeOMDcb9NUQSP2cT0Igj9YkIiSWahOPPIzJxJpZS3R6Y3HrIK72X24tGXVOAkPnCHXPCgsrreW1rLRez73n68yfsqrXzOm/jbg+YZHLnEskYi3RaMlLHqTRrmvKyhq9NWJNXbXySSth/f6px5SWuPyUVjUrreWHsNJ6HVfP1ZkzLjdjiEmjfFICgSSkWUcgs0ZeTSISk4hYU08ijadcxMkKdkrqNRBUspriQjJ6Tlj3JLTSWj6EldbLuPcclT97kMnsIa6pbY5ciKT18jNnTA52ZsZiTZ5c1Hbx640TkVhtY8fsJaE+OdXjX5/6U1rPCSumiO5KaYW1vIWV1mPuPTfl9WdNudmSkzgZwRinoIyrJQp90tGrVWcuoampHiSiTg4EYWxe/0hYxY+EhTkfVyL6WW6FtbyVldY1956TmRc3rk9OQRizJvmIq5UTawnGvItan3imWCDuwherqS6Jmf+bW3MMnDssWNux5w4LjjOFhVNaj4R1V0wrreWtrLS+595zMfPixrM/41rCqC+fvBLEWWeeyMzLaeLkRjyYstKDTIxbB/XnxxWSlXr3s5CUkpH5U1j1aO5KQpdiWmEt72Gl9SfuPQ8z3+4I8s3pm9OXJ5EkA725+kSEJAZ5MrC2Zo2mjoDECUMM6+yWEpVjT2khOSWs+XIQhHQKa0rqXcLCSmt5DyutP3L1HMyceI5JBOWNm9cnpeI5Vpug9FrSMUcUerLRt15MGOIrmUAuSekT1RRWsoL1jTvWFBbmec6aOCX0UEorreU9/NVT/5Uhj5OZSzaYMYmIE8qUSxS3LknJJ5cr7s25P4XOFfLGU1hJx/lm/4unPmGd/N1TP/nl6DU1V3Uv4vbv5K+0p+GyvIqvLq0ENJm5ZDMxnsKaVH/ONfZ8JzJx0pATz52SHPFY99dPvU+l91WbkP/Nrdm9WHtPePjbWztFldwSUqg9d1T3OAX0rJB2t7W8ld1pfQ+5xIxPfF5qksQgJhL9GROKOr38fP7JJKm1jqzIQ2xnZPwPt2aXI7bD0icJYxLSnMMxa+jDo2HX5XjOofXyD+qe2009mt+d1PJD+Or3tM6f/d5Yf8Y1gsHc4RSbJ5xkhQQil0DMGc+dFjo22UyhOGZr5xp5tOua8rIbix5Dx5gvFeU6VzuteS6Yn49n7sjmDurubmp3WstbWWl9z9W43OxnTBSNk0Y7JZgjDr18gjFuPSk0DxIo7rNTHbP1LvrOkXDmvGNobsI3r9eSUHkvOzHnMMXUX3JwzPKn3HAlo0tBrbiWt7DS+p6r50Ku/NkTiTjBwHgK64xJRW/NXD8F0ctPMiCSRCTueNZ0vERjrCUW9QlFzTxOrbXzc1ryMGc8jzEFZW4+7jl3CmnFtXwIK62fc+aMZ26Ok5XxvRjJItGUJwc5YzXlE1NCMC5Wn3Bi1pNA0opqnUObu68+DkFIiQvWq5niSnDJaZ6j+J64Hspp5bW8lL0R/zbaCc0b8p5LY008x26QN3bj/Ap5rRoi6jhumP/61hxHM3YTXN88rOk4f39r3g0UVxuO4Ua5nLrmuiF/0sccmhdr893GkL9ib8wvH8J+uHS5Yv5OFOs1O712hyTZ7s0uTLM7s2uyg2vX556ZXZz7c+6NNS/XXF8xapfY7g7twr7bje3u7GviX+lleS12g8lMPPuJXd7sJ73UXJZXsdJanuOU0SNJ+X1KZs/9bnmZueJaXs1Ka/lornZVk3nPbMb37oUty3estJaXcrWzCnOae124+r16TmbL8iJWWssVjwQViWriXcmTKavepZzvZKId19x5LcslK63lLVxJbebEZHX1+3Ultth7XMuzrLSWl9IN9kdc7b5AYHZX914iJqvdaS3PstJaXsuVlM7fI+N2Wvd+x0hsfqj1ir05v/yMldbyUq5khfL9Lhm3oypnPHdZ8yXi1afql+UuK63ltcyXiVNk4jn2u+XdxHuyOm/GR18PupLZfhVoWWktr+IUE/wOlbsSF8gqeU1xzZeFu+NaXsRKa3krCWqKavZ+t7T50rB+ykp8b9cVlzusP+zfmf+SfLYvTF/9LDPXF32hn1/81YxnjS//Gjcv37q+DDzxLpi5evSlYjlxa3whuD/wN1FrN9IXjrugPRbNl4td6I7Xn5Lpz8KYn1grp3b+6RjjmD9DNbP2ivOLyi/64vJ+wXn5CD7jX3mYP88Z1xJTcUJCF76+OTsGF3r1xOLC7uJPBImqix7VOI7muOYJi5ymGKp1fHVJJ4hMTbnqr+TX3Hws6HzNn9LSrmT1UuHcrVtpLR/BZ99pNdbXQC6a8YzJgDDKl4O8RjzmXNjG/RE9qD0l4U+xWNPaLlzjSCAw75hTWHMeM+98xsVxyinKz9rzMVfzSDKvEtAKa/koPrO0ivVnrE1ZJRVx/ZXIupjtbFpvrYZTWvKkoX7+xxJIdtZMQZW3rrmTak9Rzb9LhR5vPBIVzvoPkdYKa/lIvoK0kIBQrBWTSwIyJiljcqiOCMy72LsIW6MuCSQMeY1EzJ9CIKf5Tppjqus+FaacJp2reVRjrnPJzfNOUc34ZK65J5xXi2jltXwEn+ndQ3K5onzvbJ1c5T0vvQOW1DSiIQr5+dyJvZPlbXvvkCWLefET1Gz+zDEI8vwPWMVz7MZ777jZtc1559JI6BTW5JGk4nzMy/IXx7zwvgJTbKfkSCqBmSOTZEVEUxyeN7ssePkmr0Zt9BUUeXFvzzuuRip68nGMmv88tZeEMw/n+cenNvPoc06dt8caL/kclLWzwePejxYsfzF8ppeH58/RWF+caIzF9SAccfnuLckbJxjjdjoz12eQjK2V+2eJJ84dTP+P4BWOi3+6NceLdlST5ttZzd0Wyp/nb2f2Elo7X97ty8Plz8JXuxGfoBKTNkWlJSky0Luw9e2OUJxc9NZpjpW01DiOY3hJWL05uIjncaO6BDjvc521iWfWhPtpYd2jl36PJHau87hXWsufha9yI15cS1A4x2RCGMZJyIVcrl1N61zMCca4HBIX5q6qenMdrxzE1jan1xLgJIElm+quUNNjq+aU0ZTWjM86TAG9WEYrruW9fDVpkQrm+IxJQ5zA4CI37mKvforFuOYiJ56wVjt3Qx0/KSQ396PmejhHzePo3KekyKY5zPlE5HwzP6VUzZQWTnGd8nmRjFZay3v5zNJCY30xqZzj2eTJhGSMoScC+aSmrnlzSU5OSyxyXahqkFQSQ3lUax0cp9i6GjrHFNBkflJ+1nTeJHkKKdRNec26K/k8K6SV1vJePpu0MH+eM26sTzzFiQFieTJJKNUYt7Z54ymiOdarsTZxdMx2Xh0X3dBPOPNxJTDHnMefQio/c441x5gymi9fT4FVp78nt0S00lp+OJ9dWmisnzGxQF8MUihXa62YFBpPEVWbyOS7yOW7+JuDOMlE8nJs669E0UvH1jbuuFfi6vzzfP5353CeWd95p9xmfPW4CGnFtfxQvpK0kGwwZYRkYSxOQnMM4yR0zs+eHEhAmx+HMAeiKUYS6LNXaqfokHAILWHqy+u1KR/M3JTXmcPVS8Y5P+NTXFNGd8W00lrew2eUFs6fqbF+xlNEmBJqvhzKJ41zLmn0oV3zXprpowtdjYs3Iem1PqTa8Zp3vpiykE806qPHguRkLD7FdYqo+s4z50PulBZWXMsP5atLazbUJ4qklDCqbZxYoDbZQK+usbopr+bmPKYgksdZY6zOuMeiV98Y5ltzvnMp7+Vh88krEXVu3JNX4ymvKxmtvJYP47NKC+fPNcdTHvLJKeZYnzQSQrnWusBbI9/XgRKTsbnG0He8+o5TzczPdUTTOHnFlE7rzVczJSXWdwwxpozK4UpeM27+VeLCymt5KZ9ZWjh/tjkWNy6+Gs98ojAW12sJiXQmLvp5T8saNcmpNVMw5fTR8WdLQFMc8gTQ8eAxGKuvJaMZO87ckRlPcb1HWlhxLe/kp5/+H9JUwpIefAH5AAAAAElFTkSuQmCC",k8="/assets/cursorhitleft.0797ffa9.png";let Uo=new Ht;function QT(e){Wt.exports.useApp(),Uo=e.container,e.game.effectvolume,e.beatmap.cursor=e.beatmap.cursor.sort((M,N)=>M.startTime-N.startTime),e.x;let t=e.beatmap.cursor[e.i]?e.beatmap.cursor[e.i].startTime:0,r=e.beatmap.cursor[e.i]!=null?e.beatmap.cursor[e.i].x:.5,n=.5;const i=e.type=="normal"?e.x:n;let s=e.beatmap.cursor[e.i+1]?e.beatmap.cursor[e.i+1].startTime:e.game.duration,o=s-t,u=v1;const[c,h]=xt.exports.useState(Math.round(o*u/1e3)),f=xt.exports.useRef(-c);let m=0;for(let M=1;M<e.i+1;M++)if(e.beatmap.cursor[e.i-M].type=="normal"||e.beatmap.cursor[e.i-M]!=null){n=e.beatmap.cursor[e.i-M].x;break}const g=n>r?$T[0]:$T[1],[v,x]=xt.exports.useState(!0),S=xt.exports.useRef(0),E=n>r?-(rr/2+rr*.3/2):rr/2+rr*.3/2;let w=Ee(e.x,[0,1],[st/2-ur/2,st/2+ur/2]);w+=e.type=="normal"?E:0;let b=Jt.from(n>r?k8:R8),_=new nn,C=new nn;C.lineStyle(2,16777215,1),C.beginFill(0,.5),C.drawRect(0,0,rr*1.1,c),C.endFill();let P=C;_.lineStyle(1,16777215,1),_.beginFill(g,1),_.drawRect(0,0,Math.abs(n-r)*ur,10),_.endFill();let O=_;if(Uo.getChildByName("switchline"+e.i)==null){O.y=-O.height,P.y=-P.height,b.alpha=0,b.x=w,b.name=e.i+"cursorf",P.name=e.i+"rowbg",P.x=Ee(i,[0,1],[st/2-ur/2-P.width/2,st/2+ur/2-P.width/2]),P.alpha=1,O.name="switchline"+e.i;const M=n>r?0:-O.width;O.x=Ee(e.x,[0,1],[st/2-ur/2+M,st/2+ur/2+M]),Uo.addChild(P),Uo.addChild(O)}else O=Uo.getChildByName("switchline"+e.i),P=Uo.getChildByName(e.i+"rowbg");return Wt.exports.useTick(()=>{m=e.game.currenttime,e.game.isPlaying&&s!=-1&&v&&(O.y=f.current+c-O.height,P.y=f.current+c-P.height,f.current=Ee(m,[t-e.game.NOTE_TRAVEL_DURATION()+e.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION(),s+e.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[-c,Tt]),S.current=Ee(m,[s,s+e.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[1,0]),O.alpha=1,P.alpha=S.current)}),null}const M8="/assets/judgement.ec0ed8c3.png";var D8=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,N8=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,F8=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`;class pd extends It{constructor(t=4,r=3,n=!1){super(D8,n?F8:N8),this._kernels=[],this._blur=4,this._quality=3,this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new wt,this.pixelSize=1,this._clamp=n,Array.isArray(t)?this.kernels=t:(this._blur=t,this.quality=r)}apply(t,r,n,i){const s=this._pixelSize.x/r._frame.width,o=this._pixelSize.y/r._frame.height;let u;if(this._quality===1||this._blur===0)u=this._kernels[0]+.5,this.uniforms.uOffset[0]=u*s,this.uniforms.uOffset[1]=u*o,t.applyFilter(this,r,n,i);else{const c=t.getFilterTexture();let h=r,f=c,m;const g=this._quality-1;for(let v=0;v<g;v++)u=this._kernels[v]+.5,this.uniforms.uOffset[0]=u*s,this.uniforms.uOffset[1]=u*o,t.applyFilter(this,h,f,1),m=h,h=f,f=m;u=this._kernels[g]+.5,this.uniforms.uOffset[0]=u*s,this.uniforms.uOffset[1]=u*o,t.applyFilter(this,h,n,i),t.returnFilterTexture(c)}}_updatePadding(){this.padding=Math.ceil(this._kernels.reduce((t,r)=>t+r+.5,0))}_generateKernels(){const t=this._blur,r=this._quality,n=[t];if(t>0){let i=t;const s=t/r;for(let o=1;o<r;o++)i-=s,n.push(i)}this._kernels=n,this._updatePadding()}get kernels(){return this._kernels}set kernels(t){Array.isArray(t)&&t.length>0?(this._kernels=t,this._quality=t.length,this._blur=Math.max(...t)):(this._kernels=[0],this._quality=1)}get clamp(){return this._clamp}set pixelSize(t){typeof t=="number"?(this._pixelSize.x=t,this._pixelSize.y=t):Array.isArray(t)?(this._pixelSize.x=t[0],this._pixelSize.y=t[1]):t instanceof wt?(this._pixelSize.x=t.x,this._pixelSize.y=t.y):(this._pixelSize.x=1,this._pixelSize.y=1)}get pixelSize(){return this._pixelSize}get quality(){return this._quality}set quality(t){this._quality=Math.max(1,Math.round(t)),this._generateKernels()}get blur(){return this._blur}set blur(t){this._blur=t,this._generateKernels()}}var ew=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,O8=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`;class L8 extends It{constructor(t=.5){super(ew,O8),this.threshold=t}get threshold(){return this.uniforms.threshold}set threshold(t){this.uniforms.threshold=t}}var B8=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;const rw=class extends It{constructor(e){super(ew,B8),this.bloomScale=1,this.brightness=1,this._resolution=tt.FILTER_RESOLUTION,typeof e=="number"&&(e={threshold:e});const t=Object.assign(rw.defaults,e);this.bloomScale=t.bloomScale,this.brightness=t.brightness;const{kernels:r,blur:n,quality:i,pixelSize:s,resolution:o}=t;this._extractFilter=new L8(t.threshold),this._extractFilter.resolution=o,this._blurFilter=r?new pd(r):new pd(n,i),this.pixelSize=s,this.resolution=o}apply(e,t,r,n,i){const s=e.getFilterTexture();this._extractFilter.apply(e,t,s,1,i);const o=e.getFilterTexture();this._blurFilter.apply(e,s,o,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=o,e.applyFilter(this,t,r,n),e.returnFilterTexture(o),e.returnFilterTexture(s)}get resolution(){return this._resolution}set resolution(e){this._resolution=e,this._extractFilter&&(this._extractFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)}get threshold(){return this._extractFilter.threshold}set threshold(e){this._extractFilter.threshold=e}get kernels(){return this._blurFilter.kernels}set kernels(e){this._blurFilter.kernels=e}get blur(){return this._blurFilter.blur}set blur(e){this._blurFilter.blur=e}get quality(){return this._blurFilter.quality}set quality(e){this._blurFilter.quality=e}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(e){this._blurFilter.pixelSize=e}};let U8=rw;U8.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:tt.FILTER_RESOLUTION};class z8 extends It{constructor(t=2,r=4,n=tt.FILTER_RESOLUTION,i=5){super();let s,o;typeof t=="number"?(s=t,o=t):t instanceof wt?(s=t.x,o=t.y):Array.isArray(t)&&(s=t[0],o=t[1]),this.blurXFilter=new fu(!0,s,r,n,i),this.blurYFilter=new fu(!1,o,r,n,i),this.blurYFilter.blendMode=mt.SCREEN,this.defaultFilter=new Wb}apply(t,r,n,i){const s=t.getFilterTexture();this.defaultFilter.apply(t,r,n,i),this.blurXFilter.apply(t,r,s,1),this.blurYFilter.apply(t,s,n,0),t.returnFilterTexture(s)}get blur(){return this.blurXFilter.blur}set blur(t){this.blurXFilter.blur=this.blurYFilter.blur=t}get blurX(){return this.blurXFilter.blur}set blurX(t){this.blurXFilter.blur=t}get blurY(){return this.blurYFilter.blur}set blurY(t){this.blurYFilter.blur=t}}var G8=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,H8=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;const nw=class extends It{constructor(e){super(G8,H8),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,nw.defaults,e)}apply(e,t,r,n){const{width:i,height:s}=t.filterFrame;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,e.applyFilter(this,t,r,n)}get radius(){return this.uniforms.radius}set radius(e){this.uniforms.radius=e}get strength(){return this.uniforms.strength}set strength(e){this.uniforms.strength=e}get center(){return this.uniforms.center}set center(e){this.uniforms.center=e}};let j8=nw;j8.defaults={center:[.5,.5],radius:100,strength:1};var $8=`const float PI = 3.1415926538;
const float PI_2 = PI*2.;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;
uniform sampler2D uSampler;

const int TYPE_LINEAR = 0;
const int TYPE_RADIAL = 1;
const int TYPE_CONIC = 2;
const int MAX_STOPS = 32;

uniform int uNumStops;
uniform float uAlphas[3*MAX_STOPS];
uniform vec3 uColors[MAX_STOPS];
uniform float uOffsets[MAX_STOPS];
uniform int uType;
uniform float uAngle;
uniform float uAlpha;
uniform int uMaxColors;

struct ColorStop {
    float offset;
    vec3 color;
    float alpha;
};

mat2 rotate2d(float angle){
    return mat2(cos(angle), -sin(angle),
    sin(angle), cos(angle));
}

float projectLinearPosition(vec2 pos, float angle){
    vec2 center = vec2(0.5);
    vec2 result = pos - center;
    result = rotate2d(angle) * result;
    result = result + center;
    return clamp(result.x, 0., 1.);
}

float projectRadialPosition(vec2 pos) {
    float r = distance(vFilterCoord, vec2(0.5));
    return clamp(2.*r, 0., 1.);
}

float projectAnglePosition(vec2 pos, float angle) {
    vec2 center = pos - vec2(0.5);
    float polarAngle=atan(-center.y, center.x);
    return mod(polarAngle + angle, PI_2) / PI_2;
}

float projectPosition(vec2 pos, int type, float angle) {
    if (type == TYPE_LINEAR) {
        return projectLinearPosition(pos, angle);
    } else if (type == TYPE_RADIAL) {
        return projectRadialPosition(pos);
    } else if (type == TYPE_CONIC) {
        return projectAnglePosition(pos, angle);
    }

    return pos.y;
}

void main(void) {
    // current/original color
    vec4 currentColor = texture2D(uSampler, vTextureCoord);

    // skip calculations if gradient alpha is 0
    if (0.0 == uAlpha) {
        gl_FragColor = currentColor;
        return;
    }

    // project position
    float y = projectPosition(vFilterCoord, uType, radians(uAngle));

    // check gradient bounds
    float offsetMin = uOffsets[0];
    float offsetMax = 0.0;

    for (int i = 0; i < MAX_STOPS; i++) {
        if (i == uNumStops-1){ // last index
            offsetMax = uOffsets[i];
        }
    }

    if (y  < offsetMin || y > offsetMax) {
        gl_FragColor = currentColor;
        return;
    }

    // limit colors
    if (uMaxColors > 0) {
        float stepSize = 1./float(uMaxColors);
        float stepNumber = float(floor(y/stepSize));
        y = stepSize * (stepNumber + 0.5);// offset by 0.5 to use color from middle of segment
    }

    // find color stops
    ColorStop from;
    ColorStop to;

    for (int i = 0; i < MAX_STOPS; i++) {
        if (y >= uOffsets[i]) {
            from = ColorStop(uOffsets[i], uColors[i], uAlphas[i]);
            to = ColorStop(uOffsets[i+1], uColors[i+1], uAlphas[i+1]);
        }

        if (i == uNumStops-1){ // last index
            break;
        }
    }

    // mix colors from stops
    vec4 colorFrom = vec4(from.color * from.alpha, from.alpha);
    vec4 colorTo = vec4(to.color * to.alpha, to.alpha);

    float segmentHeight = to.offset - from.offset;
    float relativePos = y - from.offset;// position from 0 to [segmentHeight]
    float relativePercent = relativePos / segmentHeight;// position in percent between [from.offset] and [to.offset].

    float gradientAlpha = uAlpha * currentColor.a;
    vec4 gradientColor = mix(colorFrom, colorTo, relativePercent) * gradientAlpha;

    // mix resulting color with current color
    gl_FragColor = gradientColor + currentColor*(1.-gradientColor.a);
}
`,W8=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform vec4 inputSize;
uniform vec4 outputFrame;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
    vFilterCoord = vTextureCoord * inputSize.xy / outputFrame.zw;
}
`,go=go||{};go.stringify=function(){var e={"visit_linear-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-linear-gradient":function(t){return e.visit_gradient(t)},"visit_radial-gradient":function(t){return e.visit_gradient(t)},"visit_repeating-radial-gradient":function(t){return e.visit_gradient(t)},visit_gradient:function(t){var r=e.visit(t.orientation);return r&&(r+=", "),t.type+"("+r+e.visit(t.colorStops)+")"},visit_shape:function(t){var r=t.value,n=e.visit(t.at),i=e.visit(t.style);return i&&(r+=" "+i),n&&(r+=" at "+n),r},"visit_default-radial":function(t){var r="",n=e.visit(t.at);return n&&(r+=n),r},"visit_extent-keyword":function(t){var r=t.value,n=e.visit(t.at);return n&&(r+=" at "+n),r},"visit_position-keyword":function(t){return t.value},visit_position:function(t){return e.visit(t.value.x)+" "+e.visit(t.value.y)},"visit_%":function(t){return t.value+"%"},visit_em:function(t){return t.value+"em"},visit_px:function(t){return t.value+"px"},visit_literal:function(t){return e.visit_color(t.value,t)},visit_hex:function(t){return e.visit_color("#"+t.value,t)},visit_rgb:function(t){return e.visit_color("rgb("+t.value.join(", ")+")",t)},visit_rgba:function(t){return e.visit_color("rgba("+t.value.join(", ")+")",t)},visit_color:function(t,r){var n=t,i=e.visit(r.length);return i&&(n+=" "+i),n},visit_angular:function(t){return t.value+"deg"},visit_directional:function(t){return"to "+t.value},visit_array:function(t){var r="",n=t.length;return t.forEach(function(i,s){r+=e.visit(i),s<n-1&&(r+=", ")}),r},visit:function(t){if(!t)return"";var r="";if(t instanceof Array)return e.visit_array(t,r);if(t.type){var n=e["visit_"+t.type];if(n)return n(t);throw Error("Missing visitor visit_"+t.type)}else throw Error("Invalid node.")}};return function(t){return e.visit(t)}}();var go=go||{};go.parse=function(){var e={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},t="";function r(z){var R=new Error(t+": "+z);throw R.source=t,R}function n(){var z=i();return t.length>0&&r("Invalid input not EOF"),z}function i(){return _(s)}function s(){return o("linear-gradient",e.linearGradient,c)||o("repeating-linear-gradient",e.repeatingLinearGradient,c)||o("radial-gradient",e.radialGradient,m)||o("repeating-radial-gradient",e.repeatingRadialGradient,m)}function o(z,R,L){return u(R,function(k){var K=L();return K&&(ft(e.comma)||r("Missing comma before color stops")),{type:z,orientation:K,colorStops:_(C)}})}function u(z,R){var L=ft(z);if(L){ft(e.startCall)||r("Missing (");var k=R(L);return ft(e.endCall)||r("Missing )"),k}}function c(){return h()||f()}function h(){return U("directional",e.sideOrCorner,1)}function f(){return U("angular",e.angleValue,1)}function m(){var z,R=g(),L;return R&&(z=[],z.push(R),L=t,ft(e.comma)&&(R=g(),R?z.push(R):t=L)),z}function g(){var z=v()||x();if(z)z.at=E();else{var R=S();if(R){z=R;var L=E();L&&(z.at=L)}else{var k=w();k&&(z={type:"default-radial",at:k})}}return z}function v(){var z=U("shape",/^(circle)/i,0);return z&&(z.style=W()||S()),z}function x(){var z=U("shape",/^(ellipse)/i,0);return z&&(z.style=Y()||S()),z}function S(){return U("extent-keyword",e.extentKeywords,1)}function E(){if(U("position",/^at/,0)){var z=w();return z||r("Missing positioning value"),z}}function w(){var z=b();if(z.x||z.y)return{type:"position",value:z}}function b(){return{x:Y(),y:Y()}}function _(z){var R=z(),L=[];if(R)for(L.push(R);ft(e.comma);)R=z(),R?L.push(R):r("One extra comma");return L}function C(){var z=P();return z||r("Expected color definition"),z.length=Y(),z}function P(){return M()||Q()||N()||O()}function O(){return U("literal",e.literalColor,0)}function M(){return U("hex",e.hexColor,1)}function N(){return u(e.rgbColor,function(){return{type:"rgb",value:_(V)}})}function Q(){return u(e.rgbaColor,function(){return{type:"rgba",value:_(V)}})}function V(){return ft(e.number)[1]}function Y(){return U("%",e.percentageValue,1)||it()||W()}function it(){return U("position-keyword",e.positionKeywords,1)}function W(){return U("px",e.pixelValue,1)||U("em",e.emValue,1)}function U(z,R,L){var k=ft(R);if(k)return{type:z,value:k[L]}}function ft(z){var R,L;return L=/^[\n\r\t\s]+/.exec(t),L&&vt(L[0].length),R=z.exec(t),R&&vt(R[0].length),R}function vt(z){t=t.substr(z)}return function(z){return t=z.toString(),n()}}();var V8=go.parse;go.stringify;var ZT={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},qT={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function X8(e){var t,r=[],n=1,i;if(typeof e=="string")if(ZT[e])r=ZT[e].slice(),i="rgb";else if(e==="transparent")n=0,i="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(e)){var s=e.slice(1),o=s.length,u=o<=4;n=1,u?(r=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(n=parseInt(s[3]+s[3],16)/255)):(r=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(n=parseInt(s[6]+s[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),i="rgb"}else if(t=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(e)){var c=t[1],h=c==="rgb",s=c.replace(/a$/,"");i=s;var o=s==="cmyk"?4:s==="gray"?1:3;r=t[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(g,v){if(/%$/.test(g))return v===o?parseFloat(g)/100:s==="rgb"?parseFloat(g)*255/100:parseFloat(g);if(s[v]==="h"){if(/deg$/.test(g))return parseFloat(g);if(qT[g]!==void 0)return qT[g]}return parseFloat(g)}),c===s&&r.push(1),n=h||r[o]===void 0?1:r[o],r=r.slice(0,o)}else e.length>10&&/[0-9](?:\s|\/)/.test(e)&&(r=e.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),i=e.match(/([a-z])/ig).join("").toLowerCase());else isNaN(e)?Array.isArray(e)||e.length?(r=[e[0],e[1],e[2]],i="rgb",n=e.length===4?e[3]:1):e instanceof Object&&(e.r!=null||e.red!=null||e.R!=null?(i="rgb",r=[e.r||e.red||e.R||0,e.g||e.green||e.G||0,e.b||e.blue||e.B||0]):(i="hsl",r=[e.h||e.hue||e.H||0,e.s||e.saturation||e.S||0,e.l||e.lightness||e.L||e.b||e.brightness]),n=e.a||e.alpha||e.opacity||1,e.opacity!=null&&(n/=100)):(i="rgb",r=[e>>>16,(e&65280)>>>8,e&255]);return{space:i,values:r,alpha:n}}var sg={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},wp={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100,i,s,o,u,c;if(r===0)return c=n*255,[c,c,c];n<.5?s=n*(1+r):s=n+r-n*r,i=2*n-s,u=[0,0,0];for(var h=0;h<3;h++)o=t+1/3*-(h-1),o<0?o++:o>1&&o--,6*o<1?c=i+(s-i)*6*o:2*o<1?c=s:3*o<2?c=i+(s-i)*(2/3-o)*6:c=i,u[h]=c*255;return u}};sg.hsl=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255,i=Math.min(t,r,n),s=Math.max(t,r,n),o=s-i,u,c,h;return s===i?u=0:t===s?u=(r-n)/o:r===s?u=2+(n-t)/o:n===s&&(u=4+(t-r)/o),u=Math.min(u*60,360),u<0&&(u+=360),h=(i+s)/2,s===i?c=0:h<=.5?c=o/(s+i):c=o/(2-s-i),[u,c*100,h*100]};function Y8(e){Array.isArray(e)&&e.raw&&(e=String.raw(...arguments));var t,r=X8(e);if(!r.space)return[];const n=r.space[0]==="h"?wp.min:sg.min,i=r.space[0]==="h"?wp.max:sg.max;return t=Array(3),t[0]=Math.min(Math.max(r.values[0],n[0]),i[0]),t[1]=Math.min(Math.max(r.values[1],n[1]),i[1]),t[2]=Math.min(Math.max(r.values[2],n[2]),i[2]),r.space[0]==="h"&&(t=wp.rgb(t)),t.push(Math.min(Math.max(r.alpha,0),1)),t}function iw(e){switch(typeof e){case"string":return K8(e);case"number":return Ld(e);default:return e}}function K8(e){const t=Y8(e);if(!t)throw new Error(`Unable to parse color "${e}" as RGBA.`);return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function Q8(e){const t=V8(sR(e));if(t.length===0)throw new Error("Invalid CSS gradient.");if(t.length!==1)throw new Error("Unsupported CSS gradient (multiple gradients is not supported).");const r=t[0],n=Z8(r.type),i=q8(r.colorStops),s=nR(r.orientation);return{type:n,stops:i,angle:s}}function Z8(e){const t={"linear-gradient":0,"radial-gradient":1};if(!(e in t))throw new Error(`Unsupported gradient type "${e}"`);return t[e]}function q8(e){const t=eR(e),r=[];for(let n=0;n<e.length;n++){const i=J8(e[n]);r.push({offset:t[n],color:i.slice(0,3),alpha:i[3]})}return r}function J8(e){return iw(tR(e))}function tR(e){switch(e.type){case"hex":return`#${e.value}`;case"literal":return e.value;default:return`${e.type}(${e.value.join(",")})`}}function eR(e){const t=[];for(let i=0;i<e.length;i++){const s=e[i];let o=-1;s.type==="literal"&&s.length&&"type"in s.length&&s.length.type==="%"&&"value"in s.length&&(o=parseFloat(s.length.value)/100),t.push(o)}const r=i=>{for(let s=i;s<t.length;s++)if(t[s]!==-1)return{indexDelta:s-i,offset:t[s]};return{indexDelta:t.length-1-i,offset:1}};let n=0;for(let i=0;i<t.length;i++){const s=t[i];if(s!==-1)n=s;else if(i===0)t[i]=0;else if(i+1===t.length)t[i]=1;else{const o=r(i),u=(o.offset-n)/(1+o.indexDelta);for(let c=0;c<=o.indexDelta;c++)t[i+c]=n+(c+1)*u;i+=o.indexDelta,n=t[i]}}return t.map(rR)}function rR(e){return e.toString().length>6?parseFloat(e.toString().substring(0,6)):e}function nR(e){if(typeof e>"u")return 0;if("type"in e&&"value"in e)switch(e.type){case"angular":return parseFloat(e.value);case"directional":return iR(e.value)}return 0}function iR(e){const t={left:270,top:0,bottom:180,right:90,"left top":315,"top left":315,"left bottom":225,"bottom left":225,"right top":45,"top right":45,"right bottom":135,"bottom right":135};if(!(e in t))throw new Error(`Unsupported directional value "${e}"`);return t[e]}function sR(e){let t=e.replace(/\s{2,}/gu," ");return t=t.replace(/;/g,""),t=t.replace(/ ,/g,","),t=t.replace(/\( /g,"("),t=t.replace(/ \)/g,")"),t.trim()}var oR=Object.defineProperty,aR=Object.defineProperties,lR=Object.getOwnPropertyDescriptors,JT=Object.getOwnPropertySymbols,uR=Object.prototype.hasOwnProperty,cR=Object.prototype.propertyIsEnumerable,t_=(e,t,r)=>t in e?oR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Sp=(e,t)=>{for(var r in t||(t={}))uR.call(t,r)&&t_(e,r,t[r]);if(JT)for(var r of JT(t))cR.call(t,r)&&t_(e,r,t[r]);return e},hR=(e,t)=>aR(e,lR(t));const e_=90;function dR(e){return[...e].sort((t,r)=>t.offset-r.offset)}const x1=class extends It{constructor(e){e&&"css"in e&&(e=hR(Sp({},Q8(e.css||"")),{alpha:e.alpha,maxColors:e.maxColors}));const t=Sp(Sp({},x1.defaults),e);if(!t.stops||t.stops.length<2)throw new Error("ColorGradientFilter requires at least 2 color stops.");super(W8,$8),this._stops=[],this.autoFit=!1,Object.assign(this,t)}get stops(){return this._stops}set stops(e){const t=dR(e),r=new Float32Array(t.length*3),n=0,i=1,s=2;for(let o=0;o<t.length;o++){const u=iw(t[o].color),c=o*3;r[c+n]=u[n],r[c+i]=u[i],r[c+s]=u[s]}this.uniforms.uColors=r,this.uniforms.uOffsets=t.map(o=>o.offset),this.uniforms.uAlphas=t.map(o=>o.alpha),this.uniforms.uNumStops=t.length,this._stops=t}set type(e){this.uniforms.uType=e}get type(){return this.uniforms.uType}set angle(e){this.uniforms.uAngle=e-e_}get angle(){return this.uniforms.uAngle+e_}set alpha(e){this.uniforms.uAlpha=e}get alpha(){return this.uniforms.uAlpha}set maxColors(e){this.uniforms.uMaxColors=e}get maxColors(){return this.uniforms.uMaxColors}};let oh=x1;oh.LINEAR=0,oh.RADIAL=1,oh.CONIC=2,oh.defaults={type:x1.LINEAR,stops:[{offset:0,color:16711680,alpha:1},{offset:1,color:255,alpha:1}],alpha:1,angle:90,maxColors:0};var fR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,mR=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;const sw=class extends It{constructor(e){super(fR,mR),this.time=0,this.seed=0,this.uniforms.dimensions=new Float32Array(2),Object.assign(this,sw.defaults,e)}apply(e,t,r,n){const{width:i,height:s}=t.filterFrame;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,this.uniforms.seed=this.seed,this.uniforms.time=this.time,e.applyFilter(this,t,r,n)}set curvature(e){this.uniforms.curvature=e}get curvature(){return this.uniforms.curvature}set lineWidth(e){this.uniforms.lineWidth=e}get lineWidth(){return this.uniforms.lineWidth}set lineContrast(e){this.uniforms.lineContrast=e}get lineContrast(){return this.uniforms.lineContrast}set verticalLine(e){this.uniforms.verticalLine=e}get verticalLine(){return this.uniforms.verticalLine}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};let pR=sw;pR.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0};var gR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,yR=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`,vR=Object.defineProperty,r_=Object.getOwnPropertySymbols,xR=Object.prototype.hasOwnProperty,TR=Object.prototype.propertyIsEnumerable,n_=(e,t,r)=>t in e?vR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,i_=(e,t)=>{for(var r in t||(t={}))xR.call(t,r)&&n_(e,r,t[r]);if(r_)for(var r of r_(t))TR.call(t,r)&&n_(e,r,t[r]);return e};const og=class extends It{constructor(e){super(),this.angle=45,this._distance=5,this._resolution=tt.FILTER_RESOLUTION;const t=e?i_(i_({},og.defaults),e):og.defaults,{kernels:r,blur:n,quality:i,pixelSize:s,resolution:o}=t;this._offset=new Jn(this._updatePadding,this),this._tintFilter=new It(gR,yR),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=this._offset,this._tintFilter.resolution=o,this._blurFilter=r?new pd(r):new pd(n,i),this.pixelSize=s,this.resolution=o;const{shadowOnly:u,rotation:c,distance:h,offset:f,alpha:m,color:g}=t;this.shadowOnly=u,c!==void 0&&h!==void 0?(this.rotation=c,this.distance=h):this.offset=f,this.alpha=m,this.color=g}apply(e,t,r,n){const i=e.getFilterTexture();this._tintFilter.apply(e,t,i,1),this._blurFilter.apply(e,i,r,n),this.shadowOnly!==!0&&e.applyFilter(this,t,r,0),e.returnFilterTexture(i)}_updatePadding(){const e=Math.max(Math.abs(this._offset.x),Math.abs(this._offset.y));this.padding=e+this.blur*2}_updateShift(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))}set offset(e){this._offset.copyFrom(e),this._updatePadding()}get offset(){return this._offset}get resolution(){return this._resolution}set resolution(e){this._resolution=e,this._tintFilter&&(this._tintFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)}get distance(){return this._distance}set distance(e){At("5.3.0","DropShadowFilter distance is deprecated, use offset"),this._distance=e,this._updatePadding(),this._updateShift()}get rotation(){return this.angle/lu}set rotation(e){At("5.3.0","DropShadowFilter rotation is deprecated, use offset"),this.angle=e*lu,this._updateShift()}get alpha(){return this._tintFilter.uniforms.alpha}set alpha(e){this._tintFilter.uniforms.alpha=e}get color(){return Bd(this._tintFilter.uniforms.color)}set color(e){Ld(e,this._tintFilter.uniforms.color)}get kernels(){return this._blurFilter.kernels}set kernels(e){this._blurFilter.kernels=e}get blur(){return this._blurFilter.blur}set blur(e){this._blurFilter.blur=e,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(e){this._blurFilter.quality=e}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(e){this._blurFilter.pixelSize=e}};let _R=og;_R.defaults={offset:{x:4,y:4},color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:tt.FILTER_RESOLUTION};var bR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,wR=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`;const ag=class extends It{constructor(e){super(bR,wR),this.offset=100,this.fillMode=ag.TRANSPARENT,this.average=!1,this.seed=0,this.minSize=8,this.sampleSize=512,this._slices=0,this._offsets=new Float32Array(1),this._sizes=new Float32Array(1),this._direction=-1,this.uniforms.dimensions=new Float32Array(2),this._canvas=document.createElement("canvas"),this._canvas.width=4,this._canvas.height=this.sampleSize,this.texture=et.from(this._canvas,{scaleMode:qn.NEAREST}),Object.assign(this,ag.defaults,e)}apply(e,t,r,n){const{width:i,height:s}=t.filterFrame;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,this.uniforms.aspect=s/i,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,e.applyFilter(this,t,r,n)}_randomizeSizes(){const e=this._sizes,t=this._slices-1,r=this.sampleSize,n=Math.min(this.minSize/r,.9/this._slices);if(this.average){const i=this._slices;let s=1;for(let o=0;o<t;o++){const u=s/(i-o),c=Math.max(u*(1-Math.random()*.6),n);e[o]=c,s-=c}e[t]=s}else{let i=1;const s=Math.sqrt(1/this._slices);for(let o=0;o<t;o++){const u=Math.max(s*i*Math.random(),n);e[o]=u,i-=u}e[t]=i}this.shuffle()}shuffle(){const e=this._sizes,t=this._slices-1;for(let r=t;r>0;r--){const n=Math.random()*r>>0,i=e[r];e[r]=e[n],e[n]=i}}_randomizeOffsets(){for(let e=0;e<this._slices;e++)this._offsets[e]=Math.random()*(Math.random()<.5?-1:1)}refresh(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()}redraw(){const e=this.sampleSize,t=this.texture,r=this._canvas.getContext("2d");r.clearRect(0,0,8,e);let n,i=0;for(let s=0;s<this._slices;s++){n=Math.floor(this._offsets[s]*256);const o=this._sizes[s]*e,u=n>0?n:0,c=n<0?-n:0;r.fillStyle=`rgba(${u}, ${c}, 0, 1)`,r.fillRect(0,i>>0,e,o+1>>0),i+=o}t.baseTexture.update(),this.uniforms.displacementMap=t}set sizes(e){const t=Math.min(this._slices,e.length);for(let r=0;r<t;r++)this._sizes[r]=e[r]}get sizes(){return this._sizes}set offsets(e){const t=Math.min(this._slices,e.length);for(let r=0;r<t;r++)this._offsets[r]=e[r]}get offsets(){return this._offsets}get slices(){return this._slices}set slices(e){this._slices!==e&&(this._slices=e,this.uniforms.slices=e,this._sizes=this.uniforms.slicesWidth=new Float32Array(e),this._offsets=this.uniforms.slicesOffset=new Float32Array(e),this.refresh())}get direction(){return this._direction}set direction(e){if(this._direction===e)return;this._direction=e;const t=e*lu;this.uniforms.sinDir=Math.sin(t),this.uniforms.cosDir=Math.cos(t)}get red(){return this.uniforms.red}set red(e){this.uniforms.red=e}get green(){return this.uniforms.green}set green(e){this.uniforms.green=e}get blue(){return this.uniforms.blue}set blue(e){this.uniforms.blue=e}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null}};let _i=ag;_i.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},_i.TRANSPARENT=0,_i.ORIGINAL=1,_i.LOOP=2,_i.CLAMP=3,_i.MIRROR=4;var SR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ER=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;
uniform float alpha;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    if (knockout) {
      float resultAlpha = (outerGlowAlpha + innerGlowAlpha) * alpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      vec4 outerGlowColor = outerGlowStrength * glowColor.rgba * alpha;
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;const ow=class extends It{constructor(e){const t=Object.assign({},ow.defaults,e),{outerStrength:r,innerStrength:n,color:i,knockout:s,quality:o,alpha:u}=t,c=Math.round(t.distance);super(SR,ER.replace(/__ANGLE_STEP_SIZE__/gi,`${(1/o/c).toFixed(7)}`).replace(/__DIST__/gi,`${c.toFixed(0)}.0`)),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.uniforms.alpha=1,Object.assign(this,{color:i,outerStrength:r,innerStrength:n,padding:c,knockout:s,alpha:u})}get color(){return Bd(this.uniforms.glowColor)}set color(e){Ld(e,this.uniforms.glowColor)}get outerStrength(){return this.uniforms.outerStrength}set outerStrength(e){this.uniforms.outerStrength=e}get innerStrength(){return this.uniforms.innerStrength}set innerStrength(e){this.uniforms.innerStrength=e}get knockout(){return this.uniforms.knockout}set knockout(e){this.uniforms.knockout=e}get alpha(){return this.uniforms.alpha}set alpha(e){this.uniforms.alpha=e}};let CR=ow;CR.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1,alpha:1};var AR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,PR=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,IR=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`;const aw=class extends It{constructor(e){super(AR,IR.replace("${perlin}",PR)),this.parallel=!0,this.time=0,this._angle=0,this.uniforms.dimensions=new Float32Array(2);const t=Object.assign(aw.defaults,e);this._angleLight=new wt,this.angle=t.angle,this.gain=t.gain,this.lacunarity=t.lacunarity,this.alpha=t.alpha,this.parallel=t.parallel,this.center=t.center,this.time=t.time}apply(e,t,r,n){const{width:i,height:s}=t.filterFrame;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,this.uniforms.aspect=s/i,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,e.applyFilter(this,t,r,n)}get angle(){return this._angle}set angle(e){this._angle=e;const t=e*lu;this._angleLight.x=Math.cos(t),this._angleLight.y=Math.sin(t)}get gain(){return this.uniforms.gain}set gain(e){this.uniforms.gain=e}get lacunarity(){return this.uniforms.lacunarity}set lacunarity(e){this.uniforms.lacunarity=e}get alpha(){return this.uniforms.alpha}set alpha(e){this.uniforms.alpha=e}};let lw=aw;lw.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1};var RR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,kR=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float uHue;
uniform float uAlpha;
uniform bool uColorize;
uniform float uSaturation;
uniform float uLightness;

// https://en.wikipedia.org/wiki/Luma_(video)
const vec3 weight = vec3(0.299, 0.587, 0.114);

float getWeightedAverage(vec3 rgb) {
    return rgb.r * weight.r + rgb.g * weight.g + rgb.b * weight.b;
}

// https://gist.github.com/mairod/a75e7b44f68110e1576d77419d608786?permalink_comment_id=3195243#gistcomment-3195243
const vec3 k = vec3(0.57735, 0.57735, 0.57735);

vec3 hueShift(vec3 color, float angle) {
    float cosAngle = cos(angle);
    return vec3(
    color * cosAngle +
    cross(k, color) * sin(angle) +
    k * dot(k, color) * (1.0 - cosAngle)
    );
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    vec4 result = color;

    // colorize
    if (uColorize) {
        result.rgb = vec3(getWeightedAverage(result.rgb), 0., 0.);
    }

    // hue
    result.rgb = hueShift(result.rgb, uHue);

    // saturation
    // https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/huesaturation.js
    float average = (result.r + result.g + result.b) / 3.0;

    if (uSaturation > 0.) {
        result.rgb += (average - result.rgb) * (1. - 1. / (1.001 - uSaturation));
    } else {
        result.rgb -= (average - result.rgb) * uSaturation;
    }

    // lightness
    result.rgb = mix(result.rgb, vec3(ceil(uLightness)) * color.a, abs(uLightness));

    // alpha
    gl_FragColor = mix(color, result, uAlpha);
}
`;const uw=class extends It{constructor(e){super(RR,kR),this._hue=0;const t=Object.assign({},uw.defaults,e);Object.assign(this,t)}get hue(){return this._hue}set hue(e){this._hue=e,this.uniforms.uHue=this._hue*(Math.PI/180)}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}get colorize(){return this.uniforms.uColorize}set colorize(e){this.uniforms.uColorize=e}get lightness(){return this.uniforms.uLightness}set lightness(e){this.uniforms.uLightness=e}get saturation(){return this.uniforms.uSaturation}set saturation(e){this.uniforms.uSaturation=e}};let MR=uw;MR.defaults={hue:0,saturation:0,lightness:0,colorize:!1,alpha:1};var DR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,NR=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`;const cw=class extends It{constructor(e,t=0){super(DR,NR),this.seed=0,this.uniforms.dimensions=new Float32Array(2),typeof e=="number"?(this.seed=e,e=void 0):this.seed=t,Object.assign(this,cw.defaults,e)}apply(e,t,r,n){var i,s;this.uniforms.dimensions[0]=(i=t.filterFrame)==null?void 0:i.width,this.uniforms.dimensions[1]=(s=t.filterFrame)==null?void 0:s.height,this.uniforms.seed=this.seed,e.applyFilter(this,t,r,n)}set sepia(e){this.uniforms.sepia=e}get sepia(){return this.uniforms.sepia}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set scratch(e){this.uniforms.scratch=e}get scratch(){return this.uniforms.scratch}set scratchDensity(e){this.uniforms.scratchDensity=e}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(e){this.uniforms.scratchWidth=e}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};let FR=cw;FR.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};var OR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,LR=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterClamp;

uniform float uAlpha;
uniform vec2 uThickness;
uniform vec4 uColor;
uniform bool uKnockout;

const float DOUBLE_PI = 2. * 3.14159265358979323846264;
const float ANGLE_STEP = \${angleStep};

float outlineMaxAlphaAtPos(vec2 pos) {
    if (uThickness.x == 0. || uThickness.y == 0.) {
        return 0.;
    }

    vec4 displacedColor;
    vec2 displacedPos;
    float maxAlpha = 0.;

    for (float angle = 0.; angle <= DOUBLE_PI; angle += ANGLE_STEP) {
        displacedPos.x = vTextureCoord.x + uThickness.x * cos(angle);
        displacedPos.y = vTextureCoord.y + uThickness.y * sin(angle);
        displacedColor = texture2D(uSampler, clamp(displacedPos, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, displacedColor.a);
    }

    return maxAlpha;
}

void main(void) {
    vec4 sourceColor = texture2D(uSampler, vTextureCoord);
    vec4 contentColor = sourceColor * float(!uKnockout);
    float outlineAlpha = uAlpha * outlineMaxAlphaAtPos(vTextureCoord.xy) * (1.-sourceColor.a);
    vec4 outlineColor = vec4(vec3(uColor) * outlineAlpha, outlineAlpha);
    gl_FragColor = contentColor + outlineColor;
}
`;const Ah=class extends It{constructor(e=1,t=0,r=.1,n=1,i=!1){super(OR,LR.replace(/\$\{angleStep\}/,Ah.getAngleStep(r))),this._thickness=1,this._alpha=1,this._knockout=!1,this.uniforms.uThickness=new Float32Array([0,0]),this.uniforms.uColor=new Float32Array([0,0,0,1]),this.uniforms.uAlpha=n,this.uniforms.uKnockout=i,Object.assign(this,{thickness:e,color:t,quality:r,alpha:n,knockout:i})}static getAngleStep(e){const t=Math.max(e*Ah.MAX_SAMPLES,Ah.MIN_SAMPLES);return(Math.PI*2/t).toFixed(7)}apply(e,t,r,n){this.uniforms.uThickness[0]=this._thickness/t._frame.width,this.uniforms.uThickness[1]=this._thickness/t._frame.height,this.uniforms.uAlpha=this._alpha,this.uniforms.uKnockout=this._knockout,e.applyFilter(this,t,r,n)}get alpha(){return this._alpha}set alpha(e){this._alpha=e}get color(){return Bd(this.uniforms.uColor)}set color(e){Ld(e,this.uniforms.uColor)}get knockout(){return this._knockout}set knockout(e){this._knockout=e}get thickness(){return this._thickness}set thickness(e){this._thickness=e,this.padding=e}};let s_=Ah;s_.MIN_SAMPLES=1,s_.MAX_SAMPLES=100;var BR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,UR=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`;const hw=class extends It{constructor(e){super(BR,UR),this.time=0,this.uniforms.amplitude=new Float32Array(2),this.uniforms.waveLength=new Float32Array(2),this.uniforms.alpha=new Float32Array(2),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,hw.defaults,e)}apply(e,t,r,n){var i,s;this.uniforms.dimensions[0]=(i=t.filterFrame)==null?void 0:i.width,this.uniforms.dimensions[1]=(s=t.filterFrame)==null?void 0:s.height,this.uniforms.time=this.time,e.applyFilter(this,t,r,n)}set mirror(e){this.uniforms.mirror=e}get mirror(){return this.uniforms.mirror}set boundary(e){this.uniforms.boundary=e}get boundary(){return this.uniforms.boundary}set amplitude(e){this.uniforms.amplitude[0]=e[0],this.uniforms.amplitude[1]=e[1]}get amplitude(){return this.uniforms.amplitude}set waveLength(e){this.uniforms.waveLength[0]=e[0],this.uniforms.waveLength[1]=e[1]}get waveLength(){return this.uniforms.waveLength}set alpha(e){this.uniforms.alpha[0]=e[0],this.uniforms.alpha[1]=e[1]}get alpha(){return this.uniforms.alpha}};let zR=hw;zR.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0};var GR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,HR=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`;class lg extends It{constructor(t=[-10,0],r=[0,10],n=[0,0]){super(GR,HR),this.red=t,this.green=r,this.blue=n}get red(){return this.uniforms.red}set red(t){this.uniforms.red=t}get green(){return this.uniforms.green}set green(t){this.uniforms.green=t}get blue(){return this.uniforms.blue}set blue(t){this.uniforms.blue=t}}var jR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$R=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`;const dw=class extends It{constructor(e=[0,0],t,r=0){super(jR,$R),this.center=e,Object.assign(this,dw.defaults,t),this.time=r}apply(e,t,r,n){this.uniforms.time=this.time,e.applyFilter(this,t,r,n)}get center(){return this.uniforms.center}set center(e){this.uniforms.center=e}get amplitude(){return this.uniforms.amplitude}set amplitude(e){this.uniforms.amplitude=e}get wavelength(){return this.uniforms.wavelength}set wavelength(e){this.uniforms.wavelength=e}get brightness(){return this.uniforms.brightness}set brightness(e){this.uniforms.brightness=e}get speed(){return this.uniforms.speed}set speed(e){this.uniforms.speed=e}get radius(){return this.uniforms.radius}set radius(e){this.uniforms.radius=e}};let WR=dw;WR.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1};var VR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,XR=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;class fw extends It{constructor(t){var r,n;super(VR,XR),this.uniforms.blur=t.blur,this.uniforms.gradientBlur=t.gradientBlur,this.uniforms.start=(r=t.start)!=null?r:new wt(0,window.innerHeight/2),this.uniforms.end=(n=t.end)!=null?n:new wt(600,window.innerHeight/2),this.uniforms.delta=new wt(30,30),this.uniforms.texSize=new wt(window.innerWidth,window.innerHeight),this.updateDelta()}updateDelta(){this.uniforms.delta.x=0,this.uniforms.delta.y=0}get blur(){return this.uniforms.blur}set blur(t){this.uniforms.blur=t}get gradientBlur(){return this.uniforms.gradientBlur}set gradientBlur(t){this.uniforms.gradientBlur=t}get start(){return this.uniforms.start}set start(t){this.uniforms.start=t,this.updateDelta()}get end(){return this.uniforms.end}set end(t){this.uniforms.end=t,this.updateDelta()}}class YR extends fw{updateDelta(){const t=this.uniforms.end.x-this.uniforms.start.x,r=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(t*t+r*r);this.uniforms.delta.x=t/n,this.uniforms.delta.y=r/n}}class KR extends fw{updateDelta(){const t=this.uniforms.end.x-this.uniforms.start.x,r=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(t*t+r*r);this.uniforms.delta.x=-r/n,this.uniforms.delta.y=t/n}}const mw=class extends It{constructor(e,t,r,n){super(),typeof e=="number"&&(At("5.3.0","TiltShiftFilter constructor arguments is deprecated, use options."),e={blur:e,gradientBlur:t,start:r,end:n}),e=Object.assign({},mw.defaults,e),this.tiltShiftXFilter=new YR(e),this.tiltShiftYFilter=new KR(e)}apply(e,t,r,n){const i=e.getFilterTexture();this.tiltShiftXFilter.apply(e,t,i,1),this.tiltShiftYFilter.apply(e,i,r,n),e.returnFilterTexture(i)}get blur(){return this.tiltShiftXFilter.blur}set blur(e){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=e}get gradientBlur(){return this.tiltShiftXFilter.gradientBlur}set gradientBlur(e){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=e}get start(){return this.tiltShiftXFilter.start}set start(e){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=e}get end(){return this.tiltShiftXFilter.end}set end(e){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=e}};let QR=mw;QR.defaults={blur:100,gradientBlur:600,start:void 0,end:void 0};var ZR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,qR=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;const pw=class extends It{constructor(e){super(ZR,qR),Object.assign(this,pw.defaults,e)}get offset(){return this.uniforms.offset}set offset(e){this.uniforms.offset=e}get radius(){return this.uniforms.radius}set radius(e){this.uniforms.radius=e}get angle(){return this.uniforms.angle}set angle(e){this.uniforms.angle=e}};let JR=pw;JR.defaults={radius:200,angle:4,padding:20,offset:new wt};var t7=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,e7=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,o_=Object.getOwnPropertySymbols,r7=Object.prototype.hasOwnProperty,n7=Object.prototype.propertyIsEnumerable,i7=(e,t)=>{var r={};for(var n in e)r7.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&o_)for(var n of o_(e))t.indexOf(n)<0&&n7.call(e,n)&&(r[n]=e[n]);return r};const gw=class extends It{constructor(e){const t=Object.assign(gw.defaults,e),{maxKernelSize:r}=t,n=i7(t,["maxKernelSize"]);super(t7,e7.replace("${maxKernelSize}",r.toFixed(1))),Object.assign(this,n)}get center(){return this.uniforms.uCenter}set center(e){this.uniforms.uCenter=e}get strength(){return this.uniforms.uStrength}set strength(e){this.uniforms.uStrength=e}get innerRadius(){return this.uniforms.uInnerRadius}set innerRadius(e){this.uniforms.uInnerRadius=e}get radius(){return this.uniforms.uRadius}set radius(e){(e<0||e===1/0)&&(e=-1),this.uniforms.uRadius=e}};let s7=gw;s7.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32};const o7="/assets/vignette.0166eb2d.png",a7="/assets/dark.4741d0a7.jpg",l7="/assets/light.e7e9318d.jpg",u7="/assets/operation_end.2b448b1e.jpg",c7="/assets/operation_error.61f653dc.jpg",a_="/assets/operation_start.b77b71a5.jpg",h7="/assets/underthrone_turmoil.c6edd0db.jpg",d7="/assets/overthrone_turmoil.cecaffb4.jpg";function f7(e){var t=a_;switch(e){case"dark":t=a7;break;case"light":t=l7;break;case"operation_end":t=u7;break;case"operation_error":t=c7;break;case"operation_start":t=a_;break;case"underthrone_turmoil":t=h7;break;case"overthrone_turmoil":t=d7;break}return t}/*!
 * @pixi/layers - v2.0.1
 * Compiled Wed, 21 Dec 2022 21:17:52 UTC
 *
 * @pixi/layers is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 * 
 * Copyright 2017-2021, Ivan Popelyshev, All Rights Reserved
 */function m7(e){if(!(this._activeParentLayer&&this._activeParentLayer!==e._activeLayer)){if(!this.visible){this.displayOrder=0;return}this.displayOrder=e.incDisplayOrder(),!(this.worldAlpha<=0||!this.renderable)&&(e._activeLayer=null,this.containerRenderWebGL(e),e._activeLayer=this._activeParentLayer)}}function p7(){if(Kt.prototype.displayOrder!==void 0)return;Object.assign(Kt.prototype,{parentLayer:null,_activeParentLayer:null,parentGroup:null,zOrder:0,zIndex:0,updateOrder:0,displayOrder:0,layerableChildren:!0,isLayer:!1});const e=Ht.prototype;e.containerRenderWebGL=e.render,e.render=m7}/*!
 * @pixi/layers - v2.0.1
 * Compiled Wed, 21 Dec 2022 21:17:52 UTC
 *
 * @pixi/layers is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 * 
 * Copyright 2017-2021, Ivan Popelyshev, All Rights Reserved
 */function g7(e){return function(r,n,i,s,o){(!n||!n.renderTexture&&!n.baseTexture)&&(this._lastDisplayOrder=0),this._activeLayer=null,r.isStage&&r.updateStage(),e.call(this,r,n,i,s,o)}}function y7(e){const t=e.prototype;t._oldRender||(Object.assign(t,{_lastDisplayOrder:0,_activeLayer:null,incDisplayOrder(){return++this._lastDisplayOrder},_oldRender:As.prototype.render}),t._oldRender=t.render,t.render=g7(t.render))}/*!
 * @pixi/layers - v2.0.1
 * Compiled Wed, 21 Dec 2022 21:17:52 UTC
 *
 * @pixi/layers is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 * 
 * Copyright 2017-2021, Ivan Popelyshev, All Rights Reserved
 */const Ys=class extends Ma{constructor(e=0,t=!1){super(),this.useRenderTexture=!1,this.useDoubleBuffer=!1,this.sortPriority=0,this.clearColor=new Float32Array([0,0,0,0]),this.canDrawWithoutLayer=!1,this.canDrawInParentStage=!0,this._activeLayer=null,this._activeStage=null,this._activeChildren=[],this._lastUpdateId=-1,this.zIndex=e||0,this.enableSort=!!t,typeof t=="function"&&this.on("sort",t)}doSort(e,t){if(this.listeners("sort",!0))for(let r=0;r<t.length;r++)this.emit("sort",t[r]);t.sort(Ys.compareZIndex)}static compareZIndex(e,t){return e.zOrder<t.zOrder?-1:e.zOrder>t.zOrder?1:e.updateOrder-t.updateOrder}clear(){this._activeLayer=null,this._activeStage=null,this._activeChildren.length=0}_resolveChildDisplayObject(e,t){this.check(e),t._activeParentLayer=this._activeLayer,this._activeLayer?this._activeLayer._activeChildren.push(t):this._activeChildren.push(t)}_resolveLayer(e,t){this.check(e),this._activeLayer&&Ys.conflict(),this._activeLayer=t,this._activeStage=e}check(e){if(this._lastUpdateId<Ys._layerUpdateId)this._lastUpdateId=Ys._layerUpdateId,this.clear(),this._activeStage=e;else if(this.canDrawInParentStage){let t=this._activeStage;for(;t&&t!==e;)t=t._activeParentStage;this._activeStage=t,t===null&&this.clear()}}static conflict(){Ys._lastLayerConflict+5e3<Date.now()&&(Ys._lastLayerConflict=Date.now(),console.log("@pixi/layers found two layers with the same group in one stage - that's not healthy. Please place a breakpoint here and debug it"))}};let ef=Ys;ef._layerUpdateId=0;ef._lastLayerConflict=0;/*!
 * @pixi/layers - v2.0.1
 * Compiled Wed, 21 Dec 2022 21:17:52 UTC
 *
 * @pixi/layers is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 * 
 * Copyright 2017-2021, Ivan Popelyshev, All Rights Reserved
 */class l_{constructor(t){this.layer=t,this.renderTexture=null,this.doubleBuffer=null,this.currentBufferIndex=0,this._tempRenderTarget=null,this._tempRenderTargetSource=new Et,this._tempRenderTargetDestination=new Et}init(t){const r=t?t.screen.width:100,n=t?t.screen.height:100,i=t?t.resolution:tt.RESOLUTION;this.renderTexture=ii.create({width:r,height:n,resolution:i}),this.layer.group.useDoubleBuffer&&(this.doubleBuffer=[ii.create({width:r,height:n,resolution:i}),ii.create({width:r,height:n,resolution:i})])}getRenderTexture(){return this.renderTexture||this.init(),this.renderTexture}pushTexture(t){const r=t.screen;this.renderTexture||this.init(t);const n=this.renderTexture,i=this.layer.group,s=this.doubleBuffer;if((n.width!==r.width||n.height!==r.height||n.baseTexture.resolution!==t.resolution)&&(n.baseTexture.resolution=t.resolution,n.resize(r.width,r.height),s&&(s[0].baseTexture.resolution=t.resolution,s[0].resize(r.width,r.height),s[1].baseTexture.resolution=t.resolution,s[1].resize(r.width,r.height))),s&&(s[0].framebuffer.multisample=n.framebuffer.multisample,s[1].framebuffer.multisample=n.framebuffer.multisample),this._tempRenderTarget=t.renderTexture.current,this._tempRenderTargetSource.copyFrom(t.renderTexture.sourceFrame),this._tempRenderTargetDestination.copyFrom(t.renderTexture.destinationFrame),t.batch.flush(),i.useDoubleBuffer){let u=s[this.currentBufferIndex];u.baseTexture._glTextures[t.CONTEXT_UID]||(t.renderTexture.bind(u,void 0,void 0),t.texture.bind(u),i.clearColor&&t.renderTexture.clear(i.clearColor)),t.texture.unbind(n.baseTexture),n.baseTexture._glTextures=u.baseTexture._glTextures,n.baseTexture.framebuffer=u.baseTexture.framebuffer,u=s[1-this.currentBufferIndex],t.renderTexture.bind(u,void 0,void 0)}else t.renderTexture.bind(n,void 0,void 0);i.clearColor&&t.renderTexture.clear(i.clearColor);const o=t.filter.defaultFilterStack;o.length>1&&(o[o.length-1].renderTexture=t.renderTexture.current)}popTexture(t){t.batch.flush(),t.framebuffer.blit();const r=t.filter.defaultFilterStack;r.length>1&&(r[r.length-1].renderTexture=this._tempRenderTarget),t.renderTexture.bind(this._tempRenderTarget,this._tempRenderTargetSource,this._tempRenderTargetDestination),this._tempRenderTarget=null;const n=this.renderTexture,i=this.layer.group,s=this.doubleBuffer;if(i.useDoubleBuffer){t.texture.unbind(n.baseTexture),this.currentBufferIndex=1-this.currentBufferIndex;const o=s[this.currentBufferIndex];n.baseTexture._glTextures=o.baseTexture._glTextures,n.baseTexture.framebuffer=o.baseTexture.framebuffer}}destroy(){this.renderTexture&&(this.renderTexture.destroy(),this.doubleBuffer&&(this.doubleBuffer[0].destroy(!0),this.doubleBuffer[1].destroy(!0)))}}class gd extends Ht{constructor(t=null){super(),this.isLayer=!0,this.group=null,this._activeChildren=[],this._tempChildren=null,this._activeStageParent=null,this._sortedChildren=[],this._tempLayerParent=null,this.insertChildrenBeforeActive=!0,this.insertChildrenAfterActive=!0,t?(this.group=t,this.zIndex=t.zIndex):this.group=new ef(0,!1),this._tempChildren=this.children}get useRenderTexture(){return this.group.useRenderTexture}set useRenderTexture(t){this.group.useRenderTexture=t}get useDoubleBuffer(){return this.group.useDoubleBuffer}set useDoubleBuffer(t){this.group.useDoubleBuffer=t}get clearColor(){return this.group.clearColor}set clearColor(t){this.group.clearColor=t}get sortPriority(){return this.group.sortPriority}set sortPriority(t){this.group.sortPriority=t}getRenderTexture(){return this.textureCache||(this.textureCache=new l_(this)),this.textureCache.getRenderTexture()}doSort(){this.group.doSort(this,this._sortedChildren)}destroy(t){this.textureCache&&(this.textureCache.destroy(),this.textureCache=null),super.destroy(t)}render(t){!this.prerender(t)||(this.group.useRenderTexture&&(this.textureCache||(this.textureCache=new l_(this)),this.textureCache.pushTexture(t)),this.containerRenderWebGL(t),this.postrender(t),this.group.useRenderTexture&&this.textureCache.popTexture(t))}layerRenderCanvas(t){this.prerender(t)&&(this.containerRenderCanvas(t),this.postrender(t))}_onBeginLayerSubtreeTraversal(t){const r=this._activeChildren;this._activeStageParent=t,this.group._resolveLayer(t,this);const n=this.group._activeChildren;r.length=0;for(let i=0;i<n.length;i++)n[i]._activeParentLayer=this,r.push(n[i]);n.length=0}_onEndLayerSubtreeTraversal(){const t=this.children,r=this._activeChildren,n=this._sortedChildren;for(let i=0;i<r.length;i++)this.emit("display",r[i]);if(n.length=0,this.insertChildrenBeforeActive)for(let i=0;i<t.length;i++)n.push(t[i]);for(let i=0;i<r.length;i++)n.push(r[i]);if(!this.insertChildrenBeforeActive&&this.insertChildrenAfterActive)for(let i=0;i<t.length;i++)n.push(t[i]);this.group.enableSort&&this.doSort()}prerender(t){return this._activeParentLayer&&this._activeParentLayer!=t._activeLayer?!1:this.visible?(this.displayOrder=t.incDisplayOrder(),this.worldAlpha<=0||!this.renderable?!1:(this.children!==this._sortedChildren&&this._tempChildren!==this.children&&(this._tempChildren=this.children),this._boundsID++,this.children=this._sortedChildren,this._tempLayerParent=t._activeLayer,t._activeLayer=this,!0)):(this.displayOrder=0,!1)}postrender(t){this.children=this._tempChildren,t._activeLayer=this._tempLayerParent,this._tempLayerParent=null}}gd.prototype.renderCanvas=gd.prototype.layerRenderCanvas;/*!
 * @pixi/layers - v2.0.1
 * Compiled Wed, 21 Dec 2022 21:17:52 UTC
 *
 * @pixi/layers is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 * 
 * Copyright 2017-2021, Ivan Popelyshev, All Rights Reserved
 */const ug=class extends gd{constructor(){super(...arguments),this.isStage=!0,this._tempGroups=[],this._activeLayers=[],this._activeParentStage=null}clear(){this._activeLayers.length=0,this._tempGroups.length=0}destroy(e){this.clear(),super.destroy(e)}updateStage(){this._activeParentStage=null,ef._layerUpdateId++,this._updateStageInner()}updateAsChildStage(e){this._activeParentStage=e,ug._updateOrderCounter=0,this._updateStageInner()}_updateStageInner(){this.clear(),this._addRecursive(this);const e=this._activeLayers;for(let t=0;t<e.length;t++){const r=e[t];if(r.group.sortPriority){r._onEndLayerSubtreeTraversal();const n=r._sortedChildren;for(let i=0;i<n.length;i++)this._addRecursiveChildren(n[i])}}for(let t=0;t<e.length;t++){const r=e[t];r.group.sortPriority||r._onEndLayerSubtreeTraversal()}}_addRecursive(e){if(!e.visible)return;if(e.isLayer){const i=e;this._activeLayers.push(i),i._onBeginLayerSubtreeTraversal(this)}if(e!==this&&e.isStage){e.updateAsChildStage(this);return}e._activeParentLayer=null;let t=e.parentGroup;t&&t._resolveChildDisplayObject(this,e);const r=e.parentLayer;if(r&&(t=r.group,t._resolveChildDisplayObject(this,e)),e.updateOrder=++ug._updateOrderCounter,e.alpha<=0||!e.renderable||!e.layerableChildren||t&&t.sortPriority)return;const n=e.children;if(n&&n.length)for(let i=0;i<n.length;i++)this._addRecursive(n[i])}_addRecursiveChildren(e){if(e.alpha<=0||!e.renderable||!e.layerableChildren)return;const t=e.children;if(t&&t.length)for(let r=0;r<t.length;r++)this._addRecursive(t[r])}};let v7=ug;v7._updateOrderCounter=0;/*!
 * @pixi/layers - v2.0.1
 * Compiled Wed, 21 Dec 2022 21:17:52 UTC
 *
 * @pixi/layers is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 * 
 * Copyright 2017-2021, Ivan Popelyshev, All Rights Reserved
 */p7();y7(As);const Ep=new lg,x7=new z8(10);new y1(0);new lw({angle:22,gain:1,lacunarity:3,alpha:.2});new _i({red:[-50,-50],blue:[-50,-50],green:[-50,-50],slices:4,direction:-45,fillMode:1});x7.blendMode=mt.ADD;const Oi=Jt.from(M8);Oi.width=st;Oi.y=Tt/2;Oi.tint=16777215;Oi.alpha=0;Oi.x=st/2;Oi.anchor.set(.5,.5);Oi.height=Tt;const yo=Jt.from(o7);yo.width=st;yo.height=Tt;yo.anchor.set(.5,.5);yo.x=st/2;yo.alpha=1;yo.y=Tt/2;const co=Jt.from(et.WHITE);co.width=0;co.y=Tt;co.x=0;co.anchor.set(0,0);co.height=3;const Cp=new Ht,cg=new Ht;cg.name="bgcontainer";const Ph=new Ht;Ph.name="widenotecontainer";const Ih=new Ht;Ih.name="notwidenotecontainer";function T7(e){xt.exports.useState(e.beatmap);const t=Jt.from(f7(e.beatmap.bgPath));new gd;const r=Wt.exports.useApp();e.container.addChild(Oi),r.stage.addChild(Cp,yo,Ph,cg,Ih,e.overlay,co,e.container);let n=!1;n==!1&&(Ep.blue=[1,0],Ep.green=[0,0],Ep.red=[-1,0],r.stage.filters=[],n=!0);const i=cg,[s,o]=xt.exports.useState(0);t.alpha=0,t.name="bgimage",e.game;const u=e.game.beatmap.timingPoints.sort((c,h)=>c.time-h.time);return u[0],Wt.exports.useTick(()=>{var m;if(t.height>1&&Cp.getChildByName("bgimage")==null){const g=t.height*(st/t.width);t.height=g,t.width=st,t.x=st/2,t.y=Tt/2,t.anchor.set(.5,.5),Cp.addChild(t)}if(e.game.isPlaying){if(e.game.mode=="play"){t.alpha==0&&(Oi.alpha=1,t.alpha=1);var c=e.game.audio.currentTime*1e3;u.filter(g=>g.time<=c)[0],e.game.currenttime=c}var h=e.game.beatmap.speedChanges,f=h!=null?((m=h.filter(g=>g.startTime<=e.game.currenttime).sort((g,v)=>g.startTime-v.startTime).reverse()[0])==null?void 0:m.speed)*Tt:e.game.notespeed;f>=0&&(e.game.notespeed=v1)}}),Wt.exports.useTick(()=>{(e.game.mode=="play"||e.game.mode=="edit")&&o(1),co.width=Ee(e.game.currenttime,[0,e.game.beatmap.hitObjects[e.game.beatmap.hitObjects.length-1].startTime],[0,st])}),dt(tf,{children:He(Wt.exports.Container,{alpha:s,children:[dt(QT,{x:.5,beatmap:e.beatmap,i:-1,type:"normal",container:i,game:e.game},-1),e.beatmap.cursor.map((c,h)=>dt(QT,{x:c.x,beatmap:e.beatmap,i:h,container:i,type:c.type,game:e.game},h)),dt(sh,{i:1+1,hitObjects:e.beatmap.hitObjects.filter(c=>c.column==1+1),timingPoints:e.beatmap.timingPoints,game:e.game,container:Ph}),dt(sh,{i:2+1,hitObjects:e.beatmap.hitObjects.filter(c=>c.column==2+1),timingPoints:e.beatmap.timingPoints,game:e.game,container:Ph}),dt(sh,{i:0+1,hitObjects:e.beatmap.hitObjects.filter(c=>c.column==0+1),timingPoints:e.beatmap.timingPoints,game:e.game,container:Ih}),dt(sh,{i:3+1,hitObjects:e.beatmap.hitObjects.filter(c=>c.column==3+1),timingPoints:e.beatmap.timingPoints,game:e.game,container:Ih}),dt(I8,{game:e.game,cursors:e.beatmap.cursor})]})})}const _7="/assets/rightbackdrop.f91e1109.png",b7="/assets/leftbackdrop.d4900be8.png",w7="/assets/loading.eb79aa82.jpg";let ye=-1;const gl=Jt.from(w7),Ii=Jt.from(b7),Rh=Wo("shadow",0,Tt/2,st,Tt*.5,[0,.5],0);Rh.alpha=0;const Ri=Jt.from(_7);Ii.width=Ri.width=st;Ii.height=Ri.height=Tt;Ii.alpha=Ri.alpha=1;Ii.anchor.set(.5,.5);Ri.anchor.set(.5,.5);Ii.x=0;Ri.x=st;Ii.y=Ri.y=Tt/2;function S7(e){const t=Jt.from(e.game.beatmap.jacketPath);var r=Js(`TITLE : ${e.game.beatmap.metadata.title}
COMPOSER : ${e.game.beatmap.metadata.artist}`,st*.25+Tt*.2+50,Tt/2-Tt*.2,[0,0],void 0,new me({fontSize:25,fontFamily:"Courier New",align:"left",fill:"#ffffff"})),n=Js(`////////////////
CHARTER : ${e.game.beatmap.metadata.creator}
DIFFICULTY : ${e.game.beatmap.metadata.difficult}
`,st*.25+Tt*.2+50,Tt/2-Tt*.2+55,[0,0],void 0,new me({fontSize:15,fontFamily:"Courier New",align:"left",fill:"#ffffff"}));return n.alpha=r.alpha=0,Wt.exports.useApp().stage,document.getElementById("play").style.display="none",e.game.mode!="play"&&(setTimeout(()=>{ye=Date.now()},1500),setTimeout(()=>{e.game.setVolume(10/100),e.game.play("play")},1500+4e3+200)),t.width=t.height=Tt*.4,t.alpha=0,t.x=st/4,t.y=Tt/2,t.anchor.set(.5,.5),Wt.exports.useTick(()=>{ye!=-1&&(Date.now()>=ye+2e3?(Ii.x=en(Date.now(),[ye+4e3,ye+4e3+500],[st/2,0]),Ri.x=en(Date.now(),[ye+4e3,ye+4e3+500],[st/2,st]),t.alpha=n.alpha=r.alpha=Ee(Date.now(),[ye+2e3,ye+2e3+200],[1,0]),gl.alpha=Ee(Date.now(),[ye+4e3+200,ye+4e3+1200],[1,0]),Rh.alpha=Ee(Date.now(),[ye+4e3+200,ye+4e3+1e3],[.5,0])):(Ii.x=en(Date.now(),[ye,ye+500],[0,st/2]),Ri.x=en(Date.now(),[ye,ye+500],[st,st/2]),t.alpha=n.alpha=r.alpha=Ee(Date.now(),[ye,ye+200],[0,1]),Rh.alpha=Ee(Date.now(),[ye,ye+100],[0,.5])))}),gl.width=st,gl.height=Tt,gl.tint=0,e.container.addChild(gl,Ii,Ri,Rh,t,r,n),null}const u_="/assets/overlay.9fbc01eb.png";function E7(e){const t=g8("test",st/2,Tt/2,100,100,2,16777215,.5,50,e.game),r=e.game.beatmap.hitObjects;return t[1].on("click",()=>{r[0].startTime=200,e.game.beatmap.hitObjects=r}),null}function C7(e){const t=Wo("timesq",st/2,Tt,st,100,[.5,0],0,e.game,u_),r=Wo("timesq2",st/2,0,st,100,[.5,0],0,e.game,u_);t.angle=180;const n=Wo("timestampcursor",st*.25-150,50,5,5,[.5,.5],16777215,e.game);n.angle=45;const i=Wo("tslined",st-50,50,st*.25,1,[1,.5],16777215,e.game,"",!0),s=Wo("tsline",st,50,.25*st+100,100,[1,.5],16777215,e.game,"",!0);s.alpha=0;const o=new Ht;var u=1;const c=Js(e.game.currenttime.toString(),st-50,60,[1,0],void 0,new me({fontFamily:"Audiowide",fontVariant:"small-caps",align:"right",fill:"#ffffff",fontSize:10})),h=g=>{e.game.currenttime=e.time+u*(6e4/(e.bpm*4)),(u-e.time)%1==0?u+=g.deltaY<0?-1:1:u=Math.round(u)},f=m8()/2+st/2-50-st*.25/2;function m(){document.addEventListener("mousemove",g=>{e.game.mousedown=="tsline"&&(e.game.currenttime=Ee(g.x,[f-st*.25/2,f+st*.25/2],[0,e.game.duration]),u=Ee(g.x,[f-st*.25/2,f+st*.25/2],[0,Math.round((e.game.duration-e.time)/(6e4/(e.bpm*4)))]))}),document.addEventListener("mouseup",()=>{e.game.mousedown=""}),document.addEventListener("wheel",h),o.addChild(t),o.addChild(r),o.addChild(c),o.addChild(n),o.addChild(i),o.addChild(s)}return Wt.exports.useApp().stage.addChild(o),Wt.exports.useTick(()=>{e.game.mode=="edit"&&m();const g=Math.round(e.game.currenttime);c.text=g,n.x=Ee(e.game.currenttime,[e.time,e.game.duration],[st-50-st*.25/2-st*.25/2,st-50-st*.25/2+st*.25/2])}),dt(E7,{game:e.game,beatmap:e.beatmap})}const Yr=new Ht;Yr.name="alert";function A7(e){let t=Js("",st/2,Tt/2,[.5,.5],!0,new me({fill:"white",fontFamily:"Roboto Condensed",fontSize:25,fontWeight:"900"})),r=Js("Alert!",st/2,Tt/2-100,[.5,.5],!0,new me({fill:"white",fontFamily:"Roboto Condensed",fontSize:30,fontWeight:"900",dropShadow:!0,dropShadowBlur:10,dropShadowColor:0,dropShadowAlpha:1})),n=rs(st/2,Tt/2+40,t.width*1.1,t.height*1.1+100,0,0,1,!0,0),i=rs(st/2,Tt/2+40,t.width*1.1,t.height*1.1+100,3,16777215,.3);var s=Js("OK!",st/2,Tt/2+t.height+10,[.5,.5],!0,new me({fill:"white",fontFamily:"Roboto Condensed",fontSize:20,fontWeight:"900"})),o=rs(st/2,Tt/2+t.height+10,s.width*1.5+50,s.height*1.5,2,16777215,1);return Wt.exports.useApp().stage.addChild(Yr),Wt.exports.useTick(()=>{t.text!=e.game.alert[0]&&(t.text=e.game.alert[0],i=rs(st/2,Tt/2+40,t.width*1.1,t.height*1.1+100,3,16777215,.3),n=rs(st/2,Tt/2+40,t.width*1.1,t.height*1.1+100,0,0,1,!0,0),s=Js("OK!",st/2,Tt/2+t.height+10,[.5,.5],!0,new me({fill:"white",fontFamily:"Roboto Condensed",fontSize:20,fontWeight:"900"})),o=rs(st/2,Tt/2+t.height+10,s.width*1.5+50,s.height*1.5,2,16777215,1),n.filters=[new y1(10)],Yr.on("pointerdown",()=>{Yr.alpha!=0&&(e.game.alert[2]=Date.now())}),Yr.addChild(n,t,i,o,s)),Yr.alpha!=0?(i.filters=o.filters=[new _i({offset:10}),new lg],t.filters=r.filters=s.filters=[new _i({offset:1}),new lg([3,3],[-2,0],[0,0])],Yr.interactive=!0):Yr.interactive=!1;let c=e.game.alert[1],h=e.game.alert[2];Yr.y=en(Date.now(),[c,c+1e3],[-10,0]),Yr.alpha=en(Date.now(),[c,c+1e3],[0,1]),h>-1&&(Yr.y=en(Date.now(),[h,h+1e3],[0,-10]),Yr.alpha=en(Date.now(),[h,h+1e3],[1,0]))}),null}function yw(e){const[t,r]=xt.exports.useState(e.chart),{audioPath:n}=t;t.timingPoints.forEach(g=>{g.time=g.time+bi+ih}),t.hitObjects.forEach(g=>{g.startTime=g.startTime+bi+ih,g.endTime&&(g.endTime=g.endTime+bi+ih)}),t.cursor.forEach(g=>{g.startTime=g.startTime+bi+ih});let i=0,s=0;t.hitObjects.forEach(g=>{i+=100,s+=1}),t.cursor.forEach((g,v)=>{i+=100,s+=1});const o=e.game.init(10,10,400,n,i,t,v1,s);o.setAudioPath(n),o.audiovolume,o.effectvolume;function u(g){return g==WT||g==VT||g==XT||g==YT}function c(g){switch(g){case WT:return 0;case VT:return 1;case XT:return 2;case YT:return 3;default:return NaN}}let h=setTimeout(function(){o.key[4]="00"},10);xt.exports.useEffect(()=>{document.addEventListener("mousemove",v=>{v.movementX>5&&(o.key[4]=o.key[4][0]+"1"),v.movementX<5&&(o.key[4]="1"+o.key[4][1]),Math.abs(v.movementX)>0&&(clearTimeout(h),h=setTimeout(function(){o.key[4]="00"},1))}),document.addEventListener("keyup",v=>{u(v.key)&&(o.key[c(v.key)]="00")}),document.addEventListener("keydown",v=>{v.repeat?o.key[c(v.key)]="01":o.key[c(v.key)]="11"});const g=v=>{switch(v.key){case"`":o.retry();break}};return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[]);const f=new Ht,m=new Ht;return He(tf,{children:[dt("button",{id:"play",children:"PLAY"}),dt("div",{id:"display"}),He(Wt.exports.Stage,{width:st,height:Tt,children:[He(Wt.exports.Container,{width:(e.game.mode=="edit"?.8:1)*st,height:(e.game.mode=="edit"?.8:1)*Tt,children:[dt(T8,{game:o,container:m}),dt(T7,{beatmap:t,game:o,container:f,overlay:m})]}),dt(C7,{time:t.timingPoints[0].time,bpm:t.timingPoints[0].bpm,game:e.game,beatmap:r}),dt(A7,{game:o}),dt(S7,{game:o,time:e.menutime,beatmap:t,container:m,pcontainer:f})]}),dt("div",{id:"log"})]})}function yd(e){const t=JSON.parse(e),{audioPath:r,metadata:n,hitObjects:i,timingPoints:s,cursor:o,speedChanges:u}=t,c=typeof r=="string",h=typeof n.title=="string"&&typeof n.titleUnicode=="string"&&typeof n.artist=="string"&&typeof n.artistUnicode=="string"&&typeof n.creator=="string"&&typeof n.difficult=="string",f=Array.isArray(s)&&s.length>0&&s.every(({time:x,bpm:S,meter:E,defaultSampleSet:w,volume:b})=>typeof x=="number"&&typeof S=="number"&&typeof E=="number"&&typeof b=="number"&&["soft","normal","drum"].includes(w)),m=x=>x!=null?Array.isArray(x)&&x.length<=2&&x.every(({type:S,sampleSet:E,addition:w})=>(S!=null?["whistle","finish","clap"].includes(S):!0)&&(E!=null?["soft","normal","drum"].includes(E):!0)&&(w!=null?["soft","normal","drum"].includes(w):!0)):!0,g=Array.isArray(i)&&i.length>0&&i.every(({type:x,column:S,startTime:E,endTime:w,hitsound:b})=>["note","hold"].includes(x)&&typeof S=="number"&&typeof E=="number"&&(w!=null?typeof w=="number":!0)&&m(b));if(!(c&&h&&f&&g))throw new Error("Invalid beatmap");return t.timingPoints.forEach(x=>{x.time=x.time+bi}),t.hitObjects.forEach(x=>{x.startTime=x.startTime+bi,x.endTime&&(x.endTime=x.endTime+bi)}),t.speedChanges!=null&&(t.speedChanges=t.speedChanges.sort((x,S)=>x.startTime-S.startTime)),t.cursor=t.cursor.sort((x,S)=>x.startTime-S.startTime),t.cursor.forEach((x,S)=>{x.startTime=x.startTime+bi}),t.timingPoints.forEach((x,S)=>{x.time=x.time+bi}),t}function P7(){return Math.max(document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function I7(){return Math.max(document.documentElement.clientHeight)}const Ji=new Audio;class R7{constructor(){jt(this,"audiovolume");jt(this,"audio");jt(this,"hitlist");jt(this,"effectvolume");jt(this,"score");jt(this,"hitbonus");jt(this,"maxscore");jt(this,"hitwaitlist");jt(this,"combo");jt(this,"playStartTime");jt(this,"cursor");jt(this,"audiopath");jt(this,"editoractive");jt(this,"mode");jt(this,"isPlaying");jt(this,"key");jt(this,"currenttime");jt(this,"highestcombo");jt(this,"beatmap");jt(this,"maxcombo");jt(this,"notespeed");jt(this,"WIDTH");jt(this,"duration");jt(this,"HEIGHT");jt(this,"chartoffset");jt(this,"inputoffset");jt(this,"mousedown");jt(this,"alert");this.beatmap=null,this.key=["00","00","00","00","00"],this.audio=Ji,this.audiopath="",this.chartoffset=0,this.inputoffset=0,this.audiovolume=NaN,this.effectvolume=NaN,this.highestcombo=0,this.hitwaitlist=[],this.maxcombo=NaN,this.score=0,this.hitbonus=0,this.notespeed=0,this.maxscore=NaN,this.combo=0,this.duration=0,this.playStartTime=0,this.isPlaying=!1,this.cursor=.5,this.mode="",this.currenttime=0,this.HEIGHT=I7(),this.WIDTH=P7(),this.hitlist=[],this.mousedown="",this.alert=["",0,0],this.editoractive=""}init(t,r,n,i,s,o,u,c){return this.audiovolume=t,this.effectvolume=r,this.audiopath=i,this.notespeed=u,this.maxscore=s,this.maxcombo=c,this.beatmap=o,Ji.src=i,this}NOTE_TRAVEL_DURATION(){return Tt/this.notespeed*1e3}NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION(){return pu/this.notespeed*1e3}async miss(t,r){this.combo=0,this.hitlist.push(t.toString()+r.toString()+",miss"),gu(this.currenttime,"miss")}async hit(t,r,n,i){this.score+=this.idtoscore(t),this.combo+=1,this.combo>this.highestcombo&&(this.highestcombo=this.combo),n==5?this.key[n-1]="00":this.key[n-1]="01",this.hitbonus+=i>=1?1/i*10:10,gu(r,t),this.hitlist.find(s=>s.startsWith(r.toString()+n.toString()))==null&&this.hitlist.push(r.toString()+n.toString()+","+t)}async play(t){this.score=0,this.combo=0,this.hitlist=[],this.mode=t,this.isPlaying=!0,this.mode=="play"?(this.audio=Ji,this.audio.play(),this.playStartTime=Date.now()):this.playStartTime=Date.now()}retry(){this.isPlaying=!0,this.score=0,this.combo=0,this.playStartTime=Date.now(),this.hitlist=[],Ji.currentTime=0,Ji.play()}quit(){this.isPlaying=!1,this.score=0,this.combo=0,this.playStartTime=0,this.hitlist=[],Ji.pause(),Ji.currentTime=0}idtoscore(t){switch(t){case"perfect":return 100;case"great":return 90;case"ok":return 30;default:return 0}}setAudioPath(t){this.audiopath=t}setVolume(t){Ji.volume=t}setEffectVolume(t){this.effectvolume=t}}const Pl=`{
  "bgPath": "underthrone_turmoil",
  "audioPath": "https://cdn.discordapp.com/attachments/1021719285766295593/1124272412578545724/audio.ogg",
  "jacketPath": "https://media.discordapp.net/attachments/1021719285766295593/1124272587569103018/Camellia_-_Tera_I-O_-_Jacket.png",
  "metadata": {"title": "M1LL10N PP", "titleUnicode": "M1LL10N PP", "artist": "Camellia", "artistUnicode": "\u304B\u3081\u308A\u3042", "creator": "ohm002", "difficult": "4k"}, "hitObjects": [{"type": "note", "column": 3, "startTime": 4118}, {"type": "note", "column": 2, "startTime": 4503}, {"type": "note", "column": 3, "startTime": 4887}, {"type": "note", "column": 2, "startTime": 5272}, {"type": "hold", "column": 3, "startTime": 5657, "endTime": 8092}, {"type": "hold", "column": 4, "startTime": 5657, "endTime": 8092}, {"type": "note", "column": 2, "startTime": 8221}, {"type": "note", "column": 3, "startTime": 8605}, {"type": "note", "column": 2, "startTime": 8990}, {"type": "note", "column": 3, "startTime": 9374}, {"type": "hold", "column": 2, "startTime": 9759, "endTime": 12195}, {"type": "hold", "column": 3, "startTime": 9759, "endTime": 12195}, {"type": "note", "column": 2, "startTime": 12323}, {"type": "note", "column": 1, "startTime": 12323}, {"type": "note", "column": 2, "startTime": 12580}, {"type": "note", "column": 1, "startTime": 12580}, {"type": "note", "column": 2, "startTime": 12964}, {"type": "note", "column": 1, "startTime": 12964}, {"type": "note", "column": 1, "startTime": 13221}, {"type": "note", "column": 2, "startTime": 13221}, {"type": "note", "column": 1, "startTime": 14374}, {"type": "note", "column": 2, "startTime": 14374}, {"type": "note", "column": 2, "startTime": 14631}, {"type": "note", "column": 1, "startTime": 14631}, {"type": "note", "column": 1, "startTime": 15015}, {"type": "note", "column": 2, "startTime": 15015}, {"type": "note", "column": 2, "startTime": 15272}, {"type": "note", "column": 1, "startTime": 15272}, {"type": "note", "column": 1, "startTime": 15528}, {"type": "note", "column": 2, "startTime": 15528}, {"type": "note", "column": 1, "startTime": 16426}, {"type": "note", "column": 2, "startTime": 16426}, {"type": "note", "column": 2, "startTime": 16682}, {"type": "note", "column": 1, "startTime": 16682}, {"type": "note", "column": 3, "startTime": 16939}, {"type": "note", "column": 2, "startTime": 17067}, {"type": "note", "column": 3, "startTime": 17067}, {"type": "note", "column": 1, "startTime": 17323}, {"type": "note", "column": 3, "startTime": 17323}, {"type": "hold", "column": 3, "startTime": 17451, "endTime": 18349}, {"type": "note", "column": 1, "startTime": 17451}, {"type": "note", "column": 2, "startTime": 17580}, {"type": "note", "column": 1, "startTime": 17708}, {"type": "note", "column": 2, "startTime": 17836}, {"type": "note", "column": 1, "startTime": 17964}, {"type": "note", "column": 2, "startTime": 18092}, {"type": "note", "column": 1, "startTime": 18221}, {"type": "note", "column": 2, "startTime": 18477}, {"type": "note", "column": 1, "startTime": 18477}, {"type": "note", "column": 1, "startTime": 18733}, {"type": "note", "column": 2, "startTime": 18733}, {"type": "note", "column": 2, "startTime": 18990}, {"type": "note", "column": 3, "startTime": 19118}, {"type": "note", "column": 2, "startTime": 19118}, {"type": "note", "column": 4, "startTime": 19374}, {"type": "note", "column": 2, "startTime": 19374}, {"type": "hold", "column": 2, "startTime": 19631, "endTime": 20272}, {"type": "note", "column": 3, "startTime": 19631}, {"type": "note", "column": 4, "startTime": 19759}, {"type": "note", "column": 3, "startTime": 19887}, {"type": "note", "column": 4, "startTime": 20015}, {"type": "note", "column": 3, "startTime": 20144}, {"type": "note", "column": 4, "startTime": 20272}, {"type": "note", "column": 2, "startTime": 20528}, {"type": "note", "column": 3, "startTime": 20528}, {"type": "note", "column": 2, "startTime": 20913}, {"type": "note", "column": 3, "startTime": 20913}, {"type": "note", "column": 3, "startTime": 21298}, {"type": "note", "column": 2, "startTime": 21298}, {"type": "note", "column": 2, "startTime": 21682}, {"type": "note", "column": 3, "startTime": 21682}, {"type": "note", "column": 3, "startTime": 22067}, {"type": "note", "column": 2, "startTime": 22067}, {"type": "note", "column": 2, "startTime": 22323}, {"type": "note", "column": 3, "startTime": 22323}, {"type": "hold", "column": 2, "startTime": 22580, "endTime": 23605}, {"type": "hold", "column": 3, "startTime": 22580, "endTime": 23605}, {"type": "note", "column": 2, "startTime": 28733}, {"type": "note", "column": 1, "startTime": 28733}, {"type": "note", "column": 2, "startTime": 28990}, {"type": "note", "column": 1, "startTime": 28990}, {"type": "note", "column": 1, "startTime": 29246}, {"type": "note", "column": 2, "startTime": 29246}, {"type": "note", "column": 2, "startTime": 29503}, {"type": "note", "column": 1, "startTime": 29503}, {"type": "note", "column": 1, "startTime": 29759}, {"type": "note", "column": 2, "startTime": 29759}, {"type": "note", "column": 1, "startTime": 30015}, {"type": "note", "column": 2, "startTime": 30015}, {"type": "note", "column": 2, "startTime": 30272}, {"type": "note", "column": 1, "startTime": 30272}, {"type": "note", "column": 1, "startTime": 30528}, {"type": "note", "column": 2, "startTime": 30528}, {"type": "note", "column": 2, "startTime": 30785}, {"type": "note", "column": 1, "startTime": 30785}, {"type": "note", "column": 2, "startTime": 30913}, {"type": "note", "column": 3, "startTime": 30913}, {"type": "note", "column": 3, "startTime": 31041}, {"type": "note", "column": 4, "startTime": 31041}, {"type": "note", "column": 3, "startTime": 31298}, {"type": "note", "column": 4, "startTime": 31298}, {"type": "note", "column": 4, "startTime": 31554}, {"type": "note", "column": 3, "startTime": 31554}, {"type": "note", "column": 3, "startTime": 31810}, {"type": "note", "column": 4, "startTime": 31810}, {"type": "note", "column": 4, "startTime": 32067}, {"type": "note", "column": 3, "startTime": 32067}, {"type": "note", "column": 3, "startTime": 32323}, {"type": "note", "column": 4, "startTime": 32323}, {"type": "note", "column": 4, "startTime": 32451}, {"type": "note", "column": 3, "startTime": 32451}, {"type": "note", "column": 2, "startTime": 36939}, {"type": "note", "column": 1, "startTime": 36939}, {"type": "note", "column": 2, "startTime": 37067}, {"type": "note", "column": 3, "startTime": 37067}, {"type": "note", "column": 3, "startTime": 37195}, {"type": "note", "column": 4, "startTime": 37195}, {"type": "note", "column": 3, "startTime": 37323}, {"type": "note", "column": 2, "startTime": 37323}, {"type": "note", "column": 4, "startTime": 37580}, {"type": "note", "column": 3, "startTime": 37580}, {"type": "note", "column": 1, "startTime": 37708}, {"type": "note", "column": 3, "startTime": 37836}, {"type": "note", "column": 4, "startTime": 37836}, {"type": "note", "column": 2, "startTime": 37964}, {"type": "note", "column": 1, "startTime": 37964}, {"type": "note", "column": 2, "startTime": 38092}, {"type": "note", "column": 3, "startTime": 38221}, {"type": "note", "column": 4, "startTime": 38221}, {"type": "note", "column": 3, "startTime": 38349}, {"type": "note", "column": 1, "startTime": 38477}, {"type": "note", "column": 4, "startTime": 38477}, {"type": "note", "column": 2, "startTime": 38605}, {"type": "note", "column": 3, "startTime": 38733}, {"type": "note", "column": 1, "startTime": 38733}, {"type": "note", "column": 4, "startTime": 38862}, {"type": "note", "column": 2, "startTime": 38990}, {"type": "note", "column": 1, "startTime": 38990}, {"type": "note", "column": 3, "startTime": 39118}, {"type": "note", "column": 4, "startTime": 39246}, {"type": "note", "column": 2, "startTime": 39246}, {"type": "note", "column": 3, "startTime": 39374}, {"type": "note", "column": 1, "startTime": 39374}, {"type": "note", "column": 4, "startTime": 39631}, {"type": "note", "column": 2, "startTime": 39631}, {"type": "note", "column": 3, "startTime": 39759}, {"type": "note", "column": 1, "startTime": 39759}, {"type": "note", "column": 2, "startTime": 39887}, {"type": "hold", "column": 4, "startTime": 40015, "endTime": 40528}, {"type": "note", "column": 3, "startTime": 40015}, {"type": "note", "column": 1, "startTime": 40144}, {"type": "note", "column": 3, "startTime": 40272}, {"type": "note", "column": 2, "startTime": 40400}, {"type": "note", "column": 1, "startTime": 40528}, {"type": "hold", "column": 2, "startTime": 41041, "endTime": 41554}, {"type": "hold", "column": 1, "startTime": 41041, "endTime": 41554}, {"type": "hold", "column": 1, "startTime": 41810, "endTime": 42323}, {"type": "hold", "column": 2, "startTime": 41810, "endTime": 42323}, {"type": "hold", "column": 2, "startTime": 43092, "endTime": 43605}, {"type": "hold", "column": 3, "startTime": 43092, "endTime": 43605}, {"type": "hold", "column": 2, "startTime": 43862, "endTime": 44374}, {"type": "hold", "column": 3, "startTime": 43862, "endTime": 44374}, {"type": "note", "column": 2, "startTime": 45144}, {"type": "note", "column": 1, "startTime": 45144}, {"type": "note", "column": 3, "startTime": 45400}, {"type": "note", "column": 2, "startTime": 45528}, {"type": "note", "column": 1, "startTime": 45528}, {"type": "note", "column": 3, "startTime": 45785}, {"type": "note", "column": 2, "startTime": 45913}, {"type": "note", "column": 1, "startTime": 45913}, {"type": "note", "column": 2, "startTime": 46169}, {"type": "note", "column": 1, "startTime": 46169}, {"type": "note", "column": 4, "startTime": 46426}, {"type": "note", "column": 3, "startTime": 46554}, {"type": "note", "column": 2, "startTime": 46554}, {"type": "note", "column": 4, "startTime": 46810}, {"type": "note", "column": 3, "startTime": 46939}, {"type": "note", "column": 2, "startTime": 46939}, {"type": "hold", "column": 1, "startTime": 47195, "endTime": 49118}, {"type": "note", "column": 3, "startTime": 47195}, {"type": "note", "column": 2, "startTime": 47451}, {"type": "note", "column": 3, "startTime": 47580}, {"type": "note", "column": 3, "startTime": 47836}, {"type": "note", "column": 4, "startTime": 47964}, {"type": "note", "column": 2, "startTime": 48221}, {"type": "note", "column": 3, "startTime": 48349}, {"type": "note", "column": 4, "startTime": 48477}, {"type": "note", "column": 3, "startTime": 48605}, {"type": "note", "column": 2, "startTime": 48733}, {"type": "note", "column": 3, "startTime": 48862}, {"type": "note", "column": 4, "startTime": 48990}, {"type": "hold", "column": 4, "startTime": 49246, "endTime": 49503}, {"type": "hold", "column": 3, "startTime": 49246, "endTime": 49503}, {"type": "note", "column": 3, "startTime": 49759}, {"type": "note", "column": 2, "startTime": 49759}, {"type": "note", "column": 2, "startTime": 49887}, {"type": "note", "column": 3, "startTime": 49887}, {"type": "note", "column": 3, "startTime": 50015}, {"type": "note", "column": 2, "startTime": 50015}, {"type": "note", "column": 2, "startTime": 50144}, {"type": "note", "column": 3, "startTime": 50144}, {"type": "note", "column": 3, "startTime": 50272}, {"type": "note", "column": 2, "startTime": 50272}, {"type": "note", "column": 2, "startTime": 50400}, {"type": "note", "column": 3, "startTime": 50400}, {"type": "note", "column": 3, "startTime": 50528}, {"type": "note", "column": 2, "startTime": 50528}, {"type": "note", "column": 2, "startTime": 50657}, {"type": "note", "column": 3, "startTime": 50657}, {"type": "note", "column": 3, "startTime": 50785}, {"type": "note", "column": 2, "startTime": 50785}, {"type": "note", "column": 2, "startTime": 51810}, {"type": "note", "column": 3, "startTime": 51810}, {"type": "note", "column": 3, "startTime": 51939}, {"type": "note", "column": 2, "startTime": 51939}, {"type": "note", "column": 2, "startTime": 52067}, {"type": "note", "column": 3, "startTime": 52067}, {"type": "note", "column": 3, "startTime": 52195}, {"type": "note", "column": 2, "startTime": 52195}, {"type": "note", "column": 2, "startTime": 52451}, {"type": "note", "column": 3, "startTime": 52451}, {"type": "note", "column": 3, "startTime": 52580}, {"type": "note", "column": 2, "startTime": 52580}, {"type": "note", "column": 2, "startTime": 52708}, {"type": "note", "column": 3, "startTime": 52708}, {"type": "note", "column": 3, "startTime": 52836}, {"type": "note", "column": 2, "startTime": 52836}, {"type": "hold", "column": 4, "startTime": 53349, "endTime": 55400}, {"type": "note", "column": 3, "startTime": 53349}, {"type": "note", "column": 1, "startTime": 53605}, {"type": "note", "column": 3, "startTime": 53862}, {"type": "note", "column": 1, "startTime": 54631}, {"type": "note", "column": 2, "startTime": 54759}, {"type": "note", "column": 3, "startTime": 54887}, {"type": "hold", "column": 1, "startTime": 55400, "endTime": 57195}, {"type": "note", "column": 3, "startTime": 55657}, {"type": "note", "column": 4, "startTime": 55785}, {"type": "note", "column": 3, "startTime": 55913}, {"type": "note", "column": 4, "startTime": 56169}, {"type": "note", "column": 2, "startTime": 56298}, {"type": "note", "column": 4, "startTime": 56554}, {"type": "note", "column": 2, "startTime": 56682}, {"type": "note", "column": 3, "startTime": 56810}, {"type": "note", "column": 4, "startTime": 56939}, {"type": "hold", "column": 1, "startTime": 57451, "endTime": 57931}, {"type": "hold", "column": 2, "startTime": 57451, "endTime": 57931}, {"type": "note", "column": 3, "startTime": 58411}, {"type": "note", "column": 2, "startTime": 58411}, {"type": "note", "column": 2, "startTime": 58531}, {"type": "note", "column": 2, "startTime": 58771}, {"type": "note", "column": 1, "startTime": 58771}, {"type": "note", "column": 1, "startTime": 58891}, {"type": "note", "column": 1, "startTime": 59131}, {"type": "note", "column": 2, "startTime": 59131}, {"type": "hold", "column": 2, "startTime": 59371, "endTime": 59851}, {"type": "hold", "column": 3, "startTime": 59371, "endTime": 59851}, {"type": "note", "column": 3, "startTime": 60091}, {"type": "note", "column": 2, "startTime": 60091}, {"type": "note", "column": 4, "startTime": 60331}, {"type": "note", "column": 3, "startTime": 60331}, {"type": "note", "column": 3, "startTime": 60451}, {"type": "note", "column": 2, "startTime": 60511}, {"type": "note", "column": 3, "startTime": 60571}, {"type": "note", "column": 2, "startTime": 60811}, {"type": "note", "column": 1, "startTime": 60811}, {"type": "note", "column": 3, "startTime": 61051}, {"type": "note", "column": 2, "startTime": 61051}, {"type": "hold", "column": 4, "startTime": 61291, "endTime": 61771}, {"type": "hold", "column": 3, "startTime": 61291, "endTime": 61771}, {"type": "note", "column": 3, "startTime": 62011}, {"type": "note", "column": 2, "startTime": 62011}, {"type": "note", "column": 2, "startTime": 62251}, {"type": "note", "column": 3, "startTime": 62251}, {"type": "note", "column": 2, "startTime": 62371}, {"type": "note", "column": 4, "startTime": 62611}, {"type": "note", "column": 1, "startTime": 62611}, {"type": "note", "column": 1, "startTime": 62731}, {"type": "note", "column": 3, "startTime": 62971}, {"type": "note", "column": 2, "startTime": 62971}, {"type": "hold", "column": 3, "startTime": 63211, "endTime": 63691}, {"type": "hold", "column": 2, "startTime": 63211, "endTime": 63691}, {"type": "note", "column": 2, "startTime": 63931}, {"type": "note", "column": 1, "startTime": 63931}, {"type": "note", "column": 4, "startTime": 64171}, {"type": "note", "column": 3, "startTime": 64231}, {"type": "note", "column": 2, "startTime": 64291}, {"type": "note", "column": 1, "startTime": 64351}, {"type": "note", "column": 4, "startTime": 64411}, {"type": "note", "column": 2, "startTime": 64531}, {"type": "note", "column": 3, "startTime": 64651}, {"type": "note", "column": 1, "startTime": 64771}, {"type": "note", "column": 3, "startTime": 64891}, {"type": "note", "column": 1, "startTime": 65011}, {"type": "note", "column": 3, "startTime": 65131}, {"type": "note", "column": 2, "startTime": 65131}, {"type": "note", "column": 2, "startTime": 65361}, {"type": "note", "column": 2, "startTime": 65592}, {"type": "note", "column": 3, "startTime": 65592}, {"type": "note", "column": 3, "startTime": 65823}, {"type": "note", "column": 2, "startTime": 66054}, {"type": "note", "column": 3, "startTime": 66054}, {"type": "note", "column": 2, "startTime": 66284}, {"type": "note", "column": 2, "startTime": 66400}, {"type": "note", "column": 2, "startTime": 66515}, {"type": "note", "column": 3, "startTime": 66515}, {"type": "note", "column": 3, "startTime": 66631}, {"type": "note", "column": 3, "startTime": 66746}, {"type": "note", "column": 2, "startTime": 66977}, {"type": "note", "column": 3, "startTime": 66977}, {"type": "note", "column": 2, "startTime": 67207}, {"type": "note", "column": 2, "startTime": 67323}, {"type": "note", "column": 2, "startTime": 67438}, {"type": "note", "column": 3, "startTime": 67438}, {"type": "note", "column": 3, "startTime": 67554}, {"type": "note", "column": 3, "startTime": 67669}, {"type": "note", "column": 2, "startTime": 67900}, {"type": "note", "column": 3, "startTime": 67900}, {"type": "note", "column": 2, "startTime": 68131}, {"type": "note", "column": 2, "startTime": 68361}, {"type": "note", "column": 3, "startTime": 68361}, {"type": "note", "column": 3, "startTime": 68592}, {"type": "note", "column": 3, "startTime": 68823}, {"type": "note", "column": 2, "startTime": 68823}, {"type": "note", "column": 2, "startTime": 69054}, {"type": "note", "column": 2, "startTime": 69284}, {"type": "note", "column": 3, "startTime": 69284}, {"type": "note", "column": 3, "startTime": 69515}, {"type": "note", "column": 3, "startTime": 69746}, {"type": "note", "column": 2, "startTime": 69746}, {"type": "note", "column": 3, "startTime": 69977}, {"type": "note", "column": 3, "startTime": 70092}, {"type": "note", "column": 2, "startTime": 70207}, {"type": "note", "column": 3, "startTime": 70207}, {"type": "note", "column": 2, "startTime": 70323}, {"type": "note", "column": 2, "startTime": 70438}, {"type": "note", "column": 2, "startTime": 70669}, {"type": "note", "column": 3, "startTime": 70669}, {"type": "note", "column": 2, "startTime": 70900}, {"type": "note", "column": 2, "startTime": 71015}, {"type": "note", "column": 2, "startTime": 71131}, {"type": "note", "column": 3, "startTime": 71131}, {"type": "note", "column": 3, "startTime": 71246}, {"type": "note", "column": 3, "startTime": 71361}, {"type": "note", "column": 3, "startTime": 71592}, {"type": "note", "column": 2, "startTime": 71592}, {"type": "note", "column": 2, "startTime": 71823}, {"type": "note", "column": 3, "startTime": 71823}, {"type": "note", "column": 2, "startTime": 72054}, {"type": "note", "column": 3, "startTime": 72054}, {"type": "note", "column": 3, "startTime": 72284}, {"type": "note", "column": 3, "startTime": 72515}, {"type": "note", "column": 2, "startTime": 72515}, {"type": "note", "column": 2, "startTime": 75181}, {"type": "note", "column": 1, "startTime": 75181}, {"type": "note", "column": 3, "startTime": 75403}, {"type": "note", "column": 3, "startTime": 75515}, {"type": "note", "column": 3, "startTime": 75626}, {"type": "note", "column": 4, "startTime": 75626}, {"type": "note", "column": 2, "startTime": 75848}, {"type": "note", "column": 1, "startTime": 75848}, {"type": "note", "column": 3, "startTime": 76070}, {"type": "note", "column": 4, "startTime": 76070}, {"type": "note", "column": 1, "startTime": 78737}, {"type": "note", "column": 2, "startTime": 78848}, {"type": "note", "column": 3, "startTime": 78959}, {"type": "note", "column": 4, "startTime": 79070}, {"type": "note", "column": 2, "startTime": 79181}, {"type": "note", "column": 3, "startTime": 79292}, {"type": "note", "column": 4, "startTime": 79403}, {"type": "note", "column": 3, "startTime": 79515}, {"type": "note", "column": 2, "startTime": 79626}, {"type": "note", "column": 1, "startTime": 79626}, {"type": "note", "column": 2, "startTime": 79843}, {"type": "note", "column": 3, "startTime": 79843}, {"type": "note", "column": 3, "startTime": 80060}, {"type": "note", "column": 4, "startTime": 80060}, {"type": "note", "column": 3, "startTime": 80278}, {"type": "note", "column": 2, "startTime": 80278}, {"type": "note", "column": 2, "startTime": 80495}, {"type": "note", "column": 1, "startTime": 80495}, {"type": "note", "column": 2, "startTime": 80712}, {"type": "note", "column": 3, "startTime": 80712}, {"type": "note", "column": 2, "startTime": 80930}, {"type": "note", "column": 3, "startTime": 80930}, {"type": "note", "column": 1, "startTime": 81365}, {"type": "note", "column": 2, "startTime": 81365}, {"type": "note", "column": 3, "startTime": 81582}, {"type": "note", "column": 2, "startTime": 81582}, {"type": "note", "column": 4, "startTime": 81799}, {"type": "note", "column": 3, "startTime": 81799}, {"type": "note", "column": 2, "startTime": 82017}, {"type": "note", "column": 3, "startTime": 82017}, {"type": "note", "column": 1, "startTime": 82234}, {"type": "note", "column": 2, "startTime": 82234}, {"type": "note", "column": 2, "startTime": 82452}, {"type": "note", "column": 3, "startTime": 82452}, {"type": "note", "column": 1, "startTime": 82669}, {"type": "note", "column": 4, "startTime": 82669}, {"type": "note", "column": 3, "startTime": 83104}, {"type": "note", "column": 4, "startTime": 83104}, {"type": "note", "column": 3, "startTime": 83321}, {"type": "note", "column": 2, "startTime": 83321}, {"type": "note", "column": 2, "startTime": 83539}, {"type": "note", "column": 1, "startTime": 83539}, {"type": "note", "column": 2, "startTime": 83756}, {"type": "note", "column": 3, "startTime": 83756}, {"type": "note", "column": 3, "startTime": 83973}, {"type": "note", "column": 4, "startTime": 83973}, {"type": "note", "column": 3, "startTime": 84191}, {"type": "note", "column": 2, "startTime": 84191}, {"type": "note", "column": 3, "startTime": 84408}, {"type": "note", "column": 2, "startTime": 84408}, {"type": "note", "column": 4, "startTime": 84843}, {"type": "note", "column": 3, "startTime": 84843}, {"type": "note", "column": 2, "startTime": 85060}, {"type": "note", "column": 3, "startTime": 85060}, {"type": "note", "column": 1, "startTime": 85278}, {"type": "note", "column": 2, "startTime": 85278}, {"type": "note", "column": 3, "startTime": 85495}, {"type": "note", "column": 2, "startTime": 85495}, {"type": "note", "column": 4, "startTime": 85712}, {"type": "note", "column": 3, "startTime": 85712}, {"type": "note", "column": 3, "startTime": 85930}, {"type": "note", "column": 2, "startTime": 85930}, {"type": "note", "column": 4, "startTime": 86147}, {"type": "note", "column": 1, "startTime": 86147}, {"type": "hold", "column": 1, "startTime": 86582, "endTime": 87004}, {"type": "note", "column": 4, "startTime": 86582}, {"type": "note", "column": 2, "startTime": 86793}, {"type": "hold", "column": 2, "startTime": 87004, "endTime": 87427}, {"type": "note", "column": 4, "startTime": 87004}, {"type": "note", "column": 1, "startTime": 87215}, {"type": "hold", "column": 3, "startTime": 87427, "endTime": 87849}, {"type": "note", "column": 1, "startTime": 87427}, {"type": "note", "column": 4, "startTime": 87532}, {"type": "note", "column": 2, "startTime": 87638}, {"type": "note", "column": 2, "startTime": 87849}, {"type": "hold", "column": 4, "startTime": 87849, "endTime": 88272}, {"type": "note", "column": 3, "startTime": 88060}, {"type": "note", "column": 2, "startTime": 88166}, {"type": "hold", "column": 1, "startTime": 88272, "endTime": 88694}, {"type": "note", "column": 2, "startTime": 88483}, {"type": "hold", "column": 2, "startTime": 88694, "endTime": 89117}, {"type": "note", "column": 4, "startTime": 88694}, {"type": "note", "column": 1, "startTime": 88905}, {"type": "hold", "column": 3, "startTime": 89117, "endTime": 89539}, {"type": "note", "column": 1, "startTime": 89117}, {"type": "note", "column": 4, "startTime": 89222}, {"type": "note", "column": 2, "startTime": 89328}, {"type": "note", "column": 1, "startTime": 89434}, {"type": "note", "column": 2, "startTime": 89539}, {"type": "hold", "column": 4, "startTime": 89539, "endTime": 89962}, {"type": "note", "column": 1, "startTime": 89645}, {"type": "note", "column": 3, "startTime": 89751}, {"type": "hold", "column": 3, "startTime": 89962, "endTime": 90384}, {"type": "note", "column": 2, "startTime": 89962}, {"type": "note", "column": 4, "startTime": 90067}, {"type": "note", "column": 2, "startTime": 90173}, {"type": "note", "column": 1, "startTime": 90279}, {"type": "hold", "column": 2, "startTime": 90384, "endTime": 90807}, {"type": "note", "column": 4, "startTime": 90384}, {"type": "note", "column": 3, "startTime": 90490}, {"type": "note", "column": 1, "startTime": 90596}, {"type": "note", "column": 3, "startTime": 90701}, {"type": "hold", "column": 1, "startTime": 90807, "endTime": 91229}, {"type": "note", "column": 4, "startTime": 90807}, {"type": "note", "column": 2, "startTime": 90912}, {"type": "note", "column": 3, "startTime": 91018}, {"type": "note", "column": 4, "startTime": 91124}, {"type": "note", "column": 3, "startTime": 91229}, {"type": "note", "column": 2, "startTime": 91229}, {"type": "note", "column": 4, "startTime": 91335}, {"type": "note", "column": 1, "startTime": 91441}, {"type": "note", "column": 3, "startTime": 91546}, {"type": "note", "column": 2, "startTime": 91652}, {"type": "note", "column": 1, "startTime": 91652}, {"type": "note", "column": 3, "startTime": 91758}, {"type": "note", "column": 4, "startTime": 91863}, {"type": "note", "column": 3, "startTime": 91969}, {"type": "note", "column": 2, "startTime": 92074}, {"type": "note", "column": 3, "startTime": 92074}, {"type": "note", "column": 3, "startTime": 92180}, {"type": "note", "column": 4, "startTime": 92286}, {"type": "note", "column": 3, "startTime": 92391}, {"type": "note", "column": 2, "startTime": 92497}, {"type": "note", "column": 1, "startTime": 92497}, {"type": "note", "column": 3, "startTime": 92603}, {"type": "note", "column": 2, "startTime": 92708}, {"type": "note", "column": 3, "startTime": 92814}, {"type": "note", "column": 1, "startTime": 92920}, {"type": "note", "column": 2, "startTime": 92920}, {"type": "note", "column": 3, "startTime": 93025}, {"type": "note", "column": 4, "startTime": 93025}, {"type": "note", "column": 2, "startTime": 93131}, {"type": "note", "column": 1, "startTime": 93131}, {"type": "note", "column": 3, "startTime": 93236}, {"type": "note", "column": 4, "startTime": 93236}, {"type": "hold", "column": 2, "startTime": 93342, "endTime": 93747}, {"type": "hold", "column": 1, "startTime": 93342, "endTime": 93747}, {"type": "note", "column": 3, "startTime": 93950}, {"type": "note", "column": 3, "startTime": 94051}, {"type": "note", "column": 2, "startTime": 94152}, {"type": "note", "column": 3, "startTime": 94254}, {"type": "note", "column": 2, "startTime": 94355}, {"type": "note", "column": 3, "startTime": 94456}, {"type": "hold", "column": 2, "startTime": 94558, "endTime": 94963}, {"type": "hold", "column": 3, "startTime": 94558, "endTime": 94963}, {"type": "note", "column": 3, "startTime": 95166}, {"type": "note", "column": 2, "startTime": 95267}, {"type": "note", "column": 3, "startTime": 95369}, {"type": "note", "column": 2, "startTime": 95470}, {"type": "note", "column": 3, "startTime": 95571}, {"type": "note", "column": 2, "startTime": 95774}, {"type": "note", "column": 2, "startTime": 95875}, {"type": "note", "column": 3, "startTime": 95977}, {"type": "note", "column": 3, "startTime": 96078}, {"type": "note", "column": 2, "startTime": 96179}, {"type": "note", "column": 3, "startTime": 96382}, {"type": "hold", "column": 2, "startTime": 96585, "endTime": 96990}, {"type": "hold", "column": 4, "startTime": 96585, "endTime": 96990}, {"type": "note", "column": 2, "startTime": 97801}, {"type": "note", "column": 3, "startTime": 97902}, {"type": "note", "column": 2, "startTime": 98004}, {"type": "note", "column": 3, "startTime": 98004}, {"type": "hold", "column": 3, "startTime": 98206, "endTime": 99727}, {"type": "hold", "column": 2, "startTime": 98206, "endTime": 99727}, {"type": "note", "column": 3, "startTime": 99828}, {"type": "note", "column": 2, "startTime": 99828}, {"type": "note", "column": 3, "startTime": 100025}, {"type": "note", "column": 3, "startTime": 100222}, {"type": "note", "column": 2, "startTime": 100222}, {"type": "note", "column": 2, "startTime": 100420}, {"type": "note", "column": 3, "startTime": 100617}, {"type": "note", "column": 2, "startTime": 100617}, {"type": "note", "column": 3, "startTime": 100814}, {"type": "note", "column": 3, "startTime": 101012}, {"type": "note", "column": 2, "startTime": 101012}, {"type": "note", "column": 2, "startTime": 101209}, {"type": "note", "column": 2, "startTime": 101406}, {"type": "note", "column": 3, "startTime": 101406}, {"type": "note", "column": 3, "startTime": 101604}, {"type": "note", "column": 2, "startTime": 101801}, {"type": "note", "column": 3, "startTime": 101801}, {"type": "note", "column": 2, "startTime": 101999}, {"type": "note", "column": 3, "startTime": 102196}, {"type": "note", "column": 2, "startTime": 102196}, {"type": "note", "column": 3, "startTime": 102393}, {"type": "note", "column": 3, "startTime": 102492}, {"type": "note", "column": 3, "startTime": 102591}, {"type": "note", "column": 2, "startTime": 102591}, {"type": "note", "column": 2, "startTime": 102788}, {"type": "note", "column": 3, "startTime": 102985}, {"type": "note", "column": 4, "startTime": 102985}, {"type": "note", "column": 4, "startTime": 103183}, {"type": "note", "column": 3, "startTime": 103380}, {"type": "note", "column": 4, "startTime": 103380}, {"type": "note", "column": 3, "startTime": 103578}, {"type": "note", "column": 4, "startTime": 103775}, {"type": "note", "column": 3, "startTime": 103775}, {"type": "note", "column": 4, "startTime": 103972}, {"type": "note", "column": 4, "startTime": 104170}, {"type": "note", "column": 3, "startTime": 104170}, {"type": "note", "column": 3, "startTime": 104367}, {"type": "note", "column": 3, "startTime": 104466}, {"type": "note", "column": 3, "startTime": 104564}, {"type": "note", "column": 4, "startTime": 104564}, {"type": "note", "column": 4, "startTime": 104762}, {"type": "note", "column": 3, "startTime": 104959}, {"type": "note", "column": 4, "startTime": 104959}, {"type": "note", "column": 3, "startTime": 105156}, {"type": "note", "column": 4, "startTime": 105354}, {"type": "note", "column": 3, "startTime": 105354}, {"type": "note", "column": 4, "startTime": 105453}, {"type": "note", "column": 4, "startTime": 105551}, {"type": "note", "column": 4, "startTime": 105749}, {"type": "note", "column": 3, "startTime": 105749}, {"type": "note", "column": 3, "startTime": 105946}, {"type": "note", "column": 3, "startTime": 106143}, {"type": "note", "column": 2, "startTime": 106143}, {"type": "note", "column": 4, "startTime": 108194}, {"type": "note", "column": 3, "startTime": 108194}, {"type": "note", "column": 2, "startTime": 108578}, {"type": "note", "column": 1, "startTime": 108578}, {"type": "note", "column": 4, "startTime": 108835}, {"type": "note", "column": 3, "startTime": 108835}, {"type": "note", "column": 2, "startTime": 108963}, {"type": "note", "column": 3, "startTime": 109091}, {"type": "hold", "column": 1, "startTime": 109219, "endTime": 109476}, {"type": "note", "column": 4, "startTime": 109219}, {"type": "hold", "column": 2, "startTime": 109476, "endTime": 109732}, {"type": "note", "column": 3, "startTime": 109476}, {"type": "hold", "column": 3, "startTime": 109732, "endTime": 109989}, {"type": "note", "column": 4, "startTime": 109732}, {"type": "hold", "column": 4, "startTime": 109989, "endTime": 110245}, {"type": "note", "column": 1, "startTime": 109989}, {"type": "note", "column": 2, "startTime": 110245}, {"type": "note", "column": 1, "startTime": 110245}, {"type": "note", "column": 4, "startTime": 110373}, {"type": "note", "column": 3, "startTime": 110437}, {"type": "note", "column": 2, "startTime": 110501}, {"type": "note", "column": 4, "startTime": 110630}, {"type": "note", "column": 1, "startTime": 110758}, {"type": "note", "column": 2, "startTime": 110758}, {"type": "note", "column": 3, "startTime": 110886}, {"type": "note", "column": 2, "startTime": 111014}, {"type": "note", "column": 3, "startTime": 111014}, {"type": "hold", "column": 4, "startTime": 111142, "endTime": 111399}, {"type": "hold", "column": 3, "startTime": 111142, "endTime": 111399}, {"type": "note", "column": 3, "startTime": 111527}, {"type": "note", "column": 1, "startTime": 111527}, {"type": "hold", "column": 4, "startTime": 111784, "endTime": 111912}, {"type": "note", "column": 1, "startTime": 111784}, {"type": "hold", "column": 3, "startTime": 111912, "endTime": 112040}, {"type": "hold", "column": 2, "startTime": 112040, "endTime": 112168}, {"type": "hold", "column": 1, "startTime": 112168, "endTime": 112296}, {"type": "note", "column": 4, "startTime": 112296}, {"type": "note", "column": 2, "startTime": 112553}, {"type": "note", "column": 1, "startTime": 112553}, {"type": "note", "column": 2, "startTime": 112681}, {"type": "note", "column": 3, "startTime": 112809}, {"type": "note", "column": 4, "startTime": 112809}, {"type": "note", "column": 3, "startTime": 112937}, {"type": "note", "column": 2, "startTime": 113066}, {"type": "note", "column": 1, "startTime": 113066}, {"type": "note", "column": 2, "startTime": 113194}, {"type": "hold", "column": 4, "startTime": 113322, "endTime": 114348}, {"type": "note", "column": 3, "startTime": 113322}, {"type": "note", "column": 1, "startTime": 113450}, {"type": "note", "column": 3, "startTime": 113578}, {"type": "note", "column": 2, "startTime": 113707}, {"type": "note", "column": 3, "startTime": 113835}, {"type": "note", "column": 1, "startTime": 113963}, {"type": "note", "column": 3, "startTime": 114091}, {"type": "note", "column": 2, "startTime": 114219}, {"type": "hold", "column": 1, "startTime": 114348, "endTime": 114860}, {"type": "note", "column": 2, "startTime": 114348}, {"type": "note", "column": 4, "startTime": 114732}, {"type": "note", "column": 3, "startTime": 114860}, {"type": "note", "column": 4, "startTime": 114989}, {"type": "note", "column": 2, "startTime": 115117}, {"type": "note", "column": 1, "startTime": 115117}, {"type": "note", "column": 2, "startTime": 115245}, {"type": "hold", "column": 4, "startTime": 115373, "endTime": 115630}, {"type": "note", "column": 3, "startTime": 115373}, {"type": "hold", "column": 3, "startTime": 115630, "endTime": 115886}, {"type": "note", "column": 2, "startTime": 115630}, {"type": "hold", "column": 2, "startTime": 115886, "endTime": 116142}, {"type": "note", "column": 1, "startTime": 115886}, {"type": "hold", "column": 1, "startTime": 116142, "endTime": 116399}, {"type": "note", "column": 3, "startTime": 116142}, {"type": "note", "column": 3, "startTime": 116399}, {"type": "note", "column": 2, "startTime": 116655}, {"type": "note", "column": 1, "startTime": 116655}, {"type": "note", "column": 2, "startTime": 116784}, {"type": "note", "column": 3, "startTime": 116912}, {"type": "note", "column": 4, "startTime": 116912}, {"type": "note", "column": 3, "startTime": 117040}, {"type": "hold", "column": 1, "startTime": 117168, "endTime": 117425}, {"type": "note", "column": 2, "startTime": 117168}, {"type": "note", "column": 3, "startTime": 117296}, {"type": "hold", "column": 4, "startTime": 117425, "endTime": 117681}, {"type": "note", "column": 3, "startTime": 117425}, {"type": "hold", "column": 2, "startTime": 117681, "endTime": 117937}, {"type": "note", "column": 1, "startTime": 117681}, {"type": "hold", "column": 3, "startTime": 117937, "endTime": 118194}, {"type": "note", "column": 4, "startTime": 117937}, {"type": "hold", "column": 1, "startTime": 118194, "endTime": 118450}, {"type": "note", "column": 2, "startTime": 118194}, {"type": "note", "column": 4, "startTime": 118450}, {"type": "note", "column": 2, "startTime": 118578}, {"type": "note", "column": 3, "startTime": 118642}, {"type": "note", "column": 4, "startTime": 118707}, {"type": "note", "column": 1, "startTime": 118835}, {"type": "note", "column": 2, "startTime": 118899}, {"type": "note", "column": 3, "startTime": 118963}, {"type": "note", "column": 4, "startTime": 119091}, {"type": "note", "column": 3, "startTime": 119155}, {"type": "note", "column": 2, "startTime": 119219}, {"type": "note", "column": 3, "startTime": 119348}, {"type": "note", "column": 2, "startTime": 119412}, {"type": "note", "column": 1, "startTime": 119476}, {"type": "note", "column": 4, "startTime": 119604}, {"type": "note", "column": 3, "startTime": 119668}, {"type": "note", "column": 2, "startTime": 119732}, {"type": "note", "column": 1, "startTime": 119860}, {"type": "note", "column": 2, "startTime": 119925}, {"type": "note", "column": 3, "startTime": 119989}, {"type": "note", "column": 2, "startTime": 120053}, {"type": "note", "column": 1, "startTime": 120117}, {"type": "note", "column": 2, "startTime": 120181}, {"type": "note", "column": 3, "startTime": 120245}, {"type": "note", "column": 4, "startTime": 120309}, {"type": "note", "column": 3, "startTime": 120373}, {"type": "note", "column": 2, "startTime": 120437}, {"type": "note", "column": 1, "startTime": 120501}, {"type": "note", "column": 4, "startTime": 120501}, {"type": "note", "column": 2, "startTime": 120630}, {"type": "note", "column": 3, "startTime": 120694}, {"type": "note", "column": 2, "startTime": 120758}, {"type": "note", "column": 3, "startTime": 120886}, {"type": "note", "column": 4, "startTime": 121014}, {"type": "note", "column": 3, "startTime": 121014}, {"type": "note", "column": 3, "startTime": 121142}, {"type": "note", "column": 1, "startTime": 121271}, {"type": "note", "column": 2, "startTime": 121271}, {"type": "note", "column": 1, "startTime": 121399}, {"type": "note", "column": 3, "startTime": 121527}, {"type": "note", "column": 2, "startTime": 121527}, {"type": "note", "column": 3, "startTime": 121912}, {"type": "note", "column": 2, "startTime": 121976}, {"type": "note", "column": 3, "startTime": 122040}, {"type": "note", "column": 3, "startTime": 122232}, {"type": "note", "column": 2, "startTime": 122232}, {"type": "note", "column": 3, "startTime": 122425}, {"type": "note", "column": 2, "startTime": 122425}, {"type": "hold", "column": 1, "startTime": 122553, "endTime": 123450}, {"type": "note", "column": 2, "startTime": 122553}, {"type": "note", "column": 4, "startTime": 122681}, {"type": "note", "column": 2, "startTime": 122809}, {"type": "note", "column": 3, "startTime": 122809}, {"type": "note", "column": 4, "startTime": 122937}, {"type": "note", "column": 2, "startTime": 123066}, {"type": "note", "column": 4, "startTime": 123194}, {"type": "note", "column": 3, "startTime": 123322}, {"type": "note", "column": 2, "startTime": 123322}, {"type": "note", "column": 4, "startTime": 123450}, {"type": "hold", "column": 3, "startTime": 123578, "endTime": 123707}, {"type": "hold", "column": 2, "startTime": 123578, "endTime": 123707}, {"type": "hold", "column": 3, "startTime": 123835, "endTime": 123963}, {"type": "hold", "column": 2, "startTime": 123835, "endTime": 123963}, {"type": "hold", "column": 2, "startTime": 124091, "endTime": 124219}, {"type": "hold", "column": 3, "startTime": 124091, "endTime": 124219}, {"type": "hold", "column": 2, "startTime": 124348, "endTime": 124476}, {"type": "hold", "column": 3, "startTime": 124348, "endTime": 124476}, {"type": "note", "column": 3, "startTime": 124604}, {"type": "hold", "column": 4, "startTime": 124604, "endTime": 125501}, {"type": "note", "column": 1, "startTime": 124732}, {"type": "note", "column": 2, "startTime": 124860}, {"type": "note", "column": 3, "startTime": 124860}, {"type": "note", "column": 1, "startTime": 124989}, {"type": "note", "column": 3, "startTime": 125117}, {"type": "note", "column": 1, "startTime": 125245}, {"type": "note", "column": 3, "startTime": 125373}, {"type": "note", "column": 2, "startTime": 125373}, {"type": "note", "column": 1, "startTime": 125501}, {"type": "hold", "column": 3, "startTime": 125630, "endTime": 125758}, {"type": "hold", "column": 2, "startTime": 125630, "endTime": 125758}, {"type": "hold", "column": 3, "startTime": 125886, "endTime": 126014}, {"type": "hold", "column": 2, "startTime": 125886, "endTime": 126014}, {"type": "hold", "column": 3, "startTime": 126142, "endTime": 126271}, {"type": "hold", "column": 2, "startTime": 126142, "endTime": 126271}, {"type": "hold", "column": 2, "startTime": 126399, "endTime": 126527}, {"type": "hold", "column": 3, "startTime": 126399, "endTime": 126527}, {"type": "note", "column": 2, "startTime": 126655}, {"type": "note", "column": 1, "startTime": 126655}, {"type": "note", "column": 1, "startTime": 126784}, {"type": "note", "column": 3, "startTime": 126912}, {"type": "note", "column": 4, "startTime": 126912}, {"type": "note", "column": 4, "startTime": 127040}, {"type": "note", "column": 2, "startTime": 127168}, {"type": "note", "column": 1, "startTime": 127168}, {"type": "note", "column": 1, "startTime": 127296}, {"type": "note", "column": 4, "startTime": 127425}, {"type": "note", "column": 3, "startTime": 127425}, {"type": "hold", "column": 2, "startTime": 127553, "endTime": 127809}, {"type": "hold", "column": 1, "startTime": 127553, "endTime": 127809}, {"type": "hold", "column": 2, "startTime": 127937, "endTime": 128066}, {"type": "hold", "column": 3, "startTime": 127937, "endTime": 128066}, {"type": "hold", "column": 2, "startTime": 128194, "endTime": 128322}, {"type": "hold", "column": 3, "startTime": 128194, "endTime": 128322}, {"type": "hold", "column": 2, "startTime": 128450, "endTime": 128578}, {"type": "hold", "column": 3, "startTime": 128450, "endTime": 128578}, {"type": "hold", "column": 1, "startTime": 128707, "endTime": 129732}, {"type": "note", "column": 4, "startTime": 128707}, {"type": "note", "column": 3, "startTime": 128835}, {"type": "note", "column": 2, "startTime": 128963}, {"type": "note", "column": 3, "startTime": 129091}, {"type": "note", "column": 4, "startTime": 129219}, {"type": "note", "column": 3, "startTime": 129348}, {"type": "note", "column": 2, "startTime": 129476}, {"type": "note", "column": 3, "startTime": 129604}, {"type": "hold", "column": 4, "startTime": 129732, "endTime": 130758}, {"type": "note", "column": 3, "startTime": 129732}, {"type": "note", "column": 2, "startTime": 129732}, {"type": "note", "column": 2, "startTime": 129989}, {"type": "note", "column": 3, "startTime": 129989}, {"type": "note", "column": 3, "startTime": 130245}, {"type": "note", "column": 2, "startTime": 130245}, {"type": "note", "column": 2, "startTime": 130501}, {"type": "note", "column": 3, "startTime": 130501}, {"type": "note", "column": 3, "startTime": 130758}, {"type": "note", "column": 2, "startTime": 130758}, {"type": "note", "column": 1, "startTime": 131014}, {"type": "note", "column": 2, "startTime": 131014}, {"type": "note", "column": 3, "startTime": 131142}, {"type": "note", "column": 2, "startTime": 131271}, {"type": "note", "column": 1, "startTime": 131271}, {"type": "note", "column": 3, "startTime": 131399}, {"type": "note", "column": 2, "startTime": 131527}, {"type": "note", "column": 1, "startTime": 131527}, {"type": "note", "column": 3, "startTime": 131655}, {"type": "hold", "column": 2, "startTime": 131784, "endTime": 131912}, {"type": "hold", "column": 3, "startTime": 131784, "endTime": 131912}, {"type": "hold", "column": 2, "startTime": 132040, "endTime": 132168}, {"type": "hold", "column": 1, "startTime": 132040, "endTime": 132168}, {"type": "hold", "column": 3, "startTime": 132296, "endTime": 132425}, {"type": "hold", "column": 4, "startTime": 132296, "endTime": 132425}, {"type": "hold", "column": 2, "startTime": 132553, "endTime": 132681}, {"type": "hold", "column": 3, "startTime": 132553, "endTime": 132681}, {"type": "note", "column": 4, "startTime": 132809}, {"type": "note", "column": 3, "startTime": 132809}, {"type": "note", "column": 2, "startTime": 132937}, {"type": "note", "column": 2, "startTime": 133066}, {"type": "note", "column": 1, "startTime": 133066}, {"type": "note", "column": 2, "startTime": 133194}, {"type": "note", "column": 3, "startTime": 133322}, {"type": "note", "column": 4, "startTime": 133322}, {"type": "note", "column": 3, "startTime": 133450}, {"type": "note", "column": 2, "startTime": 133578}, {"type": "note", "column": 1, "startTime": 133578}, {"type": "note", "column": 2, "startTime": 133707}, {"type": "hold", "column": 3, "startTime": 133835, "endTime": 133963}, {"type": "hold", "column": 4, "startTime": 133835, "endTime": 133963}, {"type": "hold", "column": 2, "startTime": 134091, "endTime": 134219}, {"type": "hold", "column": 1, "startTime": 134091, "endTime": 134219}, {"type": "hold", "column": 2, "startTime": 134348, "endTime": 134476}, {"type": "hold", "column": 3, "startTime": 134348, "endTime": 134476}, {"type": "hold", "column": 3, "startTime": 134604, "endTime": 134732}, {"type": "hold", "column": 4, "startTime": 134604, "endTime": 134732}, {"type": "hold", "column": 2, "startTime": 134860, "endTime": 135758}, {"type": "note", "column": 3, "startTime": 134860}, {"type": "note", "column": 4, "startTime": 134989}, {"type": "note", "column": 3, "startTime": 135117}, {"type": "note", "column": 4, "startTime": 135245}, {"type": "note", "column": 3, "startTime": 135373}, {"type": "note", "column": 4, "startTime": 135501}, {"type": "note", "column": 1, "startTime": 135630}, {"type": "note", "column": 4, "startTime": 135758}, {"type": "hold", "column": 3, "startTime": 135886, "endTime": 136912}, {"type": "note", "column": 1, "startTime": 135886}, {"type": "note", "column": 2, "startTime": 136014}, {"type": "note", "column": 1, "startTime": 136142}, {"type": "note", "column": 2, "startTime": 136271}, {"type": "hold", "column": 1, "startTime": 136399, "endTime": 136527}, {"type": "hold", "column": 2, "startTime": 136655, "endTime": 136784}, {"type": "note", "column": 1, "startTime": 136912}, {"type": "note", "column": 2, "startTime": 136912}, {"type": "note", "column": 4, "startTime": 137296}, {"type": "note", "column": 3, "startTime": 137360}, {"type": "note", "column": 4, "startTime": 137425}, {"type": "note", "column": 1, "startTime": 137809}, {"type": "note", "column": 2, "startTime": 137873}, {"type": "note", "column": 1, "startTime": 137937}, {"type": "note", "column": 3, "startTime": 138450}, {"type": "note", "column": 2, "startTime": 138514}, {"type": "note", "column": 1, "startTime": 138578}, {"type": "note", "column": 3, "startTime": 138642}, {"type": "note", "column": 2, "startTime": 138707}, {"type": "note", "column": 1, "startTime": 138771}, {"type": "note", "column": 3, "startTime": 138835}, {"type": "note", "column": 2, "startTime": 138899}, {"type": "note", "column": 2, "startTime": 155373}, {"type": "note", "column": 3, "startTime": 155501}, {"type": "note", "column": 2, "startTime": 155630}, {"type": "note", "column": 3, "startTime": 155758}, {"type": "note", "column": 2, "startTime": 155886}, {"type": "note", "column": 3, "startTime": 156014}, {"type": "note", "column": 2, "startTime": 156142}, {"type": "note", "column": 3, "startTime": 156271}, {"type": "note", "column": 2, "startTime": 156399}, {"type": "note", "column": 3, "startTime": 156527}, {"type": "note", "column": 2, "startTime": 156655}, {"type": "note", "column": 3, "startTime": 156784}, {"type": "note", "column": 2, "startTime": 156912}, {"type": "note", "column": 3, "startTime": 157040}, {"type": "note", "column": 2, "startTime": 157168}, {"type": "note", "column": 3, "startTime": 157296}, {"type": "note", "column": 2, "startTime": 157425}, {"type": "note", "column": 3, "startTime": 157489}, {"type": "note", "column": 2, "startTime": 157553}, {"type": "note", "column": 3, "startTime": 157617}, {"type": "note", "column": 2, "startTime": 157681}, {"type": "note", "column": 3, "startTime": 157745}, {"type": "note", "column": 2, "startTime": 157809}, {"type": "note", "column": 3, "startTime": 157873}, {"type": "note", "column": 2, "startTime": 157937}, {"type": "note", "column": 3, "startTime": 158001}, {"type": "note", "column": 2, "startTime": 158066}, {"type": "note", "column": 3, "startTime": 158130}, {"type": "note", "column": 2, "startTime": 158194}, {"type": "note", "column": 3, "startTime": 158258}, {"type": "note", "column": 2, "startTime": 158322}, {"type": "note", "column": 3, "startTime": 158386}, {"type": "note", "column": 2, "startTime": 158450}, {"type": "note", "column": 3, "startTime": 158514}, {"type": "note", "column": 2, "startTime": 158578}, {"type": "note", "column": 3, "startTime": 158642}, {"type": "note", "column": 2, "startTime": 158707}, {"type": "note", "column": 3, "startTime": 158771}, {"type": "note", "column": 2, "startTime": 158835}, {"type": "note", "column": 3, "startTime": 158899}, {"type": "note", "column": 2, "startTime": 158963}, {"type": "note", "column": 2, "startTime": 159476}, {"type": "note", "column": 1, "startTime": 159476}, {"type": "note", "column": 3, "startTime": 159604}, {"type": "note", "column": 2, "startTime": 159732}, {"type": "note", "column": 1, "startTime": 159732}, {"type": "note", "column": 4, "startTime": 159860}, {"type": "note", "column": 3, "startTime": 159925}, {"type": "note", "column": 4, "startTime": 159989}, {"type": "note", "column": 2, "startTime": 160117}, {"type": "note", "column": 1, "startTime": 160117}, {"type": "note", "column": 4, "startTime": 160245}, {"type": "note", "column": 2, "startTime": 160373}, {"type": "note", "column": 1, "startTime": 160373}, {"type": "note", "column": 4, "startTime": 160501}, {"type": "note", "column": 3, "startTime": 160566}, {"type": "note", "column": 2, "startTime": 160630}, {"type": "note", "column": 1, "startTime": 160694}, {"type": "note", "column": 4, "startTime": 160758}, {"type": "note", "column": 3, "startTime": 160822}, {"type": "note", "column": 2, "startTime": 160886}, {"type": "note", "column": 1, "startTime": 160950}, {"type": "note", "column": 4, "startTime": 161014}, {"type": "note", "column": 3, "startTime": 161078}, {"type": "note", "column": 2, "startTime": 161142}, {"type": "note", "column": 1, "startTime": 161207}, {"type": "note", "column": 2, "startTime": 161271}, {"type": "note", "column": 1, "startTime": 161399}, {"type": "note", "column": 2, "startTime": 161527}, {"type": "note", "column": 1, "startTime": 161655}, {"type": "note", "column": 2, "startTime": 161784}, {"type": "note", "column": 1, "startTime": 161912}, {"type": "note", "column": 1, "startTime": 162040}, {"type": "note", "column": 3, "startTime": 162168}, {"type": "note", "column": 4, "startTime": 162168}, {"type": "note", "column": 1, "startTime": 162296}, {"type": "note", "column": 3, "startTime": 162425}, {"type": "note", "column": 4, "startTime": 162425}, {"type": "note", "column": 1, "startTime": 162553}, {"type": "note", "column": 2, "startTime": 162617}, {"type": "note", "column": 3, "startTime": 162681}, {"type": "note", "column": 4, "startTime": 162745}, {"type": "note", "column": 1, "startTime": 162809}, {"type": "note", "column": 2, "startTime": 162873}, {"type": "note", "column": 3, "startTime": 162937}, {"type": "note", "column": 4, "startTime": 163001}, {"type": "note", "column": 1, "startTime": 163066}, {"type": "note", "column": 2, "startTime": 163130}, {"type": "note", "column": 3, "startTime": 163194}, {"type": "note", "column": 4, "startTime": 163258}, {"type": "note", "column": 3, "startTime": 163322}, {"type": "note", "column": 2, "startTime": 163386}, {"type": "note", "column": 1, "startTime": 163450}, {"type": "hold", "column": 3, "startTime": 163578, "endTime": 163835}, {"type": "hold", "column": 2, "startTime": 163578, "endTime": 163835}, {"type": "hold", "column": 2, "startTime": 163963, "endTime": 164219}, {"type": "hold", "column": 3, "startTime": 163963, "endTime": 164219}, {"type": "hold", "column": 3, "startTime": 164348, "endTime": 164604}, {"type": "hold", "column": 2, "startTime": 164348, "endTime": 164604}, {"type": "hold", "column": 2, "startTime": 164732, "endTime": 164989}, {"type": "hold", "column": 3, "startTime": 164732, "endTime": 164989}, {"type": "hold", "column": 3, "startTime": 165117, "endTime": 165373}, {"type": "hold", "column": 2, "startTime": 165117, "endTime": 165373}, {"type": "note", "column": 3, "startTime": 165501}, {"type": "note", "column": 2, "startTime": 165566}, {"type": "note", "column": 3, "startTime": 165630}, {"type": "note", "column": 2, "startTime": 165694}, {"type": "note", "column": 3, "startTime": 165758}, {"type": "note", "column": 2, "startTime": 165822}, {"type": "note", "column": 3, "startTime": 165886}, {"type": "note", "column": 2, "startTime": 165950}, {"type": "note", "column": 3, "startTime": 166014}, {"type": "note", "column": 2, "startTime": 166078}, {"type": "note", "column": 3, "startTime": 166142}, {"type": "note", "column": 2, "startTime": 166207}, {"type": "note", "column": 3, "startTime": 166271}, {"type": "note", "column": 2, "startTime": 166335}, {"type": "note", "column": 3, "startTime": 166399}, {"type": "note", "column": 2, "startTime": 166463}, {"type": "note", "column": 3, "startTime": 166527}, {"type": "note", "column": 2, "startTime": 166591}, {"type": "note", "column": 3, "startTime": 166655}, {"type": "note", "column": 3, "startTime": 167681}, {"type": "note", "column": 2, "startTime": 167681}], "cursor": [{"type": "normal", "x": 0.3125, "startTime": 4118}, {"type": "normal", "x": 0.6875, "startTime": 4503}, {"type": "normal", "x": 0.4375, "startTime": 4887}, {"type": "normal", "x": 0.8125, "startTime": 5272}, {"type": "normal", "x": 0.4375, "startTime": 5657}, {"type": "normal", "x": 0.40234375, "startTime": 5721}, {"type": "normal", "x": 0.369140625, "startTime": 5785}, {"type": "normal", "x": 0.3359375, "startTime": 5849}, {"type": "normal", "x": 0.3046875, "startTime": 5913}, {"type": "normal", "x": 0.2734375, "startTime": 5977}, {"type": "normal", "x": 0.248046875, "startTime": 6041}, {"type": "normal", "x": 0.22265625, "startTime": 6105}, {"type": "normal", "x": 0.201171875, "startTime": 6169}, {"type": "normal", "x": 0.18359375, "startTime": 6233}, {"type": "normal", "x": 0.16796875, "startTime": 6298}, {"type": "normal", "x": 0.154296875, "startTime": 6362}, {"type": "normal", "x": 0.14453125, "startTime": 6426}, {"type": "normal", "x": 0.13671875, "startTime": 6490}, {"type": "normal", "x": 0.130859375, "startTime": 6554}, {"type": "normal", "x": 0.126953125, "startTime": 6618}, {"type": "normal", "x": 0.123046875, "startTime": 6682}, {"type": "normal", "x": 0.6875, "startTime": 8221}, {"type": "normal", "x": 0.3125, "startTime": 8605}, {"type": "normal", "x": 0.5625, "startTime": 8990}, {"type": "normal", "x": 0.1875, "startTime": 9374}, {"type": "normal", "x": 0.5625, "startTime": 9759}, {"type": "normal", "x": 0.595703125, "startTime": 9823}, {"type": "normal", "x": 0.62890625, "startTime": 9887}, {"type": "normal", "x": 0.662109375, "startTime": 9951}, {"type": "normal", "x": 0.693359375, "startTime": 10015}, {"type": "normal", "x": 0.724609375, "startTime": 10080}, {"type": "normal", "x": 0.75, "startTime": 10144}, {"type": "normal", "x": 0.775390625, "startTime": 10208}, {"type": "normal", "x": 0.796875, "startTime": 10272}, {"type": "normal", "x": 0.814453125, "startTime": 10336}, {"type": "normal", "x": 0.830078125, "startTime": 10400}, {"type": "normal", "x": 0.84375, "startTime": 10464}, {"type": "normal", "x": 0.853515625, "startTime": 10528}, {"type": "normal", "x": 0.861328125, "startTime": 10592}, {"type": "normal", "x": 0.8671875, "startTime": 10657}, {"type": "normal", "x": 0.87109375, "startTime": 10721}, {"type": "normal", "x": 0.875, "startTime": 10785}, {"type": "normal", "x": 0.125, "startTime": 12323}, {"type": "normal", "x": 0.5, "startTime": 12580}, {"type": "normal", "x": 0.875, "startTime": 12964}, {"type": "normal", "x": 0.5, "startTime": 13221}, {"type": "normal", "x": 0.125, "startTime": 14374}, {"type": "normal", "x": 0.5, "startTime": 14631}, {"type": "normal", "x": 0.875, "startTime": 15015}, {"type": "normal", "x": 0.5, "startTime": 15272}, {"type": "normal", "x": 0.875, "startTime": 15528}, {"type": "normal", "x": 0.0, "startTime": 16426}, {"type": "normal", "x": 0.125, "startTime": 18477}, {"type": "normal", "x": 0.25, "startTime": 20528}, {"type": "normal", "x": 0.625, "startTime": 20913}, {"type": "normal", "x": 0.25, "startTime": 21298}, {"type": "normal", "x": 0.875, "startTime": 21682}, {"type": "normal", "x": 0.5625, "startTime": 22067}, {"type": "normal", "x": 0.1875, "startTime": 22323}, {"type": "normal", "x": 0.0, "startTime": 22580}, {"type": "normal", "x": 0.861328125, "startTime": 23605}, {"type": "normal", "x": 0.25, "startTime": 24631}, {"type": "normal", "x": 0.75, "startTime": 24759}, {"type": "normal", "x": 0.25, "startTime": 24887}, {"type": "normal", "x": 0.75, "startTime": 25015}, {"type": "normal", "x": 0.25, "startTime": 25144}, {"type": "normal", "x": 0.5, "startTime": 25208}, {"type": "normal", "x": 0.75, "startTime": 25272}, {"type": "normal", "x": 0.5, "startTime": 25336}, {"type": "normal", "x": 0.25, "startTime": 25400}, {"type": "normal", "x": 0.75, "startTime": 25528}, {"type": "normal", "x": 0.5, "startTime": 25657}, {"type": "normal", "x": 1.0, "startTime": 25785}, {"type": "normal", "x": 0.5, "startTime": 25913}, {"type": "normal", "x": 1.0, "startTime": 26041}, {"type": "normal", "x": 0.5, "startTime": 26169}, {"type": "normal", "x": 1.0, "startTime": 26298}, {"type": "normal", "x": 0.5, "startTime": 26426}, {"type": "normal", "x": 1.0, "startTime": 26554}, {"type": "normal", "x": 0.75, "startTime": 26618}, {"type": "normal", "x": 0.1875, "startTime": 26682}, {"type": "normal", "x": 0.125, "startTime": 26725}, {"type": "normal", "x": 0.0625, "startTime": 26768}, {"type": "normal", "x": 0.0, "startTime": 26810}, {"type": "normal", "x": 0.5, "startTime": 26939}, {"type": "normal", "x": 0.3125, "startTime": 27003}, {"type": "normal", "x": 0.125, "startTime": 27067}, {"type": "normal", "x": 0.3125, "startTime": 27131}, {"type": "normal", "x": 0.5, "startTime": 27195}, {"type": "normal", "x": 0.6875, "startTime": 27323}, {"type": "normal", "x": 0.3125, "startTime": 27451}, {"type": "normal", "x": 0.5, "startTime": 27580}, {"type": "normal", "x": 1.0, "startTime": 27708}, {"type": "normal", "x": 0.5, "startTime": 27836}, {"type": "normal", "x": 1.0, "startTime": 27964}, {"type": "normal", "x": 0.5, "startTime": 28092}, {"type": "normal", "x": 1.0, "startTime": 28221}, {"type": "normal", "x": 0.953125, "startTime": 28263}, {"type": "normal", "x": 0.908203125, "startTime": 28306}, {"type": "normal", "x": 0.86328125, "startTime": 28349}, {"type": "normal", "x": 0.8203125, "startTime": 28392}, {"type": "normal", "x": 0.77734375, "startTime": 28434}, {"type": "normal", "x": 0.73828125, "startTime": 28477}, {"type": "normal", "x": 0.701171875, "startTime": 28520}, {"type": "normal", "x": 0.669921875, "startTime": 28563}, {"type": "normal", "x": 0.64453125, "startTime": 28605}, {"type": "normal", "x": 0.625, "startTime": 28648}, {"type": "normal", "x": 0.61328125, "startTime": 28691}, {"type": "normal", "x": 0.5, "startTime": 28733}, {"type": "normal", "x": 1.0, "startTime": 28990}, {"type": "normal", "x": 0.5, "startTime": 29246}, {"type": "normal", "x": 1.0, "startTime": 29503}, {"type": "normal", "x": 0.5, "startTime": 29759}, {"type": "normal", "x": 1.0, "startTime": 30015}, {"type": "normal", "x": 0.5, "startTime": 30272}, {"type": "normal", "x": 1.0, "startTime": 30528}, {"type": "normal", "x": 0.5, "startTime": 30785}, {"type": "normal", "x": 1.0, "startTime": 30913}, {"type": "normal", "x": 0.5, "startTime": 31041}, {"type": "normal", "x": 1.0, "startTime": 31298}, {"type": "normal", "x": 0.5, "startTime": 31554}, {"type": "normal", "x": 1.0, "startTime": 31810}, {"type": "normal", "x": 0.5, "startTime": 32067}, {"type": "normal", "x": 1.0, "startTime": 32323}, {"type": "normal", "x": 0.5, "startTime": 32451}, {"type": "normal", "x": 0.3125, "startTime": 32708}, {"type": "normal", "x": 0.25, "startTime": 32751}, {"type": "normal", "x": 0.1875, "startTime": 32793}, {"type": "normal", "x": 0.125, "startTime": 32836}, {"type": "normal", "x": 0.5, "startTime": 32964}, {"type": "normal", "x": 0.8125, "startTime": 33092}, {"type": "normal", "x": 0.5, "startTime": 33221}, {"type": "normal", "x": 0.6875, "startTime": 33285}, {"type": "normal", "x": 0.875, "startTime": 33349}, {"type": "normal", "x": 0.4375, "startTime": 33477}, {"type": "normal", "x": 0.8125, "startTime": 33605}, {"type": "normal", "x": 0.375, "startTime": 33733}, {"type": "normal", "x": 0.75, "startTime": 33862}, {"type": "normal", "x": 0.3125, "startTime": 33990}, {"type": "normal", "x": 0.6875, "startTime": 34118}, {"type": "normal", "x": 0.25, "startTime": 34246}, {"type": "normal", "x": 0.625, "startTime": 34374}, {"type": "normal", "x": 0.1875, "startTime": 34503}, {"type": "normal", "x": 0.5625, "startTime": 34631}, {"type": "normal", "x": 0.0, "startTime": 34759}, {"type": "normal", "x": 1.0, "startTime": 34887}, {"type": "normal", "x": 0.5, "startTime": 35144}, {"type": "normal", "x": 0.875, "startTime": 35400}, {"type": "normal", "x": 0.4375, "startTime": 35528}, {"type": "normal", "x": 0.8125, "startTime": 35656}, {"type": "normal", "x": 0.375, "startTime": 35784}, {"type": "normal", "x": 0.75, "startTime": 35913}, {"type": "normal", "x": 0.3125, "startTime": 36041}, {"type": "normal", "x": 0.6875, "startTime": 36169}, {"type": "normal", "x": 0.25, "startTime": 36297}, {"type": "normal", "x": 0.625, "startTime": 36426}, {"type": "normal", "x": 0.708984375, "startTime": 36511}, {"type": "normal", "x": 0.791015625, "startTime": 36596}, {"type": "normal", "x": 0.86328125, "startTime": 36682}, {"type": "normal", "x": 0.921875, "startTime": 36767}, {"type": "normal", "x": 0.962890625, "startTime": 36853}, {"type": "normal", "x": 0.98828125, "startTime": 36938}, {"type": "normal", "x": 0.5, "startTime": 41041}, {"type": "normal", "x": 0.599609375, "startTime": 41105}, {"type": "normal", "x": 0.677734375, "startTime": 41169}, {"type": "normal", "x": 0.724609375, "startTime": 41233}, {"type": "normal", "x": 0.74609375, "startTime": 41297}, {"type": "normal", "x": 0.724609375, "startTime": 41362}, {"type": "normal", "x": 0.677734375, "startTime": 41426}, {"type": "normal", "x": 0.599609375, "startTime": 41490}, {"type": "normal", "x": 0.5, "startTime": 41554}, {"type": "normal", "x": 0.9375, "startTime": 41682}, {"type": "normal", "x": 0.5, "startTime": 41810}, {"type": "normal", "x": 0.400390625, "startTime": 41875}, {"type": "normal", "x": 0.322265625, "startTime": 41939}, {"type": "normal", "x": 0.275390625, "startTime": 42003}, {"type": "normal", "x": 0.25390625, "startTime": 42067}, {"type": "normal", "x": 0.275390625, "startTime": 42131}, {"type": "normal", "x": 0.322265625, "startTime": 42195}, {"type": "normal", "x": 0.400390625, "startTime": 42259}, {"type": "normal", "x": 0.5, "startTime": 42323}, {"type": "normal", "x": 0.5, "startTime": 43092}, {"type": "normal", "x": 0.298828125, "startTime": 43157}, {"type": "normal", "x": 0.142578125, "startTime": 43221}, {"type": "normal", "x": 0.048828125, "startTime": 43285}, {"type": "normal", "x": 0.0078125, "startTime": 43349}, {"type": "normal", "x": 0.048828125, "startTime": 43413}, {"type": "normal", "x": 0.142578125, "startTime": 43477}, {"type": "normal", "x": 0.298828125, "startTime": 43541}, {"type": "normal", "x": 0.5, "startTime": 43605}, {"type": "normal", "x": 0.25, "startTime": 43733}, {"type": "normal", "x": 0.5, "startTime": 43862}, {"type": "normal", "x": 0.701171875, "startTime": 43926}, {"type": "normal", "x": 0.857421875, "startTime": 43990}, {"type": "normal", "x": 0.951171875, "startTime": 44054}, {"type": "normal", "x": 0.9921875, "startTime": 44118}, {"type": "normal", "x": 0.951171875, "startTime": 44182}, {"type": "normal", "x": 0.857421875, "startTime": 44246}, {"type": "normal", "x": 0.701171875, "startTime": 44310}, {"type": "normal", "x": 0.5, "startTime": 44374}, {"type": "normal", "x": 0.75, "startTime": 44631}, {"type": "normal", "x": 0.5, "startTime": 45144}, {"type": "normal", "x": 0.625, "startTime": 45785}, {"type": "normal", "x": 0.375, "startTime": 45913}, {"type": "normal", "x": 0.5, "startTime": 46041}, {"type": "normal", "x": 0.5, "startTime": 49246}, {"type": "normal", "x": 0.298828125, "startTime": 49310}, {"type": "normal", "x": 0.142578125, "startTime": 49374}, {"type": "normal", "x": 0.048828125, "startTime": 49438}, {"type": "normal", "x": 0.0078125, "startTime": 49502}, {"type": "normal", "x": 0.048828125, "startTime": 49566}, {"type": "normal", "x": 0.142578125, "startTime": 49630}, {"type": "normal", "x": 0.298828125, "startTime": 49694}, {"type": "normal", "x": 0.5, "startTime": 49758}, {"type": "normal", "x": 0.0, "startTime": 49887}, {"type": "normal", "x": 0.25, "startTime": 50015}, {"type": "normal", "x": 0.0, "startTime": 50143}, {"type": "normal", "x": 0.5, "startTime": 50272}, {"type": "normal", "x": 0.25, "startTime": 50400}, {"type": "normal", "x": 0.5, "startTime": 50528}, {"type": "normal", "x": 0.25, "startTime": 50656}, {"type": "normal", "x": 0.5, "startTime": 50785}, {"type": "normal", "x": 0.701171875, "startTime": 50849}, {"type": "normal", "x": 0.857421875, "startTime": 50913}, {"type": "normal", "x": 0.951171875, "startTime": 50977}, {"type": "normal", "x": 0.9921875, "startTime": 51041}, {"type": "normal", "x": 0.951171875, "startTime": 51105}, {"type": "normal", "x": 0.857421875, "startTime": 51169}, {"type": "normal", "x": 0.701171875, "startTime": 51233}, {"type": "normal", "x": 0.5, "startTime": 51297}, {"type": "normal", "x": 0.431640625, "startTime": 51340}, {"type": "normal", "x": 0.36328125, "startTime": 51383}, {"type": "normal", "x": 0.294921875, "startTime": 51426}, {"type": "normal", "x": 0.75, "startTime": 51555}, {"type": "normal", "x": 0.681640625, "startTime": 51597}, {"type": "normal", "x": 0.61328125, "startTime": 51640}, {"type": "normal", "x": 0.544921875, "startTime": 51683}, {"type": "normal", "x": 0.75, "startTime": 51810}, {"type": "normal", "x": 1.0, "startTime": 51939}, {"type": "normal", "x": 0.75, "startTime": 52067}, {"type": "normal", "x": 1.0, "startTime": 52195}, {"type": "normal", "x": 0.5, "startTime": 52324}, {"type": "normal", "x": 0.75, "startTime": 52452}, {"type": "normal", "x": 0.5, "startTime": 52580}, {"type": "normal", "x": 0.75, "startTime": 52708}, {"type": "normal", "x": 0.5, "startTime": 52836}, {"type": "normal", "x": 0.298828125, "startTime": 52900}, {"type": "normal", "x": 0.142578125, "startTime": 52964}, {"type": "normal", "x": 0.048828125, "startTime": 53028}, {"type": "normal", "x": 0.0078125, "startTime": 53092}, {"type": "normal", "x": 0.048828125, "startTime": 53156}, {"type": "normal", "x": 0.142578125, "startTime": 53220}, {"type": "normal", "x": 0.298828125, "startTime": 53284}, {"type": "normal", "x": 0.5, "startTime": 53348}, {"type": "normal", "x": 0.25, "startTime": 57451}, {"type": "normal", "x": 0.373046875, "startTime": 57511}, {"type": "normal", "x": 0.498046875, "startTime": 57571}, {"type": "normal", "x": 0.623046875, "startTime": 57631}, {"type": "normal", "x": 0.748046875, "startTime": 57691}, {"type": "normal", "x": 0.623046875, "startTime": 57751}, {"type": "normal", "x": 0.498046875, "startTime": 57811}, {"type": "normal", "x": 0.373046875, "startTime": 57871}, {"type": "normal", "x": 0.25, "startTime": 57931}, {"type": "normal", "x": 1.0, "startTime": 58111}, {"type": "normal", "x": 0.0, "startTime": 58411}, {"type": "normal", "x": 0.0, "startTime": 59371}, {"type": "normal", "x": 0.125, "startTime": 59411}, {"type": "normal", "x": 0.25, "startTime": 59451}, {"type": "normal", "x": 0.25, "startTime": 59611}, {"type": "normal", "x": 0.125, "startTime": 59651}, {"type": "normal", "x": 0.0, "startTime": 59691}, {"type": "normal", "x": 0.5, "startTime": 59851}, {"type": "normal", "x": 0.25, "startTime": 59971}, {"type": "normal", "x": 0.75, "startTime": 60091}, {"type": "normal", "x": 0.904296875, "startTime": 61291}, {"type": "normal", "x": 0.89453125, "startTime": 61331}, {"type": "normal", "x": 0.8671875, "startTime": 61371}, {"type": "normal", "x": 0.830078125, "startTime": 61411}, {"type": "normal", "x": 0.771484375, "startTime": 61451}, {"type": "normal", "x": 0.703125, "startTime": 61491}, {"type": "normal", "x": 0.625, "startTime": 61531}, {"type": "normal", "x": 0.548828125, "startTime": 61571}, {"type": "normal", "x": 0.48046875, "startTime": 61611}, {"type": "normal", "x": 0.421875, "startTime": 61651}, {"type": "normal", "x": 0.37890625, "startTime": 61691}, {"type": "normal", "x": 0.357421875, "startTime": 61731}, {"type": "normal", "x": 0.3515625, "startTime": 61771}, {"type": "normal", "x": 0.095703125, "startTime": 63211}, {"type": "normal", "x": 0.10546875, "startTime": 63251}, {"type": "normal", "x": 0.1328125, "startTime": 63291}, {"type": "normal", "x": 0.169921875, "startTime": 63331}, {"type": "normal", "x": 0.228515625, "startTime": 63371}, {"type": "normal", "x": 0.296875, "startTime": 63411}, {"type": "normal", "x": 0.375, "startTime": 63451}, {"type": "normal", "x": 0.451171875, "startTime": 63491}, {"type": "normal", "x": 0.51953125, "startTime": 63531}, {"type": "normal", "x": 0.578125, "startTime": 63571}, {"type": "normal", "x": 0.62109375, "startTime": 63611}, {"type": "normal", "x": 0.642578125, "startTime": 63651}, {"type": "normal", "x": 0.6484375, "startTime": 63691}, {"type": "normal", "x": 0.0, "startTime": 65131}, {"type": "normal", "x": 1.0, "startTime": 65592}, {"type": "normal", "x": 0.0, "startTime": 66054}, {"type": "normal", "x": 1.0, "startTime": 66515}, {"type": "normal", "x": 0.0, "startTime": 66977}, {"type": "normal", "x": 1.0, "startTime": 67438}, {"type": "normal", "x": 0.0, "startTime": 67900}, {"type": "normal", "x": 1.0, "startTime": 68361}, {"type": "normal", "x": 0.0, "startTime": 68823}, {"type": "normal", "x": 1.0, "startTime": 69284}, {"type": "normal", "x": 0.0, "startTime": 69746}, {"type": "normal", "x": 1.0, "startTime": 70207}, {"type": "normal", "x": 0.0, "startTime": 70669}, {"type": "normal", "x": 1.0, "startTime": 71130}, {"type": "normal", "x": 0.0, "startTime": 71592}, {"type": "normal", "x": 1.0, "startTime": 72053}, {"type": "normal", "x": 0.498046875, "startTime": 72515}, {"type": "normal", "x": 0.419921875, "startTime": 72555}, {"type": "normal", "x": 0.3515625, "startTime": 72595}, {"type": "normal", "x": 0.29296875, "startTime": 72635}, {"type": "normal", "x": 0.255859375, "startTime": 72675}, {"type": "normal", "x": 0.228515625, "startTime": 72715}, {"type": "normal", "x": 0.21875, "startTime": 72755}, {"type": "normal", "x": 1.0, "startTime": 72959}, {"type": "normal", "x": 0.78125, "startTime": 73181}, {"type": "normal", "x": 1.0, "startTime": 73403}, {"type": "normal", "x": 0.625, "startTime": 73626}, {"type": "normal", "x": 0.5, "startTime": 73737}, {"type": "normal", "x": 1.0, "startTime": 73848}, {"type": "normal", "x": 0.625, "startTime": 73959}, {"type": "normal", "x": 0.5625, "startTime": 74070}, {"type": "normal", "x": 1.0, "startTime": 74181}, {"type": "normal", "x": 0.75, "startTime": 74292}, {"type": "normal", "x": 0.5, "startTime": 74403}, {"type": "normal", "x": 0.75, "startTime": 74515}, {"type": "normal", "x": 1.0, "startTime": 74626}, {"type": "normal", "x": 0.5, "startTime": 74737}, {"type": "normal", "x": 0.75, "startTime": 74848}, {"type": "normal", "x": 0.28125, "startTime": 74959}, {"type": "normal", "x": 0.875, "startTime": 75181}, {"type": "normal", "x": 0.125, "startTime": 75626}, {"type": "normal", "x": 0.501953125, "startTime": 76070}, {"type": "normal", "x": 0.580078125, "startTime": 76110}, {"type": "normal", "x": 0.6484375, "startTime": 76150}, {"type": "normal", "x": 0.70703125, "startTime": 76190}, {"type": "normal", "x": 0.744140625, "startTime": 76230}, {"type": "normal", "x": 0.771484375, "startTime": 76270}, {"type": "normal", "x": 0.78125, "startTime": 76310}, {"type": "normal", "x": 0.0, "startTime": 76515}, {"type": "normal", "x": 0.21875, "startTime": 76737}, {"type": "normal", "x": 0.0, "startTime": 76959}, {"type": "normal", "x": 0.375, "startTime": 77182}, {"type": "normal", "x": 0.5, "startTime": 77293}, {"type": "normal", "x": 0.0, "startTime": 77404}, {"type": "normal", "x": 0.375, "startTime": 77515}, {"type": "normal", "x": 0.4375, "startTime": 77626}, {"type": "normal", "x": 0.0, "startTime": 77737}, {"type": "normal", "x": 0.25, "startTime": 77848}, {"type": "normal", "x": 0.5, "startTime": 77959}, {"type": "normal", "x": 0.25, "startTime": 78071}, {"type": "normal", "x": 0.0, "startTime": 78182}, {"type": "normal", "x": 0.5, "startTime": 78293}, {"type": "normal", "x": 0.25, "startTime": 78404}, {"type": "normal", "x": 0.71875, "startTime": 78515}, {"type": "normal", "x": 0.15625, "startTime": 78737}, {"type": "normal", "x": 0.25, "startTime": 78848}, {"type": "normal", "x": 0.34375, "startTime": 78959}, {"type": "normal", "x": 0.4375, "startTime": 79070}, {"type": "normal", "x": 0.53125, "startTime": 79181}, {"type": "normal", "x": 0.4375, "startTime": 79292}, {"type": "normal", "x": 0.34375, "startTime": 79404}, {"type": "normal", "x": 0.25, "startTime": 79515}, {"type": "normal", "x": 0.0, "startTime": 79626}, {"type": "normal", "x": 0.5, "startTime": 80278}, {"type": "normal", "x": 0.0, "startTime": 80712}, {"type": "normal", "x": 0.65625, "startTime": 80930}, {"type": "normal", "x": 0.15625, "startTime": 81365}, {"type": "normal", "x": 0.65625, "startTime": 82017}, {"type": "normal", "x": 0.28125, "startTime": 82452}, {"type": "normal", "x": 0.78125, "startTime": 82669}, {"type": "normal", "x": 1.0, "startTime": 83104}, {"type": "normal", "x": 0.5, "startTime": 83756}, {"type": "normal", "x": 1.0, "startTime": 84190}, {"type": "normal", "x": 0.34375, "startTime": 84408}, {"type": "normal", "x": 0.84375, "startTime": 84843}, {"type": "normal", "x": 0.34375, "startTime": 85495}, {"type": "normal", "x": 0.71875, "startTime": 85930}, {"type": "normal", "x": 0.21875, "startTime": 86147}, {"type": "normal", "x": 0.5, "startTime": 86582}, {"type": "normal", "x": 0.5, "startTime": 87004}, {"type": "normal", "x": 0.5, "startTime": 87427}, {"type": "normal", "x": 0.5, "startTime": 87849}, {"type": "normal", "x": 0.5, "startTime": 88272}, {"type": "normal", "x": 0.5, "startTime": 88694}, {"type": "normal", "x": 0.5, "startTime": 89117}, {"type": "normal", "x": 0.5, "startTime": 89539}, {"type": "normal", "x": 0.5, "startTime": 89962}, {"type": "normal", "x": 0.5, "startTime": 90384}, {"type": "normal", "x": 0.5, "startTime": 90807}, {"type": "normal", "x": 0.5, "startTime": 91229}, {"type": "normal", "x": 0.5, "startTime": 91652}, {"type": "normal", "x": 0.5, "startTime": 92074}, {"type": "normal", "x": 0.5, "startTime": 92497}, {"type": "normal", "x": 0.5, "startTime": 92920}, {"type": "normal", "x": 0.5, "startTime": 93342}, {"type": "normal", "x": 0.357421875, "startTime": 93392}, {"type": "normal", "x": 0.24609375, "startTime": 93443}, {"type": "normal", "x": 0.1796875, "startTime": 93494}, {"type": "normal", "x": 0.150390625, "startTime": 93544}, {"type": "normal", "x": 0.1796875, "startTime": 93595}, {"type": "normal", "x": 0.24609375, "startTime": 93646}, {"type": "normal", "x": 0.357421875, "startTime": 93696}, {"type": "normal", "x": 0.5, "startTime": 93747}, {"type": "normal", "x": 0.5, "startTime": 94558}, {"type": "normal", "x": 0.640625, "startTime": 94608}, {"type": "normal", "x": 0.751953125, "startTime": 94659}, {"type": "normal", "x": 0.818359375, "startTime": 94710}, {"type": "normal", "x": 0.84765625, "startTime": 94760}, {"type": "normal", "x": 0.818359375, "startTime": 94811}, {"type": "normal", "x": 0.751953125, "startTime": 94862}, {"type": "normal", "x": 0.640625, "startTime": 94912}, {"type": "normal", "x": 0.5, "startTime": 94963}, {"type": "normal", "x": 0.357421875, "startTime": 95013}, {"type": "normal", "x": 0.24609375, "startTime": 95064}, {"type": "normal", "x": 0.1796875, "startTime": 95115}, {"type": "normal", "x": 0.150390625, "startTime": 95165}, {"type": "normal", "x": 0.1796875, "startTime": 95216}, {"type": "normal", "x": 0.24609375, "startTime": 95267}, {"type": "normal", "x": 0.357421875, "startTime": 95317}, {"type": "normal", "x": 0.5, "startTime": 95368}, {"type": "normal", "x": 0.375, "startTime": 95774}, {"type": "normal", "x": 0.625, "startTime": 95875}, {"type": "normal", "x": 0.375, "startTime": 95977}, {"type": "normal", "x": 0.625, "startTime": 96078}, {"type": "normal", "x": 0.375, "startTime": 96179}, {"type": "normal", "x": 0.625, "startTime": 96382}, {"type": "normal", "x": 0.5, "startTime": 96585}, {"type": "normal", "x": 0.640625, "startTime": 96635}, {"type": "normal", "x": 0.751953125, "startTime": 96686}, {"type": "normal", "x": 0.818359375, "startTime": 96737}, {"type": "normal", "x": 0.84765625, "startTime": 96787}, {"type": "normal", "x": 0.818359375, "startTime": 96838}, {"type": "normal", "x": 0.751953125, "startTime": 96889}, {"type": "normal", "x": 0.640625, "startTime": 96939}, {"type": "normal", "x": 0.5, "startTime": 96990}, {"type": "normal", "x": 0.5, "startTime": 98206}, {"type": "normal", "x": 0.359375, "startTime": 98256}, {"type": "normal", "x": 0.248046875, "startTime": 98307}, {"type": "normal", "x": 0.181640625, "startTime": 98358}, {"type": "normal", "x": 0.15234375, "startTime": 98408}, {"type": "normal", "x": 0.181640625, "startTime": 98459}, {"type": "normal", "x": 0.248046875, "startTime": 98510}, {"type": "normal", "x": 0.359375, "startTime": 98560}, {"type": "normal", "x": 0.5, "startTime": 98611}, {"type": "normal", "x": 0.640625, "startTime": 98662}, {"type": "normal", "x": 0.751953125, "startTime": 98713}, {"type": "normal", "x": 0.818359375, "startTime": 98764}, {"type": "normal", "x": 0.84765625, "startTime": 98814}, {"type": "normal", "x": 0.818359375, "startTime": 98865}, {"type": "normal", "x": 0.751953125, "startTime": 98916}, {"type": "normal", "x": 0.640625, "startTime": 98966}, {"type": "normal", "x": 0.5, "startTime": 99017}, {"type": "normal", "x": 0.359375, "startTime": 99067}, {"type": "normal", "x": 0.248046875, "startTime": 99118}, {"type": "normal", "x": 0.181640625, "startTime": 99169}, {"type": "normal", "x": 0.15234375, "startTime": 99219}, {"type": "normal", "x": 0.181640625, "startTime": 99270}, {"type": "normal", "x": 0.248046875, "startTime": 99321}, {"type": "normal", "x": 0.359375, "startTime": 99371}, {"type": "normal", "x": 0.5, "startTime": 99422}, {"type": "normal", "x": 0.640625, "startTime": 99473}, {"type": "normal", "x": 0.751953125, "startTime": 99524}, {"type": "normal", "x": 0.818359375, "startTime": 99575}, {"type": "normal", "x": 0.84765625, "startTime": 99625}, {"type": "normal", "x": 0.818359375, "startTime": 99676}, {"type": "normal", "x": 0.751953125, "startTime": 99727}, {"type": "normal", "x": 0.640625, "startTime": 99777}, {"type": "normal", "x": 0.0, "startTime": 99828}, {"type": "normal", "x": 1.0, "startTime": 100222}, {"type": "normal", "x": 0.0, "startTime": 100617}, {"type": "normal", "x": 1.0, "startTime": 101011}, {"type": "normal", "x": 0.0, "startTime": 101406}, {"type": "normal", "x": 1.0, "startTime": 101800}, {"type": "normal", "x": 0.0, "startTime": 102196}, {"type": "normal", "x": 1.0, "startTime": 102492}, {"type": "normal", "x": 0.5, "startTime": 102591}, {"type": "normal", "x": 1.0, "startTime": 102788}, {"type": "normal", "x": 0.0, "startTime": 102985}, {"type": "normal", "x": 1.0, "startTime": 103379}, {"type": "normal", "x": 0.0, "startTime": 103775}, {"type": "normal", "x": 1.0, "startTime": 104170}, {"type": "normal", "x": 0.0, "startTime": 104466}, {"type": "normal", "x": 1.0, "startTime": 104564}, {"type": "normal", "x": 0.0, "startTime": 104762}, {"type": "normal", "x": 1.0, "startTime": 104959}, {"type": "normal", "x": 0.0, "startTime": 105354}, {"type": "normal", "x": 1.0, "startTime": 105452}, {"type": "normal", "x": 0.0, "startTime": 105650}, {"type": "normal", "x": 1.0, "startTime": 105749}, {"type": "normal", "x": 0.0, "startTime": 106143}, {"type": "normal", "x": 0.5, "startTime": 121527}, {"type": "normal", "x": 0.75, "startTime": 122553}, {"type": "normal", "x": 0.5, "startTime": 123578}, {"type": "normal", "x": 0.875, "startTime": 123835}, {"type": "normal", "x": 0.375, "startTime": 124091}, {"type": "normal", "x": 0.75, "startTime": 124348}, {"type": "normal", "x": 0.25, "startTime": 124604}, {"type": "normal", "x": 0.5, "startTime": 125630}, {"type": "normal", "x": 0.125, "startTime": 125887}, {"type": "normal", "x": 0.625, "startTime": 126143}, {"type": "normal", "x": 0.25, "startTime": 126400}, {"type": "normal", "x": 0.75, "startTime": 126656}, {"type": "normal", "x": 0.3125, "startTime": 127681}, {"type": "normal", "x": 0.6875, "startTime": 127937}, {"type": "normal", "x": 0.1875, "startTime": 128194}, {"type": "normal", "x": 0.8125, "startTime": 128450}, {"type": "normal", "x": 0.5, "startTime": 128707}, {"type": "normal", "x": 0.25, "startTime": 129732}, {"type": "normal", "x": 0.5, "startTime": 129989}, {"type": "normal", "x": 0.75, "startTime": 130245}, {"type": "normal", "x": 0.5, "startTime": 130501}, {"type": "normal", "x": 1.0, "startTime": 130758}, {"type": "normal", "x": 0.0, "startTime": 131784}, {"type": "normal", "x": 0.5, "startTime": 132040}, {"type": "normal", "x": 0.1875, "startTime": 132296}, {"type": "normal", "x": 0.6875, "startTime": 132552}, {"type": "normal", "x": 0.375, "startTime": 132809}, {"type": "normal", "x": 1.0, "startTime": 133835}, {"type": "normal", "x": 0.5, "startTime": 134091}, {"type": "normal", "x": 0.75, "startTime": 134348}, {"type": "normal", "x": 0.25, "startTime": 134604}, {"type": "normal", "x": 1.0, "startTime": 134860}, {"type": "normal", "x": 0.0, "startTime": 135886}, {"type": "normal", "x": 1.0, "startTime": 136912}, {"type": "normal", "x": 0.5, "startTime": 137425}, {"type": "normal", "x": 0.75, "startTime": 137937}, {"type": "normal", "x": 0.0, "startTime": 138963}, {"type": "normal", "x": 0.5, "startTime": 139091}, {"type": "normal", "x": 0.0, "startTime": 139219}, {"type": "normal", "x": 0.5, "startTime": 139347}, {"type": "normal", "x": 0.0, "startTime": 139476}, {"type": "normal", "x": 0.5, "startTime": 139604}, {"type": "normal", "x": 0.0, "startTime": 139732}, {"type": "normal", "x": 0.5, "startTime": 139860}, {"type": "normal", "x": 0.0, "startTime": 139925}, {"type": "normal", "x": 0.5, "startTime": 139989}, {"type": "normal", "x": 0.0, "startTime": 140117}, {"type": "normal", "x": 0.5, "startTime": 140245}, {"type": "normal", "x": 0.0, "startTime": 140373}, {"type": "normal", "x": 0.5, "startTime": 140501}, {"type": "normal", "x": 0.0, "startTime": 140566}, {"type": "normal", "x": 0.5, "startTime": 140630}, {"type": "normal", "x": 0.0, "startTime": 140758}, {"type": "normal", "x": 0.5, "startTime": 140822}, {"type": "normal", "x": 0.0, "startTime": 140886}, {"type": "normal", "x": 0.5, "startTime": 140950}, {"type": "normal", "x": 0.0, "startTime": 141014}, {"type": "normal", "x": 0.75, "startTime": 141142}, {"type": "normal", "x": 0.25, "startTime": 141271}, {"type": "normal", "x": 0.75, "startTime": 141399}, {"type": "normal", "x": 0.25, "startTime": 141528}, {"type": "normal", "x": 0.75, "startTime": 141655}, {"type": "normal", "x": 0.25, "startTime": 141784}, {"type": "normal", "x": 0.75, "startTime": 141912}, {"type": "normal", "x": 0.25, "startTime": 141976}, {"type": "normal", "x": 0.75, "startTime": 142040}, {"type": "normal", "x": 0.25, "startTime": 142104}, {"type": "normal", "x": 0.75, "startTime": 142168}, {"type": "normal", "x": 0.25, "startTime": 142296}, {"type": "normal", "x": 0.75, "startTime": 142361}, {"type": "normal", "x": 0.25, "startTime": 142425}, {"type": "normal", "x": 0.75, "startTime": 142489}, {"type": "normal", "x": 0.25, "startTime": 142553}, {"type": "normal", "x": 0.0, "startTime": 143066}, {"type": "normal", "x": 0.25, "startTime": 143130}, {"type": "normal", "x": 0.0, "startTime": 143194}, {"type": "normal", "x": 0.25, "startTime": 143258}, {"type": "normal", "x": 0.0, "startTime": 143322}, {"type": "normal", "x": 0.375, "startTime": 143450}, {"type": "normal", "x": 0.125, "startTime": 143578}, {"type": "normal", "x": 0.5, "startTime": 143707}, {"type": "normal", "x": 0.25, "startTime": 143835}, {"type": "normal", "x": 0.625, "startTime": 143963}, {"type": "normal", "x": 0.375, "startTime": 144027}, {"type": "normal", "x": 0.625, "startTime": 144091}, {"type": "normal", "x": 0.25, "startTime": 144219}, {"type": "normal", "x": 0.5, "startTime": 144348}, {"type": "normal", "x": 0.125, "startTime": 144476}, {"type": "normal", "x": 0.375, "startTime": 144604}, {"type": "normal", "x": 0.0, "startTime": 144668}, {"type": "normal", "x": 0.375, "startTime": 144732}, {"type": "normal", "x": 0.125, "startTime": 144860}, {"type": "normal", "x": 0.5, "startTime": 144925}, {"type": "normal", "x": 0.125, "startTime": 144989}, {"type": "normal", "x": 0.5, "startTime": 145053}, {"type": "normal", "x": 0.125, "startTime": 145117}, {"type": "normal", "x": 0.625, "startTime": 145245}, {"type": "normal", "x": 0.25, "startTime": 145373}, {"type": "normal", "x": 0.75, "startTime": 145501}, {"type": "normal", "x": 0.375, "startTime": 145630}, {"type": "normal", "x": 0.875, "startTime": 145758}, {"type": "normal", "x": 0.5, "startTime": 145886}, {"type": "normal", "x": 1.0, "startTime": 146014}, {"type": "normal", "x": 0.625, "startTime": 146078}, {"type": "normal", "x": 1.0, "startTime": 146142}, {"type": "normal", "x": 0.375, "startTime": 146271}, {"type": "normal", "x": 0.875, "startTime": 146399}, {"type": "normal", "x": 0.25, "startTime": 146527}, {"type": "normal", "x": 0.75, "startTime": 146655}, {"type": "normal", "x": 0.0, "startTime": 146912}, {"type": "normal", "x": 0.25, "startTime": 146976}, {"type": "normal", "x": 0.0, "startTime": 147040}, {"type": "normal", "x": 0.25, "startTime": 147104}, {"type": "normal", "x": 0.0, "startTime": 147168}, {"type": "normal", "x": 0.044921875, "startTime": 147210}, {"type": "normal", "x": 0.08984375, "startTime": 147253}, {"type": "normal", "x": 0.25, "startTime": 147296}, {"type": "normal", "x": 0.294921875, "startTime": 147338}, {"type": "normal", "x": 0.33984375, "startTime": 147381}, {"type": "normal", "x": 0.5, "startTime": 147425}, {"type": "normal", "x": 0.544921875, "startTime": 147467}, {"type": "normal", "x": 0.58984375, "startTime": 147510}, {"type": "normal", "x": 0.63671875, "startTime": 147553}, {"type": "normal", "x": 1.0, "startTime": 147681}, {"type": "normal", "x": 0.9375, "startTime": 147745}, {"type": "normal", "x": 0.875, "startTime": 147809}, {"type": "normal", "x": 0.6875, "startTime": 147937}, {"type": "normal", "x": 0.625, "startTime": 147969}, {"type": "normal", "x": 0.5625, "startTime": 148001}, {"type": "normal", "x": 0.5, "startTime": 148034}, {"type": "normal", "x": 0.4375, "startTime": 148066}, {"type": "normal", "x": 0.4375, "startTime": 148098}, {"type": "normal", "x": 0.375, "startTime": 148130}, {"type": "normal", "x": 0.3125, "startTime": 148162}, {"type": "normal", "x": 0.0, "startTime": 148194}, {"type": "normal", "x": 0.0703125, "startTime": 148258}, {"type": "normal", "x": 0.140625, "startTime": 148322}, {"type": "normal", "x": 0.212890625, "startTime": 148386}, {"type": "normal", "x": 0.283203125, "startTime": 148450}, {"type": "normal", "x": 0.35546875, "startTime": 148514}, {"type": "normal", "x": 0.42578125, "startTime": 148578}, {"type": "normal", "x": 1.0, "startTime": 148707}, {"type": "normal", "x": 0.5, "startTime": 148835}, {"type": "normal", "x": 1.0, "startTime": 148963}, {"type": "normal", "x": 0.96875, "startTime": 148995}, {"type": "normal", "x": 0.939453125, "startTime": 149027}, {"type": "normal", "x": 0.91015625, "startTime": 149059}, {"type": "normal", "x": 0.87890625, "startTime": 149091}, {"type": "normal", "x": 0.849609375, "startTime": 149123}, {"type": "normal", "x": 0.8203125, "startTime": 149155}, {"type": "normal", "x": 0.7890625, "startTime": 149187}, {"type": "normal", "x": 0.640625, "startTime": 149347}, {"type": "normal", "x": 0.0, "startTime": 149476}, {"type": "normal", "x": 0.08984375, "startTime": 149540}, {"type": "normal", "x": 0.181640625, "startTime": 149604}, {"type": "normal", "x": 0.2734375, "startTime": 149668}, {"type": "normal", "x": 0.36328125, "startTime": 149732}, {"type": "normal", "x": 0.0, "startTime": 149860}, {"type": "normal", "x": 0.36328125, "startTime": 149989}, {"type": "normal", "x": 0.0, "startTime": 150117}, {"type": "normal", "x": 0.5, "startTime": 150245}, {"type": "normal", "x": 0.703125, "startTime": 150277}, {"type": "normal", "x": 0.86328125, "startTime": 150309}, {"type": "normal", "x": 0.958984375, "startTime": 150341}, {"type": "normal", "x": 1.0, "startTime": 150373}, {"type": "normal", "x": 0.958984375, "startTime": 150405}, {"type": "normal", "x": 0.86328125, "startTime": 150437}, {"type": "normal", "x": 0.703125, "startTime": 150469}, {"type": "normal", "x": 0.5, "startTime": 150501}, {"type": "normal", "x": 0.298828125, "startTime": 150533}, {"type": "normal", "x": 0.138671875, "startTime": 150565}, {"type": "normal", "x": 0.04296875, "startTime": 150597}, {"type": "normal", "x": 0.001953125, "startTime": 150629}, {"type": "normal", "x": 0.04296875, "startTime": 150661}, {"type": "normal", "x": 0.138671875, "startTime": 150693}, {"type": "normal", "x": 0.298828125, "startTime": 150725}, {"type": "normal", "x": 0.5, "startTime": 150758}, {"type": "normal", "x": 0.703125, "startTime": 150790}, {"type": "normal", "x": 0.86328125, "startTime": 150822}, {"type": "normal", "x": 0.958984375, "startTime": 150854}, {"type": "normal", "x": 1.0, "startTime": 150886}, {"type": "normal", "x": 0.958984375, "startTime": 150918}, {"type": "normal", "x": 0.86328125, "startTime": 150950}, {"type": "normal", "x": 0.703125, "startTime": 150982}, {"type": "normal", "x": 0.5, "startTime": 151014}, {"type": "normal", "x": 0.0, "startTime": 151271}, {"type": "normal", "x": 0.5, "startTime": 151399}, {"type": "normal", "x": 0.0, "startTime": 151527}, {"type": "normal", "x": 0.5, "startTime": 151655}, {"type": "normal", "x": 0.0, "startTime": 151784}, {"type": "normal", "x": 0.5, "startTime": 151912}, {"type": "normal", "x": 0.0, "startTime": 152040}, {"type": "normal", "x": 0.5, "startTime": 152168}, {"type": "normal", "x": 0.0, "startTime": 152296}, {"type": "normal", "x": 0.5, "startTime": 152424}, {"type": "normal", "x": 0.0, "startTime": 152553}, {"type": "normal", "x": 0.5, "startTime": 152681}, {"type": "normal", "x": 0.0, "startTime": 152809}, {"type": "normal", "x": 0.5, "startTime": 152937}, {"type": "normal", "x": 0.0, "startTime": 153066}, {"type": "normal", "x": 0.5, "startTime": 153130}, {"type": "normal", "x": 0.125, "startTime": 153194}, {"type": "normal", "x": 0.625, "startTime": 153258}, {"type": "normal", "x": 0.25, "startTime": 153322}, {"type": "normal", "x": 0.75, "startTime": 153450}, {"type": "normal", "x": 0.25, "startTime": 153578}, {"type": "normal", "x": 0.75, "startTime": 153706}, {"type": "normal", "x": 0.25, "startTime": 153835}, {"type": "normal", "x": 0.75, "startTime": 153963}, {"type": "normal", "x": 0.25, "startTime": 154091}, {"type": "normal", "x": 0.75, "startTime": 154219}, {"type": "normal", "x": 0.25, "startTime": 154347}, {"type": "normal", "x": 0.75, "startTime": 154475}, {"type": "normal", "x": 0.25, "startTime": 154604}, {"type": "normal", "x": 0.75, "startTime": 154732}, {"type": "normal", "x": 0.25, "startTime": 154860}, {"type": "normal", "x": 0.75, "startTime": 154988}, {"type": "normal", "x": 0.25, "startTime": 155117}, {"type": "normal", "x": 0.75, "startTime": 155181}, {"type": "normal", "x": 0.25, "startTime": 155245}, {"type": "normal", "x": 0.75, "startTime": 155309}, {"type": "normal", "x": 0.5, "startTime": 155373}, {"type": "normal", "x": 1.0, "startTime": 155630}, {"type": "normal", "x": 0.5, "startTime": 155886}, {"type": "normal", "x": 1.0, "startTime": 156143}, {"type": "normal", "x": 0.5, "startTime": 156399}, {"type": "normal", "x": 1.0, "startTime": 156656}, {"type": "normal", "x": 0.5, "startTime": 156912}, {"type": "normal", "x": 1.0, "startTime": 157169}, {"type": "normal", "x": 0.5, "startTime": 157425}, {"type": "normal", "x": 0.5546875, "startTime": 157489}, {"type": "normal", "x": 0.5, "startTime": 157553}, {"type": "normal", "x": 0.583984375, "startTime": 157617}, {"type": "normal", "x": 0.5, "startTime": 157681}, {"type": "normal", "x": 0.61328125, "startTime": 157745}, {"type": "normal", "x": 0.5, "startTime": 157809}, {"type": "normal", "x": 0.642578125, "startTime": 157873}, {"type": "normal", "x": 0.5, "startTime": 157937}, {"type": "normal", "x": 0.671875, "startTime": 158001}, {"type": "normal", "x": 0.5, "startTime": 158066}, {"type": "normal", "x": 0.701171875, "startTime": 158130}, {"type": "normal", "x": 0.5, "startTime": 158194}, {"type": "normal", "x": 0.732421875, "startTime": 158258}, {"type": "normal", "x": 0.5, "startTime": 158322}, {"type": "normal", "x": 0.76171875, "startTime": 158386}, {"type": "normal", "x": 0.5, "startTime": 158450}, {"type": "normal", "x": 0.791015625, "startTime": 158514}, {"type": "normal", "x": 0.5, "startTime": 158578}, {"type": "normal", "x": 0.8203125, "startTime": 158642}, {"type": "normal", "x": 0.5, "startTime": 158707}, {"type": "normal", "x": 0.849609375, "startTime": 158771}, {"type": "normal", "x": 0.5, "startTime": 158835}, {"type": "normal", "x": 0.87890625, "startTime": 158899}, {"type": "normal", "x": 0.5, "startTime": 158963}, {"type": "normal", "x": 0.0, "startTime": 159476}, {"type": "normal", "x": 1.0, "startTime": 161527}, {"type": "normal", "x": 0.0, "startTime": 163578}, {"type": "normal", "x": 0.203125, "startTime": 163642}, {"type": "normal", "x": 0.36328125, "startTime": 163707}, {"type": "normal", "x": 0.458984375, "startTime": 163771}, {"type": "normal", "x": 0.5, "startTime": 163835}, {"type": "normal", "x": 1.0, "startTime": 163963}, {"type": "normal", "x": 0.796875, "startTime": 164027}, {"type": "normal", "x": 0.63671875, "startTime": 164092}, {"type": "normal", "x": 0.541015625, "startTime": 164156}, {"type": "normal", "x": 0.5, "startTime": 164220}, {"type": "normal", "x": 0.0, "startTime": 164348}, {"type": "normal", "x": 0.203125, "startTime": 164412}, {"type": "normal", "x": 0.36328125, "startTime": 164477}, {"type": "normal", "x": 0.458984375, "startTime": 164541}, {"type": "normal", "x": 0.5, "startTime": 164605}, {"type": "normal", "x": 1.0, "startTime": 164733}, {"type": "normal", "x": 0.796875, "startTime": 164797}, {"type": "normal", "x": 0.63671875, "startTime": 164862}, {"type": "normal", "x": 0.541015625, "startTime": 164926}, {"type": "normal", "x": 0.5, "startTime": 164990}, {"type": "normal", "x": 0.0, "startTime": 165117}, {"type": "normal", "x": 0.203125, "startTime": 165181}, {"type": "normal", "x": 0.36328125, "startTime": 165246}, {"type": "normal", "x": 0.458984375, "startTime": 165310}, {"type": "normal", "x": 0.5, "startTime": 165374}, {"type": "normal", "x": 0.458984375, "startTime": 165437}, {"type": "normal", "x": 0.36328125, "startTime": 165501}, {"type": "normal", "x": 0.5546875, "startTime": 165630}, {"type": "normal", "x": 0.443359375, "startTime": 165694}, {"type": "normal", "x": 0.64453125, "startTime": 165758}, {"type": "normal", "x": 0.353515625, "startTime": 165822}, {"type": "normal", "x": 0.73046875, "startTime": 165886}, {"type": "normal", "x": 0.267578125, "startTime": 165950}, {"type": "normal", "x": 0.810546875, "startTime": 166014}, {"type": "normal", "x": 0.1875, "startTime": 166078}, {"type": "normal", "x": 0.875, "startTime": 166142}, {"type": "normal", "x": 0.123046875, "startTime": 166206}, {"type": "normal", "x": 0.927734375, "startTime": 166271}, {"type": "normal", "x": 0.0703125, "startTime": 166335}, {"type": "normal", "x": 0.962890625, "startTime": 166399}, {"type": "normal", "x": 0.03515625, "startTime": 166463}, {"type": "normal", "x": 0.98828125, "startTime": 166527}, {"type": "normal", "x": 0.009765625, "startTime": 166591}, {"type": "normal", "x": 0.998046875, "startTime": 166655}, {"type": "normal", "x": 0.5, "startTime": 167681}],
  "timingPoints": [
    {
      "time": 1376,
      "bpm": 175.89,
      "meter": 4,
      "defaultSampleSet": "soft",
      "volume": 100
    }
  ]
}
`,c_={"song.teraio.millionpp":{charts:{Lite:{chart:Pl},Neon:{chart:Pl},Enigma:{chart:Pl},"EX-Enigma":{chart:Pl}}}},Pr=new Audio;function k7(){const[e,t]=xt.exports.useState(""),[r,n]=xt.exports.useState(""),[i,s]=xt.exports.useState(""),[o,u]=xt.exports.useState("songtitle"),c=f=>{t(f.currentTarget.innerHTML),u("songtitleanimation"),n(c_[f.currentTarget.id].charts.Lite.chart);const m=yd(c_[f.currentTarget.id].charts.Lite.chart);Pr.src=m.audioPath;const g=20,v=20;Pr.currentTime=g,Pr.play(),Pr.volume=0,setInterval(function(){Pr.currentTime>=g+.1&&Pr.currentTime<=g+v&&Pr.volume<.1&&(Pr.volume+=.005),Pr.currentTime>=g+v&&Pr.volume!=0&&(Pr.volume-=.005)},200),f.currentTarget.id!=null&&s(m.jacketPath),setTimeout(()=>{u("songtitle")},500)};return dt(tf,{children:He("div",{className:"display",children:[He("div",{className:"songs split left",children:[He("div",{className:"songpack",children:[dt("h1",{className:"songpack-header",children:"SINGLES"}),dt("div",{className:"song",id:"song.singles.starrys",onClick:c,children:"Starry Sky"}),dt("div",{className:"song",id:"song.singles.starryd",onClick:c,children:"Starry Dream"})]}),He("div",{className:"songpack",children:[dt("h1",{className:"songpack-header",children:"TERA/IO"}),dt("div",{className:"song",id:"song.teraio.fly",onClick:c,children:"Fly Wit Me"}),dt("div",{className:"song",id:"song.teraio.dance",onClick:c,children:"Dance With Silence"}),dt("div",{className:"song",id:"song.teraio.connect",onClick:c,children:"+ERABY+E CONNEC+10N"}),dt("div",{className:"song",id:"song.teraio.float",onClick:c,children:"Body F10ating in the Zero Gravity Space"}),dt("div",{className:"song",id:"song.teraio.millionpp",onClick:c,children:"M1LLI0N PP"})]}),He("div",{className:"songpack",children:[dt("h1",{className:"songpack-header",children:"BLACK/WHITE"}),dt("div",{className:"song",id:"song.bw.deathphobia",onClick:c,children:"DESGLYXHLOPHOBIA"}),dt("div",{className:"song",id:"song.bw.kris",onClick:c,children:"KRISXTOFLARXRISM"}),dt("div",{className:"song",id:"song.bw.knew",onClick:c,children:"AKNEWRISM"}),dt("div",{className:"song",id:"song.bw.hitori",onClick:c,children:"\u4E00\u4EBA\u306E\u4E16\u754C"})]})]}),He("div",{className:"songpreview split right",children:[dt("div",{className:"songjacketbg centered",children:dt("img",{src:i,className:" centered"})}),He("div",{className:"centered ",children:[He("div",{className:"songtitlewrapper",children:[dt("div",{children:dt("h1",{children:e})}),dt("div",{className:"songtitleblurwrapper",children:dt("h1",{className:o,children:e})})]}),dt("hr",{}),dt("br",{}),He("center",{children:[dt("i",{children:"Difficulties :"}),He("div",{className:"songtitlediff",children:[dt("h2",{children:"Lite"})," ",dt("small",{children:"\xA0LV. 5"})]}),He("div",{className:"songtitlediff",children:[dt("h2",{children:"Neuron"})," ",dt("small",{children:"\xA0LV. 6"})]}),He("div",{className:"songtitlediff",children:[dt("h2",{children:"Enigma"})," ",dt("small",{children:"\xA0LV. 10"})]}),He("div",{className:"songtitlediff",children:[dt("h2",{children:"EX-Enigma"})," ",dt("small",{children:"\xA0LV. 15"})]}),dt("div",{className:"songtitlediff songplay",onClick:f=>{Pr.volume=0,Pr.pause(),M7(yd(r))},children:dt("h2",{children:"Play"})})]})]})]})]})})}const lr=new R7;var vd=!1;const vw=b3(document.getElementById("root"));function M7(e){lr.mode="menu";var t=Pl;let r=yd(t);lr.beatmap=r,lr.audio=new Audio(r.audioPath),setInterval(()=>{!isNaN(lr.audio.duration)&&!vd&&(lr.duration=lr.audio.duration*1e3,vw.render(dt(An.StrictMode,{children:dt(yw,{game:lr,chart:r,menutime:Date.now()})})),vd=!0)},10)}vw.render(dt(k7,{}));var d_;(d_=document.getElementById("chartfile"))==null||d_.addEventListener("change",()=>{var e=new FileReader;lr.mode="menu",e.onload=function(){var t=e.result;let r=yd(t);lr.beatmap=r,lr.audio=new Audio(r.audioPath),setInterval(()=>{!isNaN(lr.audio.duration)&&!vd&&(lr.duration=lr.audio.duration*1e3,console.log(lr.duration),lC.render(dt(An.StrictMode,{children:dt(yw,{game:lr,chart:r,menutime:Date.now()})}),document.getElementById("root")),vd=!0)},10)},e.readAsText(document.getElementById("chartfile").files[0])})});export default D7();
