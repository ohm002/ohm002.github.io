var kP=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var p7=kP((g7,ie)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function FP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function US(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var se={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=Symbol.for("react.element"),IP=Symbol.for("react.portal"),BP=Symbol.for("react.fragment"),RP=Symbol.for("react.strict_mode"),DP=Symbol.for("react.profiler"),MP=Symbol.for("react.provider"),OP=Symbol.for("react.context"),NP=Symbol.for("react.forward_ref"),LP=Symbol.for("react.suspense"),UP=Symbol.for("react.memo"),zP=Symbol.for("react.lazy"),Eb=Symbol.iterator;function $P(t){return t===null||typeof t!="object"?null:(t=Eb&&t[Eb]||t["@@iterator"],typeof t=="function"?t:null)}var zS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$S=Object.assign,jS={};function pl(t,e,r){this.props=t,this.context=e,this.refs=jS,this.updater=r||zS}pl.prototype.isReactComponent={};pl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HS(){}HS.prototype=pl.prototype;function l1(t,e,r){this.props=t,this.context=e,this.refs=jS,this.updater=r||zS}var u1=l1.prototype=new HS;u1.constructor=l1;$S(u1,pl.prototype);u1.isPureReactComponent=!0;var Sb=Array.isArray,GS=Object.prototype.hasOwnProperty,c1={current:null},WS={key:!0,ref:!0,__self:!0,__source:!0};function VS(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)GS.call(e,n)&&!WS.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:hc,type:t,key:s,ref:o,props:i,_owner:c1.current}}function jP(t,e){return{$$typeof:hc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function h1(t){return typeof t=="object"&&t!==null&&t.$$typeof===hc}function HP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Tb=/\/+/g;function rm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?HP(""+t.key):e.toString(36)}function dd(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hc:case IP:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+rm(o,0):n,Sb(i)?(r="",t!=null&&(r=t.replace(Tb,"$&/")+"/"),dd(i,e,r,"",function(d){return d})):i!=null&&(h1(i)&&(i=jP(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Tb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Sb(t))for(var a=0;a<t.length;a++){s=t[a];var c=n+rm(s,a);o+=dd(s,e,r,c,i)}else if(c=$P(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=n+rm(s,a++),o+=dd(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wh(t,e,r){if(t==null)return t;var n=[],i=0;return dd(t,n,"","",function(s){return e.call(r,s,i++)}),n}function GP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var br={current:null},fd={transition:null},WP={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:fd,ReactCurrentOwner:c1};function XS(){throw Error("act(...) is not supported in production builds of React.")}Le.Children={map:wh,forEach:function(t,e,r){wh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return wh(t,function(){e++}),e},toArray:function(t){return wh(t,function(e){return e})||[]},only:function(t){if(!h1(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Le.Component=pl;Le.Fragment=BP;Le.Profiler=DP;Le.PureComponent=l1;Le.StrictMode=RP;Le.Suspense=LP;Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WP;Le.act=XS;Le.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=$S({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=c1.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)GS.call(e,c)&&!WS.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];n.children=a}return{$$typeof:hc,type:t.type,key:i,ref:s,props:n,_owner:o}};Le.createContext=function(t){return t={$$typeof:OP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:MP,_context:t},t.Consumer=t};Le.createElement=VS;Le.createFactory=function(t){var e=VS.bind(null,t);return e.type=t,e};Le.createRef=function(){return{current:null}};Le.forwardRef=function(t){return{$$typeof:NP,render:t}};Le.isValidElement=h1;Le.lazy=function(t){return{$$typeof:zP,_payload:{_status:-1,_result:t},_init:GP}};Le.memo=function(t,e){return{$$typeof:UP,type:t,compare:e===void 0?null:e}};Le.startTransition=function(t){var e=fd.transition;fd.transition={};try{t()}finally{fd.transition=e}};Le.unstable_act=XS;Le.useCallback=function(t,e){return br.current.useCallback(t,e)};Le.useContext=function(t){return br.current.useContext(t)};Le.useDebugValue=function(){};Le.useDeferredValue=function(t){return br.current.useDeferredValue(t)};Le.useEffect=function(t,e){return br.current.useEffect(t,e)};Le.useId=function(){return br.current.useId()};Le.useImperativeHandle=function(t,e,r){return br.current.useImperativeHandle(t,e,r)};Le.useInsertionEffect=function(t,e){return br.current.useInsertionEffect(t,e)};Le.useLayoutEffect=function(t,e){return br.current.useLayoutEffect(t,e)};Le.useMemo=function(t,e){return br.current.useMemo(t,e)};Le.useReducer=function(t,e,r){return br.current.useReducer(t,e,r)};Le.useRef=function(t){return br.current.useRef(t)};Le.useState=function(t){return br.current.useState(t)};Le.useSyncExternalStore=function(t,e,r){return br.current.useSyncExternalStore(t,e,r)};Le.useTransition=function(){return br.current.useTransition()};Le.version="18.3.1";(function(t){t.exports=Le})(se);const mi=FP(se.exports);var d1={exports:{}},qr={},qS={exports:{}},YS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,V){var L=N.length;N.push(V);e:for(;0<L;){var z=L-1>>>1,j=N[z];if(0<i(j,V))N[z]=V,N[L]=j,L=z;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var V=N[0],L=N.pop();if(L!==V){N[0]=L;e:for(var z=0,j=N.length,K=j>>>1;z<K;){var Y=2*(z+1)-1,Ee=N[Y],pe=Y+1,Pe=N[pe];if(0>i(Ee,L))pe<j&&0>i(Pe,Ee)?(N[z]=Pe,N[pe]=L,z=pe):(N[z]=Ee,N[Y]=L,z=Y);else if(pe<j&&0>i(Pe,L))N[z]=Pe,N[pe]=L,z=pe;else break e}}return V}function i(N,V){var L=N.sortIndex-V.sortIndex;return L!==0?L:N.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],p=1,h=null,f=3,m=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(N){for(var V=r(d);V!==null;){if(V.callback===null)n(d);else if(V.startTime<=N)n(d),V.sortIndex=V.expirationTime,e(c,V);else break;V=r(d)}}function T(N){if(y=!1,b(N),!v)if(r(c)!==null)v=!0,Z(C);else{var V=r(d);V!==null&&W(T,V.startTime-N)}}function C(N,V){v=!1,y&&(y=!1,x(F),F=-1),m=!0;var L=f;try{for(b(V),h=r(c);h!==null&&(!(h.expirationTime>V)||N&&!B());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var j=z(h.expirationTime<=V);V=t.unstable_now(),typeof j=="function"?h.callback=j:h===r(c)&&n(c),b(V)}else n(c);h=r(c)}if(h!==null)var K=!0;else{var Y=r(d);Y!==null&&W(T,Y.startTime-V),K=!1}return K}finally{h=null,f=L,m=!1}}var P=!1,I=null,F=-1,M=5,k=-1;function B(){return!(t.unstable_now()-k<M)}function O(){if(I!==null){var N=t.unstable_now();k=N;var V=!0;try{V=I(!0,N)}finally{V?D():(P=!1,I=null)}}else P=!1}var D;if(typeof _=="function")D=function(){_(O)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,X=U.port2;U.port1.onmessage=O,D=function(){X.postMessage(null)}}else D=function(){w(O,0)};function Z(N){I=N,P||(P=!0,D())}function W(N,V){F=w(function(){N(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Z(C))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var L=f;f=V;try{return N()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=f;f=N;try{return V()}finally{f=L}},t.unstable_scheduleCallback=function(N,V,L){var z=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?z+L:z):L=z,N){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=L+j,N={id:p++,callback:V,priorityLevel:N,startTime:L,expirationTime:j,sortIndex:-1},L>z?(N.sortIndex=L,e(d,N),r(c)===null&&N===r(d)&&(y?(x(F),F=-1):y=!0,W(T,L-z))):(N.sortIndex=j,e(c,N),v||m||(v=!0,Z(C))),N},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(N){var V=f;return function(){var L=f;f=V;try{return N.apply(this,arguments)}finally{f=L}}}})(YS);(function(t){t.exports=YS})(qS);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VP=se.exports,Wr=qS.exports;function le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QS=new Set,Bu={};function Uo(t,e){Ka(t,e),Ka(t+"Capture",e)}function Ka(t,e){for(Bu[t]=e,t=0;t<e.length;t++)QS.add(e[t])}var zi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cv=Object.prototype.hasOwnProperty,XP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ab={},Cb={};function qP(t){return cv.call(Cb,t)?!0:cv.call(Ab,t)?!1:XP.test(t)?Cb[t]=!0:(Ab[t]=!0,!1)}function YP(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function QP(t,e,r,n){if(e===null||typeof e>"u"||YP(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ir={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ir[t]=new wr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ir[e]=new wr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ir[t]=new wr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ir[t]=new wr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ir[t]=new wr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ir[t]=new wr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ir[t]=new wr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ir[t]=new wr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ir[t]=new wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var f1=/[\-:]([a-z])/g;function p1(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(f1,p1);ir[e]=new wr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(f1,p1);ir[e]=new wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(f1,p1);ir[e]=new wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ir[t]=new wr(t,1,!1,t.toLowerCase(),null,!1,!1)});ir.xlinkHref=new wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ir[t]=new wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function m1(t,e,r,n){var i=ir.hasOwnProperty(e)?ir[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(QP(e,r,i,n)&&(r=null),n||i===null?qP(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Xi=VP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Eh=Symbol.for("react.element"),ya=Symbol.for("react.portal"),_a=Symbol.for("react.fragment"),g1=Symbol.for("react.strict_mode"),hv=Symbol.for("react.profiler"),KS=Symbol.for("react.provider"),ZS=Symbol.for("react.context"),v1=Symbol.for("react.forward_ref"),dv=Symbol.for("react.suspense"),fv=Symbol.for("react.suspense_list"),x1=Symbol.for("react.memo"),ds=Symbol.for("react.lazy"),JS=Symbol.for("react.offscreen"),Pb=Symbol.iterator;function Gl(t){return t===null||typeof t!="object"?null:(t=Pb&&t[Pb]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,nm;function iu(t){if(nm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);nm=e&&e[1]||""}return`
`+nm+t}var im=!1;function sm(t,e){if(!t||im)return"";im=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{im=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?iu(t):""}function KP(t){switch(t.tag){case 5:return iu(t.type);case 16:return iu("Lazy");case 13:return iu("Suspense");case 19:return iu("SuspenseList");case 0:case 2:case 15:return t=sm(t.type,!1),t;case 11:return t=sm(t.type.render,!1),t;case 1:return t=sm(t.type,!0),t;default:return""}}function pv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _a:return"Fragment";case ya:return"Portal";case hv:return"Profiler";case g1:return"StrictMode";case dv:return"Suspense";case fv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ZS:return(t.displayName||"Context")+".Consumer";case KS:return(t._context.displayName||"Context")+".Provider";case v1:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case x1:return e=t.displayName||null,e!==null?e:pv(t.type)||"Memo";case ds:e=t._payload,t=t._init;try{return pv(t(e))}catch{}}return null}function ZP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pv(e);case 8:return e===g1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ms(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function eT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function JP(t){var e=eT(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sh(t){t._valueTracker||(t._valueTracker=JP(t))}function tT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=eT(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Od(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mv(t,e){var r=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function kb(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ms(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function rT(t,e){e=e.checked,e!=null&&m1(t,"checked",e,!1)}function gv(t,e){rT(t,e);var r=Ms(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?vv(t,e.type,r):e.hasOwnProperty("defaultValue")&&vv(t,e.type,Ms(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fb(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function vv(t,e,r){(e!=="number"||Od(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var su=Array.isArray;function Oa(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ms(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function xv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(le(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ib(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(le(92));if(su(r)){if(1<r.length)throw Error(le(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ms(r)}}function nT(t,e){var r=Ms(e.value),n=Ms(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Bb(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function iT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?iT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Th,sT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Th=Th||document.createElement("div"),Th.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Th.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ru(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var gu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ek=["Webkit","ms","Moz","O"];Object.keys(gu).forEach(function(t){ek.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gu[e]=gu[t]})});function oT(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||gu.hasOwnProperty(t)&&gu[t]?(""+e).trim():e+"px"}function aT(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=oT(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var tk=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function _v(t,e){if(e){if(tk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(le(62))}}function bv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wv=null;function y1(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ev=null,Na=null,La=null;function Rb(t){if(t=pc(t)){if(typeof Ev!="function")throw Error(le(280));var e=t.stateNode;e&&(e=Uf(e),Ev(t.stateNode,t.type,e))}}function lT(t){Na?La?La.push(t):La=[t]:Na=t}function uT(){if(Na){var t=Na,e=La;if(La=Na=null,Rb(t),e)for(t=0;t<e.length;t++)Rb(e[t])}}function cT(t,e){return t(e)}function hT(){}var om=!1;function dT(t,e,r){if(om)return t(e,r);om=!0;try{return cT(t,e,r)}finally{om=!1,(Na!==null||La!==null)&&(hT(),uT())}}function Du(t,e){var r=t.stateNode;if(r===null)return null;var n=Uf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(le(231,e,typeof r));return r}var Sv=!1;if(zi)try{var Wl={};Object.defineProperty(Wl,"passive",{get:function(){Sv=!0}}),window.addEventListener("test",Wl,Wl),window.removeEventListener("test",Wl,Wl)}catch{Sv=!1}function rk(t,e,r,n,i,s,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(p){this.onError(p)}}var vu=!1,Nd=null,Ld=!1,Tv=null,nk={onError:function(t){vu=!0,Nd=t}};function ik(t,e,r,n,i,s,o,a,c){vu=!1,Nd=null,rk.apply(nk,arguments)}function sk(t,e,r,n,i,s,o,a,c){if(ik.apply(this,arguments),vu){if(vu){var d=Nd;vu=!1,Nd=null}else throw Error(le(198));Ld||(Ld=!0,Tv=d)}}function zo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function fT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Db(t){if(zo(t)!==t)throw Error(le(188))}function ok(t){var e=t.alternate;if(!e){if(e=zo(t),e===null)throw Error(le(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Db(i),t;if(s===n)return Db(i),e;s=s.sibling}throw Error(le(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(le(189))}}if(r.alternate!==n)throw Error(le(190))}if(r.tag!==3)throw Error(le(188));return r.stateNode.current===r?t:e}function pT(t){return t=ok(t),t!==null?mT(t):null}function mT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=mT(t);if(e!==null)return e;t=t.sibling}return null}var gT=Wr.unstable_scheduleCallback,Mb=Wr.unstable_cancelCallback,ak=Wr.unstable_shouldYield,lk=Wr.unstable_requestPaint,It=Wr.unstable_now,uk=Wr.unstable_getCurrentPriorityLevel,_1=Wr.unstable_ImmediatePriority,vT=Wr.unstable_UserBlockingPriority,Ud=Wr.unstable_NormalPriority,ck=Wr.unstable_LowPriority,xT=Wr.unstable_IdlePriority,Mf=null,gi=null;function hk(t){if(gi&&typeof gi.onCommitFiberRoot=="function")try{gi.onCommitFiberRoot(Mf,t,void 0,(t.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:pk,dk=Math.log,fk=Math.LN2;function pk(t){return t>>>=0,t===0?32:31-(dk(t)/fk|0)|0}var Ah=64,Ch=4194304;function ou(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=ou(a):(s&=o,s!==0&&(n=ou(s)))}else o=r&~i,o!==0?n=ou(o):s!==0&&(n=ou(s));if(n===0)return 0;if(e!==0&&e!==n&&(e&i)===0&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if((n&4)!==0&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-zn(e),i=1<<r,n|=t[r],e&=~i;return n}function mk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gk(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-zn(s),a=1<<o,c=i[o];c===-1?((a&r)===0||(a&n)!==0)&&(i[o]=mk(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function Av(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yT(){var t=Ah;return Ah<<=1,(Ah&4194240)===0&&(Ah=64),t}function am(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function dc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zn(e),t[e]=r}function vk(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-zn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function b1(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-zn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ze=0;function _T(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var bT,w1,wT,ET,ST,Cv=!1,Ph=[],Ss=null,Ts=null,As=null,Mu=new Map,Ou=new Map,ms=[],xk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ob(t,e){switch(t){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":Ts=null;break;case"mouseover":case"mouseout":As=null;break;case"pointerover":case"pointerout":Mu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ou.delete(e.pointerId)}}function Vl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=pc(e),e!==null&&w1(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yk(t,e,r,n,i){switch(e){case"focusin":return Ss=Vl(Ss,t,e,r,n,i),!0;case"dragenter":return Ts=Vl(Ts,t,e,r,n,i),!0;case"mouseover":return As=Vl(As,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Mu.set(s,Vl(Mu.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Ou.set(s,Vl(Ou.get(s)||null,t,e,r,n,i)),!0}return!1}function TT(t){var e=So(t.target);if(e!==null){var r=zo(e);if(r!==null){if(e=r.tag,e===13){if(e=fT(r),e!==null){t.blockedOn=e,ST(t.priority,function(){wT(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Pv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);wv=n,r.target.dispatchEvent(n),wv=null}else return e=pc(r),e!==null&&w1(e),t.blockedOn=r,!1;e.shift()}return!0}function Nb(t,e,r){pd(t)&&r.delete(e)}function _k(){Cv=!1,Ss!==null&&pd(Ss)&&(Ss=null),Ts!==null&&pd(Ts)&&(Ts=null),As!==null&&pd(As)&&(As=null),Mu.forEach(Nb),Ou.forEach(Nb)}function Xl(t,e){t.blockedOn===e&&(t.blockedOn=null,Cv||(Cv=!0,Wr.unstable_scheduleCallback(Wr.unstable_NormalPriority,_k)))}function Nu(t){function e(i){return Xl(i,t)}if(0<Ph.length){Xl(Ph[0],t);for(var r=1;r<Ph.length;r++){var n=Ph[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ss!==null&&Xl(Ss,t),Ts!==null&&Xl(Ts,t),As!==null&&Xl(As,t),Mu.forEach(e),Ou.forEach(e),r=0;r<ms.length;r++)n=ms[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ms.length&&(r=ms[0],r.blockedOn===null);)TT(r),r.blockedOn===null&&ms.shift()}var Ua=Xi.ReactCurrentBatchConfig,$d=!0;function bk(t,e,r,n){var i=Ze,s=Ua.transition;Ua.transition=null;try{Ze=1,E1(t,e,r,n)}finally{Ze=i,Ua.transition=s}}function wk(t,e,r,n){var i=Ze,s=Ua.transition;Ua.transition=null;try{Ze=4,E1(t,e,r,n)}finally{Ze=i,Ua.transition=s}}function E1(t,e,r,n){if($d){var i=Pv(t,e,r,n);if(i===null)vm(t,e,n,jd,r),Ob(t,n);else if(yk(i,t,e,r,n))n.stopPropagation();else if(Ob(t,n),e&4&&-1<xk.indexOf(t)){for(;i!==null;){var s=pc(i);if(s!==null&&bT(s),s=Pv(t,e,r,n),s===null&&vm(t,e,n,jd,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else vm(t,e,n,null,r)}}var jd=null;function Pv(t,e,r,n){if(jd=null,t=y1(n),t=So(t),t!==null)if(e=zo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=fT(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return jd=t,null}function AT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uk()){case _1:return 1;case vT:return 4;case Ud:case ck:return 16;case xT:return 536870912;default:return 16}default:return 16}}var _s=null,S1=null,md=null;function CT(){if(md)return md;var t,e=S1,r=e.length,n,i="value"in _s?_s.value:_s.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return md=i.slice(t,1<n?1-n:void 0)}function gd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function kh(){return!0}function Lb(){return!1}function Yr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?kh:Lb,this.isPropagationStopped=Lb,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=kh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=kh)},persist:function(){},isPersistent:kh}),e}var ml={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},T1=Yr(ml),fc=Et({},ml,{view:0,detail:0}),Ek=Yr(fc),lm,um,ql,Of=Et({},fc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:A1,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ql&&(ql&&t.type==="mousemove"?(lm=t.screenX-ql.screenX,um=t.screenY-ql.screenY):um=lm=0,ql=t),lm)},movementY:function(t){return"movementY"in t?t.movementY:um}}),Ub=Yr(Of),Sk=Et({},Of,{dataTransfer:0}),Tk=Yr(Sk),Ak=Et({},fc,{relatedTarget:0}),cm=Yr(Ak),Ck=Et({},ml,{animationName:0,elapsedTime:0,pseudoElement:0}),Pk=Yr(Ck),kk=Et({},ml,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Fk=Yr(kk),Ik=Et({},ml,{data:0}),zb=Yr(Ik),Bk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dk[t])?!!e[t]:!1}function A1(){return Mk}var Ok=Et({},fc,{key:function(t){if(t.key){var e=Bk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Rk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:A1,charCode:function(t){return t.type==="keypress"?gd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Nk=Yr(Ok),Lk=Et({},Of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),$b=Yr(Lk),Uk=Et({},fc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:A1}),zk=Yr(Uk),$k=Et({},ml,{propertyName:0,elapsedTime:0,pseudoElement:0}),jk=Yr($k),Hk=Et({},Of,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Gk=Yr(Hk),Wk=[9,13,27,32],C1=zi&&"CompositionEvent"in window,xu=null;zi&&"documentMode"in document&&(xu=document.documentMode);var Vk=zi&&"TextEvent"in window&&!xu,PT=zi&&(!C1||xu&&8<xu&&11>=xu),jb=String.fromCharCode(32),Hb=!1;function kT(t,e){switch(t){case"keyup":return Wk.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function FT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function Xk(t,e){switch(t){case"compositionend":return FT(e);case"keypress":return e.which!==32?null:(Hb=!0,jb);case"textInput":return t=e.data,t===jb&&Hb?null:t;default:return null}}function qk(t,e){if(ba)return t==="compositionend"||!C1&&kT(t,e)?(t=CT(),md=S1=_s=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PT&&e.locale!=="ko"?null:e.data;default:return null}}var Yk={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Yk[t.type]:e==="textarea"}function IT(t,e,r,n){lT(n),e=Hd(e,"onChange"),0<e.length&&(r=new T1("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var yu=null,Lu=null;function Qk(t){jT(t,0)}function Nf(t){var e=Sa(t);if(tT(e))return t}function Kk(t,e){if(t==="change")return e}var BT=!1;if(zi){var hm;if(zi){var dm="oninput"in document;if(!dm){var Wb=document.createElement("div");Wb.setAttribute("oninput","return;"),dm=typeof Wb.oninput=="function"}hm=dm}else hm=!1;BT=hm&&(!document.documentMode||9<document.documentMode)}function Vb(){yu&&(yu.detachEvent("onpropertychange",RT),Lu=yu=null)}function RT(t){if(t.propertyName==="value"&&Nf(Lu)){var e=[];IT(e,Lu,t,y1(t)),dT(Qk,e)}}function Zk(t,e,r){t==="focusin"?(Vb(),yu=e,Lu=r,yu.attachEvent("onpropertychange",RT)):t==="focusout"&&Vb()}function Jk(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nf(Lu)}function eF(t,e){if(t==="click")return Nf(e)}function tF(t,e){if(t==="input"||t==="change")return Nf(e)}function rF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gn=typeof Object.is=="function"?Object.is:rF;function Uu(t,e){if(Gn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!cv.call(e,i)||!Gn(t[i],e[i]))return!1}return!0}function Xb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qb(t,e){var r=Xb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Xb(r)}}function DT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MT(){for(var t=window,e=Od();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Od(t.document)}return e}function P1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nF(t){var e=MT(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&DT(r.ownerDocument.documentElement,r)){if(n!==null&&P1(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=qb(r,s);var o=qb(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iF=zi&&"documentMode"in document&&11>=document.documentMode,wa=null,kv=null,_u=null,Fv=!1;function Yb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fv||wa==null||wa!==Od(n)||(n=wa,"selectionStart"in n&&P1(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_u&&Uu(_u,n)||(_u=n,n=Hd(kv,"onSelect"),0<n.length&&(e=new T1("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=wa)))}function Fh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ea={animationend:Fh("Animation","AnimationEnd"),animationiteration:Fh("Animation","AnimationIteration"),animationstart:Fh("Animation","AnimationStart"),transitionend:Fh("Transition","TransitionEnd")},fm={},OT={};zi&&(OT=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Lf(t){if(fm[t])return fm[t];if(!Ea[t])return t;var e=Ea[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in OT)return fm[t]=e[r];return t}var NT=Lf("animationend"),LT=Lf("animationiteration"),UT=Lf("animationstart"),zT=Lf("transitionend"),$T=new Map,Qb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(t,e){$T.set(t,e),Uo(e,[t])}for(var pm=0;pm<Qb.length;pm++){var mm=Qb[pm],sF=mm.toLowerCase(),oF=mm[0].toUpperCase()+mm.slice(1);js(sF,"on"+oF)}js(NT,"onAnimationEnd");js(LT,"onAnimationIteration");js(UT,"onAnimationStart");js("dblclick","onDoubleClick");js("focusin","onFocus");js("focusout","onBlur");js(zT,"onTransitionEnd");Ka("onMouseEnter",["mouseout","mouseover"]);Ka("onMouseLeave",["mouseout","mouseover"]);Ka("onPointerEnter",["pointerout","pointerover"]);Ka("onPointerLeave",["pointerout","pointerover"]);Uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var au="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aF=new Set("cancel close invalid load scroll toggle".split(" ").concat(au));function Kb(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,sk(n,e,void 0,t),t.currentTarget=null}function jT(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Kb(i,a,d),s=c}else for(o=0;o<n.length;o++){if(a=n[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Kb(i,a,d),s=c}}}if(Ld)throw t=Tv,Ld=!1,Tv=null,t}function ot(t,e){var r=e[Mv];r===void 0&&(r=e[Mv]=new Set);var n=t+"__bubble";r.has(n)||(HT(e,t,2,!1),r.add(n))}function gm(t,e,r){var n=0;e&&(n|=4),HT(r,t,n,e)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function zu(t){if(!t[Ih]){t[Ih]=!0,QS.forEach(function(r){r!=="selectionchange"&&(aF.has(r)||gm(r,!1,t),gm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ih]||(e[Ih]=!0,gm("selectionchange",!1,e))}}function HT(t,e,r,n){switch(AT(e)){case 1:var i=bk;break;case 4:i=wk;break;default:i=E1}r=i.bind(null,e,r,t),i=void 0,!Sv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function vm(t,e,r,n,i){var s=n;if((e&1)===0&&(e&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=So(a),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}a=a.parentNode}}n=n.return}dT(function(){var d=s,p=y1(r),h=[];e:{var f=$T.get(t);if(f!==void 0){var m=T1,v=t;switch(t){case"keypress":if(gd(r)===0)break e;case"keydown":case"keyup":m=Nk;break;case"focusin":v="focus",m=cm;break;case"focusout":v="blur",m=cm;break;case"beforeblur":case"afterblur":m=cm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Ub;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Tk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=zk;break;case NT:case LT:case UT:m=Pk;break;case zT:m=jk;break;case"scroll":m=Ek;break;case"wheel":m=Gk;break;case"copy":case"cut":case"paste":m=Fk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=$b}var y=(e&4)!==0,w=!y&&t==="scroll",x=y?f!==null?f+"Capture":null:f;y=[];for(var _=d,b;_!==null;){b=_;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,x!==null&&(T=Du(_,x),T!=null&&y.push($u(_,T,b)))),w)break;_=_.return}0<y.length&&(f=new m(f,v,null,r,p),h.push({event:f,listeners:y}))}}if((e&7)===0){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&r!==wv&&(v=r.relatedTarget||r.fromElement)&&(So(v)||v[$i]))break e;if((m||f)&&(f=p.window===p?p:(f=p.ownerDocument)?f.defaultView||f.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=d,v=v?So(v):null,v!==null&&(w=zo(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=d),m!==v)){if(y=Ub,T="onMouseLeave",x="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(y=$b,T="onPointerLeave",x="onPointerEnter",_="pointer"),w=m==null?f:Sa(m),b=v==null?f:Sa(v),f=new y(T,_+"leave",m,r,p),f.target=w,f.relatedTarget=b,T=null,So(p)===d&&(y=new y(x,_+"enter",v,r,p),y.target=b,y.relatedTarget=w,T=y),w=T,m&&v)t:{for(y=m,x=v,_=0,b=y;b;b=la(b))_++;for(b=0,T=x;T;T=la(T))b++;for(;0<_-b;)y=la(y),_--;for(;0<b-_;)x=la(x),b--;for(;_--;){if(y===x||x!==null&&y===x.alternate)break t;y=la(y),x=la(x)}y=null}else y=null;m!==null&&Zb(h,f,m,y,!1),v!==null&&w!==null&&Zb(h,w,v,y,!0)}}e:{if(f=d?Sa(d):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var C=Kk;else if(Gb(f))if(BT)C=tF;else{C=Jk;var P=Zk}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(C=eF);if(C&&(C=C(t,d))){IT(h,C,r,p);break e}P&&P(t,f,d),t==="focusout"&&(P=f._wrapperState)&&P.controlled&&f.type==="number"&&vv(f,"number",f.value)}switch(P=d?Sa(d):window,t){case"focusin":(Gb(P)||P.contentEditable==="true")&&(wa=P,kv=d,_u=null);break;case"focusout":_u=kv=wa=null;break;case"mousedown":Fv=!0;break;case"contextmenu":case"mouseup":case"dragend":Fv=!1,Yb(h,r,p);break;case"selectionchange":if(iF)break;case"keydown":case"keyup":Yb(h,r,p)}var I;if(C1)e:{switch(t){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else ba?kT(t,r)&&(F="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(F="onCompositionStart");F&&(PT&&r.locale!=="ko"&&(ba||F!=="onCompositionStart"?F==="onCompositionEnd"&&ba&&(I=CT()):(_s=p,S1="value"in _s?_s.value:_s.textContent,ba=!0)),P=Hd(d,F),0<P.length&&(F=new zb(F,t,null,r,p),h.push({event:F,listeners:P}),I?F.data=I:(I=FT(r),I!==null&&(F.data=I)))),(I=Vk?Xk(t,r):qk(t,r))&&(d=Hd(d,"onBeforeInput"),0<d.length&&(p=new zb("onBeforeInput","beforeinput",null,r,p),h.push({event:p,listeners:d}),p.data=I))}jT(h,e)})}function $u(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Hd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Du(t,r),s!=null&&n.unshift($u(t,s,i)),s=Du(t,e),s!=null&&n.push($u(t,s,i))),t=t.return}return n}function la(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Zb(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,c=a.alternate,d=a.stateNode;if(c!==null&&c===n)break;a.tag===5&&d!==null&&(a=d,i?(c=Du(r,s),c!=null&&o.unshift($u(r,c,a))):i||(c=Du(r,s),c!=null&&o.push($u(r,c,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var lF=/\r\n?/g,uF=/\u0000|\uFFFD/g;function Jb(t){return(typeof t=="string"?t:""+t).replace(lF,`
`).replace(uF,"")}function Bh(t,e,r){if(e=Jb(e),Jb(t)!==e&&r)throw Error(le(425))}function Gd(){}var Iv=null,Bv=null;function Rv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dv=typeof setTimeout=="function"?setTimeout:void 0,cF=typeof clearTimeout=="function"?clearTimeout:void 0,e2=typeof Promise=="function"?Promise:void 0,hF=typeof queueMicrotask=="function"?queueMicrotask:typeof e2<"u"?function(t){return e2.resolve(null).then(t).catch(dF)}:Dv;function dF(t){setTimeout(function(){throw t})}function xm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Nu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Nu(e)}function Cs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function t2(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var gl=Math.random().toString(36).slice(2),fi="__reactFiber$"+gl,ju="__reactProps$"+gl,$i="__reactContainer$"+gl,Mv="__reactEvents$"+gl,fF="__reactListeners$"+gl,pF="__reactHandles$"+gl;function So(t){var e=t[fi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[$i]||r[fi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=t2(t);t!==null;){if(r=t[fi])return r;t=t2(t)}return e}t=r,r=t.parentNode}return null}function pc(t){return t=t[fi]||t[$i],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(le(33))}function Uf(t){return t[ju]||null}var Ov=[],Ta=-1;function Hs(t){return{current:t}}function at(t){0>Ta||(t.current=Ov[Ta],Ov[Ta]=null,Ta--)}function it(t,e){Ta++,Ov[Ta]=t.current,t.current=e}var Os={},fr=Hs(Os),Fr=Hs(!1),Bo=Os;function Za(t,e){var r=t.type.contextTypes;if(!r)return Os;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ir(t){return t=t.childContextTypes,t!=null}function Wd(){at(Fr),at(fr)}function r2(t,e,r){if(fr.current!==Os)throw Error(le(168));it(fr,e),it(Fr,r)}function GT(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(le(108,ZP(t)||"Unknown",i));return Et({},r,n)}function Vd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Os,Bo=fr.current,it(fr,t),it(Fr,Fr.current),!0}function n2(t,e,r){var n=t.stateNode;if(!n)throw Error(le(169));r?(t=GT(t,e,Bo),n.__reactInternalMemoizedMergedChildContext=t,at(Fr),at(fr),it(fr,t)):at(Fr),it(Fr,r)}var Bi=null,zf=!1,ym=!1;function WT(t){Bi===null?Bi=[t]:Bi.push(t)}function mF(t){zf=!0,WT(t)}function Gs(){if(!ym&&Bi!==null){ym=!0;var t=0,e=Ze;try{var r=Bi;for(Ze=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Bi=null,zf=!1}catch(i){throw Bi!==null&&(Bi=Bi.slice(t+1)),gT(_1,Gs),i}finally{Ze=e,ym=!1}}return null}var Aa=[],Ca=0,Xd=null,qd=0,ln=[],un=0,Ro=null,Ri=1,Di="";function uo(t,e){Aa[Ca++]=qd,Aa[Ca++]=Xd,Xd=t,qd=e}function VT(t,e,r){ln[un++]=Ri,ln[un++]=Di,ln[un++]=Ro,Ro=t;var n=Ri;t=Di;var i=32-zn(n)-1;n&=~(1<<i),r+=1;var s=32-zn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ri=1<<32-zn(e)+i|r<<i|n,Di=s+t}else Ri=1<<s|r<<i|n,Di=t}function k1(t){t.return!==null&&(uo(t,1),VT(t,1,0))}function F1(t){for(;t===Xd;)Xd=Aa[--Ca],Aa[Ca]=null,qd=Aa[--Ca],Aa[Ca]=null;for(;t===Ro;)Ro=ln[--un],ln[un]=null,Di=ln[--un],ln[un]=null,Ri=ln[--un],ln[un]=null}var Hr=null,jr=null,pt=!1,Bn=null;function XT(t,e){var r=cn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function i2(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Hr=t,jr=Cs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Hr=t,jr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ro!==null?{id:Ri,overflow:Di}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=cn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Hr=t,jr=null,!0):!1;default:return!1}}function Nv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Lv(t){if(pt){var e=jr;if(e){var r=e;if(!i2(t,e)){if(Nv(t))throw Error(le(418));e=Cs(r.nextSibling);var n=Hr;e&&i2(t,e)?XT(n,r):(t.flags=t.flags&-4097|2,pt=!1,Hr=t)}}else{if(Nv(t))throw Error(le(418));t.flags=t.flags&-4097|2,pt=!1,Hr=t}}}function s2(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Hr=t}function Rh(t){if(t!==Hr)return!1;if(!pt)return s2(t),pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rv(t.type,t.memoizedProps)),e&&(e=jr)){if(Nv(t))throw qT(),Error(le(418));for(;e;)XT(t,e),e=Cs(e.nextSibling)}if(s2(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){jr=Cs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}jr=null}}else jr=Hr?Cs(t.stateNode.nextSibling):null;return!0}function qT(){for(var t=jr;t;)t=Cs(t.nextSibling)}function Ja(){jr=Hr=null,pt=!1}function I1(t){Bn===null?Bn=[t]:Bn.push(t)}var gF=Xi.ReactCurrentBatchConfig;function Yl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(le(309));var n=r.stateNode}if(!n)throw Error(le(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(le(284));if(!r._owner)throw Error(le(290,t))}return t}function Dh(t,e){throw t=Object.prototype.toString.call(e),Error(le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function o2(t){var e=t._init;return e(t._payload)}function YT(t){function e(x,_){if(t){var b=x.deletions;b===null?(x.deletions=[_],x.flags|=16):b.push(_)}}function r(x,_){if(!t)return null;for(;_!==null;)e(x,_),_=_.sibling;return null}function n(x,_){for(x=new Map;_!==null;)_.key!==null?x.set(_.key,_):x.set(_.index,_),_=_.sibling;return x}function i(x,_){return x=Is(x,_),x.index=0,x.sibling=null,x}function s(x,_,b){return x.index=b,t?(b=x.alternate,b!==null?(b=b.index,b<_?(x.flags|=2,_):b):(x.flags|=2,_)):(x.flags|=1048576,_)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,_,b,T){return _===null||_.tag!==6?(_=Am(b,x.mode,T),_.return=x,_):(_=i(_,b),_.return=x,_)}function c(x,_,b,T){var C=b.type;return C===_a?p(x,_,b.props.children,T,b.key):_!==null&&(_.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ds&&o2(C)===_.type)?(T=i(_,b.props),T.ref=Yl(x,_,b),T.return=x,T):(T=Ed(b.type,b.key,b.props,null,x.mode,T),T.ref=Yl(x,_,b),T.return=x,T)}function d(x,_,b,T){return _===null||_.tag!==4||_.stateNode.containerInfo!==b.containerInfo||_.stateNode.implementation!==b.implementation?(_=Cm(b,x.mode,T),_.return=x,_):(_=i(_,b.children||[]),_.return=x,_)}function p(x,_,b,T,C){return _===null||_.tag!==7?(_=Po(b,x.mode,T,C),_.return=x,_):(_=i(_,b),_.return=x,_)}function h(x,_,b){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Am(""+_,x.mode,b),_.return=x,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Eh:return b=Ed(_.type,_.key,_.props,null,x.mode,b),b.ref=Yl(x,null,_),b.return=x,b;case ya:return _=Cm(_,x.mode,b),_.return=x,_;case ds:var T=_._init;return h(x,T(_._payload),b)}if(su(_)||Gl(_))return _=Po(_,x.mode,b,null),_.return=x,_;Dh(x,_)}return null}function f(x,_,b,T){var C=_!==null?_.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(x,_,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Eh:return b.key===C?c(x,_,b,T):null;case ya:return b.key===C?d(x,_,b,T):null;case ds:return C=b._init,f(x,_,C(b._payload),T)}if(su(b)||Gl(b))return C!==null?null:p(x,_,b,T,null);Dh(x,b)}return null}function m(x,_,b,T,C){if(typeof T=="string"&&T!==""||typeof T=="number")return x=x.get(b)||null,a(_,x,""+T,C);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Eh:return x=x.get(T.key===null?b:T.key)||null,c(_,x,T,C);case ya:return x=x.get(T.key===null?b:T.key)||null,d(_,x,T,C);case ds:var P=T._init;return m(x,_,b,P(T._payload),C)}if(su(T)||Gl(T))return x=x.get(b)||null,p(_,x,T,C,null);Dh(_,T)}return null}function v(x,_,b,T){for(var C=null,P=null,I=_,F=_=0,M=null;I!==null&&F<b.length;F++){I.index>F?(M=I,I=null):M=I.sibling;var k=f(x,I,b[F],T);if(k===null){I===null&&(I=M);break}t&&I&&k.alternate===null&&e(x,I),_=s(k,_,F),P===null?C=k:P.sibling=k,P=k,I=M}if(F===b.length)return r(x,I),pt&&uo(x,F),C;if(I===null){for(;F<b.length;F++)I=h(x,b[F],T),I!==null&&(_=s(I,_,F),P===null?C=I:P.sibling=I,P=I);return pt&&uo(x,F),C}for(I=n(x,I);F<b.length;F++)M=m(I,x,F,b[F],T),M!==null&&(t&&M.alternate!==null&&I.delete(M.key===null?F:M.key),_=s(M,_,F),P===null?C=M:P.sibling=M,P=M);return t&&I.forEach(function(B){return e(x,B)}),pt&&uo(x,F),C}function y(x,_,b,T){var C=Gl(b);if(typeof C!="function")throw Error(le(150));if(b=C.call(b),b==null)throw Error(le(151));for(var P=C=null,I=_,F=_=0,M=null,k=b.next();I!==null&&!k.done;F++,k=b.next()){I.index>F?(M=I,I=null):M=I.sibling;var B=f(x,I,k.value,T);if(B===null){I===null&&(I=M);break}t&&I&&B.alternate===null&&e(x,I),_=s(B,_,F),P===null?C=B:P.sibling=B,P=B,I=M}if(k.done)return r(x,I),pt&&uo(x,F),C;if(I===null){for(;!k.done;F++,k=b.next())k=h(x,k.value,T),k!==null&&(_=s(k,_,F),P===null?C=k:P.sibling=k,P=k);return pt&&uo(x,F),C}for(I=n(x,I);!k.done;F++,k=b.next())k=m(I,x,F,k.value,T),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?F:k.key),_=s(k,_,F),P===null?C=k:P.sibling=k,P=k);return t&&I.forEach(function(O){return e(x,O)}),pt&&uo(x,F),C}function w(x,_,b,T){if(typeof b=="object"&&b!==null&&b.type===_a&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Eh:e:{for(var C=b.key,P=_;P!==null;){if(P.key===C){if(C=b.type,C===_a){if(P.tag===7){r(x,P.sibling),_=i(P,b.props.children),_.return=x,x=_;break e}}else if(P.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===ds&&o2(C)===P.type){r(x,P.sibling),_=i(P,b.props),_.ref=Yl(x,P,b),_.return=x,x=_;break e}r(x,P);break}else e(x,P);P=P.sibling}b.type===_a?(_=Po(b.props.children,x.mode,T,b.key),_.return=x,x=_):(T=Ed(b.type,b.key,b.props,null,x.mode,T),T.ref=Yl(x,_,b),T.return=x,x=T)}return o(x);case ya:e:{for(P=b.key;_!==null;){if(_.key===P)if(_.tag===4&&_.stateNode.containerInfo===b.containerInfo&&_.stateNode.implementation===b.implementation){r(x,_.sibling),_=i(_,b.children||[]),_.return=x,x=_;break e}else{r(x,_);break}else e(x,_);_=_.sibling}_=Cm(b,x.mode,T),_.return=x,x=_}return o(x);case ds:return P=b._init,w(x,_,P(b._payload),T)}if(su(b))return v(x,_,b,T);if(Gl(b))return y(x,_,b,T);Dh(x,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,_!==null&&_.tag===6?(r(x,_.sibling),_=i(_,b),_.return=x,x=_):(r(x,_),_=Am(b,x.mode,T),_.return=x,x=_),o(x)):r(x,_)}return w}var el=YT(!0),QT=YT(!1),Yd=Hs(null),Qd=null,Pa=null,B1=null;function R1(){B1=Pa=Qd=null}function D1(t){var e=Yd.current;at(Yd),t._currentValue=e}function Uv(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function za(t,e){Qd=t,B1=Pa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(kr=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(B1!==t)if(t={context:t,memoizedValue:e,next:null},Pa===null){if(Qd===null)throw Error(le(308));Pa=t,Qd.dependencies={lanes:0,firstContext:t}}else Pa=Pa.next=t;return e}var To=null;function M1(t){To===null?To=[t]:To.push(t)}function KT(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,M1(e)):(r.next=i.next,i.next=r),e.interleaved=r,ji(t,n)}function ji(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var fs=!1;function O1(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ni(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ps(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,(Ge&2)!==0){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ji(t,r)}return i=n.interleaved,i===null?(e.next=e,M1(n)):(e.next=i.next,i.next=e),n.interleaved=e,ji(t,r)}function vd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,b1(t,r)}}function a2(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Kd(t,e,r,n){var i=t.updateQueue;fs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?s=d:o.next=d,o=c;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==o&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=c))}if(s!==null){var h=i.baseState;o=0,p=d=c=null,a=s;do{var f=a.lane,m=a.eventTime;if((n&f)===f){p!==null&&(p=p.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,m=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(m,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(m,h,f):v,f==null)break e;h=Et({},h,f);break e;case 2:fs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=m,c=h):p=p.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(p===null&&(c=h),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Mo|=o,t.lanes=o,t.memoizedState=h}}function l2(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(le(191,i));i.call(n)}}}var mc={},vi=Hs(mc),Hu=Hs(mc),Gu=Hs(mc);function Ao(t){if(t===mc)throw Error(le(174));return t}function N1(t,e){switch(it(Gu,e),it(Hu,t),it(vi,mc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:yv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=yv(e,t)}at(vi),it(vi,e)}function tl(){at(vi),at(Hu),at(Gu)}function JT(t){Ao(Gu.current);var e=Ao(vi.current),r=yv(e,t.type);e!==r&&(it(Hu,t),it(vi,r))}function L1(t){Hu.current===t&&(at(vi),at(Hu))}var yt=Hs(0);function Zd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _m=[];function U1(){for(var t=0;t<_m.length;t++)_m[t]._workInProgressVersionPrimary=null;_m.length=0}var xd=Xi.ReactCurrentDispatcher,bm=Xi.ReactCurrentBatchConfig,Do=0,bt=null,zt=null,Xt=null,Jd=!1,bu=!1,Wu=0,vF=0;function ur(){throw Error(le(321))}function z1(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Gn(t[r],e[r]))return!1;return!0}function $1(t,e,r,n,i,s){if(Do=s,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xd.current=t===null||t.memoizedState===null?bF:wF,t=r(n,i),bu){s=0;do{if(bu=!1,Wu=0,25<=s)throw Error(le(301));s+=1,Xt=zt=null,e.updateQueue=null,xd.current=EF,t=r(n,i)}while(bu)}if(xd.current=ef,e=zt!==null&&zt.next!==null,Do=0,Xt=zt=bt=null,Jd=!1,e)throw Error(le(300));return t}function j1(){var t=Wu!==0;return Wu=0,t}function ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?bt.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function vn(){if(zt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=zt.next;var e=Xt===null?bt.memoizedState:Xt.next;if(e!==null)Xt=e,zt=t;else{if(t===null)throw Error(le(310));zt=t,t={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Xt===null?bt.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Vu(t,e){return typeof e=="function"?e(t):e}function wm(t){var e=vn(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=zt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,c=null,d=s;do{var p=d.lane;if((Do&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var h={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=h,o=n):c=c.next=h,bt.lanes|=p,Mo|=p}d=d.next}while(d!==null&&d!==s);c===null?o=n:c.next=a,Gn(n,e.memoizedState)||(kr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,bt.lanes|=s,Mo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Em(t){var e=vn(),r=e.queue;if(r===null)throw Error(le(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Gn(s,e.memoizedState)||(kr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function eA(){}function tA(t,e){var r=bt,n=vn(),i=e(),s=!Gn(n.memoizedState,i);if(s&&(n.memoizedState=i,kr=!0),n=n.queue,H1(iA.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Xt!==null&&Xt.memoizedState.tag&1){if(r.flags|=2048,Xu(9,nA.bind(null,r,n,i,e),void 0,null),Yt===null)throw Error(le(349));(Do&30)!==0||rA(r,e,i)}return i}function rA(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function nA(t,e,r,n){e.value=r,e.getSnapshot=n,sA(e)&&oA(t)}function iA(t,e,r){return r(function(){sA(e)&&oA(t)})}function sA(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Gn(t,r)}catch{return!0}}function oA(t){var e=ji(t,1);e!==null&&$n(e,t,1,-1)}function u2(t){var e=ui();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vu,lastRenderedState:t},e.queue=t,t=t.dispatch=_F.bind(null,bt,t),[e.memoizedState,t]}function Xu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function aA(){return vn().memoizedState}function yd(t,e,r,n){var i=ui();bt.flags|=t,i.memoizedState=Xu(1|e,r,void 0,n===void 0?null:n)}function $f(t,e,r,n){var i=vn();n=n===void 0?null:n;var s=void 0;if(zt!==null){var o=zt.memoizedState;if(s=o.destroy,n!==null&&z1(n,o.deps)){i.memoizedState=Xu(e,r,s,n);return}}bt.flags|=t,i.memoizedState=Xu(1|e,r,s,n)}function c2(t,e){return yd(8390656,8,t,e)}function H1(t,e){return $f(2048,8,t,e)}function lA(t,e){return $f(4,2,t,e)}function uA(t,e){return $f(4,4,t,e)}function cA(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hA(t,e,r){return r=r!=null?r.concat([t]):null,$f(4,4,cA.bind(null,e,t),r)}function G1(){}function dA(t,e){var r=vn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&z1(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function fA(t,e){var r=vn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&z1(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function pA(t,e,r){return(Do&21)===0?(t.baseState&&(t.baseState=!1,kr=!0),t.memoizedState=r):(Gn(r,e)||(r=yT(),bt.lanes|=r,Mo|=r,t.baseState=!0),e)}function xF(t,e){var r=Ze;Ze=r!==0&&4>r?r:4,t(!0);var n=bm.transition;bm.transition={};try{t(!1),e()}finally{Ze=r,bm.transition=n}}function mA(){return vn().memoizedState}function yF(t,e,r){var n=Fs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gA(t))vA(e,r);else if(r=KT(t,e,r,n),r!==null){var i=_r();$n(r,t,n,i),xA(r,e,n)}}function _F(t,e,r){var n=Fs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gA(t))vA(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Gn(a,o)){var c=e.interleaved;c===null?(i.next=i,M1(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=KT(t,e,i,n),r!==null&&(i=_r(),$n(r,t,n,i),xA(r,e,n))}}function gA(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function vA(t,e){bu=Jd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function xA(t,e,r){if((r&4194240)!==0){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,b1(t,r)}}var ef={readContext:gn,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},bF={readContext:gn,useCallback:function(t,e){return ui().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:c2,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,yd(4194308,4,cA.bind(null,e,t),r)},useLayoutEffect:function(t,e){return yd(4194308,4,t,e)},useInsertionEffect:function(t,e){return yd(4,2,t,e)},useMemo:function(t,e){var r=ui();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ui();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=yF.bind(null,bt,t),[n.memoizedState,t]},useRef:function(t){var e=ui();return t={current:t},e.memoizedState=t},useState:u2,useDebugValue:G1,useDeferredValue:function(t){return ui().memoizedState=t},useTransition:function(){var t=u2(!1),e=t[0];return t=xF.bind(null,t[1]),ui().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=bt,i=ui();if(pt){if(r===void 0)throw Error(le(407));r=r()}else{if(r=e(),Yt===null)throw Error(le(349));(Do&30)!==0||rA(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,c2(iA.bind(null,n,s,t),[t]),n.flags|=2048,Xu(9,nA.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ui(),e=Yt.identifierPrefix;if(pt){var r=Di,n=Ri;r=(n&~(1<<32-zn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Wu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=vF++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},wF={readContext:gn,useCallback:dA,useContext:gn,useEffect:H1,useImperativeHandle:hA,useInsertionEffect:lA,useLayoutEffect:uA,useMemo:fA,useReducer:wm,useRef:aA,useState:function(){return wm(Vu)},useDebugValue:G1,useDeferredValue:function(t){var e=vn();return pA(e,zt.memoizedState,t)},useTransition:function(){var t=wm(Vu)[0],e=vn().memoizedState;return[t,e]},useMutableSource:eA,useSyncExternalStore:tA,useId:mA,unstable_isNewReconciler:!1},EF={readContext:gn,useCallback:dA,useContext:gn,useEffect:H1,useImperativeHandle:hA,useInsertionEffect:lA,useLayoutEffect:uA,useMemo:fA,useReducer:Em,useRef:aA,useState:function(){return Em(Vu)},useDebugValue:G1,useDeferredValue:function(t){var e=vn();return zt===null?e.memoizedState=t:pA(e,zt.memoizedState,t)},useTransition:function(){var t=Em(Vu)[0],e=vn().memoizedState;return[t,e]},useMutableSource:eA,useSyncExternalStore:tA,useId:mA,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function zv(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Et({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var jf={isMounted:function(t){return(t=t._reactInternals)?zo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=_r(),i=Fs(t),s=Ni(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ps(t,s,i),e!==null&&($n(e,t,i,n),vd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=_r(),i=Fs(t),s=Ni(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ps(t,s,i),e!==null&&($n(e,t,i,n),vd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=_r(),n=Fs(t),i=Ni(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ps(t,i,n),e!==null&&($n(e,t,n,r),vd(e,t,n))}};function h2(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Uu(r,n)||!Uu(i,s):!0}function yA(t,e,r){var n=!1,i=Os,s=e.contextType;return typeof s=="object"&&s!==null?s=gn(s):(i=Ir(e)?Bo:fr.current,n=e.contextTypes,s=(n=n!=null)?Za(t,i):Os),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=jf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function d2(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&jf.enqueueReplaceState(e,e.state,null)}function $v(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},O1(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gn(s):(s=Ir(e)?Bo:fr.current,i.context=Za(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zv(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&jf.enqueueReplaceState(i,i.state,null),Kd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function rl(t,e){try{var r="",n=e;do r+=KP(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Sm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function jv(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var SF=typeof WeakMap=="function"?WeakMap:Map;function _A(t,e,r){r=Ni(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){rf||(rf=!0,Zv=n),jv(t,e)},r}function bA(t,e,r){r=Ni(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){jv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){jv(t,e),typeof n!="function"&&(ks===null?ks=new Set([this]):ks.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function f2(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new SF;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=LF.bind(null,t,e,r),e.then(t,t))}function p2(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function m2(t,e,r,n,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ni(-1,1),e.tag=2,Ps(r,e,1))),r.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var TF=Xi.ReactCurrentOwner,kr=!1;function xr(t,e,r,n){e.child=t===null?QT(e,null,r,n):el(e,t.child,r,n)}function g2(t,e,r,n,i){r=r.render;var s=e.ref;return za(e,i),n=$1(t,e,r,n,s,i),r=j1(),t!==null&&!kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hi(t,e,i)):(pt&&r&&k1(e),e.flags|=1,xr(t,e,n,i),e.child)}function v2(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Z1(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,wA(t,e,s,n,i)):(t=Ed(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,(t.lanes&i)===0){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Uu,r(o,n)&&t.ref===e.ref)return Hi(t,e,i)}return e.flags|=1,t=Is(s,n),t.ref=e.ref,t.return=e,e.child=t}function wA(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Uu(s,n)&&t.ref===e.ref)if(kr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)(t.flags&131072)!==0&&(kr=!0);else return e.lanes=t.lanes,Hi(t,e,i)}return Hv(t,e,r,n,i)}function EA(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Fa,$r),$r|=r;else{if((r&1073741824)===0)return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(Fa,$r),$r|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,it(Fa,$r),$r|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,it(Fa,$r),$r|=n;return xr(t,e,i,r),e.child}function SA(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Hv(t,e,r,n,i){var s=Ir(r)?Bo:fr.current;return s=Za(e,s),za(e,i),r=$1(t,e,r,n,s,i),n=j1(),t!==null&&!kr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Hi(t,e,i)):(pt&&n&&k1(e),e.flags|=1,xr(t,e,r,i),e.child)}function x2(t,e,r,n,i){if(Ir(r)){var s=!0;Vd(e)}else s=!1;if(za(e,i),e.stateNode===null)_d(t,e),yA(e,r,n),$v(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=r.contextType;typeof d=="object"&&d!==null?d=gn(d):(d=Ir(r)?Bo:fr.current,d=Za(e,d));var p=r.getDerivedStateFromProps,h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||c!==d)&&d2(e,o,n,d),fs=!1;var f=e.memoizedState;o.state=f,Kd(e,n,o,i),c=e.memoizedState,a!==n||f!==c||Fr.current||fs?(typeof p=="function"&&(zv(e,r,p,n),c=e.memoizedState),(a=fs||h2(e,r,a,n,f,c,d))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=d,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,ZT(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Fn(e.type,a),o.props=d,h=e.pendingProps,f=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=gn(c):(c=Ir(r)?Bo:fr.current,c=Za(e,c));var m=r.getDerivedStateFromProps;(p=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==c)&&d2(e,o,n,c),fs=!1,f=e.memoizedState,o.state=f,Kd(e,n,o,i);var v=e.memoizedState;a!==h||f!==v||Fr.current||fs?(typeof m=="function"&&(zv(e,r,m,n),v=e.memoizedState),(d=fs||h2(e,r,d,n,f,v,c)||!1)?(p||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=c,n=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return Gv(t,e,r,n,s,i)}function Gv(t,e,r,n,i,s){SA(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&n2(e,r,!1),Hi(t,e,s);n=e.stateNode,TF.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=el(e,t.child,null,s),e.child=el(e,null,a,s)):xr(t,e,a,s),e.memoizedState=n.state,i&&n2(e,r,!0),e.child}function TA(t){var e=t.stateNode;e.pendingContext?r2(t,e.pendingContext,e.pendingContext!==e.context):e.context&&r2(t,e.context,!1),N1(t,e.containerInfo)}function y2(t,e,r,n,i){return Ja(),I1(i),e.flags|=256,xr(t,e,r,n),e.child}var Wv={dehydrated:null,treeContext:null,retryLane:0};function Vv(t){return{baseLanes:t,cachePool:null,transitions:null}}function AA(t,e,r){var n=e.pendingProps,i=yt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),it(yt,i&1),t===null)return Lv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},(n&1)===0&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Wf(o,n,0,null),t=Po(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Vv(r),e.memoizedState=Wv,t):W1(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return AF(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:n.children};return(o&1)===0&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Is(i,c),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Is(a,s):(s=Po(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Vv(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Wv,n}return s=t.child,t=s.sibling,n=Is(s,{mode:"visible",children:n.children}),(e.mode&1)===0&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function W1(t,e){return e=Wf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Mh(t,e,r,n){return n!==null&&I1(n),el(e,t.child,null,r),t=W1(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AF(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Sm(Error(le(422))),Mh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Wf({mode:"visible",children:n.children},i,0,null),s=Po(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,(e.mode&1)!==0&&el(e,t.child,null,o),e.child.memoizedState=Vv(o),e.memoizedState=Wv,s);if((e.mode&1)===0)return Mh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(le(419)),n=Sm(s,n,void 0),Mh(t,e,o,n)}if(a=(o&t.childLanes)!==0,kr||a){if(n=Yt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(n.suspendedLanes|o))!==0?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ji(t,i),$n(n,t,i,-1))}return K1(),n=Sm(Error(le(421))),Mh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=UF.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,jr=Cs(i.nextSibling),Hr=e,pt=!0,Bn=null,t!==null&&(ln[un++]=Ri,ln[un++]=Di,ln[un++]=Ro,Ri=t.id,Di=t.overflow,Ro=e),e=W1(e,n.children),e.flags|=4096,e)}function _2(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Uv(t.return,e,r)}function Tm(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function CA(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(xr(t,e,n.children,r),n=yt.current,(n&2)!==0)n=n&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&_2(t,r,e);else if(t.tag===19)_2(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(it(yt,n),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Zd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Tm(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Zd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Tm(e,!0,r,null,s);break;case"together":Tm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _d(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Hi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Mo|=e.lanes,(r&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(le(153));if(e.child!==null){for(t=e.child,r=Is(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Is(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function CF(t,e,r){switch(e.tag){case 3:TA(e),Ja();break;case 5:JT(e);break;case 1:Ir(e.type)&&Vd(e);break;case 4:N1(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;it(Yd,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(it(yt,yt.current&1),e.flags|=128,null):(r&e.child.childLanes)!==0?AA(t,e,r):(it(yt,yt.current&1),t=Hi(t,e,r),t!==null?t.sibling:null);it(yt,yt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,(t.flags&128)!==0){if(n)return CA(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(yt,yt.current),n)break;return null;case 22:case 23:return e.lanes=0,EA(t,e,r)}return Hi(t,e,r)}var PA,Xv,kA,FA;PA=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Xv=function(){};kA=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ao(vi.current);var s=null;switch(r){case"input":i=mv(t,i),n=mv(t,n),s=[];break;case"select":i=Et({},i,{value:void 0}),n=Et({},n,{value:void 0}),s=[];break;case"textarea":i=xv(t,i),n=xv(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Gd)}_v(r,n);var o;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var a=i[d];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Bu.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(a=i?.[d],n.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Bu.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&ot("scroll",t),s||a===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};FA=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ql(t,e){if(!pt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function PF(t,e,r){var n=e.pendingProps;switch(F1(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(e),null;case 1:return Ir(e.type)&&Wd(),cr(e),null;case 3:return n=e.stateNode,tl(),at(Fr),at(fr),U1(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Rh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,Bn!==null&&(tx(Bn),Bn=null))),Xv(t,e),cr(e),null;case 5:L1(e);var i=Ao(Gu.current);if(r=e.type,t!==null&&e.stateNode!=null)kA(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(le(166));return cr(e),null}if(t=Ao(vi.current),Rh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[fi]=e,n[ju]=s,t=(e.mode&1)!==0,r){case"dialog":ot("cancel",n),ot("close",n);break;case"iframe":case"object":case"embed":ot("load",n);break;case"video":case"audio":for(i=0;i<au.length;i++)ot(au[i],n);break;case"source":ot("error",n);break;case"img":case"image":case"link":ot("error",n),ot("load",n);break;case"details":ot("toggle",n);break;case"input":kb(n,s),ot("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ot("invalid",n);break;case"textarea":Ib(n,s),ot("invalid",n)}_v(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&Bh(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Bh(n.textContent,a,t),i=["children",""+a]):Bu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ot("scroll",n)}switch(r){case"input":Sh(n),Fb(n,s,!0);break;case"textarea":Sh(n),Bb(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Gd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=iT(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[fi]=e,t[ju]=n,PA(t,e,!1,!1),e.stateNode=t;e:{switch(o=bv(r,n),r){case"dialog":ot("cancel",t),ot("close",t),i=n;break;case"iframe":case"object":case"embed":ot("load",t),i=n;break;case"video":case"audio":for(i=0;i<au.length;i++)ot(au[i],t);i=n;break;case"source":ot("error",t),i=n;break;case"img":case"image":case"link":ot("error",t),ot("load",t),i=n;break;case"details":ot("toggle",t),i=n;break;case"input":kb(t,n),i=mv(t,n),ot("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Et({},n,{value:void 0}),ot("invalid",t);break;case"textarea":Ib(t,n),i=xv(t,n),ot("invalid",t);break;default:i=n}_v(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?aT(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&sT(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ru(t,c):typeof c=="number"&&Ru(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Bu.hasOwnProperty(s)?c!=null&&s==="onScroll"&&ot("scroll",t):c!=null&&m1(t,s,c,o))}switch(r){case"input":Sh(t),Fb(t,n,!1);break;case"textarea":Sh(t),Bb(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ms(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Oa(t,!!n.multiple,s,!1):n.defaultValue!=null&&Oa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Gd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cr(e),null;case 6:if(t&&e.stateNode!=null)FA(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(le(166));if(r=Ao(Gu.current),Ao(vi.current),Rh(e)){if(n=e.stateNode,r=e.memoizedProps,n[fi]=e,(s=n.nodeValue!==r)&&(t=Hr,t!==null))switch(t.tag){case 3:Bh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Bh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fi]=e,e.stateNode=n}return cr(e),null;case 13:if(at(yt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pt&&jr!==null&&(e.mode&1)!==0&&(e.flags&128)===0)qT(),Ja(),e.flags|=98560,s=!1;else if(s=Rh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[fi]=e}else Ja(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;cr(e),s=!1}else Bn!==null&&(tx(Bn),Bn=null),s=!0;if(!s)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(yt.current&1)!==0?$t===0&&($t=3):K1())),e.updateQueue!==null&&(e.flags|=4),cr(e),null);case 4:return tl(),Xv(t,e),t===null&&zu(e.stateNode.containerInfo),cr(e),null;case 10:return D1(e.type._context),cr(e),null;case 17:return Ir(e.type)&&Wd(),cr(e),null;case 19:if(at(yt),s=e.memoizedState,s===null)return cr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Ql(s,!1);else{if($t!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(o=Zd(t),o!==null){for(e.flags|=128,Ql(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return it(yt,yt.current&1|2),e.child}t=t.sibling}s.tail!==null&&It()>nl&&(e.flags|=128,n=!0,Ql(s,!1),e.lanes=4194304)}else{if(!n)if(t=Zd(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ql(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!pt)return cr(e),null}else 2*It()-s.renderingStartTime>nl&&r!==1073741824&&(e.flags|=128,n=!0,Ql(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=It(),e.sibling=null,r=yt.current,it(yt,n?r&1|2:r&1),e):(cr(e),null);case 22:case 23:return Q1(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&(e.mode&1)!==0?($r&1073741824)!==0&&(cr(e),e.subtreeFlags&6&&(e.flags|=8192)):cr(e),null;case 24:return null;case 25:return null}throw Error(le(156,e.tag))}function kF(t,e){switch(F1(e),e.tag){case 1:return Ir(e.type)&&Wd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tl(),at(Fr),at(fr),U1(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return L1(e),null;case 13:if(at(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(le(340));Ja()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(yt),null;case 4:return tl(),null;case 10:return D1(e.type._context),null;case 22:case 23:return Q1(),null;case 24:return null;default:return null}}var Oh=!1,dr=!1,FF=typeof WeakSet=="function"?WeakSet:Set,ge=null;function ka(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Tt(t,e,n)}else r.current=null}function qv(t,e,r){try{r()}catch(n){Tt(t,e,n)}}var b2=!1;function IF(t,e){if(Iv=$d,t=MT(),P1(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,c=-1,d=0,p=0,h=t,f=null;t:for(;;){for(var m;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(c=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===r&&++d===i&&(a=o),f===s&&++p===n&&(c=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}r=a===-1||c===-1?null:{start:a,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Bv={focusedElem:t,selectionRange:r},$d=!1,ge=e;ge!==null;)if(e=ge,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ge=t;else for(;ge!==null;){e=ge;try{var v=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,x=e.stateNode,_=x.getSnapshotBeforeUpdate(e.elementType===e.type?y:Fn(e.type,y),w);x.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(T){Tt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ge=t;break}ge=e.return}return v=b2,b2=!1,v}function wu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&qv(e,r,s)}i=i.next}while(i!==n)}}function Hf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Yv(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function IA(t){var e=t.alternate;e!==null&&(t.alternate=null,IA(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fi],delete e[ju],delete e[Mv],delete e[fF],delete e[pF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BA(t){return t.tag===5||t.tag===3||t.tag===4}function w2(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BA(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Gd));else if(n!==4&&(t=t.child,t!==null))for(Qv(t,e,r),t=t.sibling;t!==null;)Qv(t,e,r),t=t.sibling}function Kv(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Kv(t,e,r),t=t.sibling;t!==null;)Kv(t,e,r),t=t.sibling}var tr=null,In=!1;function ls(t,e,r){for(r=r.child;r!==null;)RA(t,e,r),r=r.sibling}function RA(t,e,r){if(gi&&typeof gi.onCommitFiberUnmount=="function")try{gi.onCommitFiberUnmount(Mf,r)}catch{}switch(r.tag){case 5:dr||ka(r,e);case 6:var n=tr,i=In;tr=null,ls(t,e,r),tr=n,In=i,tr!==null&&(In?(t=tr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):tr.removeChild(r.stateNode));break;case 18:tr!==null&&(In?(t=tr,r=r.stateNode,t.nodeType===8?xm(t.parentNode,r):t.nodeType===1&&xm(t,r),Nu(t)):xm(tr,r.stateNode));break;case 4:n=tr,i=In,tr=r.stateNode.containerInfo,In=!0,ls(t,e,r),tr=n,In=i;break;case 0:case 11:case 14:case 15:if(!dr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&((s&2)!==0||(s&4)!==0)&&qv(r,e,o),i=i.next}while(i!==n)}ls(t,e,r);break;case 1:if(!dr&&(ka(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Tt(r,e,a)}ls(t,e,r);break;case 21:ls(t,e,r);break;case 22:r.mode&1?(dr=(n=dr)||r.memoizedState!==null,ls(t,e,r),dr=n):ls(t,e,r);break;default:ls(t,e,r)}}function E2(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new FF),e.forEach(function(n){var i=zF.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function An(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:tr=a.stateNode,In=!1;break e;case 3:tr=a.stateNode.containerInfo,In=!0;break e;case 4:tr=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(tr===null)throw Error(le(160));RA(s,o,i),tr=null,In=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Tt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DA(e,t),e=e.sibling}function DA(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(An(e,t),ni(t),n&4){try{wu(3,t,t.return),Hf(3,t)}catch(y){Tt(t,t.return,y)}try{wu(5,t,t.return)}catch(y){Tt(t,t.return,y)}}break;case 1:An(e,t),ni(t),n&512&&r!==null&&ka(r,r.return);break;case 5:if(An(e,t),ni(t),n&512&&r!==null&&ka(r,r.return),t.flags&32){var i=t.stateNode;try{Ru(i,"")}catch(y){Tt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&rT(i,s),bv(a,o);var d=bv(a,s);for(o=0;o<c.length;o+=2){var p=c[o],h=c[o+1];p==="style"?aT(i,h):p==="dangerouslySetInnerHTML"?sT(i,h):p==="children"?Ru(i,h):m1(i,p,h,d)}switch(a){case"input":gv(i,s);break;case"textarea":nT(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Oa(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Oa(i,!!s.multiple,s.defaultValue,!0):Oa(i,!!s.multiple,s.multiple?[]:"",!1))}i[ju]=s}catch(y){Tt(t,t.return,y)}}break;case 6:if(An(e,t),ni(t),n&4){if(t.stateNode===null)throw Error(le(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Tt(t,t.return,y)}}break;case 3:if(An(e,t),ni(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nu(e.containerInfo)}catch(y){Tt(t,t.return,y)}break;case 4:An(e,t),ni(t);break;case 13:An(e,t),ni(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(q1=It())),n&4&&E2(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(dr=(d=dr)||p,An(e,t),dr=d):An(e,t),ni(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&(t.mode&1)!==0)for(ge=t,p=t.child;p!==null;){for(h=ge=p;ge!==null;){switch(f=ge,m=f.child,f.tag){case 0:case 11:case 14:case 15:wu(4,f,f.return);break;case 1:ka(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){Tt(n,r,y)}}break;case 5:ka(f,f.return);break;case 22:if(f.memoizedState!==null){T2(h);continue}}m!==null?(m.return=f,ge=m):T2(h)}p=p.sibling}e:for(p=null,h=t;;){if(h.tag===5){if(p===null){p=h;try{i=h.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=oT("display",o))}catch(y){Tt(t,t.return,y)}}}else if(h.tag===6){if(p===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(y){Tt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:An(e,t),ni(t),n&4&&E2(t);break;case 21:break;default:An(e,t),ni(t)}}function ni(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(BA(r)){var n=r;break e}r=r.return}throw Error(le(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ru(i,""),n.flags&=-33);var s=w2(t);Kv(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=w2(t);Qv(t,a,o);break;default:throw Error(le(161))}}catch(c){Tt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BF(t,e,r){ge=t,MA(t)}function MA(t,e,r){for(var n=(t.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Oh;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||dr;a=Oh;var d=dr;if(Oh=o,(dr=c)&&!d)for(ge=i;ge!==null;)o=ge,c=o.child,o.tag===22&&o.memoizedState!==null?A2(i):c!==null?(c.return=o,ge=c):A2(i);for(;s!==null;)ge=s,MA(s),s=s.sibling;ge=i,Oh=a,dr=d}S2(t)}else(i.subtreeFlags&8772)!==0&&s!==null?(s.return=i,ge=s):S2(t)}}function S2(t){for(;ge!==null;){var e=ge;if((e.flags&8772)!==0){var r=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:dr||Hf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!dr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Fn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&l2(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}l2(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var h=p.dehydrated;h!==null&&Nu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}dr||e.flags&512&&Yv(e)}catch(f){Tt(e,e.return,f)}}if(e===t){ge=null;break}if(r=e.sibling,r!==null){r.return=e.return,ge=r;break}ge=e.return}}function T2(t){for(;ge!==null;){var e=ge;if(e===t){ge=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ge=r;break}ge=e.return}}function A2(t){for(;ge!==null;){var e=ge;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Hf(4,e)}catch(c){Tt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Tt(e,i,c)}}var s=e.return;try{Yv(e)}catch(c){Tt(e,s,c)}break;case 5:var o=e.return;try{Yv(e)}catch(c){Tt(e,o,c)}}}catch(c){Tt(e,e.return,c)}if(e===t){ge=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ge=a;break}ge=e.return}}var RF=Math.ceil,tf=Xi.ReactCurrentDispatcher,V1=Xi.ReactCurrentOwner,pn=Xi.ReactCurrentBatchConfig,Ge=0,Yt=null,Mt=null,nr=0,$r=0,Fa=Hs(0),$t=0,qu=null,Mo=0,Gf=0,X1=0,Eu=null,Pr=null,q1=0,nl=1/0,Ii=null,rf=!1,Zv=null,ks=null,Nh=!1,bs=null,nf=0,Su=0,Jv=null,bd=-1,wd=0;function _r(){return(Ge&6)!==0?It():bd!==-1?bd:bd=It()}function Fs(t){return(t.mode&1)===0?1:(Ge&2)!==0&&nr!==0?nr&-nr:gF.transition!==null?(wd===0&&(wd=yT()),wd):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:AT(t.type)),t)}function $n(t,e,r,n){if(50<Su)throw Su=0,Jv=null,Error(le(185));dc(t,r,n),((Ge&2)===0||t!==Yt)&&(t===Yt&&((Ge&2)===0&&(Gf|=r),$t===4&&gs(t,nr)),Br(t,n),r===1&&Ge===0&&(e.mode&1)===0&&(nl=It()+500,zf&&Gs()))}function Br(t,e){var r=t.callbackNode;gk(t,e);var n=zd(t,t===Yt?nr:0);if(n===0)r!==null&&Mb(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Mb(r),e===1)t.tag===0?mF(C2.bind(null,t)):WT(C2.bind(null,t)),hF(function(){(Ge&6)===0&&Gs()}),r=null;else{switch(_T(n)){case 1:r=_1;break;case 4:r=vT;break;case 16:r=Ud;break;case 536870912:r=xT;break;default:r=Ud}r=HA(r,OA.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function OA(t,e){if(bd=-1,wd=0,(Ge&6)!==0)throw Error(le(327));var r=t.callbackNode;if($a()&&t.callbackNode!==r)return null;var n=zd(t,t===Yt?nr:0);if(n===0)return null;if((n&30)!==0||(n&t.expiredLanes)!==0||e)e=sf(t,n);else{e=n;var i=Ge;Ge|=2;var s=LA();(Yt!==t||nr!==e)&&(Ii=null,nl=It()+500,Co(t,e));do try{OF();break}catch(a){NA(t,a)}while(1);R1(),tf.current=s,Ge=i,Mt!==null?e=0:(Yt=null,nr=0,e=$t)}if(e!==0){if(e===2&&(i=Av(t),i!==0&&(n=i,e=ex(t,i))),e===1)throw r=qu,Co(t,0),gs(t,n),Br(t,It()),r;if(e===6)gs(t,n);else{if(i=t.current.alternate,(n&30)===0&&!DF(i)&&(e=sf(t,n),e===2&&(s=Av(t),s!==0&&(n=s,e=ex(t,s))),e===1))throw r=qu,Co(t,0),gs(t,n),Br(t,It()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(le(345));case 2:co(t,Pr,Ii);break;case 3:if(gs(t,n),(n&130023424)===n&&(e=q1+500-It(),10<e)){if(zd(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){_r(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Dv(co.bind(null,t,Pr,Ii),e);break}co(t,Pr,Ii);break;case 4:if(gs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-zn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=It()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*RF(n/1960))-n,10<n){t.timeoutHandle=Dv(co.bind(null,t,Pr,Ii),n);break}co(t,Pr,Ii);break;case 5:co(t,Pr,Ii);break;default:throw Error(le(329))}}}return Br(t,It()),t.callbackNode===r?OA.bind(null,t):null}function ex(t,e){var r=Eu;return t.current.memoizedState.isDehydrated&&(Co(t,e).flags|=256),t=sf(t,e),t!==2&&(e=Pr,Pr=r,e!==null&&tx(e)),t}function tx(t){Pr===null?Pr=t:Pr.push.apply(Pr,t)}function DF(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Gn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gs(t,e){for(e&=~X1,e&=~Gf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-zn(e),n=1<<r;t[r]=-1,e&=~n}}function C2(t){if((Ge&6)!==0)throw Error(le(327));$a();var e=zd(t,0);if((e&1)===0)return Br(t,It()),null;var r=sf(t,e);if(t.tag!==0&&r===2){var n=Av(t);n!==0&&(e=n,r=ex(t,n))}if(r===1)throw r=qu,Co(t,0),gs(t,e),Br(t,It()),r;if(r===6)throw Error(le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,co(t,Pr,Ii),Br(t,It()),null}function Y1(t,e){var r=Ge;Ge|=1;try{return t(e)}finally{Ge=r,Ge===0&&(nl=It()+500,zf&&Gs())}}function Oo(t){bs!==null&&bs.tag===0&&(Ge&6)===0&&$a();var e=Ge;Ge|=1;var r=pn.transition,n=Ze;try{if(pn.transition=null,Ze=1,t)return t()}finally{Ze=n,pn.transition=r,Ge=e,(Ge&6)===0&&Gs()}}function Q1(){$r=Fa.current,at(Fa)}function Co(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,cF(r)),Mt!==null)for(r=Mt.return;r!==null;){var n=r;switch(F1(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Wd();break;case 3:tl(),at(Fr),at(fr),U1();break;case 5:L1(n);break;case 4:tl();break;case 13:at(yt);break;case 19:at(yt);break;case 10:D1(n.type._context);break;case 22:case 23:Q1()}r=r.return}if(Yt=t,Mt=t=Is(t.current,null),nr=$r=e,$t=0,qu=null,X1=Gf=Mo=0,Pr=Eu=null,To!==null){for(e=0;e<To.length;e++)if(r=To[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}To=null}return t}function NA(t,e){do{var r=Mt;try{if(R1(),xd.current=ef,Jd){for(var n=bt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Jd=!1}if(Do=0,Xt=zt=bt=null,bu=!1,Wu=0,V1.current=null,r===null||r.return===null){$t=1,qu=e,Mt=null;break}e:{var s=t,o=r.return,a=r,c=e;if(e=nr,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=a,h=p.tag;if((p.mode&1)===0&&(h===0||h===11||h===15)){var f=p.alternate;f?(p.updateQueue=f.updateQueue,p.memoizedState=f.memoizedState,p.lanes=f.lanes):(p.updateQueue=null,p.memoizedState=null)}var m=p2(o);if(m!==null){m.flags&=-257,m2(m,o,a,s,e),m.mode&1&&f2(s,d,e),e=m,c=d;var v=e.updateQueue;if(v===null){var y=new Set;y.add(c),e.updateQueue=y}else v.add(c);break e}else{if((e&1)===0){f2(s,d,e),K1();break e}c=Error(le(426))}}else if(pt&&a.mode&1){var w=p2(o);if(w!==null){(w.flags&65536)===0&&(w.flags|=256),m2(w,o,a,s,e),I1(rl(c,a));break e}}s=c=rl(c,a),$t!==4&&($t=2),Eu===null?Eu=[s]:Eu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=_A(s,c,e);a2(s,x);break e;case 1:a=c;var _=s.type,b=s.stateNode;if((s.flags&128)===0&&(typeof _.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ks===null||!ks.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=bA(s,a,e);a2(s,T);break e}}s=s.return}while(s!==null)}zA(r)}catch(C){e=C,Mt===r&&r!==null&&(Mt=r=r.return);continue}break}while(1)}function LA(){var t=tf.current;return tf.current=ef,t===null?ef:t}function K1(){($t===0||$t===3||$t===2)&&($t=4),Yt===null||(Mo&268435455)===0&&(Gf&268435455)===0||gs(Yt,nr)}function sf(t,e){var r=Ge;Ge|=2;var n=LA();(Yt!==t||nr!==e)&&(Ii=null,Co(t,e));do try{MF();break}catch(i){NA(t,i)}while(1);if(R1(),Ge=r,tf.current=n,Mt!==null)throw Error(le(261));return Yt=null,nr=0,$t}function MF(){for(;Mt!==null;)UA(Mt)}function OF(){for(;Mt!==null&&!ak();)UA(Mt)}function UA(t){var e=jA(t.alternate,t,$r);t.memoizedProps=t.pendingProps,e===null?zA(t):Mt=e,V1.current=null}function zA(t){var e=t;do{var r=e.alternate;if(t=e.return,(e.flags&32768)===0){if(r=PF(r,e,$r),r!==null){Mt=r;return}}else{if(r=kF(r,e),r!==null){r.flags&=32767,Mt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$t=6,Mt=null;return}}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);$t===0&&($t=5)}function co(t,e,r){var n=Ze,i=pn.transition;try{pn.transition=null,Ze=1,NF(t,e,r,n)}finally{pn.transition=i,Ze=n}return null}function NF(t,e,r,n){do $a();while(bs!==null);if((Ge&6)!==0)throw Error(le(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(le(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(vk(t,s),t===Yt&&(Mt=Yt=null,nr=0),(r.subtreeFlags&2064)===0&&(r.flags&2064)===0||Nh||(Nh=!0,HA(Ud,function(){return $a(),null})),s=(r.flags&15990)!==0,(r.subtreeFlags&15990)!==0||s){s=pn.transition,pn.transition=null;var o=Ze;Ze=1;var a=Ge;Ge|=4,V1.current=null,IF(t,r),DA(r,t),nF(Bv),$d=!!Iv,Bv=Iv=null,t.current=r,BF(r),lk(),Ge=a,Ze=o,pn.transition=s}else t.current=r;if(Nh&&(Nh=!1,bs=t,nf=i),s=t.pendingLanes,s===0&&(ks=null),hk(r.stateNode),Br(t,It()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(rf)throw rf=!1,t=Zv,Zv=null,t;return(nf&1)!==0&&t.tag!==0&&$a(),s=t.pendingLanes,(s&1)!==0?t===Jv?Su++:(Su=0,Jv=t):Su=0,Gs(),null}function $a(){if(bs!==null){var t=_T(nf),e=pn.transition,r=Ze;try{if(pn.transition=null,Ze=16>t?16:t,bs===null)var n=!1;else{if(t=bs,bs=null,nf=0,(Ge&6)!==0)throw Error(le(331));var i=Ge;for(Ge|=4,ge=t.current;ge!==null;){var s=ge,o=s.child;if((ge.flags&16)!==0){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(ge=d;ge!==null;){var p=ge;switch(p.tag){case 0:case 11:case 15:wu(8,p,s)}var h=p.child;if(h!==null)h.return=p,ge=h;else for(;ge!==null;){p=ge;var f=p.sibling,m=p.return;if(IA(p),p===d){ge=null;break}if(f!==null){f.return=m,ge=f;break}ge=m}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ge=s}}if((s.subtreeFlags&2064)!==0&&o!==null)o.return=s,ge=o;else e:for(;ge!==null;){if(s=ge,(s.flags&2048)!==0)switch(s.tag){case 0:case 11:case 15:wu(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ge=x;break e}ge=s.return}}var _=t.current;for(ge=_;ge!==null;){o=ge;var b=o.child;if((o.subtreeFlags&2064)!==0&&b!==null)b.return=o,ge=b;else e:for(o=_;ge!==null;){if(a=ge,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:Hf(9,a)}}catch(C){Tt(a,a.return,C)}if(a===o){ge=null;break e}var T=a.sibling;if(T!==null){T.return=a.return,ge=T;break e}ge=a.return}}if(Ge=i,Gs(),gi&&typeof gi.onPostCommitFiberRoot=="function")try{gi.onPostCommitFiberRoot(Mf,t)}catch{}n=!0}return n}finally{Ze=r,pn.transition=e}}return!1}function P2(t,e,r){e=rl(r,e),e=_A(t,e,1),t=Ps(t,e,1),e=_r(),t!==null&&(dc(t,1,e),Br(t,e))}function Tt(t,e,r){if(t.tag===3)P2(t,t,r);else for(;e!==null;){if(e.tag===3){P2(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ks===null||!ks.has(n))){t=rl(r,t),t=bA(e,t,1),e=Ps(e,t,1),t=_r(),e!==null&&(dc(e,1,t),Br(e,t));break}}e=e.return}}function LF(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=_r(),t.pingedLanes|=t.suspendedLanes&r,Yt===t&&(nr&r)===r&&($t===4||$t===3&&(nr&130023424)===nr&&500>It()-q1?Co(t,0):X1|=r),Br(t,e)}function $A(t,e){e===0&&((t.mode&1)===0?e=1:(e=Ch,Ch<<=1,(Ch&130023424)===0&&(Ch=4194304)));var r=_r();t=ji(t,e),t!==null&&(dc(t,e,r),Br(t,r))}function UF(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),$A(t,r)}function zF(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(le(314))}n!==null&&n.delete(e),$A(t,r)}var jA;jA=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Fr.current)kr=!0;else{if((t.lanes&r)===0&&(e.flags&128)===0)return kr=!1,CF(t,e,r);kr=(t.flags&131072)!==0}else kr=!1,pt&&(e.flags&1048576)!==0&&VT(e,qd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;_d(t,e),t=e.pendingProps;var i=Za(e,fr.current);za(e,r),i=$1(null,e,n,t,i,r);var s=j1();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ir(n)?(s=!0,Vd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,O1(e),i.updater=jf,e.stateNode=i,i._reactInternals=e,$v(e,n,t,r),e=Gv(null,e,n,!0,s,r)):(e.tag=0,pt&&s&&k1(e),xr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(_d(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=jF(n),t=Fn(n,t),i){case 0:e=Hv(null,e,n,t,r);break e;case 1:e=x2(null,e,n,t,r);break e;case 11:e=g2(null,e,n,t,r);break e;case 14:e=v2(null,e,n,Fn(n.type,t),r);break e}throw Error(le(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),Hv(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),x2(t,e,n,i,r);case 3:e:{if(TA(e),t===null)throw Error(le(387));n=e.pendingProps,s=e.memoizedState,i=s.element,ZT(t,e),Kd(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=rl(Error(le(423)),e),e=y2(t,e,n,r,i);break e}else if(n!==i){i=rl(Error(le(424)),e),e=y2(t,e,n,r,i);break e}else for(jr=Cs(e.stateNode.containerInfo.firstChild),Hr=e,pt=!0,Bn=null,r=QT(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ja(),n===i){e=Hi(t,e,r);break e}xr(t,e,n,r)}e=e.child}return e;case 5:return JT(e),t===null&&Lv(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Rv(n,i)?o=null:s!==null&&Rv(n,s)&&(e.flags|=32),SA(t,e),xr(t,e,o,r),e.child;case 6:return t===null&&Lv(e),null;case 13:return AA(t,e,r);case 4:return N1(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=el(e,null,n,r):xr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),g2(t,e,n,i,r);case 7:return xr(t,e,e.pendingProps,r),e.child;case 8:return xr(t,e,e.pendingProps.children,r),e.child;case 12:return xr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,it(Yd,n._currentValue),n._currentValue=o,s!==null)if(Gn(s.value,o)){if(s.children===i.children&&!Fr.current){e=Hi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Ni(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Uv(s.return,r,e),a.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(le(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Uv(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}xr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,za(e,r),i=gn(i),n=n(i),e.flags|=1,xr(t,e,n,r),e.child;case 14:return n=e.type,i=Fn(n,e.pendingProps),i=Fn(n.type,i),v2(t,e,n,i,r);case 15:return wA(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),_d(t,e),e.tag=1,Ir(n)?(t=!0,Vd(e)):t=!1,za(e,r),yA(e,n,i),$v(e,n,i,r),Gv(null,e,n,!0,t,r);case 19:return CA(t,e,r);case 22:return EA(t,e,r)}throw Error(le(156,e.tag))};function HA(t,e){return gT(t,e)}function $F(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,r,n){return new $F(t,e,r,n)}function Z1(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jF(t){if(typeof t=="function")return Z1(t)?1:0;if(t!=null){if(t=t.$$typeof,t===v1)return 11;if(t===x1)return 14}return 2}function Is(t,e){var r=t.alternate;return r===null?(r=cn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ed(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Z1(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _a:return Po(r.children,i,s,e);case g1:o=8,i|=8;break;case hv:return t=cn(12,r,e,i|2),t.elementType=hv,t.lanes=s,t;case dv:return t=cn(13,r,e,i),t.elementType=dv,t.lanes=s,t;case fv:return t=cn(19,r,e,i),t.elementType=fv,t.lanes=s,t;case JS:return Wf(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KS:o=10;break e;case ZS:o=9;break e;case v1:o=11;break e;case x1:o=14;break e;case ds:o=16,n=null;break e}throw Error(le(130,t==null?t:typeof t,""))}return e=cn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Po(t,e,r,n){return t=cn(7,t,n,e),t.lanes=r,t}function Wf(t,e,r,n){return t=cn(22,t,n,e),t.elementType=JS,t.lanes=r,t.stateNode={isHidden:!1},t}function Am(t,e,r){return t=cn(6,t,null,e),t.lanes=r,t}function Cm(t,e,r){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HF(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=am(0),this.expirationTimes=am(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=am(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function J1(t,e,r,n,i,s,o,a,c){return t=new HF(t,e,r,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},O1(s),t}function GF(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ya,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function GA(t){if(!t)return Os;t=t._reactInternals;e:{if(zo(t)!==t||t.tag!==1)throw Error(le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ir(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(le(171))}if(t.tag===1){var r=t.type;if(Ir(r))return GT(t,r,e)}return e}function WA(t,e,r,n,i,s,o,a,c){return t=J1(r,n,!0,t,i,s,o,a,c),t.context=GA(null),r=t.current,n=_r(),i=Fs(r),s=Ni(n,i),s.callback=e??null,Ps(r,s,i),t.current.lanes=i,dc(t,i,n),Br(t,n),t}function Vf(t,e,r,n){var i=e.current,s=_r(),o=Fs(i);return r=GA(r),e.context===null?e.context=r:e.pendingContext=r,e=Ni(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ps(i,e,o),t!==null&&($n(t,i,o,s),vd(t,i,o)),o}function of(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function k2(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function ey(t,e){k2(t,e),(t=t.alternate)&&k2(t,e)}function WF(){return null}var VA=typeof reportError=="function"?reportError:function(t){console.error(t)};function ty(t){this._internalRoot=t}Xf.prototype.render=ty.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(le(409));Vf(t,e,null,null)};Xf.prototype.unmount=ty.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oo(function(){Vf(null,t,null,null)}),e[$i]=null}};function Xf(t){this._internalRoot=t}Xf.prototype.unstable_scheduleHydration=function(t){if(t){var e=ET();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ms.length&&e!==0&&e<ms[r].priority;r++);ms.splice(r,0,t),r===0&&TT(t)}};function ry(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function F2(){}function VF(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=of(o);s.call(d)}}var o=WA(e,n,t,0,null,!1,!1,"",F2);return t._reactRootContainer=o,t[$i]=o.current,zu(t.nodeType===8?t.parentNode:t),Oo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var d=of(c);a.call(d)}}var c=J1(t,0,!1,null,null,!1,!1,"",F2);return t._reactRootContainer=c,t[$i]=c.current,zu(t.nodeType===8?t.parentNode:t),Oo(function(){Vf(e,c,r,n)}),c}function Yf(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=of(o);a.call(c)}}Vf(e,o,t,i)}else o=VF(r,e,t,i,n);return of(o)}bT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ou(e.pendingLanes);r!==0&&(b1(e,r|1),Br(e,It()),(Ge&6)===0&&(nl=It()+500,Gs()))}break;case 13:Oo(function(){var n=ji(t,1);if(n!==null){var i=_r();$n(n,t,1,i)}}),ey(t,1)}};w1=function(t){if(t.tag===13){var e=ji(t,134217728);if(e!==null){var r=_r();$n(e,t,134217728,r)}ey(t,134217728)}};wT=function(t){if(t.tag===13){var e=Fs(t),r=ji(t,e);if(r!==null){var n=_r();$n(r,t,e,n)}ey(t,e)}};ET=function(){return Ze};ST=function(t,e){var r=Ze;try{return Ze=t,e()}finally{Ze=r}};Ev=function(t,e,r){switch(e){case"input":if(gv(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Uf(n);if(!i)throw Error(le(90));tT(n),gv(n,i)}}}break;case"textarea":nT(t,r);break;case"select":e=r.value,e!=null&&Oa(t,!!r.multiple,e,!1)}};cT=Y1;hT=Oo;var XF={usingClientEntryPoint:!1,Events:[pc,Sa,Uf,lT,uT,Y1]},Kl={findFiberByHostInstance:So,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qF={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=pT(t),t===null?null:t.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||WF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lh.isDisabled&&Lh.supportsFiber)try{Mf=Lh.inject(qF),gi=Lh}catch{}}qr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XF;qr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ry(e))throw Error(le(200));return GF(t,e,null,r)};qr.createRoot=function(t,e){if(!ry(t))throw Error(le(299));var r=!1,n="",i=VA;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=J1(t,1,!1,null,null,r,!1,n,i),t[$i]=e.current,zu(t.nodeType===8?t.parentNode:t),new ty(e)};qr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(le(188)):(t=Object.keys(t).join(","),Error(le(268,t)));return t=pT(e),t=t===null?null:t.stateNode,t};qr.flushSync=function(t){return Oo(t)};qr.hydrate=function(t,e,r){if(!qf(e))throw Error(le(200));return Yf(null,t,e,!0,r)};qr.hydrateRoot=function(t,e,r){if(!ry(t))throw Error(le(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=VA;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=WA(e,null,t,1,r??null,i,!1,s,o),t[$i]=e.current,zu(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Xf(e)};qr.render=function(t,e,r){if(!qf(e))throw Error(le(200));return Yf(null,t,e,!1,r)};qr.unmountComponentAtNode=function(t){if(!qf(t))throw Error(le(40));return t._reactRootContainer?(Oo(function(){Yf(null,null,t,!1,function(){t._reactRootContainer=null,t[$i]=null})}),!0):!1};qr.unstable_batchedUpdates=Y1;qr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!qf(r))throw Error(le(200));if(t==null||t._reactInternals===void 0)throw Error(le(38));return Yf(t,e,r,!1,n)};qr.version="18.3.1-next-f1338f8080-20240426";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=qr})(d1);var XA,I2=d1.exports;XA=I2.createRoot,I2.hydrateRoot;function lu(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function YF(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}let Yu=[12303291,7130603,15759548,12303291],B2=[2883570,16722807];const Q=lu(),ce=YF();let Oe=Q*.13,Mi=Oe/4,Qu=ce*.03,ke=Q*.39,QF=6,KF=ce*(QF/3)/1980,Bt=ce*.2;function R2(){return Math.max(document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function D2(){return Math.max(document.documentElement.clientHeight)}var qA={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var h=this||r;return h._counter=1e3,h._html5AudioPool=[],h.html5PoolSize=10,h._codecs={},h._howls=[],h._muted=!1,h._volume=1,h._canPlayEvent="canplaythrough",h._navigator=typeof window<"u"&&window.navigator?window.navigator:null,h.masterGain=null,h.noAudio=!1,h.usingWebAudio=!0,h.autoSuspend=!0,h.ctx=null,h.autoUnlock=!0,h._setup(),h},volume:function(h){var f=this||r;if(h=parseFloat(h),f.ctx||p(),typeof h<"u"&&h>=0&&h<=1){if(f._volume=h,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(h,r.ctx.currentTime);for(var m=0;m<f._howls.length;m++)if(!f._howls[m]._webAudio)for(var v=f._howls[m]._getSoundIds(),y=0;y<v.length;y++){var w=f._howls[m]._soundById(v[y]);w&&w._node&&(w._node.volume=w._volume*h)}return f}return f._volume},mute:function(h){var f=this||r;f.ctx||p(),f._muted=h,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(h?0:f._volume,r.ctx.currentTime);for(var m=0;m<f._howls.length;m++)if(!f._howls[m]._webAudio)for(var v=f._howls[m]._getSoundIds(),y=0;y<v.length;y++){var w=f._howls[m]._soundById(v[y]);w&&w._node&&(w._node.muted=h?!0:w._muted)}return f},stop:function(){for(var h=this||r,f=0;f<h._howls.length;f++)h._howls[f].stop();return h},unload:function(){for(var h=this||r,f=h._howls.length-1;f>=0;f--)h._howls[f].unload();return h.usingWebAudio&&h.ctx&&typeof h.ctx.close<"u"&&(h.ctx.close(),h.ctx=null,p()),h},codecs:function(h){return(this||r)._codecs[h.replace(/^x-/,"")]},_setup:function(){var h=this||r;if(h.state=h.ctx&&h.ctx.state||"suspended",h._autoSuspend(),!h.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(h._canPlayEvent="canplay")}catch{h.noAudio=!0}else h.noAudio=!0;try{var f=new Audio;f.muted&&(h.noAudio=!0)}catch{}return h.noAudio||h._setupCodecs(),h},_setupCodecs:function(){var h=this||r,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return h}if(!f||typeof f.canPlayType!="function")return h;var m=f.canPlayType("audio/mpeg;").replace(/^no$/,""),v=h._navigator?h._navigator.userAgent:"",y=v.match(/OPR\/(\d+)/g),w=y&&parseInt(y[0].split("/")[1],10)<33,x=v.indexOf("Safari")!==-1&&v.indexOf("Chrome")===-1,_=v.match(/Version\/(.*?) /),b=x&&_&&parseInt(_[1],10)<15;return h._codecs={mp3:!!(!w&&(m||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!m,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!b&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!b&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},h},_unlockAudio:function(){var h=this||r;if(!(h._audioUnlocked||!h.ctx)){h._audioUnlocked=!1,h.autoUnlock=!1,!h._mobileUnloaded&&h.ctx.sampleRate!==44100&&(h._mobileUnloaded=!0,h.unload()),h._scratchBuffer=h.ctx.createBuffer(1,1,22050);var f=function(m){for(;h._html5AudioPool.length<h.html5PoolSize;)try{var v=new Audio;v._unlocked=!0,h._releaseHtml5Audio(v)}catch{h.noAudio=!0;break}for(var y=0;y<h._howls.length;y++)if(!h._howls[y]._webAudio)for(var w=h._howls[y]._getSoundIds(),x=0;x<w.length;x++){var _=h._howls[y]._soundById(w[x]);_&&_._node&&!_._node._unlocked&&(_._node._unlocked=!0,_._node.load())}h._autoResume();var b=h.ctx.createBufferSource();b.buffer=h._scratchBuffer,b.connect(h.ctx.destination),typeof b.start>"u"?b.noteOn(0):b.start(0),typeof h.ctx.resume=="function"&&h.ctx.resume(),b.onended=function(){b.disconnect(0),h._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var T=0;T<h._howls.length;T++)h._howls[T]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),h}},_obtainHtml5Audio:function(){var h=this||r;if(h._html5AudioPool.length)return h._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(h){var f=this||r;return h._unlocked&&f._html5AudioPool.push(h),f},_autoSuspend:function(){var h=this;if(!(!h.autoSuspend||!h.ctx||typeof h.ctx.suspend>"u"||!r.usingWebAudio)){for(var f=0;f<h._howls.length;f++)if(h._howls[f]._webAudio){for(var m=0;m<h._howls[f]._sounds.length;m++)if(!h._howls[f]._sounds[m]._paused)return h}return h._suspendTimer&&clearTimeout(h._suspendTimer),h._suspendTimer=setTimeout(function(){if(!!h.autoSuspend){h._suspendTimer=null,h.state="suspending";var v=function(){h.state="suspended",h._resumeAfterSuspend&&(delete h._resumeAfterSuspend,h._autoResume())};h.ctx.suspend().then(v,v)}},3e4),h}},_autoResume:function(){var h=this;if(!(!h.ctx||typeof h.ctx.resume>"u"||!r.usingWebAudio))return h.state==="running"&&h.ctx.state!=="interrupted"&&h._suspendTimer?(clearTimeout(h._suspendTimer),h._suspendTimer=null):h.state==="suspended"||h.state==="running"&&h.ctx.state==="interrupted"?(h.ctx.resume().then(function(){h.state="running";for(var f=0;f<h._howls.length;f++)h._howls[f]._emit("resume")}),h._suspendTimer&&(clearTimeout(h._suspendTimer),h._suspendTimer=null)):h.state==="suspending"&&(h._resumeAfterSuspend=!0),h}};var r=new e,n=function(h){var f=this;if(!h.src||h.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(h)};n.prototype={init:function(h){var f=this;return r.ctx||p(),f._autoplay=h.autoplay||!1,f._format=typeof h.format!="string"?h.format:[h.format],f._html5=h.html5||!1,f._muted=h.mute||!1,f._loop=h.loop||!1,f._pool=h.pool||5,f._preload=typeof h.preload=="boolean"||h.preload==="metadata"?h.preload:!0,f._rate=h.rate||1,f._sprite=h.sprite||{},f._src=typeof h.src!="string"?h.src:[h.src],f._volume=h.volume!==void 0?h.volume:1,f._xhr={method:h.xhr&&h.xhr.method?h.xhr.method:"GET",headers:h.xhr&&h.xhr.headers?h.xhr.headers:null,withCredentials:h.xhr&&h.xhr.withCredentials?h.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=h.onend?[{fn:h.onend}]:[],f._onfade=h.onfade?[{fn:h.onfade}]:[],f._onload=h.onload?[{fn:h.onload}]:[],f._onloaderror=h.onloaderror?[{fn:h.onloaderror}]:[],f._onplayerror=h.onplayerror?[{fn:h.onplayerror}]:[],f._onpause=h.onpause?[{fn:h.onpause}]:[],f._onplay=h.onplay?[{fn:h.onplay}]:[],f._onstop=h.onstop?[{fn:h.onstop}]:[],f._onmute=h.onmute?[{fn:h.onmute}]:[],f._onvolume=h.onvolume?[{fn:h.onvolume}]:[],f._onrate=h.onrate?[{fn:h.onrate}]:[],f._onseek=h.onseek?[{fn:h.onseek}]:[],f._onunlock=h.onunlock?[{fn:h.onunlock}]:[],f._onresume=[],f._webAudio=r.usingWebAudio&&!f._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var h=this,f=null;if(r.noAudio){h._emit("loaderror",null,"No audio support.");return}typeof h._src=="string"&&(h._src=[h._src]);for(var m=0;m<h._src.length;m++){var v,y;if(h._format&&h._format[m])v=h._format[m];else{if(y=h._src[m],typeof y!="string"){h._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}v=/^data:audio\/([^;,]+);/i.exec(y),v||(v=/\.([^.]+)$/.exec(y.split("?",1)[0])),v&&(v=v[1].toLowerCase())}if(v||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),v&&r.codecs(v)){f=h._src[m];break}}if(!f){h._emit("loaderror",null,"No codec support for selected audio sources.");return}return h._src=f,h._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(h._html5=!0,h._webAudio=!1),new i(h),h._webAudio&&o(h),h},play:function(h,f){var m=this,v=null;if(typeof h=="number")v=h,h=null;else{if(typeof h=="string"&&m._state==="loaded"&&!m._sprite[h])return null;if(typeof h>"u"&&(h="__default",!m._playLock)){for(var y=0,w=0;w<m._sounds.length;w++)m._sounds[w]._paused&&!m._sounds[w]._ended&&(y++,v=m._sounds[w]._id);y===1?h=null:v=null}}var x=v?m._soundById(v):m._inactiveSound();if(!x)return null;if(v&&!h&&(h=x._sprite||"__default"),m._state!=="loaded"){x._sprite=h,x._ended=!1;var _=x._id;return m._queue.push({event:"play",action:function(){m.play(_)}}),_}if(v&&!x._paused)return f||m._loadQueue("play"),x._id;m._webAudio&&r._autoResume();var b=Math.max(0,x._seek>0?x._seek:m._sprite[h][0]/1e3),T=Math.max(0,(m._sprite[h][0]+m._sprite[h][1])/1e3-b),C=T*1e3/Math.abs(x._rate),P=m._sprite[h][0]/1e3,I=(m._sprite[h][0]+m._sprite[h][1])/1e3;x._sprite=h,x._ended=!1;var F=function(){x._paused=!1,x._seek=b,x._start=P,x._stop=I,x._loop=!!(x._loop||m._sprite[h][2])};if(b>=I){m._ended(x);return}var M=x._node;if(m._webAudio){var k=function(){m._playLock=!1,F(),m._refreshBuffer(x);var U=x._muted||m._muted?0:x._volume;M.gain.setValueAtTime(U,r.ctx.currentTime),x._playStart=r.ctx.currentTime,typeof M.bufferSource.start>"u"?x._loop?M.bufferSource.noteGrainOn(0,b,86400):M.bufferSource.noteGrainOn(0,b,T):x._loop?M.bufferSource.start(0,b,86400):M.bufferSource.start(0,b,T),C!==1/0&&(m._endTimers[x._id]=setTimeout(m._ended.bind(m,x),C)),f||setTimeout(function(){m._emit("play",x._id),m._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?k():(m._playLock=!0,m.once("resume",k),m._clearTimer(x._id))}else{var B=function(){M.currentTime=b,M.muted=x._muted||m._muted||r._muted||M.muted,M.volume=x._volume*r.volume(),M.playbackRate=x._rate;try{var U=M.play();if(U&&typeof Promise<"u"&&(U instanceof Promise||typeof U.then=="function")?(m._playLock=!0,F(),U.then(function(){m._playLock=!1,M._unlocked=!0,f?m._loadQueue():m._emit("play",x._id)}).catch(function(){m._playLock=!1,m._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),x._ended=!0,x._paused=!0})):f||(m._playLock=!1,F(),m._emit("play",x._id)),M.playbackRate=x._rate,M.paused){m._emit("playerror",x._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}h!=="__default"||x._loop?m._endTimers[x._id]=setTimeout(m._ended.bind(m,x),C):(m._endTimers[x._id]=function(){m._ended(x),M.removeEventListener("ended",m._endTimers[x._id],!1)},M.addEventListener("ended",m._endTimers[x._id],!1))}catch(X){m._emit("playerror",x._id,X)}};M.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(M.src=m._src,M.load());var O=window&&window.ejecta||!M.readyState&&r._navigator.isCocoonJS;if(M.readyState>=3||O)B();else{m._playLock=!0,m._state="loading";var D=function(){m._state="loaded",B(),M.removeEventListener(r._canPlayEvent,D,!1)};M.addEventListener(r._canPlayEvent,D,!1),m._clearTimer(x._id)}}return x._id},pause:function(h){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(h)}}),f;for(var m=f._getSoundIds(h),v=0;v<m.length;v++){f._clearTimer(m[v]);var y=f._soundById(m[v]);if(y&&!y._paused&&(y._seek=f.seek(m[v]),y._rateSeek=0,y._paused=!0,f._stopFade(m[v]),y._node))if(f._webAudio){if(!y._node.bufferSource)continue;typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),f._cleanBuffer(y._node)}else(!isNaN(y._node.duration)||y._node.duration===1/0)&&y._node.pause();arguments[1]||f._emit("pause",y?y._id:null)}return f},stop:function(h,f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"stop",action:function(){m.stop(h)}}),m;for(var v=m._getSoundIds(h),y=0;y<v.length;y++){m._clearTimer(v[y]);var w=m._soundById(v[y]);w&&(w._seek=w._start||0,w._rateSeek=0,w._paused=!0,w._ended=!0,m._stopFade(v[y]),w._node&&(m._webAudio?w._node.bufferSource&&(typeof w._node.bufferSource.stop>"u"?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),m._cleanBuffer(w._node)):(!isNaN(w._node.duration)||w._node.duration===1/0)&&(w._node.currentTime=w._start||0,w._node.pause(),w._node.duration===1/0&&m._clearSound(w._node))),f||m._emit("stop",w._id))}return m},mute:function(h,f){var m=this;if(m._state!=="loaded"||m._playLock)return m._queue.push({event:"mute",action:function(){m.mute(h,f)}}),m;if(typeof f>"u")if(typeof h=="boolean")m._muted=h;else return m._muted;for(var v=m._getSoundIds(f),y=0;y<v.length;y++){var w=m._soundById(v[y]);w&&(w._muted=h,w._interval&&m._stopFade(w._id),m._webAudio&&w._node?w._node.gain.setValueAtTime(h?0:w._volume,r.ctx.currentTime):w._node&&(w._node.muted=r._muted?!0:h),m._emit("mute",w._id))}return m},volume:function(){var h=this,f=arguments,m,v;if(f.length===0)return h._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var y=h._getSoundIds(),w=y.indexOf(f[0]);w>=0?v=parseInt(f[0],10):m=parseFloat(f[0])}else f.length>=2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));var x;if(typeof m<"u"&&m>=0&&m<=1){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"volume",action:function(){h.volume.apply(h,f)}}),h;typeof v>"u"&&(h._volume=m),v=h._getSoundIds(v);for(var _=0;_<v.length;_++)x=h._soundById(v[_]),x&&(x._volume=m,f[2]||h._stopFade(v[_]),h._webAudio&&x._node&&!x._muted?x._node.gain.setValueAtTime(m,r.ctx.currentTime):x._node&&!x._muted&&(x._node.volume=m*r.volume()),h._emit("volume",x._id))}else return x=v?h._soundById(v):h._sounds[0],x?x._volume:0;return h},fade:function(h,f,m,v){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"fade",action:function(){y.fade(h,f,m,v)}}),y;h=Math.min(Math.max(0,parseFloat(h)),1),f=Math.min(Math.max(0,parseFloat(f)),1),m=parseFloat(m),y.volume(h,v);for(var w=y._getSoundIds(v),x=0;x<w.length;x++){var _=y._soundById(w[x]);if(_){if(v||y._stopFade(w[x]),y._webAudio&&!_._muted){var b=r.ctx.currentTime,T=b+m/1e3;_._volume=h,_._node.gain.setValueAtTime(h,b),_._node.gain.linearRampToValueAtTime(f,T)}y._startFadeInterval(_,h,f,m,w[x],typeof v>"u")}}return y},_startFadeInterval:function(h,f,m,v,y,w){var x=this,_=f,b=m-f,T=Math.abs(b/.01),C=Math.max(4,T>0?v/T:v),P=Date.now();h._fadeTo=m,h._interval=setInterval(function(){var I=(Date.now()-P)/v;P=Date.now(),_+=b*I,_=Math.round(_*100)/100,b<0?_=Math.max(m,_):_=Math.min(m,_),x._webAudio?h._volume=_:x.volume(_,h._id,!0),w&&(x._volume=_),(m<f&&_<=m||m>f&&_>=m)&&(clearInterval(h._interval),h._interval=null,h._fadeTo=null,x.volume(m,h._id),x._emit("fade",h._id))},C)},_stopFade:function(h){var f=this,m=f._soundById(h);return m&&m._interval&&(f._webAudio&&m._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(m._interval),m._interval=null,f.volume(m._fadeTo,h),m._fadeTo=null,f._emit("fade",h)),f},loop:function(){var h=this,f=arguments,m,v,y;if(f.length===0)return h._loop;if(f.length===1)if(typeof f[0]=="boolean")m=f[0],h._loop=m;else return y=h._soundById(parseInt(f[0],10)),y?y._loop:!1;else f.length===2&&(m=f[0],v=parseInt(f[1],10));for(var w=h._getSoundIds(v),x=0;x<w.length;x++)y=h._soundById(w[x]),y&&(y._loop=m,h._webAudio&&y._node&&y._node.bufferSource&&(y._node.bufferSource.loop=m,m&&(y._node.bufferSource.loopStart=y._start||0,y._node.bufferSource.loopEnd=y._stop,h.playing(w[x])&&(h.pause(w[x],!0),h.play(w[x],!0)))));return h},rate:function(){var h=this,f=arguments,m,v;if(f.length===0)v=h._sounds[0]._id;else if(f.length===1){var y=h._getSoundIds(),w=y.indexOf(f[0]);w>=0?v=parseInt(f[0],10):m=parseFloat(f[0])}else f.length===2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));var x;if(typeof m=="number"){if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"rate",action:function(){h.rate.apply(h,f)}}),h;typeof v>"u"&&(h._rate=m),v=h._getSoundIds(v);for(var _=0;_<v.length;_++)if(x=h._soundById(v[_]),x){h.playing(v[_])&&(x._rateSeek=h.seek(v[_]),x._playStart=h._webAudio?r.ctx.currentTime:x._playStart),x._rate=m,h._webAudio&&x._node&&x._node.bufferSource?x._node.bufferSource.playbackRate.setValueAtTime(m,r.ctx.currentTime):x._node&&(x._node.playbackRate=m);var b=h.seek(v[_]),T=(h._sprite[x._sprite][0]+h._sprite[x._sprite][1])/1e3-b,C=T*1e3/Math.abs(x._rate);(h._endTimers[v[_]]||!x._paused)&&(h._clearTimer(v[_]),h._endTimers[v[_]]=setTimeout(h._ended.bind(h,x),C)),h._emit("rate",x._id)}}else return x=h._soundById(v),x?x._rate:h._rate;return h},seek:function(){var h=this,f=arguments,m,v;if(f.length===0)h._sounds.length&&(v=h._sounds[0]._id);else if(f.length===1){var y=h._getSoundIds(),w=y.indexOf(f[0]);w>=0?v=parseInt(f[0],10):h._sounds.length&&(v=h._sounds[0]._id,m=parseFloat(f[0]))}else f.length===2&&(m=parseFloat(f[0]),v=parseInt(f[1],10));if(typeof v>"u")return 0;if(typeof m=="number"&&(h._state!=="loaded"||h._playLock))return h._queue.push({event:"seek",action:function(){h.seek.apply(h,f)}}),h;var x=h._soundById(v);if(x)if(typeof m=="number"&&m>=0){var _=h.playing(v);_&&h.pause(v,!0),x._seek=m,x._ended=!1,h._clearTimer(v),!h._webAudio&&x._node&&!isNaN(x._node.duration)&&(x._node.currentTime=m);var b=function(){_&&h.play(v,!0),h._emit("seek",v)};if(_&&!h._webAudio){var T=function(){h._playLock?setTimeout(T,0):b()};setTimeout(T,0)}else b()}else if(h._webAudio){var C=h.playing(v)?r.ctx.currentTime-x._playStart:0,P=x._rateSeek?x._rateSeek-x._seek:0;return x._seek+(P+C*Math.abs(x._rate))}else return x._node.currentTime;return h},playing:function(h){var f=this;if(typeof h=="number"){var m=f._soundById(h);return m?!m._paused:!1}for(var v=0;v<f._sounds.length;v++)if(!f._sounds[v]._paused)return!0;return!1},duration:function(h){var f=this,m=f._duration,v=f._soundById(h);return v&&(m=f._sprite[v._sprite][1]/1e3),m},state:function(){return this._state},unload:function(){for(var h=this,f=h._sounds,m=0;m<f.length;m++)f[m]._paused||h.stop(f[m]._id),h._webAudio||(h._clearSound(f[m]._node),f[m]._node.removeEventListener("error",f[m]._errorFn,!1),f[m]._node.removeEventListener(r._canPlayEvent,f[m]._loadFn,!1),f[m]._node.removeEventListener("ended",f[m]._endFn,!1),r._releaseHtml5Audio(f[m]._node)),delete f[m]._node,h._clearTimer(f[m]._id);var v=r._howls.indexOf(h);v>=0&&r._howls.splice(v,1);var y=!0;for(m=0;m<r._howls.length;m++)if(r._howls[m]._src===h._src||h._src.indexOf(r._howls[m]._src)>=0){y=!1;break}return s&&y&&delete s[h._src],r.noAudio=!1,h._state="unloaded",h._sounds=[],h=null,null},on:function(h,f,m,v){var y=this,w=y["_on"+h];return typeof f=="function"&&w.push(v?{id:m,fn:f,once:v}:{id:m,fn:f}),y},off:function(h,f,m){var v=this,y=v["_on"+h],w=0;if(typeof f=="number"&&(m=f,f=null),f||m)for(w=0;w<y.length;w++){var x=m===y[w].id;if(f===y[w].fn&&x||!f&&x){y.splice(w,1);break}}else if(h)v["_on"+h]=[];else{var _=Object.keys(v);for(w=0;w<_.length;w++)_[w].indexOf("_on")===0&&Array.isArray(v[_[w]])&&(v[_[w]]=[])}return v},once:function(h,f,m){var v=this;return v.on(h,f,m,1),v},_emit:function(h,f,m){for(var v=this,y=v["_on"+h],w=y.length-1;w>=0;w--)(!y[w].id||y[w].id===f||h==="load")&&(setTimeout(function(x){x.call(this,f,m)}.bind(v,y[w].fn),0),y[w].once&&v.off(h,y[w].fn,y[w].id));return v._loadQueue(h),v},_loadQueue:function(h){var f=this;if(f._queue.length>0){var m=f._queue[0];m.event===h&&(f._queue.shift(),f._loadQueue()),h||m.action()}return f},_ended:function(h){var f=this,m=h._sprite;if(!f._webAudio&&h._node&&!h._node.paused&&!h._node.ended&&h._node.currentTime<h._stop)return setTimeout(f._ended.bind(f,h),100),f;var v=!!(h._loop||f._sprite[m][2]);if(f._emit("end",h._id),!f._webAudio&&v&&f.stop(h._id,!0).play(h._id),f._webAudio&&v){f._emit("play",h._id),h._seek=h._start||0,h._rateSeek=0,h._playStart=r.ctx.currentTime;var y=(h._stop-h._start)*1e3/Math.abs(h._rate);f._endTimers[h._id]=setTimeout(f._ended.bind(f,h),y)}return f._webAudio&&!v&&(h._paused=!0,h._ended=!0,h._seek=h._start||0,h._rateSeek=0,f._clearTimer(h._id),f._cleanBuffer(h._node),r._autoSuspend()),!f._webAudio&&!v&&f.stop(h._id,!0),f},_clearTimer:function(h){var f=this;if(f._endTimers[h]){if(typeof f._endTimers[h]!="function")clearTimeout(f._endTimers[h]);else{var m=f._soundById(h);m&&m._node&&m._node.removeEventListener("ended",f._endTimers[h],!1)}delete f._endTimers[h]}return f},_soundById:function(h){for(var f=this,m=0;m<f._sounds.length;m++)if(h===f._sounds[m]._id)return f._sounds[m];return null},_inactiveSound:function(){var h=this;h._drain();for(var f=0;f<h._sounds.length;f++)if(h._sounds[f]._ended)return h._sounds[f].reset();return new i(h)},_drain:function(){var h=this,f=h._pool,m=0,v=0;if(!(h._sounds.length<f)){for(v=0;v<h._sounds.length;v++)h._sounds[v]._ended&&m++;for(v=h._sounds.length-1;v>=0;v--){if(m<=f)return;h._sounds[v]._ended&&(h._webAudio&&h._sounds[v]._node&&h._sounds[v]._node.disconnect(0),h._sounds.splice(v,1),m--)}}},_getSoundIds:function(h){var f=this;if(typeof h>"u"){for(var m=[],v=0;v<f._sounds.length;v++)m.push(f._sounds[v]._id);return m}else return[h]},_refreshBuffer:function(h){var f=this;return h._node.bufferSource=r.ctx.createBufferSource(),h._node.bufferSource.buffer=s[f._src],h._panner?h._node.bufferSource.connect(h._panner):h._node.bufferSource.connect(h._node),h._node.bufferSource.loop=h._loop,h._loop&&(h._node.bufferSource.loopStart=h._start||0,h._node.bufferSource.loopEnd=h._stop||0),h._node.bufferSource.playbackRate.setValueAtTime(h._rate,r.ctx.currentTime),f},_cleanBuffer:function(h){var f=this,m=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(!h.bufferSource)return f;if(r._scratchBuffer&&h.bufferSource&&(h.bufferSource.onended=null,h.bufferSource.disconnect(0),m))try{h.bufferSource.buffer=r._scratchBuffer}catch{}return h.bufferSource=null,f},_clearSound:function(h){var f=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);f||(h.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(h){this._parent=h,this.init()};i.prototype={init:function(){var h=this,f=h._parent;return h._muted=f._muted,h._loop=f._loop,h._volume=f._volume,h._rate=f._rate,h._seek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++r._counter,f._sounds.push(h),h.create(),h},create:function(){var h=this,f=h._parent,m=r._muted||h._muted||h._parent._muted?0:h._volume;return f._webAudio?(h._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),h._node.gain.setValueAtTime(m,r.ctx.currentTime),h._node.paused=!0,h._node.connect(r.masterGain)):r.noAudio||(h._node=r._obtainHtml5Audio(),h._errorFn=h._errorListener.bind(h),h._node.addEventListener("error",h._errorFn,!1),h._loadFn=h._loadListener.bind(h),h._node.addEventListener(r._canPlayEvent,h._loadFn,!1),h._endFn=h._endListener.bind(h),h._node.addEventListener("ended",h._endFn,!1),h._node.src=f._src,h._node.preload=f._preload===!0?"auto":f._preload,h._node.volume=m*r.volume(),h._node.load()),h},reset:function(){var h=this,f=h._parent;return h._muted=f._muted,h._loop=f._loop,h._volume=f._volume,h._rate=f._rate,h._seek=0,h._rateSeek=0,h._paused=!0,h._ended=!0,h._sprite="__default",h._id=++r._counter,h},_errorListener:function(){var h=this;h._parent._emit("loaderror",h._id,h._node.error?h._node.error.code:0),h._node.removeEventListener("error",h._errorFn,!1)},_loadListener:function(){var h=this,f=h._parent;f._duration=Math.ceil(h._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),h._node.removeEventListener(r._canPlayEvent,h._loadFn,!1)},_endListener:function(){var h=this,f=h._parent;f._duration===1/0&&(f._duration=Math.ceil(h._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(h)),h._node.removeEventListener("ended",h._endFn,!1)}};var s={},o=function(h){var f=h._src;if(s[f]){h._duration=s[f].duration,d(h);return}if(/^data:[^;]+;base64,/.test(f)){for(var m=atob(f.split(",")[1]),v=new Uint8Array(m.length),y=0;y<m.length;++y)v[y]=m.charCodeAt(y);c(v.buffer,h)}else{var w=new XMLHttpRequest;w.open(h._xhr.method,f,!0),w.withCredentials=h._xhr.withCredentials,w.responseType="arraybuffer",h._xhr.headers&&Object.keys(h._xhr.headers).forEach(function(x){w.setRequestHeader(x,h._xhr.headers[x])}),w.onload=function(){var x=(w.status+"")[0];if(x!=="0"&&x!=="2"&&x!=="3"){h._emit("loaderror",null,"Failed loading audio file with status: "+w.status+".");return}c(w.response,h)},w.onerror=function(){h._webAudio&&(h._html5=!0,h._webAudio=!1,h._sounds=[],delete s[f],h.load())},a(w)}},a=function(h){try{h.send()}catch{h.onerror()}},c=function(h,f){var m=function(){f._emit("loaderror",null,"Decoding audio data failed.")},v=function(y){y&&f._sounds.length>0?(s[f._src]=y,d(f,y)):m()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(h).then(v).catch(m):r.ctx.decodeAudioData(h,v,m)},d=function(h,f){f&&!h._duration&&(h._duration=f.duration),Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue())},p=function(){if(!!r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var h=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),f=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),m=f?parseInt(f[1],10):null;if(h&&m&&m<9){var v=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!v&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};t.Howler=r,t.Howl=n,typeof Ce<"u"?(Ce.HowlerGlobal=e,Ce.Howler=r,Ce.Howl=n,Ce.Sound=i):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=r,window.Howl=n,window.Sound=i)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,i){var s=this;if(!s.ctx||!s.ctx.listener)return s;if(n=typeof n!="number"?s._pos[1]:n,i=typeof i!="number"?s._pos[2]:i,typeof r=="number")s._pos=[r,n,i],typeof s.ctx.listener.positionX<"u"?(s.ctx.listener.positionX.setTargetAtTime(s._pos[0],Howler.ctx.currentTime,.1),s.ctx.listener.positionY.setTargetAtTime(s._pos[1],Howler.ctx.currentTime,.1),s.ctx.listener.positionZ.setTargetAtTime(s._pos[2],Howler.ctx.currentTime,.1)):s.ctx.listener.setPosition(s._pos[0],s._pos[1],s._pos[2]);else return s._pos;return s},HowlerGlobal.prototype.orientation=function(r,n,i,s,o,a){var c=this;if(!c.ctx||!c.ctx.listener)return c;var d=c._orientation;if(n=typeof n!="number"?d[1]:n,i=typeof i!="number"?d[2]:i,s=typeof s!="number"?d[3]:s,o=typeof o!="number"?d[4]:o,a=typeof a!="number"?d[5]:a,typeof r=="number")c._orientation=[r,n,i,s,o,a],typeof c.ctx.listener.forwardX<"u"?(c.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),c.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),c.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),c.ctx.listener.upX.setTargetAtTime(s,Howler.ctx.currentTime,.1),c.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),c.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):c.ctx.listener.setOrientation(r,n,i,s,o,a);else return d;return c},Howl.prototype.init=function(r){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(r,n)}}),i;var s=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")i._stereo=r,i._pos=[r,0,0];else return i._stereo;for(var o=i._getSoundIds(n),a=0;a<o.length;a++){var c=i._soundById(o[a]);if(c)if(typeof r=="number")c._stereo=r,c._pos=[r,0,0],c._node&&(c._pannerAttr.panningModel="equalpower",(!c._panner||!c._panner.pan)&&e(c,s),s==="spatial"?typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):c._panner.setPosition(r,0,0):c._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("stereo",c._id);else return c._stereo}return i},Howl.prototype.pos=function(r,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(r,n,i,s)}}),o;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof s>"u")if(typeof r=="number")o._pos=[r,n,i];else return o._pos;for(var a=o._getSoundIds(s),c=0;c<a.length;c++){var d=o._soundById(a[c]);if(d)if(typeof r=="number")d._pos=[r,n,i],d._node&&((!d._panner||d._panner.pan)&&e(d,"spatial"),typeof d._panner.positionX<"u"?(d._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setPosition(r,n,i)),o._emit("pos",d._id);else return d._pos}return o},Howl.prototype.orientation=function(r,n,i,s){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(r,n,i,s)}}),o;if(n=typeof n!="number"?o._orientation[1]:n,i=typeof i!="number"?o._orientation[2]:i,typeof s>"u")if(typeof r=="number")o._orientation=[r,n,i];else return o._orientation;for(var a=o._getSoundIds(s),c=0;c<a.length;c++){var d=o._soundById(a[c]);if(d)if(typeof r=="number")d._orientation=[r,n,i],d._node&&(d._panner||(d._pos||(d._pos=o._pos||[0,0,-.5]),e(d,"spatial")),typeof d._panner.orientationX<"u"?(d._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),d._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),d._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):d._panner.setOrientation(r,n,i)),o._emit("orientation",d._id);else return d._orientation}return o},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,i,s,o;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof s>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),r._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:r._panningModel});else return o=r._soundById(parseInt(n[0],10)),o?o._pannerAttr:r._pannerAttr;else n.length===2&&(i=n[0],s=parseInt(n[1],10));for(var a=r._getSoundIds(s),c=0;c<a.length;c++)if(o=r._soundById(a[c]),o){var d=o._pannerAttr;d={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:d.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:d.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:d.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:d.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:d.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:d.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:d.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:d.panningModel};var p=o._panner;p||(o._pos||(o._pos=r._pos||[0,0,-.5]),e(o,"spatial"),p=o._panner),p.coneInnerAngle=d.coneInnerAngle,p.coneOuterAngle=d.coneOuterAngle,p.coneOuterGain=d.coneOuterGain,p.distanceModel=d.distanceModel,p.maxDistance=d.maxDistance,p.refDistance=d.refDistance,p.rolloffFactor=d.rolloffFactor,p.panningModel=d.panningModel}return r},Sound.prototype.init=function(r){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,r.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var e=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}})()})(qA);var Tu={exports:{}};function ZF(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Pm={exports:{}};const JF={},eI=Object.freeze(Object.defineProperty({__proto__:null,default:JF},Symbol.toStringTag,{value:"Module"})),YA=US(eI);var M2;function je(){return M2||(M2=1,function(t,e){(function(r,n){t.exports=n()})(Ce,function(){var r=r||function(n,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Ce<"u"&&Ce.crypto&&(s=Ce.crypto),!s&&typeof ZF=="function")try{s=YA}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function _(){}return function(b){var T;return _.prototype=b,T=new _,_.prototype=null,T}}(),c={},d=c.lib={},p=d.Base=function(){return{extend:function(_){var b=a(this);return _&&b.mixIn(_),(!b.hasOwnProperty("init")||this.init===b.init)&&(b.init=function(){b.$super.init.apply(this,arguments)}),b.init.prototype=b,b.$super=this,b},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var b in _)_.hasOwnProperty(b)&&(this[b]=_[b]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),h=d.WordArray=p.extend({init:function(_,b){_=this.words=_||[],b!=i?this.sigBytes=b:this.sigBytes=_.length*4},toString:function(_){return(_||m).stringify(this)},concat:function(_){var b=this.words,T=_.words,C=this.sigBytes,P=_.sigBytes;if(this.clamp(),C%4)for(var I=0;I<P;I++){var F=T[I>>>2]>>>24-I%4*8&255;b[C+I>>>2]|=F<<24-(C+I)%4*8}else for(var M=0;M<P;M+=4)b[C+M>>>2]=T[M>>>2];return this.sigBytes+=P,this},clamp:function(){var _=this.words,b=this.sigBytes;_[b>>>2]&=4294967295<<32-b%4*8,_.length=n.ceil(b/4)},clone:function(){var _=p.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var b=[],T=0;T<_;T+=4)b.push(o());return new h.init(b,_)}}),f=c.enc={},m=f.Hex={stringify:function(_){for(var b=_.words,T=_.sigBytes,C=[],P=0;P<T;P++){var I=b[P>>>2]>>>24-P%4*8&255;C.push((I>>>4).toString(16)),C.push((I&15).toString(16))}return C.join("")},parse:function(_){for(var b=_.length,T=[],C=0;C<b;C+=2)T[C>>>3]|=parseInt(_.substr(C,2),16)<<24-C%8*4;return new h.init(T,b/2)}},v=f.Latin1={stringify:function(_){for(var b=_.words,T=_.sigBytes,C=[],P=0;P<T;P++){var I=b[P>>>2]>>>24-P%4*8&255;C.push(String.fromCharCode(I))}return C.join("")},parse:function(_){for(var b=_.length,T=[],C=0;C<b;C++)T[C>>>2]|=(_.charCodeAt(C)&255)<<24-C%4*8;return new h.init(T,b)}},y=f.Utf8={stringify:function(_){try{return decodeURIComponent(escape(v.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return v.parse(unescape(encodeURIComponent(_)))}},w=d.BufferedBlockAlgorithm=p.extend({reset:function(){this._data=new h.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=y.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var b,T=this._data,C=T.words,P=T.sigBytes,I=this.blockSize,F=I*4,M=P/F;_?M=n.ceil(M):M=n.max((M|0)-this._minBufferSize,0);var k=M*I,B=n.min(k*4,P);if(k){for(var O=0;O<k;O+=I)this._doProcessBlock(C,O);b=C.splice(0,k),T.sigBytes-=B}return new h.init(b,B)},clone:function(){var _=p.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});d.Hasher=w.extend({cfg:p.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){w.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){_&&this._append(_);var b=this._doFinalize();return b},blockSize:16,_createHelper:function(_){return function(b,T){return new _.init(T).finalize(b)}},_createHmacHelper:function(_){return function(b,T){return new x.HMAC.init(_,T).finalize(b)}}});var x=c.algo={};return c}(Math);return r})}(Pm)),Pm.exports}var km={exports:{}},O2;function Qf(){return O2||(O2=1,function(t,e){(function(r,n){t.exports=n(je())})(Ce,function(r){return function(n){var i=r,s=i.lib,o=s.Base,a=s.WordArray,c=i.x64={};c.Word=o.extend({init:function(d,p){this.high=d,this.low=p}}),c.WordArray=o.extend({init:function(d,p){d=this.words=d||[],p!=n?this.sigBytes=p:this.sigBytes=d.length*8},toX32:function(){for(var d=this.words,p=d.length,h=[],f=0;f<p;f++){var m=d[f];h.push(m.high),h.push(m.low)}return a.create(h,this.sigBytes)},clone:function(){for(var d=o.clone.call(this),p=d.words=this.words.slice(0),h=p.length,f=0;f<h;f++)p[f]=p[f].clone();return d}})}(),r})}(km)),km.exports}var Fm={exports:{}},N2;function tI(){return N2||(N2=1,function(t,e){(function(r,n){t.exports=n(je())})(Ce,function(r){return function(){if(typeof ArrayBuffer=="function"){var n=r,i=n.lib,s=i.WordArray,o=s.init,a=s.init=function(c){if(c instanceof ArrayBuffer&&(c=new Uint8Array(c)),(c instanceof Int8Array||typeof Uint8ClampedArray<"u"&&c instanceof Uint8ClampedArray||c instanceof Int16Array||c instanceof Uint16Array||c instanceof Int32Array||c instanceof Uint32Array||c instanceof Float32Array||c instanceof Float64Array)&&(c=new Uint8Array(c.buffer,c.byteOffset,c.byteLength)),c instanceof Uint8Array){for(var d=c.byteLength,p=[],h=0;h<d;h++)p[h>>>2]|=c[h]<<24-h%4*8;o.call(this,p,d)}else o.apply(this,arguments)};a.prototype=s}}(),r.lib.WordArray})}(Fm)),Fm.exports}var Im={exports:{}},L2;function rI(){return L2||(L2=1,function(t,e){(function(r,n){t.exports=n(je())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,o=n.enc;o.Utf16=o.Utf16BE={stringify:function(c){for(var d=c.words,p=c.sigBytes,h=[],f=0;f<p;f+=2){var m=d[f>>>2]>>>16-f%4*8&65535;h.push(String.fromCharCode(m))}return h.join("")},parse:function(c){for(var d=c.length,p=[],h=0;h<d;h++)p[h>>>1]|=c.charCodeAt(h)<<16-h%2*16;return s.create(p,d*2)}},o.Utf16LE={stringify:function(c){for(var d=c.words,p=c.sigBytes,h=[],f=0;f<p;f+=2){var m=a(d[f>>>2]>>>16-f%4*8&65535);h.push(String.fromCharCode(m))}return h.join("")},parse:function(c){for(var d=c.length,p=[],h=0;h<d;h++)p[h>>>1]|=a(c.charCodeAt(h)<<16-h%2*16);return s.create(p,d*2)}};function a(c){return c<<8&4278255360|c>>>8&16711935}}(),r.enc.Utf16})}(Im)),Im.exports}var Bm={exports:{}},U2;function $o(){return U2||(U2=1,function(t,e){(function(r,n){t.exports=n(je())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,o=n.enc;o.Base64={stringify:function(c){var d=c.words,p=c.sigBytes,h=this._map;c.clamp();for(var f=[],m=0;m<p;m+=3)for(var v=d[m>>>2]>>>24-m%4*8&255,y=d[m+1>>>2]>>>24-(m+1)%4*8&255,w=d[m+2>>>2]>>>24-(m+2)%4*8&255,x=v<<16|y<<8|w,_=0;_<4&&m+_*.75<p;_++)f.push(h.charAt(x>>>6*(3-_)&63));var b=h.charAt(64);if(b)for(;f.length%4;)f.push(b);return f.join("")},parse:function(c){var d=c.length,p=this._map,h=this._reverseMap;if(!h){h=this._reverseMap=[];for(var f=0;f<p.length;f++)h[p.charCodeAt(f)]=f}var m=p.charAt(64);if(m){var v=c.indexOf(m);v!==-1&&(d=v)}return a(c,d,h)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function a(c,d,p){for(var h=[],f=0,m=0;m<d;m++)if(m%4){var v=p[c.charCodeAt(m-1)]<<m%4*2,y=p[c.charCodeAt(m)]>>>6-m%4*2,w=v|y;h[f>>>2]|=w<<24-f%4*8,f++}return s.create(h,f)}}(),r.enc.Base64})}(Bm)),Bm.exports}var Rm={exports:{}},z2;function nI(){return z2||(z2=1,function(t,e){(function(r,n){t.exports=n(je())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,o=n.enc;o.Base64url={stringify:function(c,d){d===void 0&&(d=!0);var p=c.words,h=c.sigBytes,f=d?this._safe_map:this._map;c.clamp();for(var m=[],v=0;v<h;v+=3)for(var y=p[v>>>2]>>>24-v%4*8&255,w=p[v+1>>>2]>>>24-(v+1)%4*8&255,x=p[v+2>>>2]>>>24-(v+2)%4*8&255,_=y<<16|w<<8|x,b=0;b<4&&v+b*.75<h;b++)m.push(f.charAt(_>>>6*(3-b)&63));var T=f.charAt(64);if(T)for(;m.length%4;)m.push(T);return m.join("")},parse:function(c,d){d===void 0&&(d=!0);var p=c.length,h=d?this._safe_map:this._map,f=this._reverseMap;if(!f){f=this._reverseMap=[];for(var m=0;m<h.length;m++)f[h.charCodeAt(m)]=m}var v=h.charAt(64);if(v){var y=c.indexOf(v);y!==-1&&(p=y)}return a(c,p,f)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function a(c,d,p){for(var h=[],f=0,m=0;m<d;m++)if(m%4){var v=p[c.charCodeAt(m-1)]<<m%4*2,y=p[c.charCodeAt(m)]>>>6-m%4*2,w=v|y;h[f>>>2]|=w<<24-f%4*8,f++}return s.create(h,f)}}(),r.enc.Base64url})}(Rm)),Rm.exports}var Dm={exports:{}},$2;function jo(){return $2||($2=1,function(t,e){(function(r,n){t.exports=n(je())})(Ce,function(r){return function(n){var i=r,s=i.lib,o=s.WordArray,a=s.Hasher,c=i.algo,d=[];(function(){for(var y=0;y<64;y++)d[y]=n.abs(n.sin(y+1))*4294967296|0})();var p=c.MD5=a.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(y,w){for(var x=0;x<16;x++){var _=w+x,b=y[_];y[_]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360}var T=this._hash.words,C=y[w+0],P=y[w+1],I=y[w+2],F=y[w+3],M=y[w+4],k=y[w+5],B=y[w+6],O=y[w+7],D=y[w+8],U=y[w+9],X=y[w+10],Z=y[w+11],W=y[w+12],N=y[w+13],V=y[w+14],L=y[w+15],z=T[0],j=T[1],K=T[2],Y=T[3];z=h(z,j,K,Y,C,7,d[0]),Y=h(Y,z,j,K,P,12,d[1]),K=h(K,Y,z,j,I,17,d[2]),j=h(j,K,Y,z,F,22,d[3]),z=h(z,j,K,Y,M,7,d[4]),Y=h(Y,z,j,K,k,12,d[5]),K=h(K,Y,z,j,B,17,d[6]),j=h(j,K,Y,z,O,22,d[7]),z=h(z,j,K,Y,D,7,d[8]),Y=h(Y,z,j,K,U,12,d[9]),K=h(K,Y,z,j,X,17,d[10]),j=h(j,K,Y,z,Z,22,d[11]),z=h(z,j,K,Y,W,7,d[12]),Y=h(Y,z,j,K,N,12,d[13]),K=h(K,Y,z,j,V,17,d[14]),j=h(j,K,Y,z,L,22,d[15]),z=f(z,j,K,Y,P,5,d[16]),Y=f(Y,z,j,K,B,9,d[17]),K=f(K,Y,z,j,Z,14,d[18]),j=f(j,K,Y,z,C,20,d[19]),z=f(z,j,K,Y,k,5,d[20]),Y=f(Y,z,j,K,X,9,d[21]),K=f(K,Y,z,j,L,14,d[22]),j=f(j,K,Y,z,M,20,d[23]),z=f(z,j,K,Y,U,5,d[24]),Y=f(Y,z,j,K,V,9,d[25]),K=f(K,Y,z,j,F,14,d[26]),j=f(j,K,Y,z,D,20,d[27]),z=f(z,j,K,Y,N,5,d[28]),Y=f(Y,z,j,K,I,9,d[29]),K=f(K,Y,z,j,O,14,d[30]),j=f(j,K,Y,z,W,20,d[31]),z=m(z,j,K,Y,k,4,d[32]),Y=m(Y,z,j,K,D,11,d[33]),K=m(K,Y,z,j,Z,16,d[34]),j=m(j,K,Y,z,V,23,d[35]),z=m(z,j,K,Y,P,4,d[36]),Y=m(Y,z,j,K,M,11,d[37]),K=m(K,Y,z,j,O,16,d[38]),j=m(j,K,Y,z,X,23,d[39]),z=m(z,j,K,Y,N,4,d[40]),Y=m(Y,z,j,K,C,11,d[41]),K=m(K,Y,z,j,F,16,d[42]),j=m(j,K,Y,z,B,23,d[43]),z=m(z,j,K,Y,U,4,d[44]),Y=m(Y,z,j,K,W,11,d[45]),K=m(K,Y,z,j,L,16,d[46]),j=m(j,K,Y,z,I,23,d[47]),z=v(z,j,K,Y,C,6,d[48]),Y=v(Y,z,j,K,O,10,d[49]),K=v(K,Y,z,j,V,15,d[50]),j=v(j,K,Y,z,k,21,d[51]),z=v(z,j,K,Y,W,6,d[52]),Y=v(Y,z,j,K,F,10,d[53]),K=v(K,Y,z,j,X,15,d[54]),j=v(j,K,Y,z,P,21,d[55]),z=v(z,j,K,Y,D,6,d[56]),Y=v(Y,z,j,K,L,10,d[57]),K=v(K,Y,z,j,B,15,d[58]),j=v(j,K,Y,z,N,21,d[59]),z=v(z,j,K,Y,M,6,d[60]),Y=v(Y,z,j,K,Z,10,d[61]),K=v(K,Y,z,j,I,15,d[62]),j=v(j,K,Y,z,U,21,d[63]),T[0]=T[0]+z|0,T[1]=T[1]+j|0,T[2]=T[2]+K|0,T[3]=T[3]+Y|0},_doFinalize:function(){var y=this._data,w=y.words,x=this._nDataBytes*8,_=y.sigBytes*8;w[_>>>5]|=128<<24-_%32;var b=n.floor(x/4294967296),T=x;w[(_+64>>>9<<4)+15]=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,w[(_+64>>>9<<4)+14]=(T<<8|T>>>24)&16711935|(T<<24|T>>>8)&4278255360,y.sigBytes=(w.length+1)*4,this._process();for(var C=this._hash,P=C.words,I=0;I<4;I++){var F=P[I];P[I]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360}return C},clone:function(){var y=a.clone.call(this);return y._hash=this._hash.clone(),y}});function h(y,w,x,_,b,T,C){var P=y+(w&x|~w&_)+b+C;return(P<<T|P>>>32-T)+w}function f(y,w,x,_,b,T,C){var P=y+(w&_|x&~_)+b+C;return(P<<T|P>>>32-T)+w}function m(y,w,x,_,b,T,C){var P=y+(w^x^_)+b+C;return(P<<T|P>>>32-T)+w}function v(y,w,x,_,b,T,C){var P=y+(x^(w|~_))+b+C;return(P<<T|P>>>32-T)+w}i.MD5=a._createHelper(p),i.HmacMD5=a._createHmacHelper(p)}(Math),r.MD5})}(Dm)),Dm.exports}var Mm={exports:{}},j2;function QA(){return j2||(j2=1,function(t,e){(function(r,n){t.exports=n(je())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,o=i.Hasher,a=n.algo,c=[],d=a.SHA1=o.extend({_doReset:function(){this._hash=new s.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(p,h){for(var f=this._hash.words,m=f[0],v=f[1],y=f[2],w=f[3],x=f[4],_=0;_<80;_++){if(_<16)c[_]=p[h+_]|0;else{var b=c[_-3]^c[_-8]^c[_-14]^c[_-16];c[_]=b<<1|b>>>31}var T=(m<<5|m>>>27)+x+c[_];_<20?T+=(v&y|~v&w)+1518500249:_<40?T+=(v^y^w)+1859775393:_<60?T+=(v&y|v&w|y&w)-1894007588:T+=(v^y^w)-899497514,x=w,w=y,y=v<<30|v>>>2,v=m,m=T}f[0]=f[0]+m|0,f[1]=f[1]+v|0,f[2]=f[2]+y|0,f[3]=f[3]+w|0,f[4]=f[4]+x|0},_doFinalize:function(){var p=this._data,h=p.words,f=this._nDataBytes*8,m=p.sigBytes*8;return h[m>>>5]|=128<<24-m%32,h[(m+64>>>9<<4)+14]=Math.floor(f/4294967296),h[(m+64>>>9<<4)+15]=f,p.sigBytes=h.length*4,this._process(),this._hash},clone:function(){var p=o.clone.call(this);return p._hash=this._hash.clone(),p}});n.SHA1=o._createHelper(d),n.HmacSHA1=o._createHmacHelper(d)}(),r.SHA1})}(Mm)),Mm.exports}var Om={exports:{}},H2;function ny(){return H2||(H2=1,function(t,e){(function(r,n){t.exports=n(je())})(Ce,function(r){return function(n){var i=r,s=i.lib,o=s.WordArray,a=s.Hasher,c=i.algo,d=[],p=[];(function(){function m(x){for(var _=n.sqrt(x),b=2;b<=_;b++)if(!(x%b))return!1;return!0}function v(x){return(x-(x|0))*4294967296|0}for(var y=2,w=0;w<64;)m(y)&&(w<8&&(d[w]=v(n.pow(y,1/2))),p[w]=v(n.pow(y,1/3)),w++),y++})();var h=[],f=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(d.slice(0))},_doProcessBlock:function(m,v){for(var y=this._hash.words,w=y[0],x=y[1],_=y[2],b=y[3],T=y[4],C=y[5],P=y[6],I=y[7],F=0;F<64;F++){if(F<16)h[F]=m[v+F]|0;else{var M=h[F-15],k=(M<<25|M>>>7)^(M<<14|M>>>18)^M>>>3,B=h[F-2],O=(B<<15|B>>>17)^(B<<13|B>>>19)^B>>>10;h[F]=k+h[F-7]+O+h[F-16]}var D=T&C^~T&P,U=w&x^w&_^x&_,X=(w<<30|w>>>2)^(w<<19|w>>>13)^(w<<10|w>>>22),Z=(T<<26|T>>>6)^(T<<21|T>>>11)^(T<<7|T>>>25),W=I+Z+D+p[F]+h[F],N=X+U;I=P,P=C,C=T,T=b+W|0,b=_,_=x,x=w,w=W+N|0}y[0]=y[0]+w|0,y[1]=y[1]+x|0,y[2]=y[2]+_|0,y[3]=y[3]+b|0,y[4]=y[4]+T|0,y[5]=y[5]+C|0,y[6]=y[6]+P|0,y[7]=y[7]+I|0},_doFinalize:function(){var m=this._data,v=m.words,y=this._nDataBytes*8,w=m.sigBytes*8;return v[w>>>5]|=128<<24-w%32,v[(w+64>>>9<<4)+14]=n.floor(y/4294967296),v[(w+64>>>9<<4)+15]=y,m.sigBytes=v.length*4,this._process(),this._hash},clone:function(){var m=a.clone.call(this);return m._hash=this._hash.clone(),m}});i.SHA256=a._createHelper(f),i.HmacSHA256=a._createHmacHelper(f)}(Math),r.SHA256})}(Om)),Om.exports}var Nm={exports:{}},G2;function iI(){return G2||(G2=1,function(t,e){(function(r,n,i){t.exports=n(je(),ny())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,o=n.algo,a=o.SHA256,c=o.SHA224=a.extend({_doReset:function(){this._hash=new s.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var d=a._doFinalize.call(this);return d.sigBytes-=4,d}});n.SHA224=a._createHelper(c),n.HmacSHA224=a._createHmacHelper(c)}(),r.SHA224})}(Nm)),Nm.exports}var Lm={exports:{}},W2;function KA(){return W2||(W2=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qf())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.Hasher,o=n.x64,a=o.Word,c=o.WordArray,d=n.algo;function p(){return a.create.apply(a,arguments)}var h=[p(1116352408,3609767458),p(1899447441,602891725),p(3049323471,3964484399),p(3921009573,2173295548),p(961987163,4081628472),p(1508970993,3053834265),p(2453635748,2937671579),p(2870763221,3664609560),p(3624381080,2734883394),p(310598401,1164996542),p(607225278,1323610764),p(1426881987,3590304994),p(1925078388,4068182383),p(2162078206,991336113),p(2614888103,633803317),p(3248222580,3479774868),p(3835390401,2666613458),p(4022224774,944711139),p(264347078,2341262773),p(604807628,2007800933),p(770255983,1495990901),p(1249150122,1856431235),p(1555081692,3175218132),p(1996064986,2198950837),p(2554220882,3999719339),p(2821834349,766784016),p(2952996808,2566594879),p(3210313671,3203337956),p(3336571891,1034457026),p(3584528711,2466948901),p(113926993,3758326383),p(338241895,168717936),p(666307205,1188179964),p(773529912,1546045734),p(1294757372,1522805485),p(1396182291,2643833823),p(1695183700,2343527390),p(1986661051,1014477480),p(2177026350,1206759142),p(2456956037,344077627),p(2730485921,1290863460),p(2820302411,3158454273),p(3259730800,3505952657),p(3345764771,106217008),p(3516065817,3606008344),p(3600352804,1432725776),p(4094571909,1467031594),p(275423344,851169720),p(430227734,3100823752),p(506948616,1363258195),p(659060556,3750685593),p(883997877,3785050280),p(958139571,3318307427),p(1322822218,3812723403),p(1537002063,2003034995),p(1747873779,3602036899),p(1955562222,1575990012),p(2024104815,1125592928),p(2227730452,2716904306),p(2361852424,442776044),p(2428436474,593698344),p(2756734187,3733110249),p(3204031479,2999351573),p(3329325298,3815920427),p(3391569614,3928383900),p(3515267271,566280711),p(3940187606,3454069534),p(4118630271,4000239992),p(116418474,1914138554),p(174292421,2731055270),p(289380356,3203993006),p(460393269,320620315),p(685471733,587496836),p(852142971,1086792851),p(1017036298,365543100),p(1126000580,2618297676),p(1288033470,3409855158),p(1501505948,4234509866),p(1607167915,987167468),p(1816402316,1246189591)],f=[];(function(){for(var v=0;v<80;v++)f[v]=p()})();var m=d.SHA512=s.extend({_doReset:function(){this._hash=new c.init([new a.init(1779033703,4089235720),new a.init(3144134277,2227873595),new a.init(1013904242,4271175723),new a.init(2773480762,1595750129),new a.init(1359893119,2917565137),new a.init(2600822924,725511199),new a.init(528734635,4215389547),new a.init(1541459225,327033209)])},_doProcessBlock:function(v,y){for(var w=this._hash.words,x=w[0],_=w[1],b=w[2],T=w[3],C=w[4],P=w[5],I=w[6],F=w[7],M=x.high,k=x.low,B=_.high,O=_.low,D=b.high,U=b.low,X=T.high,Z=T.low,W=C.high,N=C.low,V=P.high,L=P.low,z=I.high,j=I.low,K=F.high,Y=F.low,Ee=M,pe=k,Pe=B,we=O,gt=D,Qe=U,Be=X,Xe=Z,Ie=W,tt=N,Zt=V,Dr=L,qi=z,Kr=j,wl=K,yn=Y,Mr=0;Mr<80;Mr++){var Er,Wn,Vn=f[Mr];if(Mr<16)Wn=Vn.high=v[y+Mr*2]|0,Er=Vn.low=v[y+Mr*2+1]|0;else{var yc=f[Mr-15],Yi=yc.high,Ys=yc.low,O0=(Yi>>>1|Ys<<31)^(Yi>>>8|Ys<<24)^Yi>>>7,_c=(Ys>>>1|Yi<<31)^(Ys>>>8|Yi<<24)^(Ys>>>7|Yi<<25),bc=f[Mr-2],Qi=bc.high,Qs=bc.low,N0=(Qi>>>19|Qs<<13)^(Qi<<3|Qs>>>29)^Qi>>>6,wc=(Qs>>>19|Qi<<13)^(Qs<<3|Qi>>>29)^(Qs>>>6|Qi<<26),Ec=f[Mr-7],L0=Ec.high,Sc=Ec.low,Tc=f[Mr-16],U0=Tc.high,Ac=Tc.low;Er=_c+Sc,Wn=O0+L0+(Er>>>0<_c>>>0?1:0),Er=Er+wc,Wn=Wn+N0+(Er>>>0<wc>>>0?1:0),Er=Er+Ac,Wn=Wn+U0+(Er>>>0<Ac>>>0?1:0),Vn.high=Wn,Vn.low=Er}var z0=Ie&Zt^~Ie&qi,Cc=tt&Dr^~tt&Kr,$0=Ee&Pe^Ee&gt^Pe&gt,Pc=pe&we^pe&Qe^we&Qe,kc=(Ee>>>28|pe<<4)^(Ee<<30|pe>>>2)^(Ee<<25|pe>>>7),Fc=(pe>>>28|Ee<<4)^(pe<<30|Ee>>>2)^(pe<<25|Ee>>>7),El=(Ie>>>14|tt<<18)^(Ie>>>18|tt<<14)^(Ie<<23|tt>>>9),Ic=(tt>>>14|Ie<<18)^(tt>>>18|Ie<<14)^(tt<<23|Ie>>>9),Sl=h[Mr],j0=Sl.high,Bc=Sl.low,mr=yn+Ic,_n=wl+El+(mr>>>0<yn>>>0?1:0),mr=mr+Cc,_n=_n+z0+(mr>>>0<Cc>>>0?1:0),mr=mr+Bc,_n=_n+j0+(mr>>>0<Bc>>>0?1:0),mr=mr+Er,_n=_n+Wn+(mr>>>0<Er>>>0?1:0),Vo=Fc+Pc,H0=kc+$0+(Vo>>>0<Fc>>>0?1:0);wl=qi,yn=Kr,qi=Zt,Kr=Dr,Zt=Ie,Dr=tt,tt=Xe+mr|0,Ie=Be+_n+(tt>>>0<Xe>>>0?1:0)|0,Be=gt,Xe=Qe,gt=Pe,Qe=we,Pe=Ee,we=pe,pe=mr+Vo|0,Ee=_n+H0+(pe>>>0<mr>>>0?1:0)|0}k=x.low=k+pe,x.high=M+Ee+(k>>>0<pe>>>0?1:0),O=_.low=O+we,_.high=B+Pe+(O>>>0<we>>>0?1:0),U=b.low=U+Qe,b.high=D+gt+(U>>>0<Qe>>>0?1:0),Z=T.low=Z+Xe,T.high=X+Be+(Z>>>0<Xe>>>0?1:0),N=C.low=N+tt,C.high=W+Ie+(N>>>0<tt>>>0?1:0),L=P.low=L+Dr,P.high=V+Zt+(L>>>0<Dr>>>0?1:0),j=I.low=j+Kr,I.high=z+qi+(j>>>0<Kr>>>0?1:0),Y=F.low=Y+yn,F.high=K+wl+(Y>>>0<yn>>>0?1:0)},_doFinalize:function(){var v=this._data,y=v.words,w=this._nDataBytes*8,x=v.sigBytes*8;y[x>>>5]|=128<<24-x%32,y[(x+128>>>10<<5)+30]=Math.floor(w/4294967296),y[(x+128>>>10<<5)+31]=w,v.sigBytes=y.length*4,this._process();var _=this._hash.toX32();return _},clone:function(){var v=s.clone.call(this);return v._hash=this._hash.clone(),v},blockSize:1024/32});n.SHA512=s._createHelper(m),n.HmacSHA512=s._createHmacHelper(m)}(),r.SHA512})}(Lm)),Lm.exports}var Um={exports:{}},V2;function sI(){return V2||(V2=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qf(),KA())})(Ce,function(r){return function(){var n=r,i=n.x64,s=i.Word,o=i.WordArray,a=n.algo,c=a.SHA512,d=a.SHA384=c.extend({_doReset:function(){this._hash=new o.init([new s.init(3418070365,3238371032),new s.init(1654270250,914150663),new s.init(2438529370,812702999),new s.init(355462360,4144912697),new s.init(1731405415,4290775857),new s.init(2394180231,1750603025),new s.init(3675008525,1694076839),new s.init(1203062813,3204075428)])},_doFinalize:function(){var p=c._doFinalize.call(this);return p.sigBytes-=16,p}});n.SHA384=c._createHelper(d),n.HmacSHA384=c._createHmacHelper(d)}(),r.SHA384})}(Um)),Um.exports}var zm={exports:{}},X2;function oI(){return X2||(X2=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qf())})(Ce,function(r){return function(n){var i=r,s=i.lib,o=s.WordArray,a=s.Hasher,c=i.x64,d=c.Word,p=i.algo,h=[],f=[],m=[];(function(){for(var w=1,x=0,_=0;_<24;_++){h[w+5*x]=(_+1)*(_+2)/2%64;var b=x%5,T=(2*w+3*x)%5;w=b,x=T}for(var w=0;w<5;w++)for(var x=0;x<5;x++)f[w+5*x]=x+(2*w+3*x)%5*5;for(var C=1,P=0;P<24;P++){for(var I=0,F=0,M=0;M<7;M++){if(C&1){var k=(1<<M)-1;k<32?F^=1<<k:I^=1<<k-32}C&128?C=C<<1^113:C<<=1}m[P]=d.create(I,F)}})();var v=[];(function(){for(var w=0;w<25;w++)v[w]=d.create()})();var y=p.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var w=this._state=[],x=0;x<25;x++)w[x]=new d.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(w,x){for(var _=this._state,b=this.blockSize/2,T=0;T<b;T++){var C=w[x+2*T],P=w[x+2*T+1];C=(C<<8|C>>>24)&16711935|(C<<24|C>>>8)&4278255360,P=(P<<8|P>>>24)&16711935|(P<<24|P>>>8)&4278255360;var I=_[T];I.high^=P,I.low^=C}for(var F=0;F<24;F++){for(var M=0;M<5;M++){for(var k=0,B=0,O=0;O<5;O++){var I=_[M+5*O];k^=I.high,B^=I.low}var D=v[M];D.high=k,D.low=B}for(var M=0;M<5;M++)for(var U=v[(M+4)%5],X=v[(M+1)%5],Z=X.high,W=X.low,k=U.high^(Z<<1|W>>>31),B=U.low^(W<<1|Z>>>31),O=0;O<5;O++){var I=_[M+5*O];I.high^=k,I.low^=B}for(var N=1;N<25;N++){var k,B,I=_[N],V=I.high,L=I.low,z=h[N];z<32?(k=V<<z|L>>>32-z,B=L<<z|V>>>32-z):(k=L<<z-32|V>>>64-z,B=V<<z-32|L>>>64-z);var j=v[f[N]];j.high=k,j.low=B}var K=v[0],Y=_[0];K.high=Y.high,K.low=Y.low;for(var M=0;M<5;M++)for(var O=0;O<5;O++){var N=M+5*O,I=_[N],Ee=v[N],pe=v[(M+1)%5+5*O],Pe=v[(M+2)%5+5*O];I.high=Ee.high^~pe.high&Pe.high,I.low=Ee.low^~pe.low&Pe.low}var I=_[0],we=m[F];I.high^=we.high,I.low^=we.low}},_doFinalize:function(){var w=this._data,x=w.words;this._nDataBytes*8;var _=w.sigBytes*8,b=this.blockSize*32;x[_>>>5]|=1<<24-_%32,x[(n.ceil((_+1)/b)*b>>>5)-1]|=128,w.sigBytes=x.length*4,this._process();for(var T=this._state,C=this.cfg.outputLength/8,P=C/8,I=[],F=0;F<P;F++){var M=T[F],k=M.high,B=M.low;k=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360,B=(B<<8|B>>>24)&16711935|(B<<24|B>>>8)&4278255360,I.push(B),I.push(k)}return new o.init(I,C)},clone:function(){for(var w=a.clone.call(this),x=w._state=this._state.slice(0),_=0;_<25;_++)x[_]=x[_].clone();return w}});i.SHA3=a._createHelper(y),i.HmacSHA3=a._createHmacHelper(y)}(Math),r.SHA3})}(zm)),zm.exports}var $m={exports:{}},q2;function aI(){return q2||(q2=1,function(t,e){(function(r,n){t.exports=n(je())})(Ce,function(r){/** @preserve
			(c) 2012 by Cdric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(n){var i=r,s=i.lib,o=s.WordArray,a=s.Hasher,c=i.algo,d=o.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),p=o.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),h=o.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),f=o.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),m=o.create([0,1518500249,1859775393,2400959708,2840853838]),v=o.create([1352829926,1548603684,1836072691,2053994217,0]),y=c.RIPEMD160=a.extend({_doReset:function(){this._hash=o.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(P,I){for(var F=0;F<16;F++){var M=I+F,k=P[M];P[M]=(k<<8|k>>>24)&16711935|(k<<24|k>>>8)&4278255360}var B=this._hash.words,O=m.words,D=v.words,U=d.words,X=p.words,Z=h.words,W=f.words,N,V,L,z,j,K,Y,Ee,pe,Pe;K=N=B[0],Y=V=B[1],Ee=L=B[2],pe=z=B[3],Pe=j=B[4];for(var we,F=0;F<80;F+=1)we=N+P[I+U[F]]|0,F<16?we+=w(V,L,z)+O[0]:F<32?we+=x(V,L,z)+O[1]:F<48?we+=_(V,L,z)+O[2]:F<64?we+=b(V,L,z)+O[3]:we+=T(V,L,z)+O[4],we=we|0,we=C(we,Z[F]),we=we+j|0,N=j,j=z,z=C(L,10),L=V,V=we,we=K+P[I+X[F]]|0,F<16?we+=T(Y,Ee,pe)+D[0]:F<32?we+=b(Y,Ee,pe)+D[1]:F<48?we+=_(Y,Ee,pe)+D[2]:F<64?we+=x(Y,Ee,pe)+D[3]:we+=w(Y,Ee,pe)+D[4],we=we|0,we=C(we,W[F]),we=we+Pe|0,K=Pe,Pe=pe,pe=C(Ee,10),Ee=Y,Y=we;we=B[1]+L+pe|0,B[1]=B[2]+z+Pe|0,B[2]=B[3]+j+K|0,B[3]=B[4]+N+Y|0,B[4]=B[0]+V+Ee|0,B[0]=we},_doFinalize:function(){var P=this._data,I=P.words,F=this._nDataBytes*8,M=P.sigBytes*8;I[M>>>5]|=128<<24-M%32,I[(M+64>>>9<<4)+14]=(F<<8|F>>>24)&16711935|(F<<24|F>>>8)&4278255360,P.sigBytes=(I.length+1)*4,this._process();for(var k=this._hash,B=k.words,O=0;O<5;O++){var D=B[O];B[O]=(D<<8|D>>>24)&16711935|(D<<24|D>>>8)&4278255360}return k},clone:function(){var P=a.clone.call(this);return P._hash=this._hash.clone(),P}});function w(P,I,F){return P^I^F}function x(P,I,F){return P&I|~P&F}function _(P,I,F){return(P|~I)^F}function b(P,I,F){return P&F|I&~F}function T(P,I,F){return P^(I|~F)}function C(P,I){return P<<I|P>>>32-I}i.RIPEMD160=a._createHelper(y),i.HmacRIPEMD160=a._createHmacHelper(y)}(),r.RIPEMD160})}($m)),$m.exports}var jm={exports:{}},Y2;function iy(){return Y2||(Y2=1,function(t,e){(function(r,n){t.exports=n(je())})(Ce,function(r){(function(){var n=r,i=n.lib,s=i.Base,o=n.enc,a=o.Utf8,c=n.algo;c.HMAC=s.extend({init:function(d,p){d=this._hasher=new d.init,typeof p=="string"&&(p=a.parse(p));var h=d.blockSize,f=h*4;p.sigBytes>f&&(p=d.finalize(p)),p.clamp();for(var m=this._oKey=p.clone(),v=this._iKey=p.clone(),y=m.words,w=v.words,x=0;x<h;x++)y[x]^=1549556828,w[x]^=909522486;m.sigBytes=v.sigBytes=f,this.reset()},reset:function(){var d=this._hasher;d.reset(),d.update(this._iKey)},update:function(d){return this._hasher.update(d),this},finalize:function(d){var p=this._hasher,h=p.finalize(d);p.reset();var f=p.finalize(this._oKey.clone().concat(h));return f}})})()})}(jm)),jm.exports}var Hm={exports:{}},Q2;function lI(){return Q2||(Q2=1,function(t,e){(function(r,n,i){t.exports=n(je(),ny(),iy())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.Base,o=i.WordArray,a=n.algo,c=a.SHA256,d=a.HMAC,p=a.PBKDF2=s.extend({cfg:s.extend({keySize:128/32,hasher:c,iterations:25e4}),init:function(h){this.cfg=this.cfg.extend(h)},compute:function(h,f){for(var m=this.cfg,v=d.create(m.hasher,h),y=o.create(),w=o.create([1]),x=y.words,_=w.words,b=m.keySize,T=m.iterations;x.length<b;){var C=v.update(f).finalize(w);v.reset();for(var P=C.words,I=P.length,F=C,M=1;M<T;M++){F=v.finalize(F),v.reset();for(var k=F.words,B=0;B<I;B++)P[B]^=k[B]}y.concat(C),_[0]++}return y.sigBytes=b*4,y}});n.PBKDF2=function(h,f,m){return p.create(m).compute(h,f)}}(),r.PBKDF2})}(Hm)),Hm.exports}var Gm={exports:{}},K2;function Ws(){return K2||(K2=1,function(t,e){(function(r,n,i){t.exports=n(je(),QA(),iy())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.Base,o=i.WordArray,a=n.algo,c=a.MD5,d=a.EvpKDF=s.extend({cfg:s.extend({keySize:128/32,hasher:c,iterations:1}),init:function(p){this.cfg=this.cfg.extend(p)},compute:function(p,h){for(var f,m=this.cfg,v=m.hasher.create(),y=o.create(),w=y.words,x=m.keySize,_=m.iterations;w.length<x;){f&&v.update(f),f=v.update(p).finalize(h),v.reset();for(var b=1;b<_;b++)f=v.finalize(f),v.reset();y.concat(f)}return y.sigBytes=x*4,y}});n.EvpKDF=function(p,h,f){return d.create(f).compute(p,h)}}(),r.EvpKDF})}(Gm)),Gm.exports}var Wm={exports:{}},Z2;function Qt(){return Z2||(Z2=1,function(t,e){(function(r,n,i){t.exports=n(je(),Ws())})(Ce,function(r){r.lib.Cipher||function(n){var i=r,s=i.lib,o=s.Base,a=s.WordArray,c=s.BufferedBlockAlgorithm,d=i.enc;d.Utf8;var p=d.Base64,h=i.algo,f=h.EvpKDF,m=s.Cipher=c.extend({cfg:o.extend(),createEncryptor:function(k,B){return this.create(this._ENC_XFORM_MODE,k,B)},createDecryptor:function(k,B){return this.create(this._DEC_XFORM_MODE,k,B)},init:function(k,B,O){this.cfg=this.cfg.extend(O),this._xformMode=k,this._key=B,this.reset()},reset:function(){c.reset.call(this),this._doReset()},process:function(k){return this._append(k),this._process()},finalize:function(k){k&&this._append(k);var B=this._doFinalize();return B},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function k(B){return typeof B=="string"?M:P}return function(B){return{encrypt:function(O,D,U){return k(D).encrypt(B,O,D,U)},decrypt:function(O,D,U){return k(D).decrypt(B,O,D,U)}}}}()});s.StreamCipher=m.extend({_doFinalize:function(){var k=this._process(!0);return k},blockSize:1});var v=i.mode={},y=s.BlockCipherMode=o.extend({createEncryptor:function(k,B){return this.Encryptor.create(k,B)},createDecryptor:function(k,B){return this.Decryptor.create(k,B)},init:function(k,B){this._cipher=k,this._iv=B}}),w=v.CBC=function(){var k=y.extend();k.Encryptor=k.extend({processBlock:function(O,D){var U=this._cipher,X=U.blockSize;B.call(this,O,D,X),U.encryptBlock(O,D),this._prevBlock=O.slice(D,D+X)}}),k.Decryptor=k.extend({processBlock:function(O,D){var U=this._cipher,X=U.blockSize,Z=O.slice(D,D+X);U.decryptBlock(O,D),B.call(this,O,D,X),this._prevBlock=Z}});function B(O,D,U){var X,Z=this._iv;Z?(X=Z,this._iv=n):X=this._prevBlock;for(var W=0;W<U;W++)O[D+W]^=X[W]}return k}(),x=i.pad={},_=x.Pkcs7={pad:function(k,B){for(var O=B*4,D=O-k.sigBytes%O,U=D<<24|D<<16|D<<8|D,X=[],Z=0;Z<D;Z+=4)X.push(U);var W=a.create(X,D);k.concat(W)},unpad:function(k){var B=k.words[k.sigBytes-1>>>2]&255;k.sigBytes-=B}};s.BlockCipher=m.extend({cfg:m.cfg.extend({mode:w,padding:_}),reset:function(){var k;m.reset.call(this);var B=this.cfg,O=B.iv,D=B.mode;this._xformMode==this._ENC_XFORM_MODE?k=D.createEncryptor:(k=D.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==k?this._mode.init(this,O&&O.words):(this._mode=k.call(D,this,O&&O.words),this._mode.__creator=k)},_doProcessBlock:function(k,B){this._mode.processBlock(k,B)},_doFinalize:function(){var k,B=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(B.pad(this._data,this.blockSize),k=this._process(!0)):(k=this._process(!0),B.unpad(k)),k},blockSize:128/32});var b=s.CipherParams=o.extend({init:function(k){this.mixIn(k)},toString:function(k){return(k||this.formatter).stringify(this)}}),T=i.format={},C=T.OpenSSL={stringify:function(k){var B,O=k.ciphertext,D=k.salt;return D?B=a.create([1398893684,1701076831]).concat(D).concat(O):B=O,B.toString(p)},parse:function(k){var B,O=p.parse(k),D=O.words;return D[0]==1398893684&&D[1]==1701076831&&(B=a.create(D.slice(2,4)),D.splice(0,4),O.sigBytes-=16),b.create({ciphertext:O,salt:B})}},P=s.SerializableCipher=o.extend({cfg:o.extend({format:C}),encrypt:function(k,B,O,D){D=this.cfg.extend(D);var U=k.createEncryptor(O,D),X=U.finalize(B),Z=U.cfg;return b.create({ciphertext:X,key:O,iv:Z.iv,algorithm:k,mode:Z.mode,padding:Z.padding,blockSize:k.blockSize,formatter:D.format})},decrypt:function(k,B,O,D){D=this.cfg.extend(D),B=this._parse(B,D.format);var U=k.createDecryptor(O,D).finalize(B.ciphertext);return U},_parse:function(k,B){return typeof k=="string"?B.parse(k,this):k}}),I=i.kdf={},F=I.OpenSSL={execute:function(k,B,O,D,U){if(D||(D=a.random(64/8)),U)var X=f.create({keySize:B+O,hasher:U}).compute(k,D);else var X=f.create({keySize:B+O}).compute(k,D);var Z=a.create(X.words.slice(B),O*4);return X.sigBytes=B*4,b.create({key:X,iv:Z,salt:D})}},M=s.PasswordBasedCipher=P.extend({cfg:P.cfg.extend({kdf:F}),encrypt:function(k,B,O,D){D=this.cfg.extend(D);var U=D.kdf.execute(O,k.keySize,k.ivSize,D.salt,D.hasher);D.iv=U.iv;var X=P.encrypt.call(this,k,B,U.key,D);return X.mixIn(U),X},decrypt:function(k,B,O,D){D=this.cfg.extend(D),B=this._parse(B,D.format);var U=D.kdf.execute(O,k.keySize,k.ivSize,B.salt,D.hasher);D.iv=U.iv;var X=P.decrypt.call(this,k,B,U.key,D);return X}})}()})}(Wm)),Wm.exports}var Vm={exports:{}},J2;function uI(){return J2||(J2=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qt())})(Ce,function(r){return r.mode.CFB=function(){var n=r.lib.BlockCipherMode.extend();n.Encryptor=n.extend({processBlock:function(s,o){var a=this._cipher,c=a.blockSize;i.call(this,s,o,c,a),this._prevBlock=s.slice(o,o+c)}}),n.Decryptor=n.extend({processBlock:function(s,o){var a=this._cipher,c=a.blockSize,d=s.slice(o,o+c);i.call(this,s,o,c,a),this._prevBlock=d}});function i(s,o,a,c){var d,p=this._iv;p?(d=p.slice(0),this._iv=void 0):d=this._prevBlock,c.encryptBlock(d,0);for(var h=0;h<a;h++)s[o+h]^=d[h]}return n}(),r.mode.CFB})}(Vm)),Vm.exports}var Xm={exports:{}},ew;function cI(){return ew||(ew=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qt())})(Ce,function(r){return r.mode.CTR=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,o){var a=this._cipher,c=a.blockSize,d=this._iv,p=this._counter;d&&(p=this._counter=d.slice(0),this._iv=void 0);var h=p.slice(0);a.encryptBlock(h,0),p[c-1]=p[c-1]+1|0;for(var f=0;f<c;f++)s[o+f]^=h[f]}});return n.Decryptor=i,n}(),r.mode.CTR})}(Xm)),Xm.exports}var qm={exports:{}},tw;function hI(){return tw||(tw=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qt())})(Ce,function(r){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return r.mode.CTRGladman=function(){var n=r.lib.BlockCipherMode.extend();function i(a){if((a>>24&255)===255){var c=a>>16&255,d=a>>8&255,p=a&255;c===255?(c=0,d===255?(d=0,p===255?p=0:++p):++d):++c,a=0,a+=c<<16,a+=d<<8,a+=p}else a+=1<<24;return a}function s(a){return(a[0]=i(a[0]))===0&&(a[1]=i(a[1])),a}var o=n.Encryptor=n.extend({processBlock:function(a,c){var d=this._cipher,p=d.blockSize,h=this._iv,f=this._counter;h&&(f=this._counter=h.slice(0),this._iv=void 0),s(f);var m=f.slice(0);d.encryptBlock(m,0);for(var v=0;v<p;v++)a[c+v]^=m[v]}});return n.Decryptor=o,n}(),r.mode.CTRGladman})}(qm)),qm.exports}var Ym={exports:{}},rw;function dI(){return rw||(rw=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qt())})(Ce,function(r){return r.mode.OFB=function(){var n=r.lib.BlockCipherMode.extend(),i=n.Encryptor=n.extend({processBlock:function(s,o){var a=this._cipher,c=a.blockSize,d=this._iv,p=this._keystream;d&&(p=this._keystream=d.slice(0),this._iv=void 0),a.encryptBlock(p,0);for(var h=0;h<c;h++)s[o+h]^=p[h]}});return n.Decryptor=i,n}(),r.mode.OFB})}(Ym)),Ym.exports}var Qm={exports:{}},nw;function fI(){return nw||(nw=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qt())})(Ce,function(r){return r.mode.ECB=function(){var n=r.lib.BlockCipherMode.extend();return n.Encryptor=n.extend({processBlock:function(i,s){this._cipher.encryptBlock(i,s)}}),n.Decryptor=n.extend({processBlock:function(i,s){this._cipher.decryptBlock(i,s)}}),n}(),r.mode.ECB})}(Qm)),Qm.exports}var Km={exports:{}},iw;function pI(){return iw||(iw=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qt())})(Ce,function(r){return r.pad.AnsiX923={pad:function(n,i){var s=n.sigBytes,o=i*4,a=o-s%o,c=s+a-1;n.clamp(),n.words[c>>>2]|=a<<24-c%4*8,n.sigBytes+=a},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Ansix923})}(Km)),Km.exports}var Zm={exports:{}},sw;function mI(){return sw||(sw=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qt())})(Ce,function(r){return r.pad.Iso10126={pad:function(n,i){var s=i*4,o=s-n.sigBytes%s;n.concat(r.lib.WordArray.random(o-1)).concat(r.lib.WordArray.create([o<<24],1))},unpad:function(n){var i=n.words[n.sigBytes-1>>>2]&255;n.sigBytes-=i}},r.pad.Iso10126})}(Zm)),Zm.exports}var Jm={exports:{}},ow;function gI(){return ow||(ow=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qt())})(Ce,function(r){return r.pad.Iso97971={pad:function(n,i){n.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(n,i)},unpad:function(n){r.pad.ZeroPadding.unpad(n),n.sigBytes--}},r.pad.Iso97971})}(Jm)),Jm.exports}var eg={exports:{}},aw;function vI(){return aw||(aw=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qt())})(Ce,function(r){return r.pad.ZeroPadding={pad:function(n,i){var s=i*4;n.clamp(),n.sigBytes+=s-(n.sigBytes%s||s)},unpad:function(n){for(var i=n.words,s=n.sigBytes-1,s=n.sigBytes-1;s>=0;s--)if(i[s>>>2]>>>24-s%4*8&255){n.sigBytes=s+1;break}}},r.pad.ZeroPadding})}(eg)),eg.exports}var tg={exports:{}},lw;function xI(){return lw||(lw=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qt())})(Ce,function(r){return r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding})}(tg)),tg.exports}var rg={exports:{}},uw;function yI(){return uw||(uw=1,function(t,e){(function(r,n,i){t.exports=n(je(),Qt())})(Ce,function(r){return function(n){var i=r,s=i.lib,o=s.CipherParams,a=i.enc,c=a.Hex,d=i.format;d.Hex={stringify:function(p){return p.ciphertext.toString(c)},parse:function(p){var h=c.parse(p);return o.create({ciphertext:h})}}}(),r.format.Hex})}(rg)),rg.exports}var ng={exports:{}},cw;function _I(){return cw||(cw=1,function(t,e){(function(r,n,i){t.exports=n(je(),$o(),jo(),Ws(),Qt())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.BlockCipher,o=n.algo,a=[],c=[],d=[],p=[],h=[],f=[],m=[],v=[],y=[],w=[];(function(){for(var b=[],T=0;T<256;T++)T<128?b[T]=T<<1:b[T]=T<<1^283;for(var C=0,P=0,T=0;T<256;T++){var I=P^P<<1^P<<2^P<<3^P<<4;I=I>>>8^I&255^99,a[C]=I,c[I]=C;var F=b[C],M=b[F],k=b[M],B=b[I]*257^I*16843008;d[C]=B<<24|B>>>8,p[C]=B<<16|B>>>16,h[C]=B<<8|B>>>24,f[C]=B;var B=k*16843009^M*65537^F*257^C*16843008;m[I]=B<<24|B>>>8,v[I]=B<<16|B>>>16,y[I]=B<<8|B>>>24,w[I]=B,C?(C=F^b[b[b[k^F]]],P^=b[b[P]]):C=P=1}})();var x=[0,1,2,4,8,16,32,64,128,27,54],_=o.AES=s.extend({_doReset:function(){var b;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var T=this._keyPriorReset=this._key,C=T.words,P=T.sigBytes/4,I=this._nRounds=P+6,F=(I+1)*4,M=this._keySchedule=[],k=0;k<F;k++)k<P?M[k]=C[k]:(b=M[k-1],k%P?P>6&&k%P==4&&(b=a[b>>>24]<<24|a[b>>>16&255]<<16|a[b>>>8&255]<<8|a[b&255]):(b=b<<8|b>>>24,b=a[b>>>24]<<24|a[b>>>16&255]<<16|a[b>>>8&255]<<8|a[b&255],b^=x[k/P|0]<<24),M[k]=M[k-P]^b);for(var B=this._invKeySchedule=[],O=0;O<F;O++){var k=F-O;if(O%4)var b=M[k];else var b=M[k-4];O<4||k<=4?B[O]=b:B[O]=m[a[b>>>24]]^v[a[b>>>16&255]]^y[a[b>>>8&255]]^w[a[b&255]]}}},encryptBlock:function(b,T){this._doCryptBlock(b,T,this._keySchedule,d,p,h,f,a)},decryptBlock:function(b,T){var C=b[T+1];b[T+1]=b[T+3],b[T+3]=C,this._doCryptBlock(b,T,this._invKeySchedule,m,v,y,w,c);var C=b[T+1];b[T+1]=b[T+3],b[T+3]=C},_doCryptBlock:function(b,T,C,P,I,F,M,k){for(var B=this._nRounds,O=b[T]^C[0],D=b[T+1]^C[1],U=b[T+2]^C[2],X=b[T+3]^C[3],Z=4,W=1;W<B;W++){var N=P[O>>>24]^I[D>>>16&255]^F[U>>>8&255]^M[X&255]^C[Z++],V=P[D>>>24]^I[U>>>16&255]^F[X>>>8&255]^M[O&255]^C[Z++],L=P[U>>>24]^I[X>>>16&255]^F[O>>>8&255]^M[D&255]^C[Z++],z=P[X>>>24]^I[O>>>16&255]^F[D>>>8&255]^M[U&255]^C[Z++];O=N,D=V,U=L,X=z}var N=(k[O>>>24]<<24|k[D>>>16&255]<<16|k[U>>>8&255]<<8|k[X&255])^C[Z++],V=(k[D>>>24]<<24|k[U>>>16&255]<<16|k[X>>>8&255]<<8|k[O&255])^C[Z++],L=(k[U>>>24]<<24|k[X>>>16&255]<<16|k[O>>>8&255]<<8|k[D&255])^C[Z++],z=(k[X>>>24]<<24|k[O>>>16&255]<<16|k[D>>>8&255]<<8|k[U&255])^C[Z++];b[T]=N,b[T+1]=V,b[T+2]=L,b[T+3]=z},keySize:256/32});n.AES=s._createHelper(_)}(),r.AES})}(ng)),ng.exports}var ig={exports:{}},hw;function bI(){return hw||(hw=1,function(t,e){(function(r,n,i){t.exports=n(je(),$o(),jo(),Ws(),Qt())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.WordArray,o=i.BlockCipher,a=n.algo,c=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],d=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],p=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],h=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],f=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],m=a.DES=o.extend({_doReset:function(){for(var x=this._key,_=x.words,b=[],T=0;T<56;T++){var C=c[T]-1;b[T]=_[C>>>5]>>>31-C%32&1}for(var P=this._subKeys=[],I=0;I<16;I++){for(var F=P[I]=[],M=p[I],T=0;T<24;T++)F[T/6|0]|=b[(d[T]-1+M)%28]<<31-T%6,F[4+(T/6|0)]|=b[28+(d[T+24]-1+M)%28]<<31-T%6;F[0]=F[0]<<1|F[0]>>>31;for(var T=1;T<7;T++)F[T]=F[T]>>>(T-1)*4+3;F[7]=F[7]<<5|F[7]>>>27}for(var k=this._invSubKeys=[],T=0;T<16;T++)k[T]=P[15-T]},encryptBlock:function(x,_){this._doCryptBlock(x,_,this._subKeys)},decryptBlock:function(x,_){this._doCryptBlock(x,_,this._invSubKeys)},_doCryptBlock:function(x,_,b){this._lBlock=x[_],this._rBlock=x[_+1],v.call(this,4,252645135),v.call(this,16,65535),y.call(this,2,858993459),y.call(this,8,16711935),v.call(this,1,1431655765);for(var T=0;T<16;T++){for(var C=b[T],P=this._lBlock,I=this._rBlock,F=0,M=0;M<8;M++)F|=h[M][((I^C[M])&f[M])>>>0];this._lBlock=I,this._rBlock=P^F}var k=this._lBlock;this._lBlock=this._rBlock,this._rBlock=k,v.call(this,1,1431655765),y.call(this,8,16711935),y.call(this,2,858993459),v.call(this,16,65535),v.call(this,4,252645135),x[_]=this._lBlock,x[_+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function v(x,_){var b=(this._lBlock>>>x^this._rBlock)&_;this._rBlock^=b,this._lBlock^=b<<x}function y(x,_){var b=(this._rBlock>>>x^this._lBlock)&_;this._lBlock^=b,this._rBlock^=b<<x}n.DES=o._createHelper(m);var w=a.TripleDES=o.extend({_doReset:function(){var x=this._key,_=x.words;if(_.length!==2&&_.length!==4&&_.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var b=_.slice(0,2),T=_.length<4?_.slice(0,2):_.slice(2,4),C=_.length<6?_.slice(0,2):_.slice(4,6);this._des1=m.createEncryptor(s.create(b)),this._des2=m.createEncryptor(s.create(T)),this._des3=m.createEncryptor(s.create(C))},encryptBlock:function(x,_){this._des1.encryptBlock(x,_),this._des2.decryptBlock(x,_),this._des3.encryptBlock(x,_)},decryptBlock:function(x,_){this._des3.decryptBlock(x,_),this._des2.encryptBlock(x,_),this._des1.decryptBlock(x,_)},keySize:192/32,ivSize:64/32,blockSize:64/32});n.TripleDES=o._createHelper(w)}(),r.TripleDES})}(ig)),ig.exports}var sg={exports:{}},dw;function wI(){return dw||(dw=1,function(t,e){(function(r,n,i){t.exports=n(je(),$o(),jo(),Ws(),Qt())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,o=n.algo,a=o.RC4=s.extend({_doReset:function(){for(var p=this._key,h=p.words,f=p.sigBytes,m=this._S=[],v=0;v<256;v++)m[v]=v;for(var v=0,y=0;v<256;v++){var w=v%f,x=h[w>>>2]>>>24-w%4*8&255;y=(y+m[v]+x)%256;var _=m[v];m[v]=m[y],m[y]=_}this._i=this._j=0},_doProcessBlock:function(p,h){p[h]^=c.call(this)},keySize:256/32,ivSize:0});function c(){for(var p=this._S,h=this._i,f=this._j,m=0,v=0;v<4;v++){h=(h+1)%256,f=(f+p[h])%256;var y=p[h];p[h]=p[f],p[f]=y,m|=p[(p[h]+p[f])%256]<<24-v*8}return this._i=h,this._j=f,m}n.RC4=s._createHelper(a);var d=o.RC4Drop=a.extend({cfg:a.cfg.extend({drop:192}),_doReset:function(){a._doReset.call(this);for(var p=this.cfg.drop;p>0;p--)c.call(this)}});n.RC4Drop=s._createHelper(d)}(),r.RC4})}(sg)),sg.exports}var og={exports:{}},fw;function EI(){return fw||(fw=1,function(t,e){(function(r,n,i){t.exports=n(je(),$o(),jo(),Ws(),Qt())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,o=n.algo,a=[],c=[],d=[],p=o.Rabbit=s.extend({_doReset:function(){for(var f=this._key.words,m=this.cfg.iv,v=0;v<4;v++)f[v]=(f[v]<<8|f[v]>>>24)&16711935|(f[v]<<24|f[v]>>>8)&4278255360;var y=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],w=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var v=0;v<4;v++)h.call(this);for(var v=0;v<8;v++)w[v]^=y[v+4&7];if(m){var x=m.words,_=x[0],b=x[1],T=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,C=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,P=T>>>16|C&4294901760,I=C<<16|T&65535;w[0]^=T,w[1]^=P,w[2]^=C,w[3]^=I,w[4]^=T,w[5]^=P,w[6]^=C,w[7]^=I;for(var v=0;v<4;v++)h.call(this)}},_doProcessBlock:function(f,m){var v=this._X;h.call(this),a[0]=v[0]^v[5]>>>16^v[3]<<16,a[1]=v[2]^v[7]>>>16^v[5]<<16,a[2]=v[4]^v[1]>>>16^v[7]<<16,a[3]=v[6]^v[3]>>>16^v[1]<<16;for(var y=0;y<4;y++)a[y]=(a[y]<<8|a[y]>>>24)&16711935|(a[y]<<24|a[y]>>>8)&4278255360,f[m+y]^=a[y]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,m=this._C,v=0;v<8;v++)c[v]=m[v];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<c[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<c[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<c[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<c[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<c[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<c[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<c[6]>>>0?1:0)|0,this._b=m[7]>>>0<c[7]>>>0?1:0;for(var v=0;v<8;v++){var y=f[v]+m[v],w=y&65535,x=y>>>16,_=((w*w>>>17)+w*x>>>15)+x*x,b=((y&4294901760)*y|0)+((y&65535)*y|0);d[v]=_^b}f[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,f[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,f[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,f[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,f[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,f[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,f[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,f[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}n.Rabbit=s._createHelper(p)}(),r.Rabbit})}(og)),og.exports}var ag={exports:{}},pw;function SI(){return pw||(pw=1,function(t,e){(function(r,n,i){t.exports=n(je(),$o(),jo(),Ws(),Qt())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.StreamCipher,o=n.algo,a=[],c=[],d=[],p=o.RabbitLegacy=s.extend({_doReset:function(){var f=this._key.words,m=this.cfg.iv,v=this._X=[f[0],f[3]<<16|f[2]>>>16,f[1],f[0]<<16|f[3]>>>16,f[2],f[1]<<16|f[0]>>>16,f[3],f[2]<<16|f[1]>>>16],y=this._C=[f[2]<<16|f[2]>>>16,f[0]&4294901760|f[1]&65535,f[3]<<16|f[3]>>>16,f[1]&4294901760|f[2]&65535,f[0]<<16|f[0]>>>16,f[2]&4294901760|f[3]&65535,f[1]<<16|f[1]>>>16,f[3]&4294901760|f[0]&65535];this._b=0;for(var w=0;w<4;w++)h.call(this);for(var w=0;w<8;w++)y[w]^=v[w+4&7];if(m){var x=m.words,_=x[0],b=x[1],T=(_<<8|_>>>24)&16711935|(_<<24|_>>>8)&4278255360,C=(b<<8|b>>>24)&16711935|(b<<24|b>>>8)&4278255360,P=T>>>16|C&4294901760,I=C<<16|T&65535;y[0]^=T,y[1]^=P,y[2]^=C,y[3]^=I,y[4]^=T,y[5]^=P,y[6]^=C,y[7]^=I;for(var w=0;w<4;w++)h.call(this)}},_doProcessBlock:function(f,m){var v=this._X;h.call(this),a[0]=v[0]^v[5]>>>16^v[3]<<16,a[1]=v[2]^v[7]>>>16^v[5]<<16,a[2]=v[4]^v[1]>>>16^v[7]<<16,a[3]=v[6]^v[3]>>>16^v[1]<<16;for(var y=0;y<4;y++)a[y]=(a[y]<<8|a[y]>>>24)&16711935|(a[y]<<24|a[y]>>>8)&4278255360,f[m+y]^=a[y]},blockSize:128/32,ivSize:64/32});function h(){for(var f=this._X,m=this._C,v=0;v<8;v++)c[v]=m[v];m[0]=m[0]+1295307597+this._b|0,m[1]=m[1]+3545052371+(m[0]>>>0<c[0]>>>0?1:0)|0,m[2]=m[2]+886263092+(m[1]>>>0<c[1]>>>0?1:0)|0,m[3]=m[3]+1295307597+(m[2]>>>0<c[2]>>>0?1:0)|0,m[4]=m[4]+3545052371+(m[3]>>>0<c[3]>>>0?1:0)|0,m[5]=m[5]+886263092+(m[4]>>>0<c[4]>>>0?1:0)|0,m[6]=m[6]+1295307597+(m[5]>>>0<c[5]>>>0?1:0)|0,m[7]=m[7]+3545052371+(m[6]>>>0<c[6]>>>0?1:0)|0,this._b=m[7]>>>0<c[7]>>>0?1:0;for(var v=0;v<8;v++){var y=f[v]+m[v],w=y&65535,x=y>>>16,_=((w*w>>>17)+w*x>>>15)+x*x,b=((y&4294901760)*y|0)+((y&65535)*y|0);d[v]=_^b}f[0]=d[0]+(d[7]<<16|d[7]>>>16)+(d[6]<<16|d[6]>>>16)|0,f[1]=d[1]+(d[0]<<8|d[0]>>>24)+d[7]|0,f[2]=d[2]+(d[1]<<16|d[1]>>>16)+(d[0]<<16|d[0]>>>16)|0,f[3]=d[3]+(d[2]<<8|d[2]>>>24)+d[1]|0,f[4]=d[4]+(d[3]<<16|d[3]>>>16)+(d[2]<<16|d[2]>>>16)|0,f[5]=d[5]+(d[4]<<8|d[4]>>>24)+d[3]|0,f[6]=d[6]+(d[5]<<16|d[5]>>>16)+(d[4]<<16|d[4]>>>16)|0,f[7]=d[7]+(d[6]<<8|d[6]>>>24)+d[5]|0}n.RabbitLegacy=s._createHelper(p)}(),r.RabbitLegacy})}(ag)),ag.exports}var lg={exports:{}},mw;function TI(){return mw||(mw=1,function(t,e){(function(r,n,i){t.exports=n(je(),$o(),jo(),Ws(),Qt())})(Ce,function(r){return function(){var n=r,i=n.lib,s=i.BlockCipher,o=n.algo;const a=16,c=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],d=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]];var p={pbox:[],sbox:[]};function h(w,x){let _=x>>24&255,b=x>>16&255,T=x>>8&255,C=x&255,P=w.sbox[0][_]+w.sbox[1][b];return P=P^w.sbox[2][T],P=P+w.sbox[3][C],P}function f(w,x,_){let b=x,T=_,C;for(let P=0;P<a;++P)b=b^w.pbox[P],T=h(w,b)^T,C=b,b=T,T=C;return C=b,b=T,T=C,T=T^w.pbox[a],b=b^w.pbox[a+1],{left:b,right:T}}function m(w,x,_){let b=x,T=_,C;for(let P=a+1;P>1;--P)b=b^w.pbox[P],T=h(w,b)^T,C=b,b=T,T=C;return C=b,b=T,T=C,T=T^w.pbox[1],b=b^w.pbox[0],{left:b,right:T}}function v(w,x,_){for(let I=0;I<4;I++){w.sbox[I]=[];for(let F=0;F<256;F++)w.sbox[I][F]=d[I][F]}let b=0;for(let I=0;I<a+2;I++)w.pbox[I]=c[I]^x[b],b++,b>=_&&(b=0);let T=0,C=0,P=0;for(let I=0;I<a+2;I+=2)P=f(w,T,C),T=P.left,C=P.right,w.pbox[I]=T,w.pbox[I+1]=C;for(let I=0;I<4;I++)for(let F=0;F<256;F+=2)P=f(w,T,C),T=P.left,C=P.right,w.sbox[I][F]=T,w.sbox[I][F+1]=C;return!0}var y=o.Blowfish=s.extend({_doReset:function(){if(this._keyPriorReset!==this._key){var w=this._keyPriorReset=this._key,x=w.words,_=w.sigBytes/4;v(p,x,_)}},encryptBlock:function(w,x){var _=f(p,w[x],w[x+1]);w[x]=_.left,w[x+1]=_.right},decryptBlock:function(w,x){var _=m(p,w[x],w[x+1]);w[x]=_.left,w[x+1]=_.right},blockSize:64/32,keySize:128/32,ivSize:64/32});n.Blowfish=s._createHelper(y)}(),r.Blowfish})}(lg)),lg.exports}(function(t,e){(function(r,n,i){t.exports=n(je(),Qf(),tI(),rI(),$o(),nI(),jo(),QA(),ny(),iI(),KA(),sI(),oI(),aI(),iy(),lI(),Ws(),Qt(),uI(),cI(),hI(),dI(),fI(),pI(),mI(),gI(),vI(),xI(),yI(),_I(),bI(),wI(),EI(),SI(),TI())})(Ce,function(r){return r})})(Tu);new Audio;function ug(t,e){return Tu.exports.SHA256(Tu.exports.SHA256(Tu.exports.SHA256(t+e**2)))}class af{name;pass;pfpurl;boughtpack;unlockedsongs;cpu;ram;progression;readstory;partners;partnersexp;selectedpartner;constructor(){this.name="",this.pass="",this.pfpurl="",this.cpu=20,this.ram=200,this.progression=[],this.boughtpack=[],this.unlockedsongs=[],this.readstory=[],this.partners=[],this.partnersexp=["0/divide/5210"],this.selectedpartner=0}save(){this.cpu=this.cpu,this.ram=this.ram,document.cookie="status=saved;",document.cookie=`name=${this.name};`;let e="";this.pass="123456789";let r="",n="",i="",s="";this.boughtpack.forEach(o=>{e+=o+"/"}),this.unlockedsongs.forEach(o=>{n+=o+"/"}),this.readstory.forEach(o=>{r+=o+"/"}),this.partners.forEach(o=>{i+=o+"/"}),this.partnersexp.forEach(o=>{s+=o+"/"}),document.cookie="data="+Tu.exports.AES.encrypt(`pfp|${this.pfpurl}/divide/cpu|${ug(this.cpu.toString(),parseInt(this.pass))}/divide/ram|${ug(this.ram.toString(),parseInt(this.pass))}/divide/prog|${JSON.stringify(this.progression)}/divide/bought|${e}/divide/unlock|${n}/divide/readstory|${r}/divide/selectedpartner|${ug(this.selectedpartner.toString(),parseInt(this.pass))}/divide/partners|${i}/divide/partnersexp|${s}`,this.pass).toString()}}function Mn(t){let e=t+"=",n=decodeURIComponent(document.cookie).split(";");for(let i=0;i<n.length;i++){let s=n[i];for(;s.charAt(0)==" ";)s=s.substring(1);if(s.indexOf(e)==0)return s.substring(e.length,s.length)}return"0"}function il(t,e){let r=t.length;if(e<=t[0].time)return t[0];if(e>=t[r-1].time)return t[r-1];let n=0,i=r,s=0;for(;n<i;){if(s=Math.floor((n+i)/2),t[s].time==e)return t[s];if(e<t[s].time){if(s>0&&e>t[s-1].time)return t[s-1];i=s}else{if(s<r-1&&e<t[s+1].time)return t[s];n=s+1}}return t[s]}function Ne(t,e,r){r=r.slice();const n=il(r.sort((a,c)=>a.time-c.time),t),i=n.floorPosition+n.speed*(t-n.time),s=il(r.sort((a,c)=>a.time-c.time),e);return s.floorPosition+s.speed*(e-s.time)-i}function On(t,e,r){let n=0;e=e.slice();let i=e.filter(s=>s.time<=t).sort((s,o)=>s.time-o.time).reverse();if(e=e.filter(s=>s.time<=t).sort((s,o)=>s.time-o.time),i[0]!=null&&(n+=t-i[0].time),i.length==0){const s=e[0],o=e.length!=1?e[1]:s;r-=o.speed*(t-s.time)}return i.forEach((s,o)=>{const a=s,c=o+1!=i.length?i[o+1]:s;c.speed*(a.time-c.time)<=r?(n+=a.time-c.time,r-=c.speed*(a.time-c.time)):n+=r/c.speed}),n}function ht(t,e,r,n){const[i,s]=e,[o,a]=r;return t<i&&!n?o:t>s&&!n?a:o===a&&!n?o:(t-i)/(s-i)*(a-o)+o}function vs(t,e,r,n){const[i,s]=e,[o,a]=r;let c=(t-i)/(s-i);return n=="eout"&&(c=Math.sin(c*Math.PI/2)),n=="ein"&&(c=1-Math.cos(c*Math.PI/2)),n=="normal"&&(c=0),t<i?o:t>s?a:o===a?o:c*(a-o)+o}function ci(t,e){const r=6e4/e;return Math.floor(r/t)}function Sd(t){let e=t+"=",n=decodeURIComponent(document.cookie).split(";");for(let i=0;i<n.length;i++){let s=n[i];for(;s.charAt(0)==" ";)s=s.substring(1);if(s.indexOf(e)==0)return s.substring(e.length,s.length)}return""}function dt(t,e){const r=ce*(parseFloat(Sd("SCROLL_SPEED_FACTOR"))/3)/1980,n=parseFloat(Sd("OFFSET"))?parseFloat(Sd("OFFSET")):0,i=JSON.parse(t),{audioPath:s,metadata:o,hitObjects:a,timingPoints:c,cursor:d,speedChanges:p}=i,h=typeof s=="string",f=typeof o.title=="string"&&typeof o.artist=="string"&&typeof o.creator=="string"&&typeof o.difficult=="string",m=Array.isArray(c)&&c.length>0&&c.every(({time:x,bpm:_,meter:b})=>typeof x=="number"&&typeof _=="number"&&typeof b=="number");c.forEach(x=>{x.speed*=r});let v=0;c.forEach((x,_)=>{const b=_==0?v:c[_-1].floorPosition,T=_==0?1:c[_-1].speed,C=_==0?1*0:c[_-1].time;c[_].floorPosition=b+T*(c[_].time-C)});const y=Array.isArray(a)&&a.length>0&&a.every(({type:x,column:_,startTime:b,endTime:T})=>["note","hold"].includes(x)&&typeof _=="number"&&typeof b=="number"&&(T!=null?typeof T=="number":!0));if(!(h&&f&&m&&y))throw new Error("Invalid beatmap");return i.timingPoints.forEach(x=>{x.time=x.time+n}),i.timingPoints=i.timingPoints.sort((x,_)=>x.time-_.time),i.hitObjects.forEach((x,_)=>{if(x.startTime=x.startTime+n,x.index=_,x.endTime&&(x.endTime=x.endTime+n),x.type=="note"){let k=ce,B=0,O=c.filter((D,U)=>x.startTime>=D.time).sort((D,U)=>D.time-U.time).reverse();O.forEach((D,U)=>{if(k>0&&O[U+1]!=null){const X=O[U+1].time,Z=D.time;k-Ne(X,Z,i.timingPoints)>=0?(B+=Z-X,k-=Ne(X,Z,i.timingPoints)):(B+=On(x.startTime-B,O.reverse(),k),k=0)}else k>0&&O[U+1]==null&&(B+=k/D.speed,k=0)}),x.screenStartTime=x.startTime-B,x.screenEndTime=x.startTime}if(x.type=="hold"){const k=i.timingPoints.find(U=>x.startTime>=U.time);x.ticks=[];for(let U=0;U<Math.floor((x.endTime-(x.startTime+ci(4,k?.bpm)))/ci(4,k?.bpm));U++)x.ticks.push(x.startTime+ci(4,k?.bpm)*(U+1));let B=ce+Ne(x.startTime,x.endTime,i.timingPoints),O=0,D=c.filter((U,X)=>{if(X+1==c.length)return x.startTime>=U.time||x.endTime>=U.time;const Z=c[X+1].time;return x.startTime>=U.time&&x.startTime<=Z||x.endTime>=U.time&&x.endTime<=Z}).sort((U,X)=>U.time-X.time).reverse();D.forEach((U,X)=>{if(B>0&&D[X+1]!=null){const Z=D[X+1].time,W=U.time;B-Ne(Z,W,i.timingPoints)>=0?(O+=W-Z,B-=Ne(Z,W,i.timingPoints)):(O+=On(x.startTime-O,D.reverse(),B),B=0)}else B>0&&D[X+1]==null&&(O+=B/U.speed,B=0)}),x.screenStartTime=x.startTime-O,x.screenEndTime=x.endTime}const b=x.screenStartTime,T=x.screenEndTime;x.scrollPosList=[],x.scrollPosList.find(k=>k[0]==b)==null&&x.scrollPosList?.push([b,Ne(b,x.startTime,i.timingPoints)]);let C=c.sort((k,B)=>k.time-B.time).filter((k,B)=>b>=k.time||T>=k.time);if(C.length==0||C[0].time>b){const k=C.length==0?b:C[0].time;x.scrollPosList?.push([k,Ne(k,x.startTime,i.timingPoints)])}C.forEach((k,B)=>{const O=B+1!=C.length&&C[B+1].time<=T?C[B+1].time:T;k.time<b||k.time,x.scrollPosList?.push([O,Ne(O,x.startTime,i.timingPoints)])}),x.scrollPosList.find(k=>k[0]==T)==null&&x.scrollPosList?.push([T,Ne(T,x.startTime,i.timingPoints)]),x.scrollPosList?.forEach((k,B)=>{if(x.scrollPosList[B][1]>ce&&x.scrollPosList[B+1]!=null){il(i.timingPoints.sort((D,U)=>D.time-U.time),x.scrollPosList[B][0]);const O=ht(ce,[x.scrollPosList[B+1][1],x.scrollPosList[B][1]],[x.scrollPosList[B+1][0],x.scrollPosList[B][0]]);x.scrollPosList[B]=[O,ce],x.screenStartTime=O}});let P=0,I=Ne(T,x.startTime,i.timingPoints),F=c.filter((k,B)=>T>=k.time).sort((k,B)=>k.time-B.time).reverse();const M=F[0]!=null?F[0].speed:r;P=Bt/M,x.scrollPosList?.push([T+Bt/M,I-Bt]),x.screenEndTime+=P}),i.cursor.forEach(x=>{x.startTime=x.startTime+=n}),i.timingPoints=i.timingPoints.sort((x,_)=>x.time-_.time),i.cursor.sort((x,_)=>x.startTime-_.startTime).forEach((x,_)=>{const b=i.timingPoints.sort((X,Z)=>X.time-Z.time);x.index=_;const T=i.cursor.sort((X,Z)=>X.startTime-Z.startTime)[_+1]!=null?i.cursor.sort((X,Z)=>X.startTime-Z.startTime)[_+1].startTime:i.hitObjects.sort((X,Z)=>{const W=X.endTime!=null?X.endTime:X.startTime,N=Z.endTime!=null?Z.endTime:Z.startTime;return W-N}).reverse()[0].screenEndTime+1e3,C=i.timingPoints.find(X=>x.startTime>=X.time);x.ticks=[];for(let X=0;X<Math.floor((T-(x.startTime+ci(4,C?.bpm)))/ci(8,C?.bpm));X++)x.startTime+ci(4,C?.bpm)*(X+1)<=T&&x.ticks.push(x.startTime+ci(4,C?.bpm)*(X+1));x.endTime=T;let P=ce+Ne(x.startTime,x.endTime,i.timingPoints)+Qu,I=0;I+=On(x.startTime,i.timingPoints.sort((X,Z)=>X.time-Z.time),P),x.screenStartTime=x.startTime-I,x.screenEndTime=T;const F=x.screenStartTime,M=x.screenEndTime;x.scrollPosList=[],x.scrollPosList.push([F,Ne(F,x.startTime,i.timingPoints)]);let k=b.sort((X,Z)=>X.time-Z.time).filter((X,Z)=>F>=X.time||M>=X.time);(k.length==0||k[0].time>F)&&(k.length==0||k[0].time,x.scrollPosList?.push([0,Ne(0,x.startTime,i.timingPoints)])),k.forEach((X,Z)=>{const W=Z+1!=k.length&&k[Z+1].time<=M?k[Z+1].time:M;X.time<F||X.time,x.scrollPosList?.push([W,Ne(W,x.startTime,i.timingPoints)])}),x.scrollPosList.find(X=>X[0]==M)==null&&x.scrollPosList?.push([M,Ne(M,x.startTime,i.timingPoints)]),x.scrollPosList?.forEach((X,Z)=>{if(x.scrollPosList[Z][1]>ce&&x.scrollPosList[Z+1]!=null){il(i.timingPoints.sort((N,V)=>N.time-V.time),x.scrollPosList[Z][0]);const W=ht(ce,[x.scrollPosList[Z+1][1],x.scrollPosList[Z][1]],[x.scrollPosList[Z+1][0],x.scrollPosList[Z][0]]);x.scrollPosList[Z]=[W,ce],x.screenStartTime=W}});let B=0,O=Ne(M,x.startTime,i.timingPoints),D=b.filter((X,Z)=>M>=X.time).sort((X,Z)=>X.time-Z.time).reverse();const U=D[0]!=null?D[0].speed:r;B=Bt/U,x.scrollPosList?.push([M+Bt/U,O-Bt]),x.screenEndTime+=B}),i.hitObjects.sort((x,_)=>{const b=x.endTime!=null?x.endTime:x.startTime,T=_.endTime!=null?_.endTime:_.startTime;return b-T}),i.cursor=i.cursor.sort((x,_)=>x.startTime-_.startTime),i}function sl(t,e,r){const n=ce*(parseFloat(Sd("SCROLL_SPEED_FACTOR"))/3)/1980,i={startTime:t,screenStartTime:0,screenEndTime:0};let s=ce,o=0,a=e.filter((y,w)=>i.startTime>=y.time).sort((y,w)=>y.time-w.time).reverse();a.forEach((y,w)=>{if(s>0&&a[w+1]!=null){const x=a[w+1].time,_=y.time,b=Ne(x,_,r.timingPoints);s-b>=0&&b>0?(o+=_-x,s-=b):(o+=On(i.startTime-o,a.reverse(),s),s=0)}else s>0&&a[w+1]==null&&(o+=s/y.speed,s=0)}),i.screenStartTime=i.startTime-o,i.screenEndTime=i.startTime;const c=i.screenStartTime,d=i.screenEndTime;i.scrollPosList=[],i.scrollPosList.find(y=>y[0]==c)==null&&i.scrollPosList?.push([c,Ne(c,i.startTime,r.timingPoints)]);let p=e.slice().sort((y,w)=>y.time-w.time).filter((y,w)=>c>=y.time||d>=y.time);if(p.length==0||p[0].time>c){const y=p.length==0?c:p[0].time;i.scrollPosList?.push([y,Ne(y,i.startTime,r.timingPoints)])}p.forEach((y,w)=>{const x=w+1!=p.length&&p[w+1].time<=d?p[w+1].time:d;y.time<c||y.time,i.scrollPosList?.push([x,Ne(x,i.startTime,r.timingPoints)])}),i.scrollPosList.find(y=>y[0]==d)==null&&i.scrollPosList?.push([d,Ne(d,i.startTime,r.timingPoints)]),i.scrollPosList?.forEach((y,w)=>{if(i.scrollPosList[w][1]>ce&&i.scrollPosList[w+1]!=null){il(r.timingPoints.slice().sort((_,b)=>_.time-b.time),i.scrollPosList[w][0]);const x=ht(ce,[i.scrollPosList[w+1][1],i.scrollPosList[w][1]],[i.scrollPosList[w+1][0],i.scrollPosList[w][0]]);i.scrollPosList[w]=[x,ce],i.screenStartTime=x}});let h=0,f=Ne(d,i.startTime,r.timingPoints.slice()),m=e.slice().filter((y,w)=>d>=y.time).sort((y,w)=>y.time-w.time).reverse();const v=m[0]!=null?m[0].speed:n;return h=Bt/v,i.scrollPosList?.push([d+Bt/v,f-Bt]),i.screenEndTime+=h,[i.screenStartTime,i.screenEndTime,i.scrollPosList]}function ZA(t,e,r){const n=r;if(n.type=="hold"){const h=e.timingPoints.find(y=>n.startTime>=y.time);n.ticks=[];for(let y=0;y<Math.floor((n.endTime-(n.startTime+ci(4,h?.bpm)))/ci(4,h?.bpm));y++)n.ticks.push(n.startTime+ci(4,h?.bpm)*(y+1));let f=ce+Ne(n.startTime,n.endTime,e.timingPoints),m=0,v=t.filter((y,w)=>{if(w+1==t.length)return n.startTime>=y.time||n.endTime>=y.time;const x=t[w+1].time;return n.startTime>=y.time&&n.startTime<=x||n.endTime>=y.time&&n.endTime<=x}).sort((y,w)=>y.time-w.time).reverse();v.forEach((y,w)=>{if(f>0&&v[w+1]!=null){const x=v[w+1].time,_=y.time;f-Ne(x,_,e.timingPoints)>=0?(m+=_-x,f-=Ne(x,_,e.timingPoints)):(m+=On(n.startTime-m,v.reverse(),f),f=0)}else f>0&&v[w+1]==null&&(m+=f/y.speed,f=0)}),n.screenStartTime=n.startTime-m,n.screenEndTime=n.endTime}const i=n.screenStartTime,s=n.screenEndTime;n.scrollPosList=[],n.scrollPosList.find(h=>h[0]==i)==null&&n.scrollPosList?.push([i,Ne(i,n.startTime,e.timingPoints)]);let o=t.sort((h,f)=>h.time-f.time).filter((h,f)=>i>=h.time||s>=h.time);if(o.length==0||o[0].time>i){const h=o.length==0?i:o[0].time;n.scrollPosList?.push([h,Ne(h,n.startTime,e.timingPoints)])}o.forEach((h,f)=>{const m=f+1!=o.length&&o[f+1].time<=s?o[f+1].time:s;h.time<i||h.time,n.scrollPosList?.push([m,Ne(m,n.startTime,e.timingPoints)])}),n.scrollPosList.find(h=>h[0]==s)==null&&n.scrollPosList?.push([s,Ne(s,n.startTime,e.timingPoints)]),n.scrollPosList?.forEach((h,f)=>{if(n.scrollPosList[f][1]>ce&&n.scrollPosList[f+1]!=null){il(e.timingPoints.sort((v,y)=>v.time-y.time),n.scrollPosList[f][0]);const m=ht(ce,[n.scrollPosList[f+1][1],n.scrollPosList[f][1]],[n.scrollPosList[f+1][0],n.scrollPosList[f][0]]);n.scrollPosList[f]=[m,ce],n.screenStartTime=m}});let a=0,c=Ne(s,n.startTime,e.timingPoints),d=t.filter((h,f)=>s>=h.time).sort((h,f)=>h.time-f.time).reverse();const p=d[0]!=null?d[0].speed:SCROLL_SPEED;return a=Bt/p,n.scrollPosList?.push([s+Bt/p,c-Bt]),n.screenEndTime+=a,n}const cg=new Audio;class AI{audiovolume;gauge;audio;audioctx;hitlist;offsetlist;effectvolume;score;hitbonus;maxscore;hitwaitlist;lastobj;combo;playStartTime;cursor;audiopath;editoractive;mode;isPlaying;key;currenttime;highestcombo;beatmap;maxcombo;notespeed;anomaly;WIDTH;duration;HEIGHT;clicked;currentCol;chartoffset;inputoffset;mousedown;user;alert;currentObjectType;currentRemoveType;currentSnap;historypos;k;currentSelectedTime;currentSelectedTimeDrag;currentSelectedColDrag;actionslist;currentMap;rawBeatmap;constructor(){this.beatmap=null,this.key=["00","00","00","00","00"],this.audio=cg,this.audiopath="",this.chartoffset=0,this.inputoffset=0,this.audiovolume=NaN,this.effectvolume=NaN,this.gauge=0,this.highestcombo=0,this.hitwaitlist=[],this.maxcombo=NaN,this.score=0,this.hitbonus=0,this.notespeed=0,this.anomaly="",this.maxscore=NaN,this.combo=0,this.user=new af,this.currentCol=1,this.duration=0,this.playStartTime=-1,this.isPlaying=!1,this.clicked=!1,this.cursor=.5,this.mode="",this.currenttime=0,this.HEIGHT=D2(),this.WIDTH=R2(),this.hitlist=[],this.offsetlist=[],this.mousedown="",this.alert=["",0,0],this.lastobj=[-1,-1],this.rawBeatmap=JSON.parse(JSON.stringify({id:"unnamed",audioPath:"audio/eden/untilnexttime.mp3",preview:0,bgPath:"eden_light",jacketPath:"jackets/eden/untilnexttime.jpg",metadata:{title:"???",artist:"???",illustrator:"???",creator:"???",difficult:"",difficultcc:0,difficulttype:"ENIGMA"},hitObjects:[{type:"note",column:1,startTime:0}],cursor:[{type:"normal",x:.5,startTime:0}],timingPoints:[{time:0,meter:4,bpm:120,speed:1}]})),this.currentMap=dt(JSON.stringify({id:"unnamed",audioPath:"audio/eden/untilnexttime.mp3",preview:0,bgPath:"eden_light",jacketPath:"jackets/eden/untilnexttime.jpg",metadata:{title:"???",artist:"???",illustrator:"???",creator:"???",difficult:"",difficultcc:0,difficulttype:"ENIGMA"},hitObjects:[{type:"note",column:1,startTime:0}],cursor:[{type:"normal",x:.5,startTime:0}],timingPoints:[{time:0,meter:4,bpm:120,speed:1}]})),this.currentObjectType="nothing",this.currentRemoveType="",this.currentSnap=4,this.historypos=0,this.k=0,this.currentSelectedTime=0,this.currentSelectedTimeDrag=[0,0],this.currentSelectedColDrag=[0,0],this.actionslist=[],this.editoractive=""}init(e,r,n,i,s,o,a,c,d){return this.audiovolume=e,this.effectvolume=r,this.audiopath=i,this.notespeed=a,this.maxscore=s,this.maxcombo=c,this.beatmap=o,this.user=d,cg.src=i,this.audio=new qA.Howl({src:this.audiopath,preload:!0,volume:parseFloat(Mn("VOL"))||0,onload:()=>{console.log("audio loaded")},onplay:()=>{this.playStartTime=Date.now()-this.audio.seek()*1e3}}),this}NOTE_TRAVEL_DURATION(){return ce/this.notespeed*1e3}NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION(){return Bt/this.notespeed*1e3}currentTime(){return this.audio.currentTime}RemoveTiming(e){this.rawBeatmap.timingPoints.splice(e,1),this.currentMap=dt(JSON.stringify(this.rawBeatmap))}AddTiming(){const e=this.rawBeatmap.timingPoints.find(r=>r.time==0)==null?0:1;this.rawBeatmap.timingPoints.push({time:e,bpm:100,speed:1,meter:4}),console.log(this.rawBeatmap.timingPoints),this.currentMap=dt(JSON.stringify(this.rawBeatmap))}changeTiming(e){this.rawBeatmap.timingPoints=e,this.currentMap=dt(JSON.stringify(this.rawBeatmap)),console.log(this.rawBeatmap.timingPoints)}addnote(){const e=sl(this.currentSelectedTime,this.currentMap.timingPoints,this.currentMap);console.log(this.currentMap.hitObjects),this.rawBeatmap.hitObjects.push({type:"note",startTime:this.currentSelectedTime,column:this.currentCol}),this.currentMap.hitObjects.push({type:"note",startTime:this.currentSelectedTime,column:this.currentCol,screenStartTime:e[0],screenEndTime:e[1],scrollPosList:e[2],index:this.currentMap.hitObjects.length}),this.beatmap=this.currentMap,this.actionslist=this.actionslist.slice(0,this.actionslist.length-this.historypos),this.historypos=0,this.actionslist.push({map:this.currentMap.hitObjects.slice(),cursor:this.currentMap.cursor.slice()})}save(){const e=JSON.parse(JSON.stringify(this.rawBeatmap));e.hitObjects.forEach(s=>{s.index=void 0,s.screenEndTime=void 0,s.screenStartTime=void 0,s.ticks=void 0,s.scrollPosList=void 0}),e.timingPoints.forEach(s=>{s.floorPosition=void 0}),e.cursor.forEach(s=>{s.index=void 0,s.screenEndTime=void 0,s.screenStartTime=void 0,s.scrollPosList=void 0,s.ticks=void 0,s.endTime=void 0}),console.log(this.currentMap.metadata);const r=new File([JSON.stringify(e)],`${this.currentMap.metadata.artist} - ${this.currentMap.metadata.title} [${this.currentMap.metadata.difficulttype}].json`,{type:"text/plain"}),n=document.createElement("a"),i=URL.createObjectURL(r);n.href=i,n.download=r.name,document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i)}addholdend(){let e=this.currentMap.hitObjects.find(n=>n.startTime==this.lastobj[1]&&n.column==this.lastobj[0]);const r=this.rawBeatmap.hitObjects.find(n=>n.startTime==this.lastobj[1]&&n.column==this.lastobj[0]);r.endTime=this.currentSelectedTime,console.log(this.currentSelectedTime,r),e=ZA(this.currentMap.timingPoints,this.currentMap,e),this.actionslist=this.actionslist.slice(0,this.actionslist.length-this.historypos),this.historypos=0,this.actionslist.push({map:this.currentMap.hitObjects.slice(),cursor:this.currentMap.cursor.slice()}),this.beatmap=this.currentMap,this.lastobj=[-1,-1]}redo(){this.historypos>0&&(this.historypos-=1,this.rawBeatmap.hitObjects=this.actionslist[this.actionslist.length-this.historypos-1].map,this.currentMap.hitObjects=this.actionslist[this.actionslist.length-this.historypos-1].map,this.rawBeatmap.cursor=this.actionslist[this.actionslist.length-this.historypos-1].cursor,this.currentMap.cursor=this.actionslist[this.actionslist.length-this.historypos-1].cursor,this.beatmap=this.currentMap)}removeNote(){const e=this.rawBeatmap.hitObjects.findIndex(r=>r.column==this.currentCol&&(10>Math.abs(r.startTime-this.currentSelectedTime)||r.startTime<=this.currentSelectedTime&&r.endTime>=this.currentSelectedTime));this.rawBeatmap.hitObjects.splice(e,1),this.currentMap=dt(JSON.stringify(this.rawBeatmap)),this.actionslist=this.actionslist.slice(0,this.actionslist.length-this.historypos),this.historypos=0,this.actionslist.push({map:this.currentMap.hitObjects.slice(),cursor:this.currentMap.cursor.slice()})}removeCursor(e){const r=this.rawBeatmap.cursor.findIndex(n=>n.startTime==e);this.currentRemoveType=="removecursor"&&(this.rawBeatmap.cursor.splice(r,1),this.currentMap=dt(JSON.stringify(this.rawBeatmap))),this.actionslist=this.actionslist.slice(0,this.actionslist.length-this.historypos),this.historypos=0,this.actionslist.push({map:this.currentMap.hitObjects.slice(),cursor:this.currentMap.cursor.slice()})}undo(){this.historypos+=1,console.log(this.historypos,this.actionslist.map(e=>e.map.length),this.actionslist[this.actionslist.length-this.historypos-1].map.length),this.rawBeatmap.hitObjects=this.actionslist[this.actionslist.length-this.historypos-1].map,this.currentMap.hitObjects=this.actionslist[this.actionslist.length-this.historypos-1].map,this.rawBeatmap.cursor=this.actionslist[this.actionslist.length-this.historypos-1].cursor,this.currentMap.cursor=this.actionslist[this.actionslist.length-this.historypos-1].cursor,this.beatmap=this.currentMap}addHold(e){const r=sl(this.currentSelectedTime,this.currentMap.timingPoints,this.currentMap);this.lastobj=[this.currentCol,this.currentSelectedTime],this.rawBeatmap.hitObjects.push({type:"hold",column:this.currentCol,startTime:this.currentSelectedTime,endTime:this.currentSelectedTime+50}),this.currentMap.hitObjects.push({type:"hold",startTime:this.currentSelectedTime,column:this.currentCol,endTime:this.currentSelectedTime+50,screenStartTime:r[0],screenEndTime:r[1],scrollPosList:r[2],index:this.currentMap.hitObjects.length}),this.actionslist=this.actionslist.slice(0,this.actionslist.length-this.historypos),this.historypos=0,this.actionslist.push({map:this.currentMap.hitObjects.slice(),cursor:this.currentMap.cursor.slice()})}select(){const e={1:4,2:3,3:2,4:1};this.currentSelectedColDrag[0]=e[this.currentSelectedColDrag[0]],this.currentSelectedColDrag[1]=e[this.currentSelectedColDrag[1]],this.currentMap.hitObjects.forEach(r=>{(r.startTime>=this.currentSelectedTimeDrag[0]&&r.startTime<=this.currentSelectedTimeDrag[1]||r.startTime>=this.currentSelectedTimeDrag[1]&&r.startTime<=this.currentSelectedTimeDrag[0])&&(r.column>=this.currentSelectedColDrag[0]&&r.column<=this.currentSelectedColDrag[1]||r.column>=this.currentSelectedColDrag[1]&&r.column<=this.currentSelectedColDrag[0])&&(r.column=e[r.column])}),this.beatmap=this.currentMap,this.actionslist=this.actionslist.slice(0,this.actionslist.length-this.historypos),this.historypos=0,this.actionslist.push({map:this.currentMap.hitObjects.slice(),cursor:this.currentMap.cursor.slice()})}addCursor(e){this.rawBeatmap.cursor.push({type:this.currentObjectType,startTime:this.currentSelectedTime,x:e[1]}),this.currentMap=dt(JSON.stringify(this.rawBeatmap)),this.beatmap=this.currentMap,this.actionslist=this.actionslist.slice(0,this.actionslist.length-this.historypos),this.historypos=0,this.actionslist.push({map:this.currentMap.hitObjects.slice(),cursor:this.currentMap.cursor.slice()})}getsize(){this.WIDTH=R2(),this.HEIGHT=D2()}play(e){this.score=0,this.combo=0,this.hitlist=[],this.mode=e,this.isPlaying=!0,this.mode=="play"&&this.audio.play()}retry(){this.isPlaying=!0,this.score=0,this.combo=0,this.playStartTime=Date.now(),this.audio.seek(0),this.hitlist=[],this.audio.stop(),this.audio.off()}quit(){this.isPlaying=!1,this.score=0,this.combo=0,this.playStartTime=0,this.hitlist=[]}idtoscore(e){switch(e){case"perfect":return 100;case"great":return 80;case"good":return 60;case"ok":return 50;default:return 0}}setAudioPath(e){this.audiopath=e}setVolume(e){cg.volume=e}setEffectVolume(e){this.effectvolume=e}}var ie={exports:{}},Ho=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(Ho||{}),JA=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(JA||{}),rx=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(rx||{}),Se=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Se||{}),Nn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Nn||{}),de=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(de||{}),ja=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(ja||{}),Fe=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Fe||{}),fe=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(fe||{}),pi=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(pi||{}),Li=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(Li||{}),Ns=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Ns||{}),hn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(hn||{}),ho=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(ho||{}),sy=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(sy||{}),dn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(dn||{}),Ut=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Ut||{}),Dt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Dt||{}),xi=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(xi||{});const CI={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ye={ADAPTER:CI,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var hg=/iPhone/i,gw=/iPod/i,vw=/iPad/i,xw=/\biOS-universal(?:.+)Mac\b/i,dg=/\bAndroid(?:.+)Mobile\b/i,yw=/Android/i,ua=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Uh=/Silk/i,Pi=/Windows Phone/i,_w=/\bWindows(?:.+)ARM\b/i,bw=/BlackBerry/i,ww=/BB10/i,Ew=/Opera Mini/i,Sw=/\b(CriOS|Chrome)(?:.+)Mobile/i,Tw=/Mobile(?:.+)Firefox\b/i,Aw=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function PI(t){return function(e){return e.test(t)}}function Cw(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=PI(r),s={apple:{phone:i(hg)&&!i(Pi),ipod:i(gw),tablet:!i(hg)&&(i(vw)||Aw(e))&&!i(Pi),universal:i(xw),device:(i(hg)||i(gw)||i(vw)||i(xw)||Aw(e))&&!i(Pi)},amazon:{phone:i(ua),tablet:!i(ua)&&i(Uh),device:i(ua)||i(Uh)},android:{phone:!i(Pi)&&i(ua)||!i(Pi)&&i(dg),tablet:!i(Pi)&&!i(ua)&&!i(dg)&&(i(Uh)||i(yw)),device:!i(Pi)&&(i(ua)||i(Uh)||i(dg)||i(yw))||i(/\bokhttp\b/i)},windows:{phone:i(Pi),tablet:i(_w),device:i(Pi)||i(_w)},other:{blackberry:i(bw),blackberry10:i(ww),opera:i(Ew),firefox:i(Tw),chrome:i(Sw),device:i(bw)||i(ww)||i(Ew)||i(Tw)||i(Sw)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const kI=Cw.default??Cw,Ia=kI(globalThis.navigator);ye.RETINA_PREFIX=/@([0-9\.]+)x/;ye.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var eC={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,p){this.fn=c,this.context=d,this.once=p||!1}function s(c,d,p,h,f){if(typeof p!="function")throw new TypeError("The listener must be a function");var m=new i(p,h||c,f),v=r?r+d:d;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],p,h;if(this._eventsCount===0)return d;for(h in p=this._events)e.call(p,h)&&d.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(p)):d},a.prototype.listeners=function(d){var p=r?r+d:d,h=this._events[p];if(!h)return[];if(h.fn)return[h.fn];for(var f=0,m=h.length,v=new Array(m);f<m;f++)v[f]=h[f].fn;return v},a.prototype.listenerCount=function(d){var p=r?r+d:d,h=this._events[p];return h?h.fn?1:h.length:0},a.prototype.emit=function(d,p,h,f,m,v){var y=r?r+d:d;if(!this._events[y])return!1;var w=this._events[y],x=arguments.length,_,b;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),x){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,p),!0;case 3:return w.fn.call(w.context,p,h),!0;case 4:return w.fn.call(w.context,p,h,f),!0;case 5:return w.fn.call(w.context,p,h,f,m),!0;case 6:return w.fn.call(w.context,p,h,f,m,v),!0}for(b=1,_=new Array(x-1);b<x;b++)_[b-1]=arguments[b];w.fn.apply(w.context,_)}else{var T=w.length,C;for(b=0;b<T;b++)switch(w[b].once&&this.removeListener(d,w[b].fn,void 0,!0),x){case 1:w[b].fn.call(w[b].context);break;case 2:w[b].fn.call(w[b].context,p);break;case 3:w[b].fn.call(w[b].context,p,h);break;case 4:w[b].fn.call(w[b].context,p,h,f);break;default:if(!_)for(C=1,_=new Array(x-1);C<x;C++)_[C-1]=arguments[C];w[b].fn.apply(w[b].context,_)}}return!0},a.prototype.on=function(d,p,h){return s(this,d,p,h,!1)},a.prototype.once=function(d,p,h){return s(this,d,p,h,!0)},a.prototype.removeListener=function(d,p,h,f){var m=r?r+d:d;if(!this._events[m])return this;if(!p)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===p&&(!f||v.once)&&(!h||v.context===h)&&o(this,m);else{for(var y=0,w=[],x=v.length;y<x;y++)(v[y].fn!==p||f&&!v[y].once||h&&v[y].context!==h)&&w.push(v[y]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},a.prototype.removeAllListeners=function(d){var p;return d?(p=r?r+d:d,this._events[p]&&o(this,p)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(eC);const gc=eC.exports;var oy={exports:{}};oy.exports=Kf;oy.exports.default=Kf;function Kf(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=tC(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,c,d,p,h,f,m;if(n&&(s=DI(t,e,s,r)),t.length>80*r){a=d=t[0],c=p=t[1];for(var v=r;v<i;v+=r)h=t[v],f=t[v+1],h<a&&(a=h),f<c&&(c=f),h>d&&(d=h),f>p&&(p=f);m=Math.max(d-a,p-c),m=m!==0?32767/m:0}return Ku(s,o,r,a,c,m,0),o}function tC(t,e,r,n,i){var s,o;if(i===sx(t,e,r,n)>0)for(s=e;s<r;s+=n)o=Pw(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=Pw(s,t[s],t[s+1],o);return o&&Zf(o,o.next)&&(Ju(o),o=o.next),o}function No(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Zf(r,r.next)||_t(r.prev,r,r.next)===0)){if(Ju(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Ku(t,e,r,n,i,s,o){if(!!t){!o&&s&&UI(t,n,i,s);for(var a=t,c,d;t.prev!==t.next;){if(c=t.prev,d=t.next,s?II(t,n,i,s):FI(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(d.i/r|0),Ju(t),t=d.next,a=d.next;continue}if(t=d,t===a){o?o===1?(t=BI(No(t),e,r),Ku(t,e,r,n,i,s,2)):o===2&&RI(t,e,r,n,i,s):Ku(No(t),e,r,n,i,s,1);break}}}}function FI(t){var e=t.prev,r=t,n=t.next;if(_t(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,c=r.y,d=n.y,p=i<s?i<o?i:o:s<o?s:o,h=a<c?a<d?a:d:c<d?c:d,f=i>s?i>o?i:o:s>o?s:o,m=a>c?a>d?a:d:c>d?c:d,v=n.next;v!==e;){if(v.x>=p&&v.x<=f&&v.y>=h&&v.y<=m&&Ba(i,a,s,c,o,d,v.x,v.y)&&_t(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function II(t,e,r,n){var i=t.prev,s=t,o=t.next;if(_t(i,s,o)>=0)return!1;for(var a=i.x,c=s.x,d=o.x,p=i.y,h=s.y,f=o.y,m=a<c?a<d?a:d:c<d?c:d,v=p<h?p<f?p:f:h<f?h:f,y=a>c?a>d?a:d:c>d?c:d,w=p>h?p>f?p:f:h>f?h:f,x=nx(m,v,e,r,n),_=nx(y,w,e,r,n),b=t.prevZ,T=t.nextZ;b&&b.z>=x&&T&&T.z<=_;){if(b.x>=m&&b.x<=y&&b.y>=v&&b.y<=w&&b!==i&&b!==o&&Ba(a,p,c,h,d,f,b.x,b.y)&&_t(b.prev,b,b.next)>=0||(b=b.prevZ,T.x>=m&&T.x<=y&&T.y>=v&&T.y<=w&&T!==i&&T!==o&&Ba(a,p,c,h,d,f,T.x,T.y)&&_t(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;b&&b.z>=x;){if(b.x>=m&&b.x<=y&&b.y>=v&&b.y<=w&&b!==i&&b!==o&&Ba(a,p,c,h,d,f,b.x,b.y)&&_t(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;T&&T.z<=_;){if(T.x>=m&&T.x<=y&&T.y>=v&&T.y<=w&&T!==i&&T!==o&&Ba(a,p,c,h,d,f,T.x,T.y)&&_t(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function BI(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Zf(i,s)&&rC(i,n,n.next,s)&&Zu(i,s)&&Zu(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Ju(n),Ju(n.next),n=t=s),n=n.next}while(n!==t);return No(n)}function RI(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&jI(o,a)){var c=nC(o,a);o=No(o,o.next),c=No(c,c.next),Ku(o,e,r,n,i,s,0),Ku(c,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function DI(t,e,r,n){var i=[],s,o,a,c,d;for(s=0,o=e.length;s<o;s++)a=e[s]*n,c=s<o-1?e[s+1]*n:t.length,d=tC(t,a,c,n,!1),d===d.next&&(d.steiner=!0),i.push($I(d));for(i.sort(MI),s=0;s<i.length;s++)r=OI(i[s],r);return r}function MI(t,e){return t.x-e.x}function OI(t,e){var r=NI(t,e);if(!r)return e;var n=nC(r,t);return No(n,n.next),No(r,r.next)}function NI(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,d=o.x,p=o.y,h=1/0,f;r=o;do n>=r.x&&r.x>=d&&n!==r.x&&Ba(i<p?n:s,i,d,p,i<p?s:n,i,r.x,r.y)&&(f=Math.abs(i-r.y)/(n-r.x),Zu(r,t)&&(f<h||f===h&&(r.x>o.x||r.x===o.x&&LI(o,r)))&&(o=r,h=f)),r=r.next;while(r!==c);return o}function LI(t,e){return _t(t.prev,t,e.prev)<0&&_t(e.next,t,t.next)<0}function UI(t,e,r,n){var i=t;do i.z===0&&(i.z=nx(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,zI(i)}function zI(t){var e,r,n,i,s,o,a,c,d=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<d&&(a++,n=n.nextZ,!!n);e++);for(c=d;a>0||c>0&&n;)a!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,d*=2}while(o>1);return t}function nx(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function $I(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Ba(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function jI(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!HI(t,e)&&(Zu(t,e)&&Zu(e,t)&&GI(t,e)&&(_t(t.prev,t,e.prev)||_t(t,e.prev,e))||Zf(t,e)&&_t(t.prev,t,t.next)>0&&_t(e.prev,e,e.next)>0)}function _t(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Zf(t,e){return t.x===e.x&&t.y===e.y}function rC(t,e,r,n){var i=$h(_t(t,e,r)),s=$h(_t(t,e,n)),o=$h(_t(r,n,t)),a=$h(_t(r,n,e));return!!(i!==s&&o!==a||i===0&&zh(t,r,e)||s===0&&zh(t,n,e)||o===0&&zh(r,t,n)||a===0&&zh(r,e,n))}function zh(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function $h(t){return t>0?1:t<0?-1:0}function HI(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&rC(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Zu(t,e){return _t(t.prev,t,t.next)<0?_t(t,e,t.next)>=0&&_t(t,t.prev,e)>=0:_t(t,e,t.prev)<0||_t(t,t.next,e)<0}function GI(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function nC(t,e){var r=new ix(t.i,t.x,t.y),n=new ix(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function Pw(t,e,r,n){var i=new ix(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Ju(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ix(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Kf.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(sx(t,0,s,r));if(i)for(var a=0,c=e.length;a<c;a++){var d=e[a]*r,p=a<c-1?e[a+1]*r:t.length;o-=Math.abs(sx(t,d,p,r))}var h=0;for(a=0;a<n.length;a+=3){var f=n[a]*r,m=n[a+1]*r,v=n[a+2]*r;h+=Math.abs((t[f]-t[v])*(t[m+1]-t[f+1])-(t[f]-t[m])*(t[v+1]-t[f+1]))}return o===0&&h===0?0:Math.abs((h-o)/o)};function sx(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Kf.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var ox={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Ce=="object"&&Ce;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,c=36,d=1,p=26,h=38,f=700,m=72,v=128,y="-",w=/^xn--/,x=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=c-d,C=Math.floor,P=String.fromCharCode,I;function F(L){throw new RangeError(b[L])}function M(L,z){for(var j=L.length,K=[];j--;)K[j]=z(L[j]);return K}function k(L,z){var j=L.split("@"),K="";j.length>1&&(K=j[0]+"@",L=j[1]),L=L.replace(_,".");var Y=L.split("."),Ee=M(Y,z).join(".");return K+Ee}function B(L){for(var z=[],j=0,K=L.length,Y,Ee;j<K;)Y=L.charCodeAt(j++),Y>=55296&&Y<=56319&&j<K?(Ee=L.charCodeAt(j++),(Ee&64512)==56320?z.push(((Y&1023)<<10)+(Ee&1023)+65536):(z.push(Y),j--)):z.push(Y);return z}function O(L){return M(L,function(z){var j="";return z>65535&&(z-=65536,j+=P(z>>>10&1023|55296),z=56320|z&1023),j+=P(z),j}).join("")}function D(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:c}function U(L,z){return L+22+75*(L<26)-((z!=0)<<5)}function X(L,z,j){var K=0;for(L=j?C(L/f):L>>1,L+=C(L/z);L>T*p>>1;K+=c)L=C(L/T);return C(K+(T+1)*L/(L+h))}function Z(L){var z=[],j=L.length,K,Y=0,Ee=v,pe=m,Pe,we,gt,Qe,Be,Xe,Ie,tt,Zt;for(Pe=L.lastIndexOf(y),Pe<0&&(Pe=0),we=0;we<Pe;++we)L.charCodeAt(we)>=128&&F("not-basic"),z.push(L.charCodeAt(we));for(gt=Pe>0?Pe+1:0;gt<j;){for(Qe=Y,Be=1,Xe=c;gt>=j&&F("invalid-input"),Ie=D(L.charCodeAt(gt++)),(Ie>=c||Ie>C((a-Y)/Be))&&F("overflow"),Y+=Ie*Be,tt=Xe<=pe?d:Xe>=pe+p?p:Xe-pe,!(Ie<tt);Xe+=c)Zt=c-tt,Be>C(a/Zt)&&F("overflow"),Be*=Zt;K=z.length+1,pe=X(Y-Qe,K,Qe==0),C(Y/K)>a-Ee&&F("overflow"),Ee+=C(Y/K),Y%=K,z.splice(Y++,0,Ee)}return O(z)}function W(L){var z,j,K,Y,Ee,pe,Pe,we,gt,Qe,Be,Xe=[],Ie,tt,Zt,Dr;for(L=B(L),Ie=L.length,z=v,j=0,Ee=m,pe=0;pe<Ie;++pe)Be=L[pe],Be<128&&Xe.push(P(Be));for(K=Y=Xe.length,Y&&Xe.push(y);K<Ie;){for(Pe=a,pe=0;pe<Ie;++pe)Be=L[pe],Be>=z&&Be<Pe&&(Pe=Be);for(tt=K+1,Pe-z>C((a-j)/tt)&&F("overflow"),j+=(Pe-z)*tt,z=Pe,pe=0;pe<Ie;++pe)if(Be=L[pe],Be<z&&++j>a&&F("overflow"),Be==z){for(we=j,gt=c;Qe=gt<=Ee?d:gt>=Ee+p?p:gt-Ee,!(we<Qe);gt+=c)Dr=we-Qe,Zt=c-Qe,Xe.push(P(U(Qe+Dr%Zt,0))),we=C(Dr/Zt);Xe.push(P(U(we,0))),Ee=X(j,tt,K==Y),j=0,++K}++j,++z}return Xe.join("")}function N(L){return k(L,function(z){return w.test(z)?Z(z.slice(4).toLowerCase()):z})}function V(L){return k(L,function(z){return x.test(z)?"xn--"+W(z):z})}if(o={version:"1.4.1",ucs2:{decode:B,encode:O},decode:Z,encode:W,toASCII:V,toUnicode:N},n&&i)if(t.exports==n)i.exports=o;else for(I in o)o.hasOwnProperty(I)&&(n[I]=o[I]);else r.punycode=o})(Ce)})(ox,ox.exports);var WI=Error,VI=EvalError,XI=RangeError,qI=ReferenceError,iC=SyntaxError,vc=TypeError,YI=URIError,QI=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},kw=typeof Symbol<"u"&&Symbol,KI=QI,ZI=function(){return typeof kw!="function"||typeof Symbol!="function"||typeof kw("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:KI()},fg={__proto__:null,foo:{}},JI=Object,e5=function(){return{__proto__:fg}.foo===fg.foo&&!(fg instanceof JI)},t5="Function.prototype.bind called on incompatible ",r5=Object.prototype.toString,n5=Math.max,i5="[object Function]",Fw=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},s5=function(e,r){for(var n=[],i=r||0,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},o5=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},a5=function(e){var r=this;if(typeof r!="function"||r5.apply(r)!==i5)throw new TypeError(t5+r);for(var n=s5(arguments,1),i,s=function(){if(this instanceof i){var p=r.apply(this,Fw(n,arguments));return Object(p)===p?p:this}return r.apply(e,Fw(n,arguments))},o=n5(0,r.length-n.length),a=[],c=0;c<o;c++)a[c]="$"+c;if(i=Function("binder","return function ("+o5(a,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var d=function(){};d.prototype=r.prototype,i.prototype=new d,d.prototype=null}return i},l5=a5,ay=Function.prototype.bind||l5,u5=Function.prototype.call,c5=Object.prototype.hasOwnProperty,h5=ay,d5=h5.call(u5,c5),Ue,f5=WI,p5=VI,m5=XI,g5=qI,ol=iC,Ha=vc,v5=YI,sC=Function,pg=function(t){try{return sC('"use strict"; return ('+t+").constructor;")()}catch{}},ko=Object.getOwnPropertyDescriptor;if(ko)try{ko({},"")}catch{ko=null}var mg=function(){throw new Ha},x5=ko?function(){try{return arguments.callee,mg}catch{try{return ko(arguments,"callee").get}catch{return mg}}}():mg,ca=ZI(),y5=e5(),Vt=Object.getPrototypeOf||(y5?function(t){return t.__proto__}:null),ma={},_5=typeof Uint8Array>"u"||!Vt?Ue:Vt(Uint8Array),Fo={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ue:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ue:ArrayBuffer,"%ArrayIteratorPrototype%":ca&&Vt?Vt([][Symbol.iterator]()):Ue,"%AsyncFromSyncIteratorPrototype%":Ue,"%AsyncFunction%":ma,"%AsyncGenerator%":ma,"%AsyncGeneratorFunction%":ma,"%AsyncIteratorPrototype%":ma,"%Atomics%":typeof Atomics>"u"?Ue:Atomics,"%BigInt%":typeof BigInt>"u"?Ue:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ue:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ue:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ue:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":f5,"%eval%":eval,"%EvalError%":p5,"%Float32Array%":typeof Float32Array>"u"?Ue:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ue:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ue:FinalizationRegistry,"%Function%":sC,"%GeneratorFunction%":ma,"%Int8Array%":typeof Int8Array>"u"?Ue:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ue:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ue:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":ca&&Vt?Vt(Vt([][Symbol.iterator]())):Ue,"%JSON%":typeof JSON=="object"?JSON:Ue,"%Map%":typeof Map>"u"?Ue:Map,"%MapIteratorPrototype%":typeof Map>"u"||!ca||!Vt?Ue:Vt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ue:Promise,"%Proxy%":typeof Proxy>"u"?Ue:Proxy,"%RangeError%":m5,"%ReferenceError%":g5,"%Reflect%":typeof Reflect>"u"?Ue:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ue:Set,"%SetIteratorPrototype%":typeof Set>"u"||!ca||!Vt?Ue:Vt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ue:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":ca&&Vt?Vt(""[Symbol.iterator]()):Ue,"%Symbol%":ca?Symbol:Ue,"%SyntaxError%":ol,"%ThrowTypeError%":x5,"%TypedArray%":_5,"%TypeError%":Ha,"%Uint8Array%":typeof Uint8Array>"u"?Ue:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ue:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ue:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ue:Uint32Array,"%URIError%":v5,"%WeakMap%":typeof WeakMap>"u"?Ue:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ue:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ue:WeakSet};if(Vt)try{null.error}catch(t){var b5=Vt(Vt(t));Fo["%Error.prototype%"]=b5}var w5=function t(e){var r;if(e==="%AsyncFunction%")r=pg("async function () {}");else if(e==="%GeneratorFunction%")r=pg("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=pg("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Vt&&(r=Vt(i.prototype))}return Fo[e]=r,r},Iw={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xc=ay,lf=d5,E5=xc.call(Function.call,Array.prototype.concat),S5=xc.call(Function.apply,Array.prototype.splice),Bw=xc.call(Function.call,String.prototype.replace),uf=xc.call(Function.call,String.prototype.slice),T5=xc.call(Function.call,RegExp.prototype.exec),A5=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C5=/\\(\\)?/g,P5=function(e){var r=uf(e,0,1),n=uf(e,-1);if(r==="%"&&n!=="%")throw new ol("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new ol("invalid intrinsic syntax, expected opening `%`");var i=[];return Bw(e,A5,function(s,o,a,c){i[i.length]=a?Bw(c,C5,"$1"):o||s}),i},k5=function(e,r){var n=e,i;if(lf(Iw,n)&&(i=Iw[n],n="%"+i[0]+"%"),lf(Fo,n)){var s=Fo[n];if(s===ma&&(s=w5(n)),typeof s>"u"&&!r)throw new Ha("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new ol("intrinsic "+e+" does not exist!")},vl=function(e,r){if(typeof e!="string"||e.length===0)throw new Ha("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ha('"allowMissing" argument must be a boolean');if(T5(/^%?[^%]*%?$/,e)===null)throw new ol("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=P5(e),i=n.length>0?n[0]:"",s=k5("%"+i+"%",r),o=s.name,a=s.value,c=!1,d=s.alias;d&&(i=d[0],S5(n,E5([0,1],d)));for(var p=1,h=!0;p<n.length;p+=1){var f=n[p],m=uf(f,0,1),v=uf(f,-1);if((m==='"'||m==="'"||m==="`"||v==='"'||v==="'"||v==="`")&&m!==v)throw new ol("property names with quotes must have matching quotes");if((f==="constructor"||!h)&&(c=!0),i+="."+f,o="%"+i+"%",lf(Fo,o))a=Fo[o];else if(a!=null){if(!(f in a)){if(!r)throw new Ha("base intrinsic for "+e+" exists, but the property is not available.");return}if(ko&&p+1>=n.length){var y=ko(a,f);h=!!y,h&&"get"in y&&!("originalValue"in y.get)?a=y.get:a=a[f]}else h=lf(a,f),a=a[f];h&&!c&&(Fo[o]=a)}}return a},oC={exports:{}},gg,Rw;function ly(){if(Rw)return gg;Rw=1;var t=vl,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return gg=e,gg}var F5=vl,Td=F5("%Object.getOwnPropertyDescriptor%",!0);if(Td)try{Td([],"length")}catch{Td=null}var aC=Td,Dw=ly(),I5=iC,ha=vc,Mw=aC,B5=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new ha("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new ha("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new ha("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new ha("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new ha("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new ha("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,c=!!Mw&&Mw(e,r);if(Dw)Dw(e,r,{configurable:o===null&&c?c.configurable:!o,enumerable:i===null&&c?c.enumerable:!i,value:n,writable:s===null&&c?c.writable:!s});else if(a||!i&&!s&&!o)e[r]=n;else throw new I5("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},ax=ly(),lC=function(){return!!ax};lC.hasArrayLengthDefineBug=function(){if(!ax)return null;try{return ax([],"length",{value:1}).length!==1}catch{return!0}};var R5=lC,D5=vl,Ow=B5,M5=R5(),Nw=aC,Lw=vc,O5=D5("%Math.floor%"),N5=function(e,r){if(typeof e!="function")throw new Lw("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||O5(r)!==r)throw new Lw("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&Nw){var o=Nw(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(M5?Ow(e,"length",r,!0,!0):Ow(e,"length",r)),e};(function(t){var e=ay,r=vl,n=N5,i=vc,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||e.call(o,s),c=ly(),d=r("%Math.max%");t.exports=function(f){if(typeof f!="function")throw new i("a function is required");var m=a(e,o,arguments);return n(m,1+d(0,f.length-(arguments.length-1)),!0)};var p=function(){return a(e,s,arguments)};c?c(t.exports,"apply",{value:p}):t.exports.apply=p})(oC);var uC=vl,cC=oC.exports,L5=cC(uC("String.prototype.indexOf")),U5=function(e,r){var n=uC(e,!!r);return typeof n=="function"&&L5(e,".prototype.")>-1?cC(n):n},uy=typeof Map=="function"&&Map.prototype,vg=Object.getOwnPropertyDescriptor&&uy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,cf=uy&&vg&&typeof vg.get=="function"?vg.get:null,Uw=uy&&Map.prototype.forEach,cy=typeof Set=="function"&&Set.prototype,xg=Object.getOwnPropertyDescriptor&&cy?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,hf=cy&&xg&&typeof xg.get=="function"?xg.get:null,zw=cy&&Set.prototype.forEach,z5=typeof WeakMap=="function"&&WeakMap.prototype,Au=z5?WeakMap.prototype.has:null,$5=typeof WeakSet=="function"&&WeakSet.prototype,Cu=$5?WeakSet.prototype.has:null,j5=typeof WeakRef=="function"&&WeakRef.prototype,$w=j5?WeakRef.prototype.deref:null,H5=Boolean.prototype.valueOf,G5=Object.prototype.toString,W5=Function.prototype.toString,V5=String.prototype.match,hy=String.prototype.slice,ws=String.prototype.replace,X5=String.prototype.toUpperCase,jw=String.prototype.toLowerCase,hC=RegExp.prototype.test,Hw=Array.prototype.concat,di=Array.prototype.join,q5=Array.prototype.slice,Gw=Math.floor,lx=typeof BigInt=="function"?BigInt.prototype.valueOf:null,yg=Object.getOwnPropertySymbols,ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,al=typeof Symbol=="function"&&typeof Symbol.iterator=="object",pr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===al?"object":"symbol")?Symbol.toStringTag:null,dC=Object.prototype.propertyIsEnumerable,Ww=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Vw(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||hC.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Gw(-t):Gw(t);if(n!==t){var i=String(n),s=hy.call(e,i.length+1);return ws.call(i,r,"$&_")+"."+ws.call(ws.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return ws.call(e,r,"$&_")}var cx=YA,Xw=cx.custom,qw=pC(Xw)?Xw:null,Y5=function t(e,r,n,i){var s=r||{};if(ps(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ps(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ps(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ps(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ps(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return gC(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return a?Vw(e,c):c}if(typeof e=="bigint"){var d=String(e)+"n";return a?Vw(e,d):d}var p=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=p&&p>0&&typeof e=="object")return hx(e)?"[Array]":"[Object]";var h=f8(s,n);if(typeof i>"u")i=[];else if(mC(i,e)>=0)return"[Circular]";function f(D,U,X){if(U&&(i=q5.call(i),i.push(U)),X){var Z={depth:s.depth};return ps(s,"quoteStyle")&&(Z.quoteStyle=s.quoteStyle),t(D,Z,n+1,i)}return t(D,s,n+1,i)}if(typeof e=="function"&&!Yw(e)){var m=i8(e),v=jh(e,f);return"[Function"+(m?": "+m:" (anonymous)")+"]"+(v.length>0?" { "+di.call(v,", ")+" }":"")}if(pC(e)){var y=al?ws.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ux.call(e);return typeof e=="object"&&!al?Zl(y):y}if(c8(e)){for(var w="<"+jw.call(String(e.nodeName)),x=e.attributes||[],_=0;_<x.length;_++)w+=" "+x[_].name+"="+fC(Q5(x[_].value),"double",s);return w+=">",e.childNodes&&e.childNodes.length&&(w+="..."),w+="</"+jw.call(String(e.nodeName))+">",w}if(hx(e)){if(e.length===0)return"[]";var b=jh(e,f);return h&&!d8(b)?"["+dx(b,h)+"]":"[ "+di.call(b,", ")+" ]"}if(Z5(e)){var T=jh(e,f);return!("cause"in Error.prototype)&&"cause"in e&&!dC.call(e,"cause")?"{ ["+String(e)+"] "+di.call(Hw.call("[cause]: "+f(e.cause),T),", ")+" }":T.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+di.call(T,", ")+" }"}if(typeof e=="object"&&o){if(qw&&typeof e[qw]=="function"&&cx)return cx(e,{depth:p-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(s8(e)){var C=[];return Uw&&Uw.call(e,function(D,U){C.push(f(U,e,!0)+" => "+f(D,e))}),Qw("Map",cf.call(e),C,h)}if(l8(e)){var P=[];return zw&&zw.call(e,function(D){P.push(f(D,e))}),Qw("Set",hf.call(e),P,h)}if(o8(e))return _g("WeakMap");if(u8(e))return _g("WeakSet");if(a8(e))return _g("WeakRef");if(e8(e))return Zl(f(Number(e)));if(r8(e))return Zl(f(lx.call(e)));if(t8(e))return Zl(H5.call(e));if(J5(e))return Zl(f(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof Ce<"u"&&e===Ce)return"{ [object globalThis] }";if(!K5(e)&&!Yw(e)){var I=jh(e,f),F=Ww?Ww(e)===Object.prototype:e instanceof Object||e.constructor===Object,M=e instanceof Object?"":"null prototype",k=!F&&pr&&Object(e)===e&&pr in e?hy.call(Vs(e),8,-1):M?"Object":"",B=F||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",O=B+(k||M?"["+di.call(Hw.call([],k||[],M||[]),": ")+"] ":"");return I.length===0?O+"{}":h?O+"{"+dx(I,h)+"}":O+"{ "+di.call(I,", ")+" }"}return String(e)};function fC(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Q5(t){return ws.call(String(t),/"/g,"&quot;")}function hx(t){return Vs(t)==="[object Array]"&&(!pr||!(typeof t=="object"&&pr in t))}function K5(t){return Vs(t)==="[object Date]"&&(!pr||!(typeof t=="object"&&pr in t))}function Yw(t){return Vs(t)==="[object RegExp]"&&(!pr||!(typeof t=="object"&&pr in t))}function Z5(t){return Vs(t)==="[object Error]"&&(!pr||!(typeof t=="object"&&pr in t))}function J5(t){return Vs(t)==="[object String]"&&(!pr||!(typeof t=="object"&&pr in t))}function e8(t){return Vs(t)==="[object Number]"&&(!pr||!(typeof t=="object"&&pr in t))}function t8(t){return Vs(t)==="[object Boolean]"&&(!pr||!(typeof t=="object"&&pr in t))}function pC(t){if(al)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ux)return!1;try{return ux.call(t),!0}catch{}return!1}function r8(t){if(!t||typeof t!="object"||!lx)return!1;try{return lx.call(t),!0}catch{}return!1}var n8=Object.prototype.hasOwnProperty||function(t){return t in this};function ps(t,e){return n8.call(t,e)}function Vs(t){return G5.call(t)}function i8(t){if(t.name)return t.name;var e=V5.call(W5.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function mC(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function s8(t){if(!cf||!t||typeof t!="object")return!1;try{cf.call(t);try{hf.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function o8(t){if(!Au||!t||typeof t!="object")return!1;try{Au.call(t,Au);try{Cu.call(t,Cu)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function a8(t){if(!$w||!t||typeof t!="object")return!1;try{return $w.call(t),!0}catch{}return!1}function l8(t){if(!hf||!t||typeof t!="object")return!1;try{hf.call(t);try{cf.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function u8(t){if(!Cu||!t||typeof t!="object")return!1;try{Cu.call(t,Cu);try{Au.call(t,Au)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function c8(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function gC(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return gC(hy.call(t,0,e.maxStringLength),e)+n}var i=ws.call(ws.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,h8);return fC(i,"single",e)}function h8(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+X5.call(e.toString(16))}function Zl(t){return"Object("+t+")"}function _g(t){return t+" { ? }"}function Qw(t,e,r,n){var i=n?dx(r,n):di.call(r,", ");return t+" ("+e+") {"+i+"}"}function d8(t){for(var e=0;e<t.length;e++)if(mC(t[e],`
`)>=0)return!1;return!0}function f8(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=di.call(Array(t.indent+1)," ");else return null;return{base:r,prev:di.call(Array(e+1),r)}}function dx(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+di.call(t,","+r)+`
`+e.prev}function jh(t,e){var r=hx(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=ps(t,i)?e(t[i],t):""}var s=typeof yg=="function"?yg(t):[],o;if(al){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)!ps(t,c)||r&&String(Number(c))===c&&c<t.length||al&&o["$"+c]instanceof Symbol||(hC.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t)));if(typeof yg=="function")for(var d=0;d<s.length;d++)dC.call(t,s[d])&&n.push("["+e(s[d])+"]: "+e(t[s[d]],t));return n}var vC=vl,xl=U5,p8=Y5,m8=vc,Hh=vC("%WeakMap%",!0),Gh=vC("%Map%",!0),g8=xl("WeakMap.prototype.get",!0),v8=xl("WeakMap.prototype.set",!0),x8=xl("WeakMap.prototype.has",!0),y8=xl("Map.prototype.get",!0),_8=xl("Map.prototype.set",!0),b8=xl("Map.prototype.has",!0),dy=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},w8=function(t,e){var r=dy(t,e);return r&&r.value},E8=function(t,e,r){var n=dy(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},S8=function(t,e){return!!dy(t,e)},T8=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new m8("Side channel does not contain "+p8(s))},get:function(s){if(Hh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return g8(e,s)}else if(Gh){if(r)return y8(r,s)}else if(n)return w8(n,s)},has:function(s){if(Hh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return x8(e,s)}else if(Gh){if(r)return b8(r,s)}else if(n)return S8(n,s);return!1},set:function(s,o){Hh&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Hh),v8(e,s,o)):Gh?(r||(r=new Gh),_8(r,s,o)):(n||(n={key:{},next:null}),E8(n,s,o))}};return i},A8=String.prototype.replace,C8=/%20/g,bg={RFC1738:"RFC1738",RFC3986:"RFC3986"},fy={default:bg.RFC3986,formatters:{RFC1738:function(t){return A8.call(t,C8,"+")},RFC3986:function(t){return String(t)}},RFC1738:bg.RFC1738,RFC3986:bg.RFC3986},P8=fy,wg=Object.prototype.hasOwnProperty,bo=Array.isArray,ii=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),k8=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(bo(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},xC=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},F8=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(bo(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!wg.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return bo(e)&&!bo(r)&&(i=xC(e,n)),bo(e)&&bo(r)?(r.forEach(function(s,o){if(wg.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return wg.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},I8=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},B8=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Eg=1024,R8=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(m){return"%26%23"+parseInt(m.slice(2),16)+"%3B"});for(var a="",c=0;c<o.length;c+=Eg){for(var d=o.length>=Eg?o.slice(c,c+Eg):o,p=[],h=0;h<d.length;++h){var f=d.charCodeAt(h);if(f===45||f===46||f===95||f===126||f>=48&&f<=57||f>=65&&f<=90||f>=97&&f<=122||s===P8.RFC1738&&(f===40||f===41)){p[p.length]=d.charAt(h);continue}if(f<128){p[p.length]=ii[f];continue}if(f<2048){p[p.length]=ii[192|f>>6]+ii[128|f&63];continue}if(f<55296||f>=57344){p[p.length]=ii[224|f>>12]+ii[128|f>>6&63]+ii[128|f&63];continue}h+=1,f=65536+((f&1023)<<10|d.charCodeAt(h)&1023),p[p.length]=ii[240|f>>18]+ii[128|f>>12&63]+ii[128|f>>6&63]+ii[128|f&63]}a+=p.join("")}return a},D8=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],a=Object.keys(o),c=0;c<a.length;++c){var d=a[c],p=o[d];typeof p=="object"&&p!==null&&n.indexOf(p)===-1&&(r.push({obj:o,prop:d}),n.push(p))}return k8(r),e},M8=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},O8=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},N8=function(e,r){return[].concat(e,r)},L8=function(e,r){if(bo(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},yC={arrayToObject:xC,assign:I8,combine:N8,compact:D8,decode:B8,encode:R8,isBuffer:O8,isRegExp:M8,maybeMap:L8,merge:F8},_C=T8,Ad=yC,Pu=fy,U8=Object.prototype.hasOwnProperty,bC={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},hi=Array.isArray,z8=Array.prototype.push,wC=function(t,e){z8.apply(t,hi(e)?e:[e])},$8=Date.prototype.toISOString,Kw=Pu.default,Lt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Ad.encode,encodeValuesOnly:!1,format:Kw,formatter:Pu.formatters[Kw],indices:!1,serializeDate:function(e){return $8.call(e)},skipNulls:!1,strictNullHandling:!1},j8=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Sg={},H8=function t(e,r,n,i,s,o,a,c,d,p,h,f,m,v,y,w,x,_){for(var b=e,T=_,C=0,P=!1;(T=T.get(Sg))!==void 0&&!P;){var I=T.get(e);if(C+=1,typeof I<"u"){if(I===C)throw new RangeError("Cyclic object value");P=!0}typeof T.get(Sg)>"u"&&(C=0)}if(typeof p=="function"?b=p(r,b):b instanceof Date?b=m(b):n==="comma"&&hi(b)&&(b=Ad.maybeMap(b,function(L){return L instanceof Date?m(L):L})),b===null){if(o)return d&&!w?d(r,Lt.encoder,x,"key",v):r;b=""}if(j8(b)||Ad.isBuffer(b)){if(d){var F=w?r:d(r,Lt.encoder,x,"key",v);return[y(F)+"="+y(d(b,Lt.encoder,x,"value",v))]}return[y(r)+"="+y(String(b))]}var M=[];if(typeof b>"u")return M;var k;if(n==="comma"&&hi(b))w&&d&&(b=Ad.maybeMap(b,d)),k=[{value:b.length>0?b.join(",")||null:void 0}];else if(hi(p))k=p;else{var B=Object.keys(b);k=h?B.sort(h):B}var O=c?r.replace(/\./g,"%2E"):r,D=i&&hi(b)&&b.length===1?O+"[]":O;if(s&&hi(b)&&b.length===0)return D+"[]";for(var U=0;U<k.length;++U){var X=k[U],Z=typeof X=="object"&&typeof X.value<"u"?X.value:b[X];if(!(a&&Z===null)){var W=f&&c?X.replace(/\./g,"%2E"):X,N=hi(b)?typeof n=="function"?n(D,W):D:D+(f?"."+W:"["+W+"]");_.set(e,C);var V=_C();V.set(Sg,_),wC(M,t(Z,N,n,i,s,o,a,c,n==="comma"&&w&&hi(b)?null:d,p,h,f,m,v,y,w,x,V))}}return M},G8=function(e){if(!e)return Lt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||Lt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Pu.default;if(typeof e.format<"u"){if(!U8.call(Pu.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Pu.formatters[n],s=Lt.filter;(typeof e.filter=="function"||hi(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in bC?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=Lt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:Lt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:Lt.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Lt.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Lt.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?Lt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:Lt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:Lt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:Lt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:Lt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:Lt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:Lt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Lt.strictNullHandling}},W8=function(t,e){var r=t,n=G8(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):hi(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a=bC[n.arrayFormat],c=a==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var d=_C(),p=0;p<i.length;++p){var h=i[p];n.skipNulls&&r[h]===null||wC(o,H8(r[h],h,a,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var f=o.join(n.delimiter),m=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?m+="utf8=%26%2310003%3B&":m+="utf8=%E2%9C%93&"),f.length>0?m+f:""},ll=yC,fx=Object.prototype.hasOwnProperty,V8=Array.isArray,Pt={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:ll.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},X8=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},EC=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},q8="utf8=%26%2310003%3B",Y8="utf8=%E2%9C%93",Q8=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),a=-1,c,d=r.charset;if(r.charsetSentinel)for(c=0;c<o.length;++c)o[c].indexOf("utf8=")===0&&(o[c]===Y8?d="utf-8":o[c]===q8&&(d="iso-8859-1"),a=c,c=o.length);for(c=0;c<o.length;++c)if(c!==a){var p=o[c],h=p.indexOf("]="),f=h===-1?p.indexOf("="):h+1,m,v;f===-1?(m=r.decoder(p,Pt.decoder,d,"key"),v=r.strictNullHandling?null:""):(m=r.decoder(p.slice(0,f),Pt.decoder,d,"key"),v=ll.maybeMap(EC(p.slice(f+1),r),function(w){return r.decoder(w,Pt.decoder,d,"value")})),v&&r.interpretNumericEntities&&d==="iso-8859-1"&&(v=X8(v)),p.indexOf("[]=")>-1&&(v=V8(v)?[v]:v);var y=fx.call(n,m);y&&r.duplicates==="combine"?n[m]=ll.combine(n[m],v):(!y||r.duplicates==="last")&&(n[m]=v)}return n},K8=function(t,e,r,n){for(var i=n?e:EC(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&i===""?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,d=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,p=parseInt(d,10);!r.parseArrays&&d===""?o={0:i}:!isNaN(p)&&a!==d&&String(p)===d&&p>=0&&r.parseArrays&&p<=r.arrayLimit?(o=[],o[p]=i):d!=="__proto__"&&(o[d]=i)}i=o}return i},Z8=function(e,r,n,i){if(!!e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,c=n.depth>0&&o.exec(s),d=c?s.slice(0,c.index):s,p=[];if(d){if(!n.plainObjects&&fx.call(Object.prototype,d)&&!n.allowPrototypes)return;p.push(d)}for(var h=0;n.depth>0&&(c=a.exec(s))!==null&&h<n.depth;){if(h+=1,!n.plainObjects&&fx.call(Object.prototype,c[1].slice(1,-1))&&!n.allowPrototypes)return;p.push(c[1])}return c&&p.push("["+s.slice(c.index)+"]"),K8(p,r,n,i)}},J8=function(e){if(!e)return Pt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?Pt.charset:e.charset,n=typeof e.duplicates>"u"?Pt.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Pt.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Pt.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Pt.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Pt.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Pt.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Pt.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Pt.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Pt.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Pt.decoder,delimiter:typeof e.delimiter=="string"||ll.isRegExp(e.delimiter)?e.delimiter:Pt.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Pt.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Pt.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Pt.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Pt.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Pt.strictNullHandling}},eB=function(t,e){var r=J8(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Q8(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],c=Z8(a,n[a],r,typeof t=="string");i=ll.merge(i,c,r)}return r.allowSparse===!0?i:ll.compact(i)},tB=W8,rB=eB,nB=fy,iB={formats:nB,parse:rB,stringify:tB},sB=ox.exports;function Ui(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var oB=/^([a-z0-9.+-]+:)/i,aB=/:[0-9]*$/,lB=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,uB=["<",">",'"',"`"," ","\r",`
`,"	"],cB=["{","}","|","\\","^","`"].concat(uB),px=["'"].concat(cB),Zw=["%","/","?",";","#"].concat(px),Jw=["/","?","#"],hB=255,eE=/^[+a-z0-9A-Z_-]{0,63}$/,dB=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,fB={javascript:!0,"javascript:":!0},mx={javascript:!0,"javascript:":!0},Ga={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},gx=iB;function pB(t,e,r){if(t&&typeof t=="object"&&t instanceof Ui)return t;var n=new Ui;return n.parse(t,e,r),n}Ui.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var c=lB.exec(a);if(c)return this.path=a,this.href=a,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=gx.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=oB.exec(a);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,a=a.substr(d.length)}if(r||d||a.match(/^\/\/[^@/]+@[^@/]+/)){var h=a.substr(0,2)==="//";h&&!(d&&mx[d])&&(a=a.substr(2),this.slashes=!0)}if(!mx[d]&&(h||d&&!Ga[d])){for(var f=-1,m=0;m<Jw.length;m++){var v=a.indexOf(Jw[m]);v!==-1&&(f===-1||v<f)&&(f=v)}var y,w;f===-1?w=a.lastIndexOf("@"):w=a.lastIndexOf("@",f),w!==-1&&(y=a.slice(0,w),a=a.slice(w+1),this.auth=decodeURIComponent(y)),f=-1;for(var m=0;m<Zw.length;m++){var v=a.indexOf(Zw[m]);v!==-1&&(f===-1||v<f)&&(f=v)}f===-1&&(f=a.length),this.host=a.slice(0,f),a=a.slice(f),this.parseHost(),this.hostname=this.hostname||"";var x=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!x)for(var _=this.hostname.split(/\./),m=0,b=_.length;m<b;m++){var T=_[m];if(!!T&&!T.match(eE)){for(var C="",P=0,I=T.length;P<I;P++)T.charCodeAt(P)>127?C+="x":C+=T[P];if(!C.match(eE)){var F=_.slice(0,m),M=_.slice(m+1),k=T.match(dB);k&&(F.push(k[1]),M.unshift(k[2])),M.length&&(a="/"+M.join(".")+a),this.hostname=F.join(".");break}}}this.hostname.length>hB?this.hostname="":this.hostname=this.hostname.toLowerCase(),x||(this.hostname=sB.toASCII(this.hostname));var B=this.port?":"+this.port:"",O=this.hostname||"";this.host=O+B,this.href+=this.host,x&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!fB[p])for(var m=0,b=px.length;m<b;m++){var D=px[m];if(a.indexOf(D)!==-1){var U=encodeURIComponent(D);U===D&&(U=escape(D)),a=a.split(D).join(U)}}var X=a.indexOf("#");X!==-1&&(this.hash=a.substr(X),a=a.slice(0,X));var Z=a.indexOf("?");if(Z!==-1?(this.search=a.substr(Z),this.query=a.substr(Z+1),e&&(this.query=gx.parse(this.query)),a=a.slice(0,Z)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Ga[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var B=this.pathname||"",W=this.search||"";this.path=B+W}return this.href=this.format(),this};Ui.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=gx.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Ga[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};Ui.prototype.resolve=function(t){return this.resolveObject(pB(t,!1,!0)).format()};Ui.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Ui;e.parse(t,!1,!0),t=e}for(var r=new Ui,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var c=o[a];c!=="protocol"&&(r[c]=t[c])}return Ga[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Ga[t.protocol]){for(var d=Object.keys(t),p=0;p<d.length;p++){var h=d[p];r[h]=t[h]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!mx[t.protocol]){for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),r.pathname=b.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var f=r.pathname||"",m=r.search||"";r.path=f+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var v=r.pathname&&r.pathname.charAt(0)==="/",y=t.host||t.pathname&&t.pathname.charAt(0)==="/",w=y||v||r.host&&t.pathname,x=w,_=r.pathname&&r.pathname.split("/")||[],b=t.pathname&&t.pathname.split("/")||[],T=r.protocol&&!Ga[r.protocol];if(T&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),w=w&&(b[0]===""||_[0]==="")),y)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=b;else if(b.length)_||(_=[]),_.pop(),_=_.concat(b),r.search=t.search,r.query=t.query;else if(t.search!=null){if(T){r.host=_.shift(),r.hostname=r.host;var C=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;C&&(r.auth=C.shift(),r.hostname=C.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var P=_.slice(-1)[0],I=(r.host||t.host||_.length>1)&&(P==="."||P==="..")||P==="",F=0,M=_.length;M>=0;M--)P=_[M],P==="."?_.splice(M,1):P===".."?(_.splice(M,1),F++):F&&(_.splice(M,1),F--);if(!w&&!x)for(;F--;F)_.unshift("..");w&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),I&&_.join("/").substr(-1)!=="/"&&_.push("");var k=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(T){r.hostname=k?"":_.length?_.shift():"",r.host=r.hostname;var C=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;C&&(r.auth=C.shift(),r.hostname=C.shift(),r.host=r.hostname)}return w=w||r.host&&_.length,w&&!k&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};Ui.prototype.parseHost=function(){var t=this.host,e=aB.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const tE={};function Me(t,e,r=3){if(tE[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),tE[e]=!0}function Cn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Jl(t){return t.split("?")[0].split("#")[0]}function mB(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function gB(t,e,r){return t.replace(new RegExp(mB(e),"g"),r)}function vB(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const mn={toPosix(t){return gB(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){Cn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(Cn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=Jl(this.toPosix(e??ye.ADAPTER.getBaseUrl())),i=Jl(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?mn.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(Cn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=vB(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Cn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Cn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Cn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Cn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Cn(t),e&&Cn(e),t=Jl(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Cn(t),t=Jl(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Cn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Jl(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,c=!0,d=t.length-1,p=0;for(;d>=i;--d){if(r=t.charCodeAt(d),r===47){if(!c){o=d+1;break}continue}a===-1&&(c=!1,a=d+1),r===46?s===-1?s=d:p!==1&&(p=1):s!==-1&&(p=-1)}return s===-1||a===-1||p===0||p===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let Tg;async function xB(){return Tg??(Tg=(async()=>{const t=document.createElement("canvas").getContext("webgl");if(!t)return hn.UNPACK;const e=await new Promise(s=>{const o=document.createElement("video");o.onloadeddata=()=>s(o),o.onerror=()=>s(null),o.autoplay=!1,o.crossOrigin="anonymous",o.preload="auto",o.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",o.load()});if(!e)return hn.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),t.getExtension("WEBGL_lose_context")?.loseContext(),i[0]<=i[3]?hn.PMA:hn.UNPACK})()),Tg}let Ag;function yB(){return typeof Ag>"u"&&(Ag=function(){const t={stencil:!0,failIfMajorPerformanceCaveat:ye.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ye.ADAPTER.getWebGLRenderingContext())return!1;const e=ye.ADAPTER.createCanvas();let r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);const n=!!r?.getContextAttributes()?.stencil;if(r){const i=r.getExtension("WEBGL_lose_context");i&&i.loseContext()}return r=null,n}catch{return!1}}()),Ag}var _B={grad:.9,turn:360,rad:360/(2*Math.PI)},ki=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},qt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},fn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},SC=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},rE=function(t){return{r:fn(t.r,0,255),g:fn(t.g,0,255),b:fn(t.b,0,255),a:fn(t.a)}},Cg=function(t){return{r:qt(t.r),g:qt(t.g),b:qt(t.b),a:qt(t.a,3)}},bB=/^#([0-9a-f]{3,8})$/i,Wh=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},TC=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},AC=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),d=s%6;return{r:255*[n,a,o,o,c,n][d],g:255*[c,n,n,a,o,o][d],b:255*[o,o,c,n,n,a][d],a:i}},nE=function(t){return{h:SC(t.h),s:fn(t.s,0,100),l:fn(t.l,0,100),a:fn(t.a)}},iE=function(t){return{h:qt(t.h),s:qt(t.s),l:qt(t.l),a:qt(t.a,3)}},sE=function(t){return AC((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},ku=function(t){return{h:(e=TC(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},wB=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,EB=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,SB=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,TB=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vx={string:[[function(t){var e=bB.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?qt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?qt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=SB.exec(t)||TB.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:rE({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=wB.exec(t)||EB.exec(t);if(!e)return null;var r,n,i=nE({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(_B[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return sE(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return ki(e)&&ki(r)&&ki(n)?rE({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!ki(e)||!ki(r)||!ki(n))return null;var o=nE({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return sE(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!ki(e)||!ki(r)||!ki(n))return null;var o=function(a){return{h:SC(a.h),s:fn(a.s,0,100),v:fn(a.v,0,100),a:fn(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return AC(o)},"hsv"]]},oE=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},AB=function(t){return typeof t=="string"?oE(t.trim(),vx.string):typeof t=="object"&&t!==null?oE(t,vx.object):[null,void 0]},Pg=function(t,e){var r=ku(t);return{h:r.h,s:fn(r.s+100*e,0,100),l:r.l,a:r.a}},kg=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},aE=function(t,e){var r=ku(t);return{h:r.h,s:r.s,l:fn(r.l+100*e,0,100),a:r.a}},xx=function(){function t(e){this.parsed=AB(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return qt(kg(this.rgba),2)},t.prototype.isDark=function(){return kg(this.rgba)<.5},t.prototype.isLight=function(){return kg(this.rgba)>=.5},t.prototype.toHex=function(){return e=Cg(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Wh(qt(255*s)):"","#"+Wh(r)+Wh(n)+Wh(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Cg(this.rgba)},t.prototype.toRgbString=function(){return e=Cg(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return iE(ku(this.rgba))},t.prototype.toHslString=function(){return e=iE(ku(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=TC(this.rgba),{h:qt(e.h),s:qt(e.s),v:qt(e.v),a:qt(e.a,3)};var e},t.prototype.invert=function(){return si({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),si(Pg(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),si(Pg(this.rgba,-e))},t.prototype.grayscale=function(){return si(Pg(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),si(aE(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),si(aE(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?si({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):qt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=ku(this.rgba);return typeof e=="number"?si({h:e,s:r.s,l:r.l,a:r.a}):qt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===si(e).toHex()},t}(),si=function(t){return t instanceof xx?t:new xx(t)},lE=[],CB=function(t){t.forEach(function(e){lE.indexOf(e)<0&&(e(xx,vx),lE.push(e))})};function PB(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,c,d=n[this.toHex()];if(d)return d;if(o?.closest){var p=this.toRgb(),h=1/0,f="black";if(!s.length)for(var m in r)s[m]=new t(r[m]).toRgb();for(var v in r){var y=(a=p,c=s[v],Math.pow(a.r-c.r,2)+Math.pow(a.g-c.g,2)+Math.pow(a.b-c.b,2));y<h&&(h=y,f=v)}return f}},e.string.push([function(o){var a=o.toLowerCase(),c=a==="transparent"?"#0000":r[a];return c?new t(c).toRgb():null},"name"])}CB([PB]);const ga=class Cd{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Cd)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=Cd.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Cd.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=si(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};ga.shared=new ga,ga.temp=new ga,ga.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let mt=ga;function Jf(t,e=[]){return Me("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),mt.shared.setValue(t).toRgbArray(e)}function py(t){return Me("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),mt.shared.setValue(t).toNumber()}function kB(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Se.NORMAL_NPM]=Se.NORMAL,t[Se.ADD_NPM]=Se.ADD,t[Se.SCREEN_NPM]=Se.SCREEN,e[Se.NORMAL]=Se.NORMAL_NPM,e[Se.ADD]=Se.ADD_NPM,e[Se.SCREEN]=Se.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const CC=kB();function PC(t,e){return CC[e?1:0][t]}function FB(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function kC(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function df(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function uE(t){return!(t&t-1)&&!!t}function cE(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Fu(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Ra(t){return t===0?0:t<0?-1:1}let IB=0;function ec(){return++IB}const yx=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};yx.EMPTY=new yx(0,0,0,0);let hE=yx;const dE={},oi=Object.create(null),us=Object.create(null);function fE(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function pE(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function BB(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,c=r-1;for(;o<r&&fE(i,e,o);)++o;if(o===r)return hE.EMPTY;for(;fE(i,e,c);)--c;for(;pE(i,e,s,o,c);)++s;for(;pE(i,e,a,o,c);)--a;return++a,++c,new hE(s,o,a,c)}function RB(t){const e=BB(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function DB(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function ul(t,e=1){const r=ye.RETINA_PREFIX?.exec(t);return r?parseFloat(r[1]):e}var ve=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ve||{});const _x=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},mE=(t,e)=>_x(t).priority??e,Ae={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(_x).forEach(e=>{e.type.forEach(r=>this._removeHandlers[r]?.(e))}),this},add(...t){return t.map(_x).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r]?.(e):(i[r]=i[r]||[],i[r]?.push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t]?.forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>mE(s,r)-mE(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class MB{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const OB=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function NB(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function LB(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=OB.replace(/%forloop%/gi,NB(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Fg=0,Ig=1,Bg=2,Rg=3,Dg=4,Mg=5;class Ei{constructor(){this.data=0,this.blendMode=Se.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Fg)}set blend(e){!!(this.data&1<<Fg)!==e&&(this.data^=1<<Fg)}get offsets(){return!!(this.data&1<<Ig)}set offsets(e){!!(this.data&1<<Ig)!==e&&(this.data^=1<<Ig)}get culling(){return!!(this.data&1<<Bg)}set culling(e){!!(this.data&1<<Bg)!==e&&(this.data^=1<<Bg)}get depthTest(){return!!(this.data&1<<Rg)}set depthTest(e){!!(this.data&1<<Rg)!==e&&(this.data^=1<<Rg)}get depthMask(){return!!(this.data&1<<Mg)}set depthMask(e){!!(this.data&1<<Mg)!==e&&(this.data^=1<<Mg)}get clockwiseFrontFace(){return!!(this.data&1<<Dg)}set clockwiseFrontFace(e){!!(this.data&1<<Dg)!==e&&(this.data^=1<<Dg)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Se.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Ei;return e.depthTest=!1,e.blend=!0,e}}Ei.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const bx=[];function FC(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=bx.length-1;n>=0;--n){const i=bx[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class jn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:d,items:p}=this;this._aliasCount++;for(let h=0,f=p.length;h<f;h++)p[h][d](e,r,n,i,s,o,a,c);return p===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(jn.prototype,{dispatch:{value:jn.prototype.emit},run:{value:jn.prototype.emit}});class tc{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new jn("setRealSize"),this.onUpdate=new jn("update"),this.onError=new jn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class IC extends tc{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===hn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const UB={scaleMode:pi.NEAREST,alphaMode:hn.NPM},wx=class va extends gc{constructor(e=null,r=null){super(),r=Object.assign({},va.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:a,height:c,wrapMode:d,format:p,type:h,target:f,resolution:m,resourceOptions:v}=r;e&&!(e instanceof tc)&&(e=FC(e,v),e.internal=!0),this.resolution=m||ye.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((c||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=d,this._scaleMode=o,this.format=p,this.type=h,this.target=f,this.alphaMode=n,this.uid=ec(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&c>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=uE(this.realWidth)&&uE(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete us[this.cacheId],delete oi[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),va.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=ye.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const a=r?.pixiIdPrefix||"pixiid";e._pixiId=`${a}_${ec()}`}s=e._pixiId}let o=us[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new va(e,r),o.cacheId=s,va.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new IC(e,{width:r,height:n,...i?.resourceOptions});let o,a;return e instanceof Float32Array?(o=de.RGBA,a=Fe.FLOAT):e instanceof Int32Array?(o=de.RGBA_INTEGER,a=Fe.INT):e instanceof Uint32Array?(o=de.RGBA_INTEGER,a=Fe.UNSIGNED_INT):e instanceof Int16Array?(o=de.RGBA_INTEGER,a=Fe.SHORT):e instanceof Uint16Array?(o=de.RGBA_INTEGER,a=Fe.UNSIGNED_SHORT):e instanceof Int8Array?(o=de.RGBA,a=Fe.BYTE):(o=de.RGBA,a=Fe.UNSIGNED_BYTE),s.internal=!0,new va(s,Object.assign({},UB,{type:a,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),us[r]&&us[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),us[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=us[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete us[e],r}}else if(e?.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete us[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};wx.defaultOptions={mipmap:Ns.POW2,anisotropicLevel:0,scaleMode:pi.LINEAR,wrapMode:Li.CLAMP,alphaMode:hn.UNPACK,target:ja.TEXTURE_2D,format:de.RGBA,type:Fe.UNSIGNED_BYTE},wx._globalBatch=0;let $e=wx;class Ex{constructor(){this.texArray=null,this.blend=0,this.type=Nn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let zB=0;class Ft{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=zB++,this.disposeRunner=new jn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?xi.ELEMENT_ARRAY_BUFFER:xi.ARRAY_BUFFER}get index(){return this.type===xi.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new Ft(e)}}class ff{constructor(e,r=0,n=!1,i=Fe.FLOAT,s,o,a,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new ff(e,r,n,i,s)}}const $B={Float32Array,Uint32Array,Int32Array,Uint8Array};function jB(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let c=0;c<t.length;c++){const d=e[c],p=t[c],h=kC(p);i[h]||(i[h]=new $B[h](s)),o=i[h];for(let f=0;f<p.length;f++){const m=(f/d|0)*n+a,v=f%d;o[m+v]=p[f]}a+=d}return new Float32Array(s)}const gE={5126:4,5123:2,5121:1};let HB=0;const GB={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Ls{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=HB++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new jn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Ft||(r instanceof Array&&(r=new Float32Array(r)),r=new Ft(r));const d=e.split("|");if(d.length>1){for(let h=0;h<d.length;h++)this.addAttribute(d[h],r,n,i,s);return this}let p=this.buffers.indexOf(r);return p===-1&&(this.buffers.push(r),p=this.buffers.length-1),this.attributes[e]=new ff(p,n,i,s,o,a,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Ft||(e instanceof Array&&(e=new Uint16Array(e)),e=new Ft(e)),e.type=xi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Ft;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*gE[s.type]/4),s.buffer=0}for(n.data=jB(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Ls;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Ft(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new ff(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=xi.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Ls,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new GB[kC(o.buffers[a].data)](i[a]),r.buffers[a]=new Ft(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=xi.ELEMENT_ARRAY_BUFFER;let a=0,c=0,d=0,p=0;for(let h=0;h<o.buffers.length;h++)if(o.buffers[h]!==o.indexBuffer){p=h;break}for(const h in o.attributes){const f=o.attributes[h];(f.buffer|0)===p&&(c+=f.size*gE[f.type]/4)}for(let h=0;h<e.length;h++){const f=e[h].indexBuffer.data;for(let m=0;m<f.length;m++)r.indexBuffer.data[m+d]+=a;a+=e[h].buffers[p].data.length/c,d+=f.length}}return r}}class BC extends Ls{constructor(e=!1){super(),this._buffer=new Ft(null,e,!1),this._indexBuffer=new Ft(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Fe.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Fe.FLOAT).addAttribute("aColor",this._buffer,4,!0,Fe.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Fe.FLOAT).addIndex(this._indexBuffer)}}const pf=Math.PI*2,WB=180/Math.PI,rc=Math.PI/180;var rr=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(rr||{});class Re{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Re(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}Re.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Vh=[new Re,new Re,new Re,new Re];class He{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=rr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new He(0,0,0,0)}clone(){return new He(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const F=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=F)return!1;const M=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>M}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=Vh[0].set(e.left,e.top),c=Vh[1].set(e.left,e.bottom),d=Vh[2].set(e.right,e.top),p=Vh[3].set(e.right,e.bottom);if(d.x<=a.x||c.y<=a.y)return!1;const h=Math.sign(r.a*r.d-r.b*r.c);if(h===0||(r.apply(a,a),r.apply(c,c),r.apply(d,d),r.apply(p,p),Math.max(a.x,c.x,d.x,p.x)<=n||Math.min(a.x,c.x,d.x,p.x)>=i||Math.max(a.y,c.y,d.y,p.y)<=s||Math.min(a.y,c.y,d.y,p.y)>=o))return!1;const f=h*(c.y-a.y),m=h*(a.x-c.x),v=f*n+m*s,y=f*i+m*s,w=f*n+m*o,x=f*i+m*o;if(Math.max(v,y,w,x)<=f*a.x+m*a.y||Math.min(v,y,w,x)>=f*p.x+m*p.y)return!1;const _=h*(a.y-d.y),b=h*(d.x-a.x),T=_*n+b*s,C=_*i+b*s,P=_*n+b*o,I=_*i+b*o;return!(Math.max(T,C,P,I)<=_*a.x+b*a.y||Math.min(T,C,P,I)>=_*p.x+b*p.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}He.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class e0{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=rr.CIRC}clone(){return new e0(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new He(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}e0.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class t0{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=rr.ELIP}clone(){return new t0(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new He(this.x-this.width,this.y-this.height,this.width,this.height)}}t0.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Io{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=rr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Io(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],c=this.points[s*2+1],d=this.points[o*2],p=this.points[o*2+1];c>r!=p>r&&e<(d-a)*((r-c)/(p-c))+a&&(n=!n)}return n}}Io.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class r0{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=rr.RREC}clone(){return new r0(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}r0.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class wt{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Re;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Re;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,c,d){return this.a=Math.cos(a+d)*s,this.b=Math.sin(a+d)*s,this.c=-Math.sin(a-c)*o,this.d=Math.cos(a-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),c=Math.atan2(n,r),d=Math.abs(a+c);return d<1e-5||Math.abs(pf-d)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new wt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new wt}static get TEMP_MATRIX(){return new wt}}wt.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const fo=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],po=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],mo=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],go=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Sx=[],RC=[],Xh=Math.sign;function VB(){for(let t=0;t<16;t++){const e=[];Sx.push(e);for(let r=0;r<16;r++){const n=Xh(fo[t]*fo[r]+mo[t]*po[r]),i=Xh(po[t]*fo[r]+go[t]*po[r]),s=Xh(fo[t]*mo[r]+mo[t]*go[r]),o=Xh(po[t]*mo[r]+go[t]*go[r]);for(let a=0;a<16;a++)if(fo[a]===n&&po[a]===i&&mo[a]===s&&go[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new wt;e.set(fo[t],po[t],mo[t],go[t],0,0),RC.push(e)}}VB();const xt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>fo[t],uY:t=>po[t],vX:t=>mo[t],vY:t=>go[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Sx[t][e],sub:(t,e)=>Sx[t][xt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?xt.S:xt.N:Math.abs(e)*2<=Math.abs(t)?t>0?xt.E:xt.W:e>0?t>0?xt.SE:xt.SW:t>0?xt.NE:xt.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=RC[xt.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Ln{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Ln(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}Ln.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const Tx=class{constructor(){this.worldTransform=new wt,this.localTransform=new wt,this.position=new Ln(this.onChange,this,0,0),this.scale=new Ln(this.onChange,this,1,1),this.pivot=new Ln(this.onChange,this,0,0),this.skew=new Ln(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};Tx.IDENTITY=new Tx;let n0=Tx;n0.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var XB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,qB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function vE(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Og(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function DC(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Og(2*e);case"bvec3":return Og(3*e);case"bvec4":return Og(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Wa=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],YB={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},QB={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function KB(t,e){const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in t.uniforms){const i=e[n];if(!i){t.uniforms[n]?.group===!0&&(t.uniforms[n].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const s=t.uniforms[n];let o=!1;for(let a=0;a<Wa.length;a++)if(Wa[a].test(i,s)){r.push(Wa[a].code(n,s)),o=!0;break}if(!o){const a=(i.size===1&&!i.isArray?YB:QB)[i.type].replace("location",`ud["${n}"].location`);r.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${a};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const MC={};let qh=MC;function ZB(){if(qh===MC||qh?.isContextLost()){const t=ye.ADAPTER.createCanvas();let e;ye.PREFER_ENV>=Ho.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),qh=e}return qh}let Yh;function JB(){if(!Yh){Yh=dn.MEDIUM;const t=ZB();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(Yh=e.precision?dn.HIGH:dn.MEDIUM)}}return Yh}function xE(t,e){const r=t.getShaderSource(e).split(`
`).map((d,p)=>`${p}: ${d}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(d=>parseFloat(d.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(d=>d&&!s[d]?(s[d]=!0,!0):!1),a=[""];o.forEach(d=>{r[d-1]=`%c${r[d-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);a[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function eR(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||xE(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||xE(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const tR={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function OC(t){return tR[t]}let Qh=null;const yE={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function NC(t,e){if(!Qh){const r=Object.keys(yE);Qh={};for(let n=0;n<r.length;++n){const i=r[n];Qh[t[i]]=yE[i]}}return Qh[e]}function _E(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===dn.HIGH&&r!==dn.HIGH&&(n=dn.MEDIUM),`precision ${n} float;
${t}`}else if(r!==dn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let eu;function rR(){if(typeof eu=="boolean")return eu;try{eu=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{eu=!1}return eu}let nR=0;const Kh={},Ax=class xa{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=nR++,this.vertexSrc=e||xa.defaultVertexSrc,this.fragmentSrc=r||xa.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Kh[n]?(Kh[n]++,n+=`-${Kh[n]}`):Kh[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=_E(this.vertexSrc,xa.defaultVertexPrecision,dn.HIGH),this.fragmentSrc=_E(this.fragmentSrc,xa.defaultFragmentPrecision,JB())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return qB}static get defaultFragmentSrc(){return XB}static from(e,r,n){const i=e+r;let s=dE[i];return s||(dE[i]=s=new xa(e,r,n)),s}};Ax.defaultVertexPrecision=dn.HIGH,Ax.defaultFragmentPrecision=Ia.apple.device?dn.HIGH:dn.MEDIUM;let Oi=Ax,iR=0;class Hn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=iR++,this.static=!!r,this.ubo=!!n,e instanceof Ft?(this.buffer=e,this.buffer.type=xi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Ft(new Float32Array(1)),this.buffer.type=xi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Hn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Hn(e,r,n)}static uboFrom(e,r){return new Hn(e,r??!0,!0)}}class yi{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Hn?this.uniformGroup=r:this.uniformGroup=new Hn(r):this.uniformGroup=new Hn({}),this.disposeRunner=new jn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Oi.from(e,r);return new yi(i,n)}}class sR{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Hn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Oi(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new wt,default:this.defaultGroupCache[e]};return new yi(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class Cx{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function oR(){return!Ia.apple.device}function aR(t){let e=!0;const r=ye.ADAPTER.getNavigator();if(Ia.tablet||Ia.phone){if(Ia.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Ia.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class i0{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var lR=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,uR=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const uu=class Pn extends i0{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=BC,this.vertexSize=6,this.state=Ei.for2d(),this.size=Pn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??aR(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??oR(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Me("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return uR}static get defaultFragmentTemplate(){return lR}setShaderGenerator({vertex:e=Pn.defaultVertexSrc,fragment:r=Pn.defaultFragmentTemplate}={}){this.shaderGenerator=new sR(e,r)}contextChange(){const e=this.renderer.gl;ye.PREFER_ENV===Ho.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),Pn.defaultMaxTextures),this.maxTextures=LB(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=Pn,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new Ex);for(;r.length<i;)r.push(new Cx);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=Pn._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++$e._globalBatch,c=0,d=n[0],p=0;i.copyBoundTextures(s,r);for(let h=0;h<this._bufferSize;++h){const f=e[h];e[h]=null,f._batchEnabled!==a&&(d.count>=r&&(i.boundArray(d,s,a,r),this.buildDrawCalls(d,p,h),p=h,d=n[++c],++a),f._batchEnabled=a,f.touched=o,d.elements[d.count++]=f)}d.count>0&&(i.boundArray(d,s,a,r),this.buildDrawCalls(d,p,this._bufferSize),++c,++a);for(let h=0;h<s.length;h++)s[h]=null;$e._globalBatch=a}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,c=Pn._drawCallPool;let d=this._dcIndex,p=this._aIndex,h=this._iIndex,f=c[d];f.start=this._iIndex,f.texArray=e;for(let m=r;m<n;++m){const v=i[m],y=v._texture.baseTexture,w=CC[y.alphaMode?1:0][v.blendMode];i[m]=null,r<m&&f.blend!==w&&(f.size=h-f.start,r=m,f=c[++d],f.texArray=e,f.start=h),this.packInterleavedGeometry(v,s,o,p,h),p+=v.vertexData.length/2*a,h+=v.indices.length,f.blend=w}r<n&&(f.size=h-f.start,++d),this._dcIndex=d,this._aIndex=p,this._iIndex=h}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;Pn.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=Pn._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:a,type:c,size:d,start:p,blend:h}=i[o];s!==a&&(s=a,this.bindAndClearTexArray(a)),this.state.blendMode=h,n.set(this.state),r.drawElements(c,d,r.UNSIGNED_SHORT,p*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Pn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=df(Math.ceil(e/8)),n=cE(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new MB(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=df(Math.ceil(e/12)),n=cE(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:a}=r,c=i/this.vertexSize,d=e.uvs,p=e.indices,h=e.vertexData,f=e._texture.baseTexture._batchLocation,m=Math.min(e.worldAlpha,1),v=mt.shared.setValue(e._tintRGB).toPremultiplied(m,e._texture.baseTexture.alphaMode>0);for(let y=0;y<h.length;y+=2)a[i++]=h[y],a[i++]=h[y+1],a[i++]=d[y],a[i++]=d[y+1],o[i++]=v,a[i++]=f;for(let y=0;y<p.length;y++)n[s++]=c+p[y]}};uu.defaultBatchSize=4096,uu.extension={name:"batch",type:ve.RendererPlugin},uu._drawCallPool=[],uu._textureArrayPool=[];let vo=uu;Ae.add(vo);var cR=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,hR=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Px=class cu extends yi{constructor(e,r,n){const i=Oi.from(e||cu.defaultVertexSrc,r||cu.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=cu.defaultResolution,this.multisample=cu.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Ei}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return hR}static get defaultFragmentSrc(){return cR}};Px.defaultResolution=1,Px.defaultMultisample=Dt.NONE;let st=Px;class mf{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new mt(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}mf.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},mf.extension={type:[ve.RendererSystem,ve.CanvasRendererSystem],name:"background"};Ae.add(mf);class LC{constructor(e){this.renderer=e,this.emptyRenderer=new i0(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let c=0;for(let d=0;d<a;d++){const p=s[d],h=p._batchLocation;if(h>=0&&h<i&&r[h]===p){o[d]=h;continue}for(;c<i;){const f=r[c];if(f&&f._batchEnabled===n&&f._batchLocation===c){c++;continue}o[d]=c,p._batchLocation=c,r[c]=p;break}}}destroy(){this.renderer=null}}LC.extension={type:ve.RendererSystem,name:"batch"};Ae.add(LC);let bE=0;class gf{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=bE++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=bE++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ye.PREFER_ENV>=Ho.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}gf.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},gf.extension={type:ve.RendererSystem,name:"context"};Ae.add(gf);class kx{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new jn("disposeFramebuffer"),this.multisample=Dt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new $e(null,{scaleMode:pi.NEAREST,resolution:1,mipmap:Ns.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new $e(null,{scaleMode:pi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Ns.OFF,format:de.DEPTH_COMPONENT,type:Fe.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class UC extends $e{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=Dt.NONE),super(null,e),this.mipmap=Ns.OFF,this.valid=!0,this._clear=new mt([0,0,0,0]),this.framebuffer=new kx(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Gi extends tc{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,i=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=DB(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===hn.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class zC extends Gi{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Gi.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ye.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===hn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class my{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,c=e.x/i+o,d=e.y/s+a;n=xt.add(n,xt.NW),this.x0=c+o*xt.uX(n),this.y0=d+a*xt.uY(n),n=xt.add(n,2),this.x1=c+o*xt.uX(n),this.y1=d+a*xt.uY(n),n=xt.add(n,2),this.x2=c+o*xt.uX(n),this.y2=d+a*xt.uY(n),n=xt.add(n,2),this.x3=c+o*xt.uX(n),this.y3=d+a*xt.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}my.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const wE=new my;function Zh(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ae extends gc{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new He(0,0,1,1)),e instanceof ae&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=wE,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Re(o.x,o.y):new Re(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r?.url&&oi[r.url]&&ae.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ae.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ae(this.baseTexture,!this.noFrame&&e,r,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===wE&&(this._uvs=new my),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ye.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof $e){if(!e.cacheId){const a=r?.pixiIdPrefix||"pixiid";e.cacheId=`${a}-${ec()}`,$e.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=r?.pixiIdPrefix||"pixiid";e._pixiId=`${a}_${ec()}`}s=e._pixiId}let o=oi[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof $e)?(r.resolution||(r.resolution=ul(e)),o=new ae(new $e(e,r)),o.baseTexture.cacheId=s,$e.addToCache(o.baseTexture,s),ae.addToCache(o,s)):!o&&e instanceof $e&&(o=new ae(e),ae.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r?.resourceOptions),i=ae.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new ae($e.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new $e(e,Object.assign({scaleMode:$e.defaultOptions.scaleMode,resolution:ul(r)},i)),{resource:o}=s;o instanceof zC&&(o.url=r);const a=new ae(s);return n||(n=r),$e.addToCache(a.baseTexture,n),ae.addToCache(a,n),n!==r&&($e.addToCache(a.baseTexture,r),ae.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(c=>{a.baseTexture.once("loaded",()=>c(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),oi[r]&&oi[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),oi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=oi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete oi[e],r}}else if(e?.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)oi[e.textureCacheIds[r]]===e&&delete oi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const c=o&&a?"and":"or",d=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,p=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${d} ${c} ${p}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ae._EMPTY||(ae._EMPTY=new ae(new $e),Zh(ae._EMPTY),Zh(ae._EMPTY.baseTexture)),ae._EMPTY}static get WHITE(){if(!ae._WHITE){const e=ye.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ae._WHITE=new ae($e.from(e)),Zh(ae._WHITE),Zh(ae._WHITE.baseTexture)}return ae._WHITE}}class s0 extends ae{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new s0(new UC(e))}}class $C{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Dt.NONE){const i=new UC(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new s0(i)}getOptimalTexture(e,r,n=1,i=Dt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=df(e),r=df(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Dt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}$C.SCREEN_KEY=-1;class dR extends Ls{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class jC extends Ls{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ft(this.vertices),this.uvBuffer=new Ft(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class fR{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Dt.NONE,this.sourceFrame=new He,this.destinationFrame=new He,this.bindingSourceFrame=new He,this.bindingDestinationFrame=new He,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Jh=[new Re,new Re,new Re,new Re],Ng=new wt;class HC{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new $C,this.statePool=[],this.quad=new dR,this.quadUv=new jC,this.tempRect=new He,this.activeState={},this.globalUniforms=new Hn({outputFrame:new He,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new fR,o=n.renderTexture;let a,c;if(o.current){const w=o.current;a=w.resolution,c=w.multisample}else a=n.resolution,c=n.multisample;let d=r[0].resolution||a,p=r[0].multisample??c,h=r[0].padding,f=r[0].autoFit,m=r[0].legacy??!0;for(let w=1;w<r.length;w++){const x=r[w];d=Math.min(d,x.resolution||a),p=Math.min(p,x.multisample??c),h=this.useMaxPadding?Math.max(h,x.padding):h+x.padding,f=f&&x.autoFit,m=m||(x.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=d,s.multisample=p,s.legacy=m,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(h);const v=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Ng.copyFrom(n.projection.transform).invert(),v),f?(s.sourceFrame.fit(v),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(v)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,d,p),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const y=this.tempRect;y.x=0,y.y=0,y.width=s.sourceFrame.width,y.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,y),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const d=i.filterArea;d[0]=r.destinationFrame.width,d[1]=r.destinationFrame.height,d[2]=r.sourceFrame.x,d[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,ho.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let d=r.renderTexture,p=this.getOptimalFilterTexture(d.width,d.height,r.resolution);p.filterFrame=d.filterFrame;let h=0;for(h=0;h<n.length-1;++h){h===1&&r.multisample>1&&(p=this.getOptimalFilterTexture(d.width,d.height,r.resolution),p.filterFrame=d.filterFrame),n[h].apply(this,d,p,ho.CLEAR,r);const f=d;d=p,p=f}n[h].apply(this,d,c.renderTexture,ho.BLEND,r),h>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(p)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=ho.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e?.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===ho.CLEAR||r===ho.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Nn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Nn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(wt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Dt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Dt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Jh[0],i=Jh[1],s=Jh[2],o=Jh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),d=Math.max(n.x,i.x,s.x,o.x),p=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=c,r.width=d-a,r.height=p-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c,d}=s;if((Math.abs(a)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(d)>1e-4))return}s=s?Ng.copyFrom(s):Ng.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}HC.extension={type:ve.RendererSystem,name:"filter"};Ae.add(HC);class pR{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Dt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const mR=new He;class GC{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new kx(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new He,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ye.PREFER_ENV===Ho.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=rx.COLOR|rx.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new pR(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],c=a.parentTextureArray||a;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let c=0;c<o;c++){const d=s[c],p=d.parentTextureArray||d;this.renderer.texture.bind(p,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,p._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,d.target,p._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+c))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let c,d;this.renderer.context.webGLVersion===1?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH_STENCIL):e.depth&&e.stencil?(c=n.DEPTH_STENCIL_ATTACHMENT,d=n.DEPTH24_STENCIL8):e.depth?(c=n.DEPTH_ATTACHMENT,d=n.DEPTH_COMPONENT24):(c=n.STENCIL_ATTACHMENT,d=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,d,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,c,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Dt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Dt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[a];if(!c)return;if(!e){if(!c.msaaBuffer)return;const p=i.colorTextures[0];if(!p)return;c.blitFramebuffer||(c.blitFramebuffer=new kx(i.width,i.height),c.blitFramebuffer.addColorTexture(0,p)),e=c.blitFramebuffer,e.colorTextures[0]!==p&&(e.colorTextures[0]=p,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=mR,r.width=i.width,r.height=i.height),n||(n=r);const d=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,d?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let a,c;this.renderer.context.webGLVersion===1?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH_STENCIL):e.depth?(a=s.DEPTH_STENCIL_ATTACHMENT,c=s.DEPTH24_STENCIL8):(a=s.STENCIL_ATTACHMENT,c=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,c,n,i):s.renderbufferStorage(s.RENDERBUFFER,c,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,a,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new He}destroy(){this.renderer=null}}GC.extension={type:ve.RendererSystem,name:"framebuffer"};Ae.add(GC);const Lg={5126:4,5123:2,5121:1};class WC{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ye.PREFER_ENV===Ho.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,c)=>n.drawElementsInstancedANGLE(i,s,o,a,c),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const c=this.getSignature(e,a),d=e.glVertexArrayObjects[this.CONTEXT_UID];let p=d[c];if(p)return d[a.id]=p,p;const h=e.buffers,f=e.attributes,m={},v={};for(const y in h)m[y]=0,v[y]=0;for(const y in f)!f[y].size&&a.attributeData[y]?f[y].size=a.attributeData[y].size:f[y].size||console.warn(`PIXI Geometry attribute '${y}' size cannot be determined (likely the bound shader does not have the attribute)`),m[f[y].buffer]+=f[y].size*Lg[f[y].type];for(const y in f){const w=f[y],x=w.size;w.stride===void 0&&(m[w.buffer]===x*Lg[w.type]?w.stride=0:w.stride=m[w.buffer]),w.start===void 0&&(w.start=v[w.buffer],v[w.buffer]+=x*Lg[w.type])}p=i.createVertexArray(),i.bindVertexArray(p);for(let y=0;y<h.length;y++){const w=h[y];o.bind(w),n&&w._glBuffers[s].refCount++}return this.activateVao(e,a),d[a.id]=p,d[c]=p,i.bindVertexArray(null),o.unbind(xi.ARRAY_BUFFER),p}disposeGeometry(e,r){if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=this.renderer?.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let a=0;a<s.length;a++){const c=s[a]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(s[a],r))}if(!r){for(const a in n)if(a[0]==="g"){const c=n[a];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const d in a){const p=a[d],h=o[p.buffer],f=h._glBuffers[i];if(r.attributeData[d]){c!==f&&(s.bind(h),c=f);const m=r.attributeData[d].location;if(n.enableVertexAttribArray(m),n.vertexAttribPointer(m,p.size,p.type||n.FLOAT,p.normalized,p.stride,p.start),p.instance)if(this.hasInstance)n.vertexAttribDivisor(m,p.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,c=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}WC.extension={type:ve.RendererSystem,name:"geometry"};Ae.add(WC);const EE=new wt;class gy{constructor(e,r){this._texture=e,this.mapCoord=new wt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(EE.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(EE));const o=r.baseTexture,a=this.uClampFrame,c=this.clampMargin/o.resolution,d=this.clampOffset;return a[0]=(r._frame.x+c+d)/o.width,a[1]=(r._frame.y+c+d)/o.height,a[2]=(r._frame.x+r._frame.width-c+d)/o.width,a[3]=(r._frame.y+r._frame.height-c+d)/o.height,this.uClampOffset[0]=d/o.realWidth,this.uClampOffset[1]=d/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var gR=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,vR=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class xR extends st{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||vR,r||gR,n),this.maskSprite=i,this.maskMatrix=new wt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new gy(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class yR{constructor(e=null){this.type=Ut.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=st.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ut.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class VC{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new yR;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Ut.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Ut.SCISSOR:this.renderer.scissor.push(n);break;case Ut.STENCIL:this.renderer.stencil.push(n);break;case Ut.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Ut.COLOR:this.pushColorMask(n);break}n.type===Ut.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Ut.SCISSOR:this.renderer.scissor.pop(r);break;case Ut.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Ut.SPRITE:this.popSpriteMask(r);break;case Ut.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Ut.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Ut.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Ut.SCISSOR:e.type=Ut.STENCIL:e.type=Ut.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new xR])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}VC.extension={type:ve.RendererSystem,name:"mask"};Ae.add(VC);class XC{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const SE=new wt,TE=[],qC=class Pd extends XC{constructor(e){super(e),this.glConst=ye.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,TE.pop()??new He);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Pd.isMatrixRotated(r.worldTransform)||Pd.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){Pd.isMatrixRotated(s)||(s=s?SE.copyFrom(s):SE.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&TE.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};qC.extension={type:ve.RendererSystem,name:"scissor"};let _R=qC;Ae.add(_R);class YC extends XC{constructor(e){super(e),this.glConst=ye.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}YC.extension={type:ve.RendererSystem,name:"stencil"};Ae.add(YC);class QC{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Me("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Me("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Me("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}QC.extension={type:[ve.RendererSystem,ve.CanvasRendererSystem],name:"_plugin"};Ae.add(QC);class KC{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new wt,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}KC.extension={type:ve.RendererSystem,name:"projection"};Ae.add(KC);const bR=new n0,AE=new He;class ZC{constructor(e){this.renderer=e,this._tempMatrix=new wt}generateTexture(e,r){const{region:n,...i}=r||{},s=n?.copyTo(AE)||e.getLocalBounds(AE,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const a=s0.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const c=e.transform;return e.transform=bR,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=c,a}destroy(){}}ZC.extension={type:[ve.RendererSystem,ve.CanvasRendererSystem],name:"textureGenerator"};Ae.add(ZC);const oo=new He,tu=new He;class JC{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new He,this.destinationFrame=new He,this.viewportFrame=new He}contextChange(){const e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(oo.width=e.frame.width,oo.height=e.frame.height,r=oo),n||(tu.x=e.frame.x,tu.y=e.frame.y,tu.width=r.width,tu.height=r.height,n=tu),o=s.framebuffer):(a=i.resolution,r||(oo.width=i._view.screen.width,oo.height=i._view.screen.height,r=oo),n||(n=oo,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*a,c.y=n.y*a,c.width=n.width*a,c.height=n.height*a,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=mt.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:c,y:d,width:p,height:h}=this.viewportFrame;c=Math.round(c),d=Math.round(d),p=Math.round(p),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,d,p,h)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}JC.extension={type:ve.RendererSystem,name:"renderTexture"};Ae.add(JC);class wR{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function ER(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=NC(e,s.type),a={type:o,name:s.name,size:OC(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function SR(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),c=NC(e,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:a,value:DC(c,s.size)}}return r}function TR(t,e){const r=vE(t,t.VERTEX_SHADER,e.vertexSrc),n=vE(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=e.extra?.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||eR(t,i,r,n),e.attributeData=ER(i,t),e.uniformData=SR(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const a=Object.keys(e.attributeData);a.sort((c,d)=>c>d?1:-1);for(let c=0;c<a.length;c++)e.attributeData[a[c]].location=c,t.bindAttribLocation(i,c,a[c]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const a in e.uniformData){const c=e.uniformData[a];o[a]={location:t.getUniformLocation(i,a),value:DC(c.type,c.size)}}return new wR(i,o)}function AR(t,e,r,n,i){r.buffer.update(i)}const CR={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},e4={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function PR(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=e4[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function kR(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function FR(t,e){if(!t.autoManage)return{size:0,syncFunc:AR};const r=kR(t.uniforms,e),{uboElements:n,size:i}=PR(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],c=t.uniforms[a.data.name],d=a.data.name;let p=!1;for(let h=0;h<Wa.length;h++){const f=Wa[h];if(f.codeUbo&&f.test(a.data,c)){s.push(`offset = ${a.offset/4};`,Wa[h].codeUbo(a.data.name,c)),p=!0;break}}if(!p)if(a.data.size>1){const h=OC(a.data.type),f=Math.max(e4[a.data.type]/16,1),m=h/f,v=(4-m%4)%4;s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*f}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${v};
                }

                `)}else{const h=CR[a.data.type];s.push(`
                cv = ud.${d}.value;
                v = uv.${d};
                offset = ${a.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let IR=0;const ed={textureCount:0,uboCount:0};class t4{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=IR++}systemCheck(){if(!rR())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(ed.textureCount=0,ed.uboCount=0,this.syncUniformGroup(e.uniformGroup,ed)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=KB(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,ed,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=FR(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(a.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=TR(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}t4.extension={type:ve.RendererSystem,name:"shader"};Ae.add(t4);class vf{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}vf.defaultOptions={hello:!1},vf.extension={type:[ve.RendererSystem,ve.CanvasRendererSystem],name:"startup"};Ae.add(vf);function BR(t,e=[]){return e[Se.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.ADD]=[t.ONE,t.ONE],e[Se.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.NONE]=[0,0],e[Se.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Se.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Se.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Se.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Se.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Se.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Se.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Se.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Se.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Se.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const RR=0,DR=1,MR=2,OR=3,NR=4,LR=5,r4=class Fx{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Se.NONE,this._blendEq=!1,this.map=[],this.map[RR]=this.setBlend,this.map[DR]=this.setOffset,this.map[MR]=this.setCullFace,this.map[OR]=this.setDepthTest,this.map[NR]=this.setFrontFace,this.map[LR]=this.setDepthMask,this.checks=[],this.defaultState=new Ei,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=BR(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(Fx.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(Fx.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};r4.extension={type:ve.RendererSystem,name:"state"};let UR=r4;Ae.add(UR);class zR extends gc{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new jn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const hu=class kd{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=kd.defaultMaxIdle,this.checkCountMax=kd.defaultCheckCountMax,this.mode=kd.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==sy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};hu.defaultMode=sy.AUTO,hu.defaultMaxIdle=60*60,hu.defaultCheckCountMax=60*10,hu.extension={type:ve.RendererSystem,name:"textureGC"};let xo=hu;Ae.add(xo);class Ug{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Fe.UNSIGNED_BYTE,this.internalFormat=de.RGBA,this.samplerType=0}}function $R(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:fe.FLOAT,[t.RGBA]:fe.FLOAT,[t.ALPHA]:fe.FLOAT,[t.LUMINANCE]:fe.FLOAT,[t.LUMINANCE_ALPHA]:fe.FLOAT,[t.R8]:fe.FLOAT,[t.R8_SNORM]:fe.FLOAT,[t.RG8]:fe.FLOAT,[t.RG8_SNORM]:fe.FLOAT,[t.RGB8]:fe.FLOAT,[t.RGB8_SNORM]:fe.FLOAT,[t.RGB565]:fe.FLOAT,[t.RGBA4]:fe.FLOAT,[t.RGB5_A1]:fe.FLOAT,[t.RGBA8]:fe.FLOAT,[t.RGBA8_SNORM]:fe.FLOAT,[t.RGB10_A2]:fe.FLOAT,[t.RGB10_A2UI]:fe.FLOAT,[t.SRGB8]:fe.FLOAT,[t.SRGB8_ALPHA8]:fe.FLOAT,[t.R16F]:fe.FLOAT,[t.RG16F]:fe.FLOAT,[t.RGB16F]:fe.FLOAT,[t.RGBA16F]:fe.FLOAT,[t.R32F]:fe.FLOAT,[t.RG32F]:fe.FLOAT,[t.RGB32F]:fe.FLOAT,[t.RGBA32F]:fe.FLOAT,[t.R11F_G11F_B10F]:fe.FLOAT,[t.RGB9_E5]:fe.FLOAT,[t.R8I]:fe.INT,[t.R8UI]:fe.UINT,[t.R16I]:fe.INT,[t.R16UI]:fe.UINT,[t.R32I]:fe.INT,[t.R32UI]:fe.UINT,[t.RG8I]:fe.INT,[t.RG8UI]:fe.UINT,[t.RG16I]:fe.INT,[t.RG16UI]:fe.UINT,[t.RG32I]:fe.INT,[t.RG32UI]:fe.UINT,[t.RGB8I]:fe.INT,[t.RGB8UI]:fe.UINT,[t.RGB16I]:fe.INT,[t.RGB16UI]:fe.UINT,[t.RGB32I]:fe.INT,[t.RGB32UI]:fe.UINT,[t.RGBA8I]:fe.INT,[t.RGBA8UI]:fe.UINT,[t.RGBA16I]:fe.INT,[t.RGBA16UI]:fe.UINT,[t.RGBA32I]:fe.INT,[t.RGBA32UI]:fe.UINT,[t.DEPTH_COMPONENT16]:fe.FLOAT,[t.DEPTH_COMPONENT24]:fe.FLOAT,[t.DEPTH_COMPONENT32F]:fe.FLOAT,[t.DEPTH_STENCIL]:fe.FLOAT,[t.DEPTH24_STENCIL8]:fe.FLOAT,[t.DEPTH32F_STENCIL8]:fe.FLOAT}:e={[t.RGB]:fe.FLOAT,[t.RGBA]:fe.FLOAT,[t.ALPHA]:fe.FLOAT,[t.LUMINANCE]:fe.FLOAT,[t.LUMINANCE_ALPHA]:fe.FLOAT,[t.DEPTH_STENCIL]:fe.FLOAT},e}function jR(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[Fe.UNSIGNED_BYTE]:{[de.RGBA]:t.RGBA8,[de.RGB]:t.RGB8,[de.RG]:t.RG8,[de.RED]:t.R8,[de.RGBA_INTEGER]:t.RGBA8UI,[de.RGB_INTEGER]:t.RGB8UI,[de.RG_INTEGER]:t.RG8UI,[de.RED_INTEGER]:t.R8UI,[de.ALPHA]:t.ALPHA,[de.LUMINANCE]:t.LUMINANCE,[de.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Fe.BYTE]:{[de.RGBA]:t.RGBA8_SNORM,[de.RGB]:t.RGB8_SNORM,[de.RG]:t.RG8_SNORM,[de.RED]:t.R8_SNORM,[de.RGBA_INTEGER]:t.RGBA8I,[de.RGB_INTEGER]:t.RGB8I,[de.RG_INTEGER]:t.RG8I,[de.RED_INTEGER]:t.R8I},[Fe.UNSIGNED_SHORT]:{[de.RGBA_INTEGER]:t.RGBA16UI,[de.RGB_INTEGER]:t.RGB16UI,[de.RG_INTEGER]:t.RG16UI,[de.RED_INTEGER]:t.R16UI,[de.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[Fe.SHORT]:{[de.RGBA_INTEGER]:t.RGBA16I,[de.RGB_INTEGER]:t.RGB16I,[de.RG_INTEGER]:t.RG16I,[de.RED_INTEGER]:t.R16I},[Fe.UNSIGNED_INT]:{[de.RGBA_INTEGER]:t.RGBA32UI,[de.RGB_INTEGER]:t.RGB32UI,[de.RG_INTEGER]:t.RG32UI,[de.RED_INTEGER]:t.R32UI,[de.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[Fe.INT]:{[de.RGBA_INTEGER]:t.RGBA32I,[de.RGB_INTEGER]:t.RGB32I,[de.RG_INTEGER]:t.RG32I,[de.RED_INTEGER]:t.R32I},[Fe.FLOAT]:{[de.RGBA]:t.RGBA32F,[de.RGB]:t.RGB32F,[de.RG]:t.RG32F,[de.RED]:t.R32F,[de.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[Fe.HALF_FLOAT]:{[de.RGBA]:t.RGBA16F,[de.RGB]:t.RGB16F,[de.RG]:t.RG16F,[de.RED]:t.R16F},[Fe.UNSIGNED_SHORT_5_6_5]:{[de.RGB]:t.RGB565},[Fe.UNSIGNED_SHORT_4_4_4_4]:{[de.RGBA]:t.RGBA4},[Fe.UNSIGNED_SHORT_5_5_5_1]:{[de.RGBA]:t.RGB5_A1},[Fe.UNSIGNED_INT_2_10_10_10_REV]:{[de.RGBA]:t.RGB10_A2,[de.RGBA_INTEGER]:t.RGB10_A2UI},[Fe.UNSIGNED_INT_10F_11F_11F_REV]:{[de.RGB]:t.R11F_G11F_B10F},[Fe.UNSIGNED_INT_5_9_9_9_REV]:{[de.RGB]:t.RGB9_E5},[Fe.UNSIGNED_INT_24_8]:{[de.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[Fe.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[de.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[Fe.UNSIGNED_BYTE]:{[de.RGBA]:t.RGBA,[de.RGB]:t.RGB,[de.ALPHA]:t.ALPHA,[de.LUMINANCE]:t.LUMINANCE,[de.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Fe.UNSIGNED_SHORT_5_6_5]:{[de.RGB]:t.RGB},[Fe.UNSIGNED_SHORT_4_4_4_4]:{[de.RGBA]:t.RGBA},[Fe.UNSIGNED_SHORT_5_5_5_1]:{[de.RGBA]:t.RGBA}},e}class n4{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new $e,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=jR(e),this.samplerTypes=$R(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Ug(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Ug(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e?.castToBaseTexture(),e?.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==fe.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Ug(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){r.internalFormat=this.internalFormats[e.type]?.[e.format]??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??fe.FLOAT,this.webGLVersion===2&&e.type===Fe.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),e.resource?.upload(n,e,r))r.samplerType!==fe.FLOAT&&(this.hasIntegerTextures=!0);else{const i=e.realWidth,s=e.realHeight,o=n.gl;(r.width!==i||r.height!==s||r.dirtyId<0)&&(r.width=i,r.height=s,o.texImage2D(e.target,0,r.internalFormat,i,s,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Fu(this.managedTextures,i,1)}}updateTextureStyle(e){const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Ns.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Li.CLAMP:r.wrapMode=e.wrapMode,e.resource?.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==Ns.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===pi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===pi.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===pi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===pi.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}n4.extension={type:ve.RendererSystem,name:"texture"};Ae.add(n4);class i4{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const c=a._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}i4.extension={type:ve.RendererSystem,name:"transformFeedback"};Ae.add(i4);class xf{constructor(e){this.renderer=e}init(e){this.screen=new He(0,0,e.width,e.height),this.element=e.view||ye.ADAPTER.createCanvas(),this.resolution=e.resolution||ye.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){e&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}}xf.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},xf.extension={type:[ve.RendererSystem,ve.CanvasRendererSystem],name:"_view"};Ae.add(xf);ye.PREFER_ENV=Ho.WEBGL2;ye.STRICT_TEXTURE_CACHE=!1;ye.RENDER_OPTIONS={...gf.defaultOptions,...mf.defaultOptions,...xf.defaultOptions,...vf.defaultOptions};Object.defineProperties(ye,{WRAP_MODE:{get(){return $e.defaultOptions.wrapMode},set(t){Me("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),$e.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return $e.defaultOptions.scaleMode},set(t){Me("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),$e.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return $e.defaultOptions.mipmap},set(t){Me("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),$e.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return $e.defaultOptions.anisotropicLevel},set(t){Me("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),$e.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Me("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),st.defaultResolution},set(t){st.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Me("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),st.defaultMultisample},set(t){st.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return vo.defaultMaxTextures},set(t){Me("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),vo.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return vo.defaultBatchSize},set(t){Me("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),vo.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return vo.canUploadSameBuffer},set(t){Me("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),vo.canUploadSameBuffer=t}},GC_MODE:{get(){return xo.defaultMode},set(t){Me("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),xo.defaultMode=t}},GC_MAX_IDLE:{get(){return xo.defaultMaxIdle},set(t){Me("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),xo.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return xo.defaultCheckCountMax},set(t){Me("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),xo.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Oi.defaultVertexPrecision},set(t){Me("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Oi.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Oi.defaultFragmentPrecision},set(t){Me("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Oi.defaultFragmentPrecision=t}}});var cl=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(cl||{});class zg{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const s4=class zr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new zg(null,null,1/0),this.deltaMS=1/zr.targetFPMS,this.elapsedMS=1/zr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=cl.NORMAL){return this._addListener(new zg(e,r,n))}addOnce(e,r,n=cl.NORMAL){return this._addListener(new zg(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*zr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,zr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!zr._shared){const e=zr._shared=new zr;e.autoStart=!0,e._protected=!0}return zr._shared}static get system(){if(!zr._system){const e=zr._system=new zr;e.autoStart=!0,e._protected=!0}return zr._system}};s4.targetFPMS=.06;let yr=s4;Object.defineProperties(ye,{TARGET_FPMS:{get(){return yr.targetFPMS},set(t){Me("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),yr.targetFPMS=t}}});class o4{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,cl.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?yr.shared:new yr,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}o4.extension=ve.Application;Ae.add(o4);const a4=[];Ae.handleByList(ve.Renderer,a4);function HR(t){for(const e of a4)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}class l4{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Dt.HIGH?this.multisample=Dt.HIGH:r>=Dt.MEDIUM?this.multisample=Dt.MEDIUM:r>=Dt.LOW?this.multisample=Dt.LOW:this.multisample=Dt.NONE}destroy(){}}l4.extension={type:ve.RendererSystem,name:"_multisample"};Ae.add(l4);class GR{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class u4{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new GR(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}u4.extension={type:ve.RendererSystem,name:"buffer"};Ae.add(u4);class c4{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}c4.extension={type:ve.RendererSystem,name:"objectRenderer"};Ae.add(c4);const Fd=class Ix extends zR{constructor(e){super(),this.type=JA.WEBGL,e=Object.assign({},ye.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Hn({projectionMatrix:new wt},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Ix.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Me("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=Ix.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e?.forceCanvas?!1:yB()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Me("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Me("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Me("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Me("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Me("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Me("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Me("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Me("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Fd.extension={type:ve.Renderer,priority:1},Fd.__plugins={},Fd.__systems={};let vy=Fd;Ae.handleByMap(ve.RendererPlugin,vy.__plugins);Ae.handleByMap(ve.RendererSystem,vy.__systems);Ae.add(vy);class h4 extends tc{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new $e;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof tc?this.addResourceAt(e[n],n):this.addResourceAt(FC(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class WR extends h4{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=ja.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const d=o[c];s[c]<d.dirtyId&&(s[c]=d.dirtyId,d.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,c,d.resource.width,d.resource.height,1,r.format,n.type,d.resource.source))}return!0}}class VR extends Gi{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const d4=class du extends h4{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==du.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let a=0;a<du.SIDES;a++)this.items[a].target=ja.TEXTURE_CUBE_MAP_POSITIVE_X+a;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=ja.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=ja.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<du.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===du.SIDES}};d4.SIDES=6;let XR=d4;class Da extends Gi{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=Da.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ye.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===hn.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Da._EMPTY=Da._EMPTY??ye.ADAPTER.createCanvas(0,0),Da._EMPTY}}const Bx=class Id extends Gi{constructor(e,r){r=r||{},super(ye.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Id.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;Gi.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${ec()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Id.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Id.SVG_XML.test(e)}};Bx.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Bx.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let Rx=Bx;class qR extends Gi{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const Dx=class Mx extends Gi{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];Gi.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:a,mime:c}=e[s];if(a=a||e[s],a.startsWith("data:"))c=a.slice(5,a.indexOf(";"));else if(!a.startsWith("blob:")){const d=a.split("?").shift().toLowerCase(),p=d.slice(d.lastIndexOf(".")+1);c=c||Mx.MIME_TYPES[p]||`video/${p}`}o.src=a,c&&(o.type=c),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=yr.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(yr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(yr.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(yr.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||Mx.TYPES.includes(r)}};Dx.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],Dx.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let f4=Dx;bx.push(Da,zC,VR,f4,qR,Rx,IC,XR,WR);class yf{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?He.EMPTY:(e=e||new He(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:c}=e,d=n*r.x+s*r.y+a,p=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,d),this.maxX=Math.max(this.maxX,d),this.minY=Math.min(this.minY,p),this.maxY=Math.max(this.maxY,p)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,c=e.c,d=e.d,p=e.tx,h=e.ty;let f=this.minX,m=this.minY,v=this.maxX,y=this.maxY,w=o*r+c*n+p,x=a*r+d*n+h;f=w<f?w:f,m=x<m?x:m,v=w>v?w:v,y=x>y?x:y,w=o*i+c*n+p,x=a*i+d*n+h,f=w<f?w:f,m=x<m?x:m,v=w>v?w:v,y=x>y?x:y,w=o*r+c*s+p,x=a*r+d*s+h,f=w<f?w:f,m=x<m?x:m,v=w>v?w:v,y=x>y?x:y,w=o*i+c*s+p,x=a*i+d*s+h,f=w<f?w:f,m=x<m?x:m,v=w>v?w:v,y=x>y?x:y,this.minX=f,this.minY=m,this.maxX=v,this.maxY=y}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let c=r;c<n;c+=2){const d=e[c],p=e[c+1];i=d<i?d:i,s=p<s?p:s,o=d>o?d:o,a=p>a?p:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,c=e.b,d=e.c,p=e.d,h=e.tx,f=e.ty;let m=this.minX,v=this.minY,y=this.maxX,w=this.maxY;for(let x=n;x<i;x+=2){const _=r[x],b=r[x+1],T=a*_+d*b+h,C=p*b+c*_+f;m=Math.min(m,T-s),y=Math.max(y,T+s),v=Math.min(v,C-o),w=Math.max(w,C+o)}this.minX=m,this.minY=v,this.maxX=y,this.maxY=w}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,c=this.minY,d=this.maxX,p=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=o>p?o:p}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,c=this.minY,d=this.maxX,p=this.maxY;this.minX=n<a?n:a,this.minY=i<c?i:c,this.maxX=s>d?s:d,this.maxY=o>p?o:p}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class Us extends gc{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new n0,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new yf,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(Us.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new He),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new He),e=this._localBoundsRect),this._localBounds||(this._localBounds=new yf);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=n?.worldAlpha??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){this.parent?.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,c=0,d=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=c,this.pivot.y=d,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new YR),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*WB}set angle(e){this.transform.rotation=e*rc}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class YR extends Us{constructor(){super(...arguments),this.sortDirty=null}}Us.prototype.displayObjectUpdateTransform=Us.prototype.updateTransform;const QR=new wt;function KR(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const p4=class Ox extends Us{constructor(){super(),this.children=[],this.sortableChildren=Ox.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);Fu(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,Fu(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,Fu(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let a=0;a<o.length;++a)o[a].emit("removed",this),this.emit("childRemoved",o[a],this,a);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(KR),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==Ox.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=QR.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,a=this.children.length;o<a;++o){const c=this.children[o],d=c.cullable;c.cullable=d||!this.cullArea,c.render(e),c.cullable=d}}render(e){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters?.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(e)}}renderAdvanced(e){const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let s=0;s<r.length;s++)r[s].enabled&&this._enabledFilters.push(r[s])}const i=r&&this._enabledFilters?.length||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==Ut.NONE));if(i&&e.batch.flush(),r&&this._enabledFilters?.length&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let s=0,o=this.children.length;s<o;++s)this.children[s].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&this._enabledFilters?.length&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e?.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};p4.defaultSortableChildren=!1;let Vr=p4;Vr.prototype.containerUpdateTransform=Vr.prototype.updateTransform;Object.defineProperties(ye,{SORTABLE_CHILDREN:{get(){return Vr.defaultSortableChildren},set(t){Me("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),Vr.defaultSortableChildren=t}}});var o0=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(o0||{});const ru=new Re,ZR=new Uint16Array([0,1,2,0,2,3]);class Go extends Vr{constructor(e){super(),this._anchor=new Ln(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new mt(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Se.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ae.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=ZR,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ye.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ra(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ra(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,d=this.vertexData,p=e.trim,h=e.orig,f=this._anchor;let m=0,v=0,y=0,w=0;if(p?(v=p.x-f._x*h.width,m=v+p.width,w=p.y-f._y*h.height,y=w+p.height):(v=-f._x*h.width,m=v+h.width,w=-f._y*h.height,y=w+h.height),d[0]=n*v+s*w+a,d[1]=o*w+i*v+c,d[2]=n*m+s*w+a,d[3]=o*w+i*m+c,d[4]=n*m+s*y+a,d[5]=o*y+i*m+c,d[6]=n*v+s*y+a,d[7]=o*y+i*v+c,this._roundPixels){const x=ye.RESOLUTION;for(let _=0;_<d.length;++_)d[_]=Math.round(d[_]*x)/x}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,c=s.c,d=s.d,p=s.tx,h=s.ty,f=-i._x*n.width,m=f+n.width,v=-i._y*n.height,y=v+n.height;if(r[0]=o*f+c*v+p,r[1]=d*v+a*f+h,r[2]=o*m+c*v+p,r[3]=d*v+a*m+h,r[4]=o*m+c*y+p,r[5]=d*y+a*m+h,r[6]=o*f+c*y+p,r[7]=d*y+a*f+h,this._roundPixels){const w=ye.RESOLUTION;for(let x=0;x<r.length;++x)r[x]=Math.round(r[x]*w)/w}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new yf),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new He),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ru);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return ru.x>=i&&ru.x<i+r&&(s=-n*this.anchor.y,ru.y>=s&&ru.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e?.texture){const r=typeof e=="boolean"?e:e?.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof ae?e:ae.from(e,r);return new Go(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Ra(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Ra(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ae.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const td={willReadFrequently:!0},ai=class be{static get experimentalLetterSpacingSupported(){let e=be._experimentalLetterSpacingSupported;if(e!==void 0){const r=ye.ADAPTER.getCanvasRenderingContext2D().prototype;e=be._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,a,c,d){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=c,this.fontProperties=d}static measureText(e,r,n,i=be._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=be.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const a=i.getContext("2d",td);a.font=s;const c=(n?be.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),d=new Array(c.length);let p=0;for(let v=0;v<c.length;v++){const y=be._measureText(c[v],r.letterSpacing,a);d[v]=y,p=Math.max(p,y)}let h=p+r.strokeThickness;r.dropShadow&&(h+=r.dropShadowDistance);const f=r.lineHeight||o.fontSize+r.strokeThickness;let m=Math.max(f,o.fontSize+r.strokeThickness*2)+r.leading+(c.length-1)*(f+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new be(e,r,h,m,c,d,f+r.leading,p,o)}static _measureText(e,r,n){let i=!1;be.experimentalLetterSpacingSupported&&(be.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(be.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=be._canvas){const i=n.getContext("2d",td);let s=0,o="",a="";const c=Object.create(null),{letterSpacing:d,whiteSpace:p}=r,h=be.collapseSpaces(p),f=be.collapseNewlines(p);let m=!h;const v=r.wordWrapWidth+d,y=be.tokenize(e);for(let w=0;w<y.length;w++){let x=y[w];if(be.isNewline(x)){if(!f){a+=be.addLine(o),m=!h,o="",s=0;continue}x=" "}if(h){const b=be.isBreakingSpace(x),T=be.isBreakingSpace(o[o.length-1]);if(b&&T)continue}const _=be.getFromCache(x,d,c,i);if(_>v)if(o!==""&&(a+=be.addLine(o),o="",s=0),be.canBreakWords(x,r.breakWords)){const b=be.wordWrapSplit(x);for(let T=0;T<b.length;T++){let C=b[T],P=C,I=1;for(;b[T+I];){const M=b[T+I];if(!be.canBreakChars(P,M,x,T,r.breakWords))C+=M;else break;P=M,I++}T+=I-1;const F=be.getFromCache(C,d,c,i);F+s>v&&(a+=be.addLine(o),m=!1,o="",s=0),o+=C,s+=F}}else{o.length>0&&(a+=be.addLine(o),o="",s=0);const b=w===y.length-1;a+=be.addLine(x,!b),m=!1,o="",s=0}else _+s>v&&(m=!1,a+=be.addLine(o),o="",s=0),(o.length>0||!be.isBreakingSpace(x)||m)&&(o+=x,s+=_)}return a+=be.addLine(o,!1),a}static addLine(e,r=!0){return e=be.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=be._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!be.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:be._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:be._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(be.isBreakingSpace(s,o)||be.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return be.graphemeSegmenter(e)}static measureFont(e){if(be._fonts[e])return be._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=be._canvas,i=be._context;i.font=e;const s=be.METRICS_STRING+be.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let a=Math.ceil(i.measureText(be.BASELINE_SYMBOL).width);const c=Math.ceil(be.HEIGHT_MULTIPLIER*a);if(a=a*be.BASELINE_MULTIPLIER|0,o===0||c===0)return be._fonts[e]=r,r;n.width=o,n.height=c,i.fillStyle="#f00",i.fillRect(0,0,o,c),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);const d=i.getImageData(0,0,o,c).data,p=d.length,h=o*4;let f=0,m=0,v=!1;for(f=0;f<a;++f){for(let y=0;y<h;y+=4)if(d[m+y]!==255){v=!0;break}if(!v)m+=h;else break}for(r.ascent=a-f,m=p-h,v=!1,f=c;f>a;--f){for(let y=0;y<h;y+=4)if(d[m+y]!==255){v=!0;break}if(!v)m-=h;else break}return r.descent=f-a,r.fontSize=r.ascent+r.descent,be._fonts[e]=r,r}static clearMetrics(e=""){e?delete be._fonts[e]:be._fonts={}}static get _canvas(){if(!be.__canvas){let e;try{const r=new OffscreenCanvas(0,0);if(r.getContext("2d",td)?.measureText)return be.__canvas=r,r;e=ye.ADAPTER.createCanvas()}catch{e=ye.ADAPTER.createCanvas()}e.width=e.height=10,be.__canvas=e}return be.__canvas}static get _context(){return be.__context||(be.__context=be._canvas.getContext("2d",td)),be.__context}};ai.METRICS_STRING="|\xC9q\xC5",ai.BASELINE_SYMBOL="M",ai.BASELINE_MULTIPLIER=1.4,ai.HEIGHT_MULTIPLIER=2,ai.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),ai.experimentalLetterSpacing=!1,ai._fonts={},ai._newlines=[10,13],ai._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let yo=ai;const JR=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],m4=class fu{constructor(e){this.styleID=0,this.reset(),jg(this,e,e)}clone(){const e={};return jg(e,this,fu.defaultStyle),new fu(e)}reset(){jg(this,fu.defaultStyle,fu.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=$g(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=$g(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){eD(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=$g(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!JR.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};m4.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:o0.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let _f=m4;function $g(t){const e=mt.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function eD(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function jg(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const tD={texture:!0,children:!1,baseTexture:!0},g4=class Nx extends Go{constructor(e,r,n){let i=!1;n||(n=ye.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=ae.from(n);s.orig=new He,s.trim=new He,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=Nx.defaultResolution??ye.RESOLUTION,this._autoResolution=Nx.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return yo.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Me("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),yo.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=yo.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,a=i.lines,c=i.lineHeight,d=i.lineWidths,p=i.maxLineWidth,h=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let f,m;const v=r.dropShadow?2:1;for(let y=0;y<v;++y){const w=r.dropShadow&&y===0,x=w?Math.ceil(Math.max(1,o)+r.padding*2):0,_=x*this._resolution;if(w){n.fillStyle="black",n.strokeStyle="black";const T=r.dropShadowColor,C=r.dropShadowBlur*this._resolution,P=r.dropShadowDistance*this._resolution;n.shadowColor=mt.shared.setValue(T).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=C,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*P,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*P+_}else n.fillStyle=this._generateFillStyle(r,a,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let b=(c-h.fontSize)/2;c-h.fontSize<0&&(b=0);for(let T=0;T<a.length;T++)f=r.strokeThickness/2,m=r.strokeThickness/2+T*c+h.ascent+b,r.align==="right"?f+=p-d[T]:r.align==="center"&&(f+=(p-d[T])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[T],f+r.padding,m+r.padding-x,!0),r.fill&&this.drawLetterSpacing(a[T],f+r.padding,m+r.padding-x)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(yo.experimentalLetterSpacingSupported&&(yo.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let a=r;const c=yo.graphemeSegmenter(e);let d=this.context.measureText(e).width,p=0;for(let h=0;h<c.length;++h){const f=c[h];i?this.context.strokeText(f,a,n):this.context.fillText(f,a,n);let m="";for(let v=h+1;v<c.length;++v)m+=c[v];p=this.context.measureText(m).width,a+=d-p+s,d=p}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=RB(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,a=e.padding||0,c=this.canvas.width/this._resolution-o-a*2,d=this.canvas.height/this._resolution-o-a*2,p=i.slice(),h=e.fillGradientStops.slice();if(!h.length){const f=p.length+1;for(let m=1;m<f;++m)h.push(m/f)}if(p.unshift(i[0]),h.unshift(0),p.push(i[i.length-1]),h.push(1),e.fillGradientType===o0.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,a,c/2,d+a);const f=n.fontProperties.fontSize+e.strokeThickness;for(let m=0;m<r.length;m++){const v=n.lineHeight*(m-1)+f,y=n.lineHeight*m;let w=y;m>0&&v>y&&(w=(y+v)/2);const x=y+f,_=n.lineHeight*(m+1);let b=x;m+1<r.length&&_<x&&(b=(x+_)/2);const T=(b-w)/d;for(let C=0;C<p.length;C++){let P=0;typeof h[C]=="number"?P=h[C]:P=C/p.length;let I=Math.min(1,Math.max(0,w/d+P*T));I=Number(I.toFixed(5)),s.addColorStop(I,p[C])}}}else{s=this.context.createLinearGradient(a,d/2,c+a,d/2);const f=p.length+1;let m=1;for(let v=0;v<p.length;v++){let y;typeof h[v]=="number"?y=h[v]:y=m/f,s.addColorStop(y,p[v]),m++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},tD,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Ra(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Ra(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof _f?this._style=e:this._style=new _f(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};g4.defaultAutoResolution=!0;let rD=g4;class bf{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Bd{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const d in a){const p=a[d].split("="),h=p[0],f=p[1].replace(/"/gm,""),m=parseFloat(f),v=isNaN(m)?f:m;c[h]=v}n[o].push(c)}const i=new bf;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class Lx{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new bf,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let d=0;d<n.length;d++)r.info.push({face:n[d].getAttribute("face"),size:parseInt(n[d].getAttribute("size"),10)});for(let d=0;d<i.length;d++)r.common.push({lineHeight:parseInt(i[d].getAttribute("lineHeight"),10)});for(let d=0;d<s.length;d++)r.page.push({id:parseInt(s[d].getAttribute("id"),10)||0,file:s[d].getAttribute("file")});for(let d=0;d<o.length;d++){const p=o[d];r.char.push({id:parseInt(p.getAttribute("id"),10),page:parseInt(p.getAttribute("page"),10)||0,x:parseInt(p.getAttribute("x"),10),y:parseInt(p.getAttribute("y"),10),width:parseInt(p.getAttribute("width"),10),height:parseInt(p.getAttribute("height"),10),xoffset:parseInt(p.getAttribute("xoffset"),10),yoffset:parseInt(p.getAttribute("yoffset"),10),xadvance:parseInt(p.getAttribute("xadvance"),10)})}for(let d=0;d<a.length;d++)r.kerning.push({first:parseInt(a[d].getAttribute("first"),10),second:parseInt(a[d].getAttribute("second"),10),amount:parseInt(a[d].getAttribute("amount"),10)});for(let d=0;d<c.length;d++)r.distanceField.push({fieldType:c[d].getAttribute("fieldType"),distanceRange:parseInt(c[d].getAttribute("distanceRange"),10)});return r}}class Ux{static test(e){return typeof e=="string"&&e.includes("<font>")?Lx.test(ye.ADAPTER.parseXML(e)):!1}static parse(e){return Lx.parse(ye.ADAPTER.parseXML(e))}}const Hg=[Bd,Lx,Ux];function nD(t){for(let e=0;e<Hg.length;e++)if(Hg[e].test(t))return Hg[e];return null}function iD(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const c=r.dropShadow?r.dropShadowDistance:0,d=r.padding||0,p=t.width/n-c-d*2,h=t.height/n-c-d*2,f=o.slice(),m=r.fillGradientStops.slice();if(!m.length){const v=f.length+1;for(let y=1;y<v;++y)m.push(y/v)}if(f.unshift(o[0]),m.unshift(0),f.push(o[o.length-1]),m.push(1),r.fillGradientType===o0.LINEAR_VERTICAL){a=e.createLinearGradient(p/2,d,p/2,h+d);let v=0;const y=(s.fontProperties.fontSize+r.strokeThickness)/h;for(let w=0;w<i.length;w++){const x=s.lineHeight*w;for(let _=0;_<f.length;_++){let b=0;typeof m[_]=="number"?b=m[_]:b=_/f.length;const T=x/h+b*y;let C=Math.max(v,T);C=Math.min(C,1),a.addColorStop(C,f[_]),v=C}}}else{a=e.createLinearGradient(d,h/2,p+d,h/2);const v=f.length+1;let y=1;for(let w=0;w<f.length;w++){let x;typeof m[w]=="number"?x=m[w]:x=y/v,a.addColorStop(x,f[w]),y++}}return a}function sD(t,e,r,n,i,s,o){const a=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const d=o.strokeThickness/2,p=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=iD(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const h=o.dropShadowColor,f=o.dropShadowBlur*s,m=o.dropShadowDistance*s;e.shadowColor=mt.shared.setValue(h).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=f,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*m,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*m}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,d,p+r.lineHeight-c.descent),o.fill&&e.fillText(a,d,p+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Rd(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function v4(t){return Array.from?Array.from(t):t.split("")}function oD(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,c=o;a<=c;a++)e.push(String.fromCharCode(a))}else e.push(...v4(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const cs=class li{constructor(e,r,n){const[i]=e.info,[s]=e.common,[o]=e.page,[a]=e.distanceField,c=ul(o.file),d={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/c,this.chars={},this.pageTextures=d;for(let p=0;p<e.page.length;p++){const{id:h,file:f}=e.page[p];d[h]=r instanceof Array?r[p]:r[f],a?.fieldType&&a.fieldType!=="none"&&(d[h].baseTexture.alphaMode=hn.NO_PREMULTIPLIED_ALPHA,d[h].baseTexture.mipmap=Ns.OFF)}for(let p=0;p<e.char.length;p++){const{id:h,page:f}=e.char[p];let{x:m,y:v,width:y,height:w,xoffset:x,yoffset:_,xadvance:b}=e.char[p];m/=c,v/=c,y/=c,w/=c,x/=c,_/=c,b/=c;const T=new He(m+d[f].frame.x/c,v+d[f].frame.y/c,y,w);this.chars[h]={xOffset:x,yOffset:_,xAdvance:b,kerning:{},texture:new ae(d[f].baseTexture,T),page:f}}for(let p=0;p<e.kerning.length;p++){let{first:h,second:f,amount:m}=e.kerning[p];h/=c,f/=c,m/=c,this.chars[f]&&(this.chars[f].kerning[h]=m)}this.distanceFieldRange=a?.distanceRange,this.distanceFieldType=a?.fieldType?.toLowerCase()??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof bf)i=e;else{const o=nD(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof ae&&(r=[r]);const s=new li(i,r,n);return li.available[s.font]=s,s}static uninstall(e){const r=li.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete li.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:a,textureHeight:c,...d}=Object.assign({},li.defaultOptions,n),p=oD(i),h=r instanceof _f?r:new _f(r),f=a,m=new bf;m.info[0]={face:h.fontFamily,size:h.fontSize},m.common[0]={lineHeight:h.fontSize};let v=0,y=0,w,x,_,b=0;const T=[];for(let P=0;P<p.length;P++){w||(w=ye.ADAPTER.createCanvas(),w.width=a,w.height=c,x=w.getContext("2d"),_=new $e(w,{resolution:o,...d}),T.push(new ae(_)),m.page.push({id:T.length-1,file:""}));const I=p[P],F=yo.measureText(I,h,!1,w),M=F.width,k=Math.ceil(F.height),B=Math.ceil((h.fontStyle==="italic"?2:1)*M);if(y>=c-k*o){if(y===0)throw new Error(`[BitmapFont] textureHeight ${c}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${I}')`);--P,w=null,x=null,_=null,y=0,v=0,b=0;continue}if(b=Math.max(k+F.fontProperties.descent,b),B*o+v>=f){if(v===0)throw new Error(`[BitmapFont] textureWidth ${a}px is too small (fontFamily: '${h.fontFamily}', fontSize: ${h.fontSize}px, char: '${I}')`);--P,y+=b*o,y=Math.ceil(y),v=0,b=0;continue}sD(w,x,F,v,y,o,h);const O=Rd(F.text);m.char.push({id:O,page:T.length-1,x:v/o,y:y/o,width:B,height:k,xoffset:0,yoffset:0,xadvance:M-(h.dropShadow?h.dropShadowDistance:0)-(h.stroke?h.strokeThickness:0)}),v+=(B+2*s)*o,v=Math.ceil(v)}if(!n?.skipKerning)for(let P=0,I=p.length;P<I;P++){const F=p[P];for(let M=0;M<I;M++){const k=p[M],B=x.measureText(F).width,O=x.measureText(k).width,D=x.measureText(F+k).width-(B+O);D&&m.kerning.push({first:Rd(F),second:Rd(k),amount:D})}}const C=new li(m,T,!0);return li.available[e]!==void 0&&li.uninstall(e),li.available[e]=C,C}};cs.ALPHA=[["a","z"],["A","Z"]," "],cs.NUMERIC=[["0","9"]],cs.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],cs.ASCII=[[" ","~"]],cs.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:cs.ALPHANUMERIC},cs.available={};let hs=cs;class aD{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Gg=new Re,CE=new Io,x4=class y4 extends Vr{constructor(e,r,n,i=Nn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Ei.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ye.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Nn.TRIANGLES&&r.length<y4.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,a=i.c,c=i.d,d=i.tx,p=i.ty,h=this.vertexData;for(let f=0;f<h.length/2;f++){const m=r[f*2],v=r[f*2+1];h[f*2]=s*m+a*v+d,h[f*2+1]=o*m+c*v+p}if(this._roundPixels){const f=ye.RESOLUTION;for(let m=0;m<h.length;++m)h[m]=Math.round(h[m]*f)/f}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new aD(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Gg);const r=this.geometry.getBuffer("aVertexPosition").data,n=CE.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let a=0;a+2<s;a+=o){const c=i[a]*2,d=i[a+1]*2,p=i[a+2]*2;if(n[0]=r[c],n[1]=r[c+1],n[2]=r[d],n[3]=r[d+1],n[4]=r[p],n[5]=r[p+1],CE.contains(Gg.x,Gg.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};x4.BATCHABLE_SIZE=100;let nc=x4;class a0 extends Ls{constructor(e,r,n){super();const i=new Ft(e),s=new Ft(r,!0),o=new Ft(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Fe.FLOAT).addAttribute("aTextureCoord",s,2,!1,Fe.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var lD=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,uD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class ic extends yi{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:wt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Oi.from(uD,lD),n),this._colorDirty=!1,this.uvMatrix=new gy(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new mt(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;mt.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var cD=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,hD=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const PE=[],kE=[],FE=[],_4=class b4 extends Vr{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:a,fontSize:c}=Object.assign({},b4.styleDefaults,r);if(!hs.available[a])throw new Error(`Missing BitmapFont "${a}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new mt(i),this._font=void 0,this._fontName=a,this._fontSize=c,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new Ln(()=>{this.dirty=!0},this,0,0),this._roundPixels=ye.ROUND_PIXELS,this.dirty=!0,this._resolution=ye.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){const e=hs.available[this._fontName],r=this.fontSize,n=r/e.size,i=new Re,s=[],o=[],a=[],c=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",d=v4(c),p=this._maxWidth*e.size/r,h=e.distanceFieldType==="none"?PE:kE;let f=null,m=0,v=0,y=0,w=-1,x=0,_=0,b=0,T=0;for(let B=0;B<d.length;B++){const O=d[B],D=Rd(O);if(/(?:\s)/.test(O)&&(w=B,x=m,T++),O==="\r"||O===`
`){o.push(m),a.push(-1),v=Math.max(v,m),++y,++_,i.x=0,i.y+=e.lineHeight,f=null,T=0;continue}const U=e.chars[D];if(!U)continue;f&&U.kerning[f]&&(i.x+=U.kerning[f]);const X=FE.pop()||{texture:ae.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Re};X.texture=U.texture,X.line=y,X.charCode=D,X.position.x=Math.round(i.x+U.xOffset+this._letterSpacing/2),X.position.y=Math.round(i.y+U.yOffset),X.prevSpaces=T,s.push(X),m=X.position.x+Math.max(U.xAdvance-U.xOffset,U.texture.orig.width),i.x+=U.xAdvance+this._letterSpacing,b=Math.max(b,U.yOffset+U.texture.height),f=D,w!==-1&&p>0&&i.x>p&&(++_,Fu(s,1+w-_,1+B-w),B=w,w=-1,o.push(x),a.push(s.length>0?s[s.length-1].prevSpaces:0),v=Math.max(v,x),y++,i.x=0,i.y+=e.lineHeight,f=null,T=0)}const C=d[d.length-1];C!=="\r"&&C!==`
`&&(/(?:\s)/.test(C)&&(m=x),o.push(m),v=Math.max(v,m),a.push(-1));const P=[];for(let B=0;B<=y;B++){let O=0;this._align==="right"?O=v-o[B]:this._align==="center"?O=(v-o[B])/2:this._align==="justify"&&(O=a[B]<0?0:(v-o[B])/a[B]),P.push(O)}const I=s.length,F={},M=[],k=this._activePagesMeshData;h.push(...k);for(let B=0;B<I;B++){const O=s[B].texture,D=O.baseTexture.uid;if(!F[D]){let U=h.pop();if(!U){const Z=new a0;let W,N;e.distanceFieldType==="none"?(W=new ic(ae.EMPTY),N=Se.NORMAL):(W=new ic(ae.EMPTY,{program:Oi.from(hD,cD),uniforms:{uFWidth:0}}),N=Se.NORMAL_NPM);const V=new nc(Z,W);V.blendMode=N,U={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:V,vertices:null,uvs:null,indices:null}}U.index=0,U.indexCount=0,U.vertexCount=0,U.uvsCount=0,U.total=0;const{_textureCache:X}=this;X[D]=X[D]||new ae(O.baseTexture),U.mesh.texture=X[D],U.mesh.tint=this._tintColor.value,M.push(U),F[D]=U}F[D].total++}for(let B=0;B<k.length;B++)M.includes(k[B])||this.removeChild(k[B].mesh);for(let B=0;B<M.length;B++)M[B].mesh.parent!==this&&this.addChild(M[B].mesh);this._activePagesMeshData=M;for(const B in F){const O=F[B],D=O.total;if(!(O.indices?.length>6*D)||O.vertices.length<nc.BATCHABLE_SIZE*2)O.vertices=new Float32Array(4*2*D),O.uvs=new Float32Array(4*2*D),O.indices=new Uint16Array(6*D);else{const U=O.total,X=O.vertices;for(let Z=U*4*2;Z<X.length;Z++)X[Z]=0}O.mesh.size=6*D}for(let B=0;B<I;B++){const O=s[B];let D=O.position.x+P[O.line]*(this._align==="justify"?O.prevSpaces:1);this._roundPixels&&(D=Math.round(D));const U=D*n,X=O.position.y*n,Z=O.texture,W=F[Z.baseTexture.uid],N=Z.frame,V=Z._uvs,L=W.index++;W.indices[L*6+0]=0+L*4,W.indices[L*6+1]=1+L*4,W.indices[L*6+2]=2+L*4,W.indices[L*6+3]=0+L*4,W.indices[L*6+4]=2+L*4,W.indices[L*6+5]=3+L*4,W.vertices[L*8+0]=U,W.vertices[L*8+1]=X,W.vertices[L*8+2]=U+N.width*n,W.vertices[L*8+3]=X,W.vertices[L*8+4]=U+N.width*n,W.vertices[L*8+5]=X+N.height*n,W.vertices[L*8+6]=U,W.vertices[L*8+7]=X+N.height*n,W.uvs[L*8+0]=V.x0,W.uvs[L*8+1]=V.y0,W.uvs[L*8+2]=V.x1,W.uvs[L*8+3]=V.y1,W.uvs[L*8+4]=V.x2,W.uvs[L*8+5]=V.y2,W.uvs[L*8+6]=V.x3,W.uvs[L*8+7]=V.y3}this._textWidth=v*n,this._textHeight=(i.y+e.lineHeight)*n;for(const B in F){const O=F[B];if(this.anchor.x!==0||this.anchor.y!==0){let Z=0;const W=this._textWidth*this.anchor.x,N=this._textHeight*this.anchor.y;for(let V=0;V<O.total;V++)O.vertices[Z++]-=W,O.vertices[Z++]-=N,O.vertices[Z++]-=W,O.vertices[Z++]-=N,O.vertices[Z++]-=W,O.vertices[Z++]-=N,O.vertices[Z++]-=W,O.vertices[Z++]-=N}this._maxLineHeight=b*n;const D=O.mesh.geometry.getBuffer("aVertexPosition"),U=O.mesh.geometry.getBuffer("aTextureCoord"),X=O.mesh.geometry.getIndex();D.data=O.vertices,U.data=O.uvs,X.data=O.indices,D.update(),U.update(),X.update()}for(let B=0;B<s.length;B++)FE.push(s[B]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=hs.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:a,d:c}=this.worldTransform,d=Math.sqrt(s*s+o*o),p=Math.sqrt(a*a+c*c),h=(Math.abs(d)+Math.abs(p))/2,f=this.fontSize/i,m=e._view.resolution;for(const v of this._activePagesMeshData)v.mesh.shader.uniforms.uFWidth=h*r*f*m}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=hs.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!hs.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??hs.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=hs.available[this._fontName].distanceFieldType==="none"?PE:kE;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ae.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};_4.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let dD=_4;const IE={loader:ve.LoadParser,resolver:ve.ResolveParser,cache:ve.CacheParser,detection:ve.DetectionParser};Ae.handle(ve.Asset,t=>{const e=t.ref;Object.entries(IE).filter(([r])=>!!e[r]).forEach(([r,n])=>Ae.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(IE).filter(r=>!!e[r]).forEach(r=>Ae.remove(e[r]))});class fD{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function yl(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function _l(t,e){const r=t.split("?")[0],n=mn.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Rn=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),pD=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function w4(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?w4(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function mD(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),w4(t,i,0,r,n)}else n.push(t);return n}const wf=t=>!Array.isArray(t);class gD{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Rn(e);let i;for(let a=0;a<this.parsers.length;a++){const c=this.parsers[a];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof ae){const a=r;n.forEach(c=>{a.baseTexture!==ae.EMPTY.baseTexture&&$e.addToCache(a.baseTexture,c),ae.addToCache(a,c)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const wo=new gD;class vD{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let o=0;o<this.parsers.length;o++){const a=this.parsers[o];if(a.load&&a.test?.(e,r,this)){s=a;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let o=0;o<this.parsers.length;o++){const a=this.parsers[o];a.parse&&a.parse&&await a.testParse?.(i,r,this)&&(i=await a.parse(i,r,this)||i,n.parser=a)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=wf(e),o=Rn(e,d=>({alias:[d],src:d})),a=o.length,c=o.map(async d=>{const p=mn.toAbsolute(d.src);if(!i[d.src])try{this.promiseCache[p]||(this.promiseCache[p]=this._getLoadPromiseAndParser(p,d)),i[d.src]=await this.promiseCache[p].promise,r&&r(++n/a)}catch(h){throw delete this.promiseCache[p],delete i[d.src],new Error(`[Loader.load] Failed to load ${p}.
${h}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const r=Rn(e,n=>({alias:[n],src:n})).map(async n=>{const i=mn.toAbsolute(n.src),s=this.promiseCache[i];if(s){const o=await s.promise;delete this.promiseCache[i],s.parser?.unload?.(o,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Xs=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Xs||{});const xD=".json",yD="application/json",_D={extension:{type:ve.LoadParser,priority:Xs.Low},name:"loadJson",test(t){return yl(t,yD)||_l(t,xD)},async load(t){return await(await ye.ADAPTER.fetch(t)).json()}};Ae.add(_D);const bD=".txt",wD="text/plain",ED={name:"loadTxt",extension:{type:ve.LoadParser,priority:Xs.Low},test(t){return yl(t,wD)||_l(t,bD)},async load(t){return await(await ye.ADAPTER.fetch(t)).text()}};Ae.add(ED);const SD=["normal","bold","100","200","300","400","500","600","700","800","900"],TD=[".ttf",".otf",".woff",".woff2"],AD=["font/ttf","font/otf","font/woff","font/woff2"],CD=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function PD(t){const e=mn.extname(t),r=mn.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(CD)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const kD=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function FD(t){return kD.test(t)?t:encodeURI(t)}const ID={extension:{type:ve.LoadParser,priority:Xs.Low},name:"loadWebFont",test(t){return yl(t,AD)||_l(t,TD)},async load(t,e){const r=ye.ADAPTER.getFontFaceSet();if(r){const n=[],i=e.data?.family??PD(t),s=e.data?.weights?.filter(a=>SD.includes(a))??["normal"],o=e.data??{};for(let a=0;a<s.length;a++){const c=s[a],d=new FontFace(i,`url(${FD(t)})`,{...o,weight:c});await d.load(),r.add(d),n.push(d)}return n.length===1?n[0]:n}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ye.ADAPTER.getFontFaceSet().delete(e))}};Ae.add(ID);const BD=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let Va=null;class zx{constructor(){Va||(Va=URL.createObjectURL(new Blob([BD],{type:"application/javascript"}))),this.worker=new Worker(Va)}}zx.revokeObjectURL=function(){Va&&(URL.revokeObjectURL(Va),Va=null)};const RD=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let Xa=null;class E4{constructor(){Xa||(Xa=URL.createObjectURL(new Blob([RD],{type:"application/javascript"}))),this.worker=new Worker(Xa)}}E4.revokeObjectURL=function(){Xa&&(URL.revokeObjectURL(Xa),Xa=null)};let BE=0,Wg;class DD{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new zx;r.addEventListener("message",n=>{r.terminate(),zx.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Wg===void 0&&(Wg=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Wg&&(this._createdWorkers++,e=new E4().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[BE]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:BE++,id:n})}}const RE=new DD;function xy(t,e,r){t.resource.internal=!0;const n=new ae(t),i=()=>{delete e.promiseCache[r],wo.has(r)&&wo.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const MD=[".jpeg",".jpg",".png",".webp",".avif"],OD=["image/jpeg","image/png","image/webp","image/avif"];async function ND(t){const e=await ye.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const l0={name:"loadTextures",extension:{type:ve.LoadParser,priority:Xs.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return yl(t,OD)||_l(t,MD)},async load(t,e,r){const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await RE.isImageBitmapSupported()?i=await RE.loadImageBitmap(t):i=await ND(t):i=await new Promise((a,c)=>{const d=new Image;d.crossOrigin=this.config.crossOrigin,d.src=t,d.complete?a(d):(d.onload=()=>a(d),d.onerror=p=>c(p))});const s={...e.data};s.resolution??(s.resolution=ul(t)),n&&s.resourceOptions?.ownsImageBitmap===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new $e(i,s);return o.resource.src=t,xy(o,r,t)},unload(t){t.destroy(!0)}};Ae.add(l0);const LD=".svg",UD="image/svg+xml",zD={extension:{type:ve.LoadParser,priority:Xs.High},name:"loadSVG",test(t){return yl(t,UD)||_l(t,LD)},async testParse(t){return Rx.test(t)},async parse(t,e,r){const n=new Rx(t,e?.data?.resourceOptions);await n.load();const i=new $e(n,{resolution:ul(t),...e?.data});return i.resource.src=e.src,xy(i,r,e.src)},async load(t,e){return(await ye.ADAPTER.fetch(t)).text()},unload:l0.unload};Ae.add(zD);const $D=[".mp4",".m4v",".webm",".ogv"],jD=["video/mp4","video/webm","video/ogg"],HD={name:"loadVideo",extension:{type:ve.LoadParser,priority:Xs.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return yl(t,jD)||_l(t,$D)},async load(t,e,r){let n;const i=await(await ye.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const o={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...e?.data?.resourceOptions,autoLoad:!0},a=new f4(s,o);await a.load();const c=new $e(a,{alphaMode:await xB(),resolution:ul(t),...e?.data});c.resource.src=t,n=xy(c,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(o){throw URL.revokeObjectURL(s),o}return n},unload(t){t.destroy(!0)}};Ae.add(HD);class GD{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return Rn(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(a=>a?.src??a?.srcs??a):o?.src||o?.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let a;if(typeof o=="string"){const c=this._createBundleAssetId(e,o);n.push(c),a=[o,c]}else{const c=o.map(d=>this._createBundleAssetId(e,d));n.push(...c),a=[...o,...c]}this.add({...i,alias:a,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],a=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(a)?a:[a]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Me("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let a;a=c=>{this.hasKey(c)&&console.warn(`[Resolver] already has key: ${c} overwriting`)},Rn(o).forEach(c=>{const{src:d,srcs:p}=c;let{data:h,format:f,loadParser:m}=c;const v=Rn(d||p).map(x=>typeof x=="string"?mD(x):Array.isArray(x)?x:[x]),y=this.getAlias(c);Array.isArray(y)?y.forEach(a):a(y);const w=[];v.forEach(x=>{x.forEach(_=>{let b={};if(typeof _!="object"){b.src=_;for(let T=0;T<this._parsers.length;T++){const C=this._parsers[T];if(C.test(_)){b=C.parse(_);break}}}else h=_.data??h,f=_.format??f,m=_.loadParser??m,b={...b,..._};if(!y)throw new Error(`[Resolver] alias is undefined for this asset: ${b.src}`);b=this.buildResolvedAsset(b,{aliases:y,data:h,format:f,loadParser:m}),w.push(b)})}),y.forEach(x=>{this._assetMap[x]=w})})}resolveBundle(e){const r=wf(e);e=Rn(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const c in o){const d=o[c];a[this._extractAssetIdFromBundle(i,c)]=d}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=wf(e);e=Rn(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],a=this._getPreferredOrder(s);a?.priority.forEach(c=>{a.params[c].forEach(d=>{const p=s.filter(h=>h[c]?h[c]===d:!1);p.length&&(s=p)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=mn.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??mn.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class WD{constructor(){this._detections=[],this._initialized=!1,this.resolver=new GD,this.loader=new vD,this.cache=wo,this._backgroundLoader=new fD(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let s=e.manifest;typeof s=="string"&&(s=await this.load(s)),this.resolver.addManifest(s)}const r=e.texturePreference?.resolution??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=wf(e),i=Rn(e).map(a=>{if(typeof a!="string"){const c=this.resolver.getAlias(a);return c.some(d=>!this.resolver.hasKey(d))&&this.add(a),Array.isArray(c)?c[0]:c}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,c=0;const d=()=>{r?.(++a/c)},p=o.map(h=>{const f=i[h];return c+=Object.keys(f).length,this._mapLoadToResolve(f,d).then(m=>{s[h]=m})});return await Promise.all(p),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return wo.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=wo.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,c)=>{const d=s[a.src],p=[a.src];a.alias&&p.push(...a.alias),o[i[c]]=d,wo.set(p,d)}),o}async unload(e){this._initialized||await this.init();const r=Rn(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Rn(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{wo.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return l0.config.preferWorkers}set preferWorkers(e){Me("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const rd=new WD;Ae.handleByList(ve.LoadParser,rd.loader.parsers).handleByList(ve.ResolveParser,rd.resolver.parsers).handleByList(ve.CacheParser,rd.cache.parsers).handleByList(ve.DetectionParser,rd.detections);const VD={extension:ve.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ae),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};Ae.add(VD);async function S4(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const XD={extension:{type:ve.DetectionParser,priority:1},test:async()=>S4("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};Ae.add(XD);const qD={extension:{type:ve.DetectionParser,priority:0},test:async()=>S4("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};Ae.add(qD);const DE=["png","jpg","jpeg"],YD={extension:{type:ve.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...DE],remove:async t=>t.filter(e=>!DE.includes(e))};Ae.add(YD);const QD="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function yy(t){return QD?!1:document.createElement("video").canPlayType(t)!==""}const KD={extension:{type:ve.DetectionParser,priority:0},test:async()=>yy("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};Ae.add(KD);const ZD={extension:{type:ve.DetectionParser,priority:0},test:async()=>yy("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};Ae.add(ZD);const JD={extension:{type:ve.DetectionParser,priority:0},test:async()=>yy("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};Ae.add(JD);const e6={extension:ve.ResolveParser,test:l0.test,parse:t=>({resolution:parseFloat(ye.RETINA_PREFIX.exec(t)?.[1]??"1"),format:mn.extname(t).slice(1),src:t})};Ae.add(e6);const t6=[".xml",".fnt"],r6={extension:{type:ve.LoadParser,priority:Xs.Normal},name:"loadBitmapFont",test(t){return t6.includes(mn.extname(t).toLowerCase())},async testParse(t){return Bd.test(t)||Ux.test(t)},async parse(t,e,r){const n=Bd.test(t)?Bd.parse(t):Ux.parse(t),{src:i}=e,{page:s}=n,o=[];for(let d=0;d<s.length;++d){const p=s[d].file;let h=mn.join(mn.dirname(i),p);h=pD(h,i),o.push(h)}const a=await r.load(o),c=o.map(d=>a[d]);return hs.install(n,c,!0)},async load(t,e){return(await ye.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};Ae.add(r6);const Ef={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===rr.CIRC){const v=t.shape;r=v.x,n=v.y,o=a=v.radius,i=s=0}else if(t.type===rr.ELIP){const v=t.shape;r=v.x,n=v.y,o=v.width,a=v.height,i=s=0}else{const v=t.shape,y=v.width/2,w=v.height/2;r=v.x+y,n=v.y+w,o=a=Math.max(0,Math.min(v.radius,Math.min(y,w))),i=y-o,s=w-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+a)),d=c*8+(i?4:0)+(s?4:0);if(e.length=d,d===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let p=0,h=c*4+(i?2:0)+2,f=h,m=d;{const v=i+o,y=s,w=r+v,x=r-v,_=n+y;if(e[p++]=w,e[p++]=_,e[--h]=_,e[--h]=x,s){const b=n-y;e[f++]=x,e[f++]=b,e[--m]=b,e[--m]=w}}for(let v=1;v<c;v++){const y=Math.PI/2*(v/c),w=i+Math.cos(y)*o,x=s+Math.sin(y)*a,_=r+w,b=r-w,T=n+x,C=n-x;e[p++]=_,e[p++]=T,e[--h]=T,e[--h]=b,e[f++]=b,e[f++]=C,e[--m]=C,e[--m]=_}{const v=i,y=s+a,w=r+v,x=r-v,_=n+y,b=n-y;e[p++]=w,e[p++]=_,e[--m]=b,e[--m]=w,i&&(e[p++]=x,e[p++]=_,e[--m]=b,e[--m]=x)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,c;if(t.type!==rr.RREC){const p=t.shape;a=p.x,c=p.y}else{const p=t.shape;a=p.x+p.width/2,c=p.y+p.height/2}const d=t.matrix;n.push(t.matrix?d.a*a+d.c*c+d.tx:a,t.matrix?d.b*a+d.d*c+d.ty:c),s++,n.push(r[0],r[1]);for(let p=2;p<r.length;p+=2)n.push(r[p],r[p+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function ME(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],c=t[i+1];n+=(a-s)*(c+o),s=a,o=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,c=s,d=s+1;[t[o],t[c]]=[t[c],t[o]],[t[a],t[d]]=[t[d],t[a]]}}}const T4={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){ME(r,!1);const o=[];for(let d=0;d<n.length;d++){const p=n[d];ME(p.points,!0),o.push(r.length/2),r=r.concat(p.points)}const a=oy.exports(r,o,2);if(!a)return;const c=i.length/2;for(let d=0;d<a.length;d+=3)s.push(a[d]+c),s.push(a[d+1]+c),s.push(a[d+2]+c);for(let d=0;d<r.length;d++)i.push(r[d])}}},n6={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},i6={build(t){Ef.build(t)},triangulate(t,e){Ef.triangulate(t,e)}};var an=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(an||{}),Es=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Es||{});const hl={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class OE{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],c=o[o.length-1]-r,d=a-e,p=i-r,h=n-e,f=Math.abs(c*h-d*p);if(f<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const m=c*c+d*d,v=p*p+h*h,y=c*p+d*h,w=s*Math.sqrt(m)/f,x=s*Math.sqrt(v)/f,_=w*y/m,b=x*y/v,T=w*h+x*d,C=w*p+x*c,P=d*(x+_),I=c*(x+_),F=h*(w+b),M=p*(w+b),k=Math.atan2(I-C,P-T),B=Math.atan2(M-C,F-T);return{cx:T+e,cy:C+r,radius:s,startAngle:k,endAngle:B,anticlockwise:d*p>h*c}}static arc(e,r,n,i,s,o,a,c,d){const p=a-o,h=hl._segmentsCount(Math.abs(p)*s,Math.ceil(Math.abs(p)/pf)*40),f=p/(h*2),m=f*2,v=Math.cos(f),y=Math.sin(f),w=h-1,x=w%1/w;for(let _=0;_<=w;++_){const b=_+x*_,T=f+o+m*b,C=Math.cos(T),P=-Math.sin(T);d.push((v*C+y*P)*s+n,(v*-P+y*C)*s+i)}}}class s6{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class _y{static curveLength(e,r,n,i,s,o,a,c){let d=0,p=0,h=0,f=0,m=0,v=0,y=0,w=0,x=0,_=0,b=0,T=e,C=r;for(let P=1;P<=10;++P)p=P/10,h=p*p,f=h*p,m=1-p,v=m*m,y=v*m,w=y*e+3*v*p*n+3*m*h*s+f*a,x=y*r+3*v*p*i+3*m*h*o+f*c,_=T-w,b=C-x,T=w,C=x,d+=Math.sqrt(_*_+b*b);return d}static curveTo(e,r,n,i,s,o,a){const c=a[a.length-2],d=a[a.length-1];a.length-=2;const p=hl._segmentsCount(_y.curveLength(c,d,e,r,n,i,s,o));let h=0,f=0,m=0,v=0,y=0;a.push(c,d);for(let w=1,x=0;w<=p;++w)x=w/p,h=1-x,f=h*h,m=f*h,v=x*x,y=v*x,a.push(m*c+3*f*x*e+3*h*v*n+y*s,m*d+3*f*x*r+3*h*v*i+y*o)}}function NE(t,e,r,n,i,s,o,a){const c=t-r*i,d=e-n*i,p=t+r*s,h=e+n*s;let f,m;o?(f=n,m=-r):(f=-n,m=r);const v=c+f,y=d+m,w=p+f,x=h+m;return a.push(v,y,w,x),2}function ao(t,e,r,n,i,s,o,a){const c=r-t,d=n-e;let p=Math.atan2(c,d),h=Math.atan2(i-t,s-e);a&&p<h?p+=Math.PI*2:!a&&p>h&&(h+=Math.PI*2);let f=p;const m=h-p,v=Math.abs(m),y=Math.sqrt(c*c+d*d),w=(15*v*Math.sqrt(y)/Math.PI>>0)+1,x=m/w;if(f+=x,a){o.push(t,e,r,n);for(let _=1,b=f;_<w;_++,b+=x)o.push(t,e,t+Math.sin(b)*y,e+Math.cos(b)*y);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let _=1,b=f;_<w;_++,b+=x)o.push(t+Math.sin(b)*y,e+Math.cos(b)*y,t,e);o.push(i,s,t,e)}return w*2}function o6(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Re(n[0],n[1]),a=new Re(n[n.length-2],n[n.length-1]),c=r.type!==rr.POLY||r.closeStroke,d=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(c){n=n.slice(),d&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const W=(o.x+a.x)*.5,N=(a.y+o.y)*.5;n.unshift(W,N),n.push(W,N)}const p=e.points,h=n.length/2;let f=n.length;const m=p.length/2,v=s.width/2,y=v*v,w=s.miterLimit*s.miterLimit;let x=n[0],_=n[1],b=n[2],T=n[3],C=0,P=0,I=-(_-T),F=x-b,M=0,k=0,B=Math.sqrt(I*I+F*F);I/=B,F/=B,I*=v,F*=v;const O=s.alignment,D=(1-O)*2,U=O*2;c||(s.cap===Es.ROUND?f+=ao(x-I*(D-U)*.5,_-F*(D-U)*.5,x-I*D,_-F*D,x+I*U,_+F*U,p,!0)+2:s.cap===Es.SQUARE&&(f+=NE(x,_,I,F,D,U,!0,p))),p.push(x-I*D,_-F*D,x+I*U,_+F*U);for(let W=1;W<h-1;++W){x=n[(W-1)*2],_=n[(W-1)*2+1],b=n[W*2],T=n[W*2+1],C=n[(W+1)*2],P=n[(W+1)*2+1],I=-(_-T),F=x-b,B=Math.sqrt(I*I+F*F),I/=B,F/=B,I*=v,F*=v,M=-(T-P),k=b-C,B=Math.sqrt(M*M+k*k),M/=B,k/=B,M*=v,k*=v;const N=b-x,V=_-T,L=b-C,z=P-T,j=N*L+V*z,K=V*L-z*N,Y=K<0;if(Math.abs(K)<.001*Math.abs(j)){p.push(b-I*D,T-F*D,b+I*U,T+F*U),j>=0&&(s.join===an.ROUND?f+=ao(b,T,b-I*D,T-F*D,b-M*D,T-k*D,p,!1)+4:f+=2,p.push(b-M*U,T-k*U,b+M*D,T+k*D));continue}const Ee=(-I+x)*(-F+T)-(-I+b)*(-F+_),pe=(-M+C)*(-k+T)-(-M+b)*(-k+P),Pe=(N*pe-L*Ee)/K,we=(z*Ee-V*pe)/K,gt=(Pe-b)*(Pe-b)+(we-T)*(we-T),Qe=b+(Pe-b)*D,Be=T+(we-T)*D,Xe=b-(Pe-b)*U,Ie=T-(we-T)*U,tt=Math.min(N*N+V*V,L*L+z*z),Zt=Y?D:U,Dr=tt+Zt*Zt*y,qi=gt<=Dr;let Kr=s.join;if(Kr===an.MITER&&gt/y>w&&(Kr=an.BEVEL),qi)switch(Kr){case an.MITER:{p.push(Qe,Be,Xe,Ie);break}case an.BEVEL:{Y?p.push(Qe,Be,b+I*U,T+F*U,Qe,Be,b+M*U,T+k*U):p.push(b-I*D,T-F*D,Xe,Ie,b-M*D,T-k*D,Xe,Ie),f+=2;break}case an.ROUND:{Y?(p.push(Qe,Be,b+I*U,T+F*U),f+=ao(b,T,b+I*U,T+F*U,b+M*U,T+k*U,p,!0)+4,p.push(Qe,Be,b+M*U,T+k*U)):(p.push(b-I*D,T-F*D,Xe,Ie),f+=ao(b,T,b-I*D,T-F*D,b-M*D,T-k*D,p,!1)+4,p.push(b-M*D,T-k*D,Xe,Ie));break}}else{switch(p.push(b-I*D,T-F*D,b+I*U,T+F*U),Kr){case an.MITER:{Y?p.push(Xe,Ie,Xe,Ie):p.push(Qe,Be,Qe,Be),f+=2;break}case an.ROUND:{Y?f+=ao(b,T,b+I*U,T+F*U,b+M*U,T+k*U,p,!0)+2:f+=ao(b,T,b-I*D,T-F*D,b-M*D,T-k*D,p,!1)+2;break}}p.push(b-M*D,T-k*D,b+M*U,T+k*U),f+=2}}x=n[(h-2)*2],_=n[(h-2)*2+1],b=n[(h-1)*2],T=n[(h-1)*2+1],I=-(_-T),F=x-b,B=Math.sqrt(I*I+F*F),I/=B,F/=B,I*=v,F*=v,p.push(b-I*D,T-F*D,b+I*U,T+F*U),c||(s.cap===Es.ROUND?f+=ao(b-I*(D-U)*.5,T-F*(D-U)*.5,b-I*D,T-F*D,b+I*U,T+F*U,p,!1)+2:s.cap===Es.SQUARE&&(f+=NE(b,T,I,F,D,U,!1,p)));const X=e.indices,Z=hl.epsilon*hl.epsilon;for(let W=m;W<f+m-2;++W)x=p[W*2],_=p[W*2+1],b=p[(W+1)*2],T=p[(W+1)*2+1],C=p[(W+2)*2],P=p[(W+2)*2+1],!(Math.abs(x*(T-P)+b*(P-_)+C*(_-T))<Z)&&X.push(W,W+1,W+2)}function a6(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==rr.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,c=i.length/2,d=o.length/2;let p=d;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),a.push(p,p+1),p++;s&&a.push(p,d)}function LE(t,e){t.lineStyle.native?a6(t,e):o6(t,e)}class by{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,c=r-2*i+o,d=2*n-2*e,p=2*i-2*r,h=4*(a*a+c*c),f=4*(a*d+c*p),m=d*d+p*p,v=2*Math.sqrt(h+f+m),y=Math.sqrt(h),w=2*h*y,x=2*Math.sqrt(m),_=f/y;return(w*v+y*f*(v-x)+(4*m*h-f*f)*Math.log((2*y+_+v)/(_+x)))/(4*w)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],c=hl._segmentsCount(by.curveLength(o,a,e,r,n,i));let d=0,p=0;for(let h=1;h<=c;++h){const f=h/c;d=o+(e-o)*f,p=a+(r-a)*f,s.push(d+(e+(n-e)*f-d)*f,p+(r+(i-r)*f-p)*f)}}}const Vg={[rr.POLY]:T4,[rr.CIRC]:Ef,[rr.ELIP]:Ef,[rr.RECT]:n6,[rr.RREC]:i6},UE=[],nd=[];class Sf{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Sf(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const da=new Re,A4=class C4 extends BC{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new yf,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),nd.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),UE.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new Sf(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new Sf(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,da):da.copyFrom(e),i.shape.contains(da.x,da.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(da.x,da.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let c=this.shapeIndex;c<r.length;c++){this.shapeIndex++;const d=r[c],p=d.fillStyle,h=d.lineStyle;Vg[d.type].build(d),d.matrix&&this.transformPoints(d.points,d.matrix),(p.visible||h.visible)&&this.processHoles(d.holes);for(let f=0;f<2;f++){const m=f===0?p:h;if(!m.visible)continue;const v=m.texture.baseTexture,y=this.indices.length,w=this.points.length/2;v.wrapMode=Li.REPEAT,f===0?this.processFill(d):this.processLine(d);const x=this.points.length/2-w;x!==0&&(n&&!this._compareStyles(i,m)&&(n.end(y,w),n=null),n||(n=UE.pop()||new s6,n.begin(m,y,w),this.batches.push(n),i=m),this.addUvs(this.points,e,m.texture,w,x,m.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const a=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&a===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=a?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<C4.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++$e._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),nd.push(this.drawCalls[h]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=nd.pop();i||(i=new Ex,i.texArray=new Cx),i.texArray.count=0,i.start=0,i.size=0,i.type=Nn.TRIANGLES;let s=0,o=null,a=0,c=!1,d=Nn.TRIANGLES,p=0;this.drawCalls.push(i);for(let h=0;h<this.batches.length;h++){const f=this.batches[h],m=8,v=f.style,y=v.texture.baseTexture;c!==!!v.native&&(c=!!v.native,d=c?Nn.LINES:Nn.TRIANGLES,o=null,s=m,e++),o!==y&&(o=y,y._batchEnabled!==e&&(s===m&&(e++,s=0,i.size>0&&(i=nd.pop(),i||(i=new Ex,i.texArray=new Cx),this.drawCalls.push(i)),i.start=p,i.size=0,i.texArray.count=0,i.type=d),y.touched=1,y._batchEnabled=e,y._batchLocation=s,y.wrapMode=Li.REPEAT,i.texArray.elements[i.texArray.count++]=y,s++)),i.size+=f.size,p+=f.size,a=y._batchLocation,this.addColors(r,v.color,v.alpha,f.attribSize,f.attribStart),this.addTextureIds(n,a,f.attribSize,f.attribStart)}$e._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),a=new Uint32Array(s);let c=0;for(let d=0;d<e.length/2;d++)o[c++]=e[d*2],o[c++]=e[d*2+1],o[c++]=r[d*2],o[c++]=r[d*2+1],a[c++]=n[d],o[c++]=i[d];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?T4.triangulate(e,this):Vg[e.type].triangulate(e,this)}processLine(e){LE(e,this);for(let r=0;r<e.holes.length;r++)LE(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];Vg[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=mt.shared.setValue(r).toLittleEndianNumber(),a=mt.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let c=0;c<i;c++)e[s+c]=a}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let a=0;const c=r.length,d=n.frame;for(;a<s;){let h=e[(i+a)*2],f=e[(i+a)*2+1];if(o){const m=o.a*h+o.c*f+o.tx;f=o.b*h+o.d*f+o.ty,h=m}a++,r.push(h/d.width,f/d.height)}const p=n.baseTexture;(d.width<p.width||d.height<p.height)&&this.adjustUvs(r,n,c,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,a=n+i*2,c=r.frame,d=c.width/s.width,p=c.height/s.height;let h=c.x/c.width,f=c.y/c.height,m=Math.floor(e[n]+o),v=Math.floor(e[n+1]+o);for(let y=n+2;y<a;y+=2)m=Math.min(m,Math.floor(e[y]+o)),v=Math.min(v,Math.floor(e[y+1]+o));h-=m,f-=v;for(let y=n;y<a;y+=2)e[y]=(e[y]+h)*d,e[y+1]=(e[y+1]+f)*p}};A4.BATCHABLE_SIZE=100;let l6=A4;class u0{constructor(){this.color=16777215,this.alpha=1,this.texture=ae.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new u0;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ae.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class wy extends u0{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Es.BUTT,this.join=an.MITER,this.miterLimit=10}clone(){const e=new wy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Es.BUTT,this.join=an.MITER,this.miterLimit=10}}const Xg={},$x=class Dd extends Vr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new u0,this._lineStyle=new wy,this._matrix=null,this._holeMode=!1,this.state=Ei.for2d(),this._geometry=e||new l6,this._geometry.refCount++,this._transformID=-1,this._tintColor=new mt(16777215),this.blendMode=Se.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Dd(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:ae.WHITE,color:e?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Es.BUTT,join:an.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Io,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Io,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),by.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),_y.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,a=OE.curveTo(e,r,n,i,s,o);if(a){const{cx:c,cy:d,radius:p,startAngle:h,endAngle:f,anticlockwise:m}=a;this.arc(c,d,p,h,f,m)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=pf:o&&i<=s&&(i+=pf),s-i===0)return this;const a=e+Math.cos(i)*n,c=r+Math.sin(i)*n,d=this._geometry.closePointEps;let p=this.currentPath?this.currentPath.points:null;if(p){const h=Math.abs(p[p.length-2]-a),f=Math.abs(p[p.length-1]-c);h<d&&f<d||p.push(a,c)}else this.moveTo(a,c),p=this.currentPath.points;return OE.arc(a,c,e,r,n,i,s,o,p),this}beginFill(e=0,r){return this.beginTextureFill({texture:ae.WHITE,color:e,alpha:r})}normalizeColor(e){const r=mt.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:ae.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new He(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new r0(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new e0(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new t0(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new Io(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===rr.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,a=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),c=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),d=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),p={vertexData:a,blendMode:r,indices:d,uvs:c,_batchRGB:mt.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=p}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,mt.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let a=0,c=o.length;a<c;a++)this._renderDrawCallDirect(e,n.drawCalls[a])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,a=n.count;for(let c=0;c<a;c++)e.texture.bind(n.elements[c],c);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!Xg[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let c=0;c<i;c++)s[c]=c;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new wt,default:Hn.from({uSamplers:s},!0)},a=e.plugins[n]._shader.program;Xg[n]=new yi(a,o)}r=Xg[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Dd._TEMP_POINT),this._geometry.containsPoint(Dd._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=mt.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,c=r.ty,d=this._geometry.points,p=this.vertexData;let h=0;for(let f=0;f<d.length;f+=2){const m=d[f],v=d[f+1];p[h++]=n*m+s*v+a,p[h++]=o*v+i*m+c}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};$x.curves=hl,$x._TEMP_POINT=new Re;let qg=$x;class u6 extends a0{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,c=this.height/o;for(let p=0;p<e;p++){const h=p%this.segWidth,f=p/this.segWidth|0;r.push(h*a,f*c),n.push(h/s,f/o)}const d=s*o;for(let p=0;p<d;p++){const h=p%s,f=p/s|0,m=f*this.segWidth+h,v=f*this.segWidth+h+1,y=(f+1)*this.segWidth+h,w=(f+1)*this.segWidth+h+1;i.push(m,v,y,v,w,y)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class c6 extends a0{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,c=e[0];const d=this._width*this.textureScale,p=e.length;for(let f=0;f<p;f++){const m=f*4;if(this.textureScale>0){const v=c.x-e[f].x,y=c.y-e[f].y,w=Math.sqrt(v*v+y*y);c=e[f],a+=w/d}else a=f/(p-1);s[m]=a,s[m+1]=0,s[m+2]=a,s[m+3]=1}let h=0;for(let f=0;f<p-1;f++){const m=f*2;o[h++]=m,o[h++]=m+1,o[h++]=m+2,o[h++]=m+2,o[h++]=m+1,o[h++]=m+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let d=0;d<a;d++){const p=e[d],h=d*4;d<e.length-1?n=e[d+1]:n=p,s=-(n.x-r.x),i=n.y-r.y;const f=Math.sqrt(i*i+s*s);f<1e-6?(i=0,s=0):(i/=f,s/=f,i*=c,s*=c),o[h]=p.x+i,o[h+1]=p.y+s,o[h+2]=p.x-i,o[h+3]=p.y-s,r=p}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class h6 extends nc{constructor(e,r,n){const i=new u6(e.width,e.height,r,n),s=new ic(ae.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const id=10;class d6 extends h6{constructor(e,r,n,i,s){super(ae.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??e.defaultBorders?.left??id,this._rightWidth=i??e.defaultBorders?.right??id,this._topHeight=n??e.defaultBorders?.top??id,this._bottomHeight=s??e.defaultBorders?.bottom??id,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class f6 extends nc{constructor(e=ae.EMPTY,r,n,i,s){const o=new a0(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new ic(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class p6 extends nc{constructor(e,r,n=0){const i=new c6(e.height,r,n),s=new ic(e);n>0&&(e.baseTexture.wrapMode=Li.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class m6 extends Vr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Se.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new mt(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class zE{constructor(e,r,n){this.geometry=new Ls,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Fe.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Ft(FB(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Ft(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Ft(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===Fe.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===Fe.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===Fe.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===Fe.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var g6=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,v6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class P4 extends i0{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new wt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Fe.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=yi.from(v6,g6,{}),this.state=Ei.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=PC(e.blendMode,d),s.state.set(this.state);const p=s.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=mt.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,d).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let f=!1;for(let m=0,v=0;m<o;m+=i,v+=1){let y=o-m;y>i&&(y=i),v>=a.length&&a.push(this._generateOneMoreBuffer(e));const w=a[v];w.uploadDynamic(r,m,y);const x=e._bufferUpdateIDs[v]||0;f=f||w._updateID<x,f&&(w._updateID=e._updateID,w.uploadStatic(r,m,y)),s.geometry.bind(w.geometry),p.drawElements(p.TRIANGLES,y*6,p.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new zE(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new zE(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,c=0,d=0,p=0;for(let h=0;h<n;++h){const f=e[r+h],m=f._texture,v=f.scale.x,y=f.scale.y,w=m.trim,x=m.orig;w?(c=w.x-f.anchor.x*x.width,a=c+w.width,p=w.y-f.anchor.y*x.height,d=p+w.height):(a=x.width*(1-f.anchor.x),c=x.width*-f.anchor.x,d=x.height*(1-f.anchor.y),p=x.height*-f.anchor.y),i[o]=c*v,i[o+1]=p*y,i[o+s]=a*v,i[o+s+1]=p*y,i[o+s*2]=a*v,i[o+s*2+1]=d*y,i[o+s*3]=c*v,i[o+s*3+1]=d*y,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const c=e[r+a].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const c=e[r+a],d=mt.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=d,i[o+s]=d,i[o+s*2]=d,i[o+s*3]=d,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}P4.extension={name:"particle",type:ve.RendererPlugin};Ae.add(P4);class sc extends Go{constructor(e,r=!0){super(e[0]instanceof ae?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(yr.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(yr.shared.add(this.update,this,cl.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(ae.from(e[n]));return new sc(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(ae.from(e[n]));return new sc(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ae)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(yr.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(yr.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const nu=new Re;class Ey extends Go{constructor(e,r=100,n=100){super(e),this.tileTransform=new n0,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new gy(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new He),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,nu);const r=this._width,n=this._height,i=-r*this.anchor._x;if(nu.x>=i&&nu.x<i+r){const s=-n*this.anchor._y;if(nu.y>=s&&nu.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof ae?e:ae.from(e,r);return new Ey(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var x6=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,y6=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,_6=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,$E=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,b6=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const sd=new wt;class k4 extends i0{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new jC,this.state=Ei.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=yi.from($E,b6,r),this.shader=e.context.webGLVersion>1?yi.from(y6,x6,r):yi.from($E,_6,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,c=a.baseTexture,d=c.alphaMode>0,p=e.tileTransform.localTransform,h=e.uvMatrix;let f=c.isPowerOfTwo&&a.frame.width===c.width&&a.frame.height===c.height;f&&(c._glTextures[r.CONTEXT_UID]?f=c.wrapMode!==Li.CLAMP:c.wrapMode===Li.CLAMP&&(c.wrapMode=Li.REPEAT));const m=f?this.simpleShader:this.shader,v=a.width,y=a.height,w=e._width,x=e._height;sd.set(p.a*v/w,p.b*v/x,p.c*y/w,p.d*y/x,p.tx/w,p.ty/x),sd.invert(),f?sd.prepend(h.mapCoord):(m.uniforms.uMapCoord=h.mapCoord.toArray(!0),m.uniforms.uClampFrame=h.uClampFrame,m.uniforms.uClampOffset=h.uClampOffset),m.uniforms.uTransform=sd.toArray(!0),m.uniforms.uColor=mt.shared.setValue(e.tint).premultiply(e.worldAlpha,d).toArray(m.uniforms.uColor),m.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),m.uniforms.uSampler=a,r.shader.bind(m),r.geometry.bind(n),this.state.blendMode=PC(e.blendMode,d),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}k4.extension={name:"tilingSprite",type:ve.RendererPlugin};Ae.add(k4);const F4=class jx{constructor(e){this.stage=new Vr,e=Object.assign({forceCanvas:!1},e),this.renderer=HR(e),jx._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer?.view}get screen(){return this.renderer?.screen}destroy(e,r){const n=jx._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};F4._plugins=[];let c0=F4;Ae.handleByList(ve.Application,c0._plugins);class I4{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}I4.extension=ve.Application;Ae.add(I4);var nt={exports:{}},w6="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",E6=w6,S6=E6;function B4(){}function R4(){}R4.resetWarningCache=B4;var T6=function(){function t(n,i,s,o,a,c){if(c!==S6){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:R4,resetWarningCache:B4};return r.PropTypes=r,r};nt.exports=T6();function Gr(t){return Gr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gr(t)}function D4(t){var e=function(r,n){if(Gr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Gr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Gr(e)==="symbol"?e:String(e)}function kt(t,e,r){return(e=D4(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yg(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wi(t){return function(e){if(Array.isArray(e))return Yg(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Yg(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Yg(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function At(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var A6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function C6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var P6=function(t){return t==null};function pu(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=Wi(t);else{if(t===null||Gr(t)!=="object")return e;e=[t&&t?.x||0,t&&t?.y||0]}return e.filter(function(r){return!P6(r)&&!isNaN(r)}).map(Number)}function jE(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Qg(t){return t instanceof Re||t instanceof Ln}var Tf=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Kg(t,e,r){if(Qg(t[e])&&Qg(r))t[e].copyFrom(r);else if(Qg(t[e])){var n=pu(r);At(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(r),Gr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var fa,M4=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},O4=function(t){return function(){return!t.apply(void 0,arguments)}},Hx="children",k6=(kt(fa={},Hx,!0),kt(fa,"parent",!0),kt(fa,"worldAlpha",!0),kt(fa,"worldTransform",!0),kt(fa,"worldVisible",!0),fa),Gx={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},bi=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var c,d;a==null||(c=a.__reactpixi)===null||c===void 0||(d=c.root)===null||d===void 0||d.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,c){if(r.hasOwnProperty(a))return At(c.typeofs.some(function(d){return Gr(r[a])===d})||c.instanceofs.some(function(d){return r[a]instanceof d}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return At(r.texture instanceof ae,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ae]});At(!!s,"".concat(t," could not get texture from props"));var o=ae.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},F6=O4(M4([].concat(Wi(Object.keys(k6)),Wi(Tf))));function wi(t,e,r){var n=!1;if(At(Us.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Gr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<Tf.length;o++){var a=Tf[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var d=0;d<c.length;d++){var p=c[d];e[p]!==r[p]&&(n=!0,Kg(t,p,r[p]))}return n}for(var h=c.filter(F6),f=0;f<h.length;f++){var m=h[f],v=r[m];r[m]!==e[m]&&(n=!0),v!==void 0?Kg(t,m,v):m in Gx?(console.warn("setting default value: ".concat(m,", from: ").concat(t[m]," to: ").concat(v," for"),t),n=!0,Kg(t,m,Gx[m])):console.warn("ignoring prop: ".concat(m,", from ").concat(t[m]," to ").concat(v," for"),t)}return n}var I6=function(t,e){var r=e.text,n=e.style;return new dD(r,n)},B6=function(){return new Vr};function qs(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var c,d,p={},h=Object.keys(o);for(d=0;d<h.length;d++)c=h[d],a.indexOf(c)>=0||(p[c]=o[c]);return p}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var R6=["draw","geometry"],D6=function(t,e){var r=e.geometry;At(!r||r instanceof qg,"Graphics geometry needs to be a `Graphics`");var n=r?new qg(r.geometry):new qg;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var c=wi(i,s,qs(o,R6));return s.draw!==a&&typeof a=="function"&&(c=!0,a.call(n,n)),c},n},M6=["image","texture"],O6=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,c=e.bottomHeight,d=c===void 0?10:c,p=bi("NineSlicePlane",t,e),h=new d6(p,n,s,a,d);return h.applyProps=function(f,m,v){var y=v.image,w=v.texture,x=wi(f,m,qs(v,M6));return(y||w)&&(w!==m.texture&&(x=!0),f.texture=bi("NineSlicePlane",t,v)),x},h};function HE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function od(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HE(Object(r),!0).forEach(function(n){kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var N6=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,c=od(od({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),d=od(od({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),p=new m6(n,c,s,a);return p.willUnmount=function(h,f,m){h.destroy(d)},p},L6=["image","texture"],U6=function(t,e){var r=new Go(bi("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,c=wi(n,i,qs(s,L6));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=bi("Sprite",t,s)),c},r},z6=["textures","isPlaying","initialFrame","images"],$6=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(d){return d.map(function(p){return At(p instanceof ae||p?.texture,"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),p})},c=n?sc.fromImages(n):new sc(a(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(d,p,h){var f=h.textures,m=h.isPlaying,v=h.initialFrame,y=h.images,w=wi(d,p,qs(h,z6));if(y&&p.images!==y){for(var x=[],_=0;_<y.length;++_)x.push(ae.from(y[_]));d.textures=x,w=!0}if(f&&p.textures!==f&&(d.textures=a(f),w=!0),m!==p.isPlaying||v!==p.initialFrame){var b=typeof v=="number"?v:c.currentFrame||0;c[m?"gotoAndPlay":"gotoAndStop"](b),w=!0}return w},c},j6=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new rD(n,s);return o?(a.updateText(),new Go(a.texture)):a},H6=["tileScale","tilePosition","image","texture"],G6=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=bi("TilingSprite",t,e),a=new Ey(o,n,s);return a.applyProps=function(c,d,p){var h=p.tileScale,f=p.tilePosition,m=p.image,v=p.texture,y=wi(c,d,qs(p,H6));if(f){var w,x=pu(f);(w=c.tilePosition).set.apply(w,Wi(x)),y=!jE(pu(d.tilePosition),x)||y}if(h){var _,b=pu(h);(_=c.tileScale).set.apply(_,Wi(b)),y=!jE(pu(d.tileScale),b)||y}return(m||v)&&(v!==d.texture&&(y=!0),c.texture=bi("Sprite",t,p)),y},a},W6=["image","texture"],V6=function(t,e){var r=bi("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?Nn.TRIANGLES:o,c=new f6(r,n,i,s,a);return c.applyProps=function(d,p,h){var f=h.image,m=h.texture,v=wi(d,p,qs(h,W6));return(f||m)&&(m!==p.texture&&(v=!0),d.texture=bi("Mesh",t,h)),v},c},X6=["image","texture"],q6=function(t,e){var r=bi("SimpleRope",t,e),n=e.points,i=new p6(r,n);return i.applyProps=function(s,o,a){var c=a.image,d=a.texture,p=qs(a,X6);At(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<Point>");var h=wi(s,o,p);return(c||d)&&(d!==o.texture&&(h=!0),s.texture=bi("SimpleRope",t,a)),h},i},Y6=Object.freeze({__proto__:null,BitmapText:I6,Container:B6,Graphics:D6,NineSlicePlane:O6,ParticleContainer:N6,Sprite:U6,Text:j6,TilingSprite:G6,SimpleMesh:V6,SimpleRope:q6,AnimatedSprite:$6});function GE(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function WE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GE(Object(r),!0).forEach(function(n){kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GE(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Rr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},Q6=Object.keys(Rr).reduce(function(t,e){return WE(WE({},t),{},kt({},e,Y6[e]))},{}),N4={};function K6(t,e){return At(!!t,"Expect type to be defined, got `%s`",t),At(!Rr[t],"Component `%s` could not be created, already exists in default components.",t),N4[t]=e,t}var VE,XE,qE,YE,Wx={},Vx={},Z6={get exports(){return Vx},set exports(t){Vx=t}},QE={};function J6(){return XE||(XE=1,Z6.exports=(VE||(VE=1,function(t){function e(N,V){var L=N.length;N.push(V);e:for(;0<L;){var z=L-1>>>1,j=N[z];if(!(0<i(j,V)))break e;N[z]=V,N[L]=j,L=z}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var V=N[0],L=N.pop();if(L!==V){N[0]=L;e:for(var z=0,j=N.length,K=j>>>1;z<K;){var Y=2*(z+1)-1,Ee=N[Y],pe=Y+1,Pe=N[pe];if(0>i(Ee,L))pe<j&&0>i(Pe,Ee)?(N[z]=Pe,N[pe]=L,z=pe):(N[z]=Ee,N[Y]=L,z=Y);else{if(!(pe<j&&0>i(Pe,L)))break e;N[z]=Pe,N[pe]=L,z=pe}}}return V}function i(N,V){var L=N.sortIndex-V.sortIndex;return L!==0?L:N.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],p=1,h=null,f=3,m=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function b(N){for(var V=r(d);V!==null;){if(V.callback===null)n(d);else{if(!(V.startTime<=N))break;n(d),V.sortIndex=V.expirationTime,e(c,V)}V=r(d)}}function T(N){if(y=!1,b(N),!v)if(r(c)!==null)v=!0,Z(C);else{var V=r(d);V!==null&&W(T,V.startTime-N)}}function C(N,V){v=!1,y&&(y=!1,x(M),M=-1),m=!0;var L=f;try{for(b(V),h=r(c);h!==null&&(!(h.expirationTime>V)||N&&!O());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var j=z(h.expirationTime<=V);V=t.unstable_now(),typeof j=="function"?h.callback=j:h===r(c)&&n(c),b(V)}else n(c);h=r(c)}if(h!==null)var K=!0;else{var Y=r(d);Y!==null&&W(T,Y.startTime-V),K=!1}return K}finally{h=null,f=L,m=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var P,I=!1,F=null,M=-1,k=5,B=-1;function O(){return!(t.unstable_now()-B<k)}function D(){if(F!==null){var N=t.unstable_now();B=N;var V=!0;try{V=F(!0,N)}finally{V?P():(I=!1,F=null)}}else I=!1}if(typeof _=="function")P=function(){_(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,X=U.port2;U.port1.onmessage=D,P=function(){X.postMessage(null)}}else P=function(){w(D,0)};function Z(N){F=N,I||(I=!0,P())}function W(N,V){M=w(function(){N(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,Z(C))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(N){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var L=f;f=V;try{return N()}finally{f=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var L=f;f=N;try{return V()}finally{f=L}},t.unstable_scheduleCallback=function(N,V,L){var z=t.unstable_now();switch(L=typeof L=="object"&&L!==null&&typeof(L=L.delay)=="number"&&0<L?z+L:z,N){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return N={id:p++,callback:V,priorityLevel:N,startTime:L,expirationTime:j=L+j,sortIndex:-1},L>z?(N.sortIndex=L,e(d,N),r(c)===null&&N===r(d)&&(y?(x(M),M=-1):y=!0,W(T,L-z))):(N.sortIndex=j,e(c,N),v||m||(v=!0,Z(C))),N},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(N){var V=f;return function(){var L=f;f=V;try{return N.apply(this,arguments)}finally{f=L}}}}(QE)),QE)),Vx}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function eM(){return YE||(YE=1,qE=function(t){var e={},r=mi,n=J6(),i=Object.assign;function s(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,g=1;g<arguments.length;g++)u+="&args[]="+encodeURIComponent(arguments[g]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),T=Symbol.iterator;function C(l){return l===null||typeof l!="object"?null:typeof(l=T&&l[T]||l["@@iterator"])=="function"?l:null}function P(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case d:return"Fragment";case c:return"Portal";case h:return"Profiler";case p:return"StrictMode";case y:return"Suspense";case w:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case m:return(l.displayName||"Context")+".Consumer";case f:return(l._context.displayName||"Context")+".Provider";case v:var u=l.render;return(l=l.displayName)||(l=(l=u.displayName||u.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case x:return(u=l.displayName||null)!==null?u:P(l.type)||"Memo";case _:u=l._payload,l=l._init;try{return P(l(u))}catch{}}return null}function I(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=u.render).displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P(u);case 8:return u===p?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function F(l){var u=l,g=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do(4098&(u=l).flags)!=0&&(g=u.return),l=u.return;while(l)}return u.tag===3?g:null}function M(l){if(F(l)!==l)throw Error(s(188))}function k(l){var u=l.alternate;if(!u){if((u=F(l))===null)throw Error(s(188));return u!==l?null:l}for(var g=l,E=u;;){var S=g.return;if(S===null)break;var A=S.alternate;if(A===null){if((E=S.return)!==null){g=E;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===g)return M(S),l;if(A===E)return M(S),u;A=A.sibling}throw Error(s(188))}if(g.return!==E.return)g=S,E=A;else{for(var R=!1,$=S.child;$;){if($===g){R=!0,g=S,E=A;break}if($===E){R=!0,E=S,g=A;break}$=$.sibling}if(!R){for($=A.child;$;){if($===g){R=!0,g=A,E=S;break}if($===E){R=!0,E=A,g=S;break}$=$.sibling}if(!R)throw Error(s(189))}}if(g.alternate!==E)throw Error(s(190))}if(g.tag!==3)throw Error(s(188));return g.stateNode.current===g?l:u}function B(l){return(l=k(l))!==null?O(l):null}function O(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=O(l);if(u!==null)return u;l=l.sibling}return null}function D(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var u=D(l);if(u!==null)return u}l=l.sibling}return null}var U,X=Array.isArray,Z=t.getPublicInstance,W=t.getRootHostContext,N=t.getChildHostContext,V=t.prepareForCommit,L=t.resetAfterCommit,z=t.createInstance,j=t.appendInitialChild,K=t.finalizeInitialChildren,Y=t.prepareUpdate,Ee=t.shouldSetTextContent,pe=t.createTextInstance,Pe=t.scheduleTimeout,we=t.cancelTimeout,gt=t.noTimeout,Qe=t.isPrimaryRenderer,Be=t.supportsMutation,Xe=t.supportsPersistence,Ie=t.supportsHydration,tt=t.getInstanceFromNode,Zt=t.preparePortalMount,Dr=t.getCurrentEventPriority,qi=t.detachDeletedInstance,Kr=t.supportsMicrotasks,wl=t.scheduleMicrotask,yn=t.supportsTestSelectors,Mr=t.findFiberRoot,Er=t.getBoundingRect,Wn=t.getTextContent,Vn=t.isHiddenSubtree,yc=t.matchAccessibilityRole,Yi=t.setFocusIfFocusable,Ys=t.setupIntersectionObserver,O0=t.appendChild,_c=t.appendChildToContainer,bc=t.commitTextUpdate,Qi=t.commitMount,Qs=t.commitUpdate,N0=t.insertBefore,wc=t.insertInContainerBefore,Ec=t.removeChild,L0=t.removeChildFromContainer,Sc=t.resetTextContent,Tc=t.hideInstance,U0=t.hideTextInstance,Ac=t.unhideInstance,z0=t.unhideTextInstance,Cc=t.clearContainer,$0=t.cloneInstance,Pc=t.createContainerChildSet,kc=t.appendChildToContainerChildSet,Fc=t.finalizeContainerChildren,El=t.replaceContainerChildren,Ic=t.cloneHiddenInstance,Sl=t.cloneHiddenTextInstance,j0=t.canHydrateInstance,Bc=t.canHydrateTextInstance,mr=t.canHydrateSuspenseInstance,_n=t.isSuspenseInstancePending,Vo=t.isSuspenseInstanceFallback,H0=t.getSuspenseInstanceFallbackErrorDetails,D3=t.registerSuspenseInstanceRetry,Rc=t.getNextHydratableSibling,M3=t.getFirstHydratableChild,O3=t.getFirstHydratableChildWithinContainer,N3=t.getFirstHydratableChildWithinSuspenseInstance,L3=t.hydrateInstance,U3=t.hydrateTextInstance,z3=t.hydrateSuspenseInstance,$3=t.getNextHydratableInstanceAfterSuspenseInstance,j3=t.commitHydratedContainer,H3=t.commitHydratedSuspenseInstance,G3=t.clearSuspenseBoundary,W3=t.clearSuspenseBoundaryFromContainer,V3=t.shouldDeleteUnhydratedTailInstances,X3=t.didNotMatchHydratedContainerTextInstance,q3=t.didNotMatchHydratedTextInstance;function Tl(l){if(U===void 0)try{throw Error()}catch(g){var u=g.stack.trim().match(/\n( *(at )?)/);U=u&&u[1]||""}return`
`+U+l}var G0=!1;function W0(l,u){if(!l||G0)return"";G0=!0;var g=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ee){var E=ee}Reflect.construct(l,[],u)}else{try{u.call()}catch(ee){E=ee}l.call(u.prototype)}else{try{throw Error()}catch(ee){E=ee}l()}}catch(ee){if(ee&&E&&typeof ee.stack=="string"){for(var S=ee.stack.split(`
`),A=E.stack.split(`
`),R=S.length-1,$=A.length-1;1<=R&&0<=$&&S[R]!==A[$];)$--;for(;1<=R&&0<=$;R--,$--)if(S[R]!==A[$]){if(R!==1||$!==1)do if(R--,0>--$||S[R]!==A[$]){var q=`
`+S[R].replace(" at new "," at ");return l.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",l.displayName)),q}while(1<=R&&0<=$);break}}}finally{G0=!1,Error.prepareStackTrace=g}return(l=l?l.displayName||l.name:"")?Tl(l):""}var Y3=Object.prototype.hasOwnProperty,V0=[],Xo=-1;function Ki(l){return{current:l}}function lt(l){0>Xo||(l.current=V0[Xo],V0[Xo]=null,Xo--)}function rt(l,u){Xo++,V0[Xo]=l.current,l.current=u}var Zi={},sr=Ki(Zi),Sr=Ki(!1),Ks=Zi;function qo(l,u){var g=l.type.contextTypes;if(!g)return Zi;var E=l.stateNode;if(E&&E.__reactInternalMemoizedUnmaskedChildContext===u)return E.__reactInternalMemoizedMaskedChildContext;var S,A={};for(S in g)A[S]=u[S];return E&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=A),A}function Or(l){return(l=l.childContextTypes)!=null}function X0(){lt(Sr),lt(sr)}function Uy(l,u,g){if(sr.current!==Zi)throw Error(s(168));rt(sr,u),rt(Sr,g)}function zy(l,u,g){var E=l.stateNode;if(u=u.childContextTypes,typeof E.getChildContext!="function")return g;for(var S in E=E.getChildContext())if(!(S in u))throw Error(s(108,I(l)||"Unknown",S));return i({},g,E)}function Dc(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Zi,Ks=sr.current,rt(sr,l),rt(Sr,Sr.current),!0}function $y(l,u,g){var E=l.stateNode;if(!E)throw Error(s(169));g?(l=zy(l,u,Ks),E.__reactInternalMemoizedMergedChildContext=l,lt(Sr),lt(sr),rt(sr,l)):lt(Sr),rt(Sr,g)}var bn=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(Q3(l)/K3|0)|0},Q3=Math.log,K3=Math.LN2,q0=64,Y0=4194304;function Al(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function Mc(l,u){var g=l.pendingLanes;if(g===0)return 0;var E=0,S=l.suspendedLanes,A=l.pingedLanes,R=268435455&g;if(R!==0){var $=R&~S;$!==0?E=Al($):(A&=R)!==0&&(E=Al(A))}else(R=g&~S)!==0?E=Al(R):A!==0&&(E=Al(A));if(E===0)return 0;if(u!==0&&u!==E&&(u&S)==0&&((S=E&-E)>=(A=u&-u)||S===16&&(4194240&A)!=0))return u;if((4&E)!=0&&(E|=16&g),(u=l.entangledLanes)!==0)for(l=l.entanglements,u&=E;0<u;)S=1<<(g=31-bn(u)),E|=l[g],u&=~S;return E}function Z3(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function Q0(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function jy(){var l=q0;return(4194240&(q0<<=1))==0&&(q0=64),l}function K0(l){for(var u=[],g=0;31>g;g++)u.push(l);return u}function Cl(l,u,g){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[u=31-bn(u)]=g}function Z0(l,u){var g=l.entangledLanes|=u;for(l=l.entanglements;g;){var E=31-bn(g),S=1<<E;S&u|l[E]&u&&(l[E]|=u),g&=~S}}var We=0;function Hy(l){return 1<(l&=-l)?4<l?(268435455&l)!=0?16:536870912:4:1}var J0=n.unstable_scheduleCallback,Gy=n.unstable_cancelCallback,J3=n.unstable_shouldYield,eP=n.unstable_requestPaint,jt=n.unstable_now,ep=n.unstable_ImmediatePriority,tP=n.unstable_UserBlockingPriority,Wy=n.unstable_NormalPriority,rP=n.unstable_IdlePriority,Oc=null,Xn=null,wn=typeof Object.is=="function"?Object.is:function(l,u){return l===u&&(l!==0||1/l==1/u)||l!=l&&u!=u},Si=null,Nc=!1,tp=!1;function Vy(l){Si===null?Si=[l]:Si.push(l)}function qn(){if(!tp&&Si!==null){tp=!0;var l=0,u=We;try{var g=Si;for(We=1;l<g.length;l++){var E=g[l];do E=E(!0);while(E!==null)}Si=null,Nc=!1}catch(S){throw Si!==null&&(Si=Si.slice(l+1)),J0(ep,qn),S}finally{We=u,tp=!1}}return null}var Yo=[],Qo=0,Lc=null,Uc=0,Zr=[],Jr=0,Zs=null,Yn=1,Ti="";function Js(l,u){Yo[Qo++]=Uc,Yo[Qo++]=Lc,Lc=l,Uc=u}function Xy(l,u,g){Zr[Jr++]=Yn,Zr[Jr++]=Ti,Zr[Jr++]=Zs,Zs=l;var E=Yn;l=Ti;var S=32-bn(E)-1;E&=~(1<<S),g+=1;var A=32-bn(u)+S;if(30<A){var R=S-S%5;A=(E&(1<<R)-1).toString(32),E>>=R,S-=R,Yn=1<<32-bn(u)+S|g<<S|E,Ti=A+l}else Yn=1<<A|g<<S|E,Ti=l}function rp(l){l.return!==null&&(Js(l,1),Xy(l,1,0))}function np(l){for(;l===Lc;)Lc=Yo[--Qo],Yo[Qo]=null,Uc=Yo[--Qo],Yo[Qo]=null;for(;l===Zs;)Zs=Zr[--Jr],Zr[Jr]=null,Ti=Zr[--Jr],Zr[Jr]=null,Yn=Zr[--Jr],Zr[Jr]=null}var Nr=null,en=null,ut=!1,Pl=!1,En=null;function qy(l,u){var g=on(5,null,null,0);g.elementType="DELETED",g.stateNode=u,g.return=l,(u=l.deletions)===null?(l.deletions=[g],l.flags|=16):u.push(g)}function Yy(l,u){switch(l.tag){case 5:return(u=j0(u,l.type,l.pendingProps))!==null&&(l.stateNode=u,Nr=l,en=M3(u),!0);case 6:return(u=Bc(u,l.pendingProps))!==null&&(l.stateNode=u,Nr=l,en=null,!0);case 13:if((u=mr(u))!==null){var g=Zs!==null?{id:Yn,overflow:Ti}:null;return l.memoizedState={dehydrated:u,treeContext:g,retryLane:1073741824},(g=on(18,null,null,0)).stateNode=u,g.return=l,l.child=g,Nr=l,en=null,!0}return!1;default:return!1}}function ip(l){return(1&l.mode)!=0&&(128&l.flags)==0}function sp(l){if(ut){var u=en;if(u){var g=u;if(!Yy(l,u)){if(ip(l))throw Error(s(418));u=Rc(g);var E=Nr;u&&Yy(l,u)?qy(E,g):(l.flags=-4097&l.flags|2,ut=!1,Nr=l)}}else{if(ip(l))throw Error(s(418));l.flags=-4097&l.flags|2,ut=!1,Nr=l}}}function Qy(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Nr=l}function zc(l){if(!Ie||l!==Nr)return!1;if(!ut)return Qy(l),ut=!0,!1;if(l.tag!==3&&(l.tag!==5||V3(l.type)&&!Ee(l.type,l.memoizedProps))){var u=en;if(u){if(ip(l))throw Ky(),Error(s(418));for(;u;)qy(l,u),u=Rc(u)}}if(Qy(l),l.tag===13){if(!Ie)throw Error(s(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(s(317));en=$3(l)}else en=Nr?Rc(l.stateNode):null;return!0}function Ky(){for(var l=en;l;)l=Rc(l)}function Ko(){Ie&&(en=Nr=null,Pl=ut=!1)}function op(l){En===null?En=[l]:En.push(l)}var nP=o.ReactCurrentBatchConfig;function $c(l,u){if(wn(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var g=Object.keys(l),E=Object.keys(u);if(g.length!==E.length)return!1;for(E=0;E<g.length;E++){var S=g[E];if(!Y3.call(u,S)||!wn(l[S],u[S]))return!1}return!0}function iP(l){switch(l.tag){case 5:return Tl(l.type);case 16:return Tl("Lazy");case 13:return Tl("Suspense");case 19:return Tl("SuspenseList");case 0:case 2:case 15:return l=W0(l.type,!1);case 11:return l=W0(l.type.render,!1);case 1:return l=W0(l.type,!0);default:return""}}function Sn(l,u){if(l&&l.defaultProps){for(var g in u=i({},u),l=l.defaultProps)u[g]===void 0&&(u[g]=l[g]);return u}return u}var jc=Ki(null),Hc=null,Zo=null,ap=null;function lp(){ap=Zo=Hc=null}function Zy(l,u,g){Qe?(rt(jc,u._currentValue),u._currentValue=g):(rt(jc,u._currentValue2),u._currentValue2=g)}function up(l){var u=jc.current;lt(jc),Qe?l._currentValue=u:l._currentValue2=u}function cp(l,u,g){for(;l!==null;){var E=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,E!==null&&(E.childLanes|=u)):E!==null&&(E.childLanes&u)!==u&&(E.childLanes|=u),l===g)break;l=l.return}}function Jo(l,u){Hc=l,ap=Zo=null,(l=l.dependencies)!==null&&l.firstContext!==null&&((l.lanes&u)!=0&&(Tr=!0),l.firstContext=null)}function tn(l){var u=Qe?l._currentValue:l._currentValue2;if(ap!==l)if(l={context:l,memoizedValue:u,next:null},Zo===null){if(Hc===null)throw Error(s(308));Zo=l,Hc.dependencies={lanes:0,firstContext:l}}else Zo=Zo.next=l;return u}var eo=null;function hp(l){eo===null?eo=[l]:eo.push(l)}function Jy(l,u,g,E){var S=u.interleaved;return S===null?(g.next=g,hp(u)):(g.next=S.next,S.next=g),u.interleaved=g,Qn(l,E)}function Qn(l,u){l.lanes|=u;var g=l.alternate;for(g!==null&&(g.lanes|=u),g=l,l=l.return;l!==null;)l.childLanes|=u,(g=l.alternate)!==null&&(g.childLanes|=u),g=l,l=l.return;return g.tag===3?g.stateNode:null}var Ji=!1;function dp(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function e_(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ai(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function es(l,u,g){var E=l.updateQueue;if(E===null)return null;if(E=E.shared,(2&ze)!=0){var S=E.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),E.pending=u,Qn(l,g)}return(S=E.interleaved)===null?(u.next=u,hp(E)):(u.next=S.next,S.next=u),E.interleaved=u,Qn(l,g)}function Gc(l,u,g){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&g)!=0)){var E=u.lanes;g|=E&=l.pendingLanes,u.lanes=g,Z0(l,g)}}function t_(l,u){var g=l.updateQueue,E=l.alternate;if(E!==null&&g===(E=E.updateQueue)){var S=null,A=null;if((g=g.firstBaseUpdate)!==null){do{var R={eventTime:g.eventTime,lane:g.lane,tag:g.tag,payload:g.payload,callback:g.callback,next:null};A===null?S=A=R:A=A.next=R,g=g.next}while(g!==null);A===null?S=A=u:A=A.next=u}else S=A=u;return g={baseState:E.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:E.shared,effects:E.effects},void(l.updateQueue=g)}(l=g.lastBaseUpdate)===null?g.firstBaseUpdate=u:l.next=u,g.lastBaseUpdate=u}function Wc(l,u,g,E){var S=l.updateQueue;Ji=!1;var A=S.firstBaseUpdate,R=S.lastBaseUpdate,$=S.shared.pending;if($!==null){S.shared.pending=null;var q=$,ee=q.next;q.next=null,R===null?A=ee:R.next=ee,R=q;var re=l.alternate;re!==null&&($=(re=re.updateQueue).lastBaseUpdate)!==R&&($===null?re.firstBaseUpdate=ee:$.next=ee,re.lastBaseUpdate=q)}if(A!==null){var he=S.baseState;for(R=0,re=ee=q=null,$=A;;){var te=$.lane,ue=$.eventTime;if((E&te)===te){re!==null&&(re=re.next={eventTime:ue,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var xe=l,De=$;switch(te=u,ue=g,De.tag){case 1:if(typeof(xe=De.payload)=="function"){he=xe.call(ue,he,te);break e}he=xe;break e;case 3:xe.flags=-65537&xe.flags|128;case 0:if((te=typeof(xe=De.payload)=="function"?xe.call(ue,he,te):xe)==null)break e;he=i({},he,te);break e;case 2:Ji=!0}}$.callback!==null&&$.lane!==0&&(l.flags|=64,(te=S.effects)===null?S.effects=[$]:te.push($))}else ue={eventTime:ue,lane:te,tag:$.tag,payload:$.payload,callback:$.callback,next:null},re===null?(ee=re=ue,q=he):re=re.next=ue,R|=te;if(($=$.next)===null){if(($=S.shared.pending)===null)break;$=(te=$).next,te.next=null,S.lastBaseUpdate=te,S.shared.pending=null}}if(re===null&&(q=he),S.baseState=q,S.firstBaseUpdate=ee,S.lastBaseUpdate=re,(u=S.shared.interleaved)!==null){S=u;do R|=S.lane,S=S.next;while(S!==u)}else A===null&&(S.shared.lanes=0);ro|=R,l.lanes=R,l.memoizedState=he}}function r_(l,u,g){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var E=l[u],S=E.callback;if(S!==null){if(E.callback=null,E=g,typeof S!="function")throw Error(s(191,S));S.call(E)}}}var n_=new r.Component().refs;function fp(l,u,g,E){g=(g=g(E,u=l.memoizedState))==null?u:i({},u,g),l.memoizedState=g,l.lanes===0&&(l.updateQueue.baseState=g)}var Vc={isMounted:function(l){return!!(l=l._reactInternals)&&F(l)===l},enqueueSetState:function(l,u,g){l=l._reactInternals;var E=lr(),S=is(l),A=Ai(E,S);A.payload=u,g!=null&&(A.callback=g),(u=es(l,A,S))!==null&&(sn(u,l,S,E),Gc(u,l,S))},enqueueReplaceState:function(l,u,g){l=l._reactInternals;var E=lr(),S=is(l),A=Ai(E,S);A.tag=1,A.payload=u,g!=null&&(A.callback=g),(u=es(l,A,S))!==null&&(sn(u,l,S,E),Gc(u,l,S))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var g=lr(),E=is(l),S=Ai(g,E);S.tag=2,u!=null&&(S.callback=u),(u=es(l,S,E))!==null&&(sn(u,l,E,g),Gc(u,l,E))}};function i_(l,u,g,E,S,A,R){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(E,A,R):!u.prototype||!u.prototype.isPureReactComponent||!$c(g,E)||!$c(S,A)}function s_(l,u,g){var E=!1,S=Zi,A=u.contextType;return typeof A=="object"&&A!==null?A=tn(A):(S=Or(u)?Ks:sr.current,A=(E=(E=u.contextTypes)!=null)?qo(l,S):Zi),u=new u(g,A),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Vc,l.stateNode=u,u._reactInternals=l,E&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=A),u}function o_(l,u,g,E){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(g,E),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(g,E),u.state!==l&&Vc.enqueueReplaceState(u,u.state,null)}function pp(l,u,g,E){var S=l.stateNode;S.props=g,S.state=l.memoizedState,S.refs=n_,dp(l);var A=u.contextType;typeof A=="object"&&A!==null?S.context=tn(A):(A=Or(u)?Ks:sr.current,S.context=qo(l,A)),S.state=l.memoizedState,typeof(A=u.getDerivedStateFromProps)=="function"&&(fp(l,u,A,g),S.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&Vc.enqueueReplaceState(S,S.state,null),Wc(l,g,S,E),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function kl(l,u,g){if((l=g.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(g._owner){if(g=g._owner){if(g.tag!==1)throw Error(s(309));var E=g.stateNode}if(!E)throw Error(s(147,l));var S=E,A=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===A?u.ref:(u=function(R){var $=S.refs;$===n_&&($=S.refs={}),R===null?delete $[A]:$[A]=R},u._stringRef=A,u)}if(typeof l!="string")throw Error(s(284));if(!g._owner)throw Error(s(290,l))}return l}function Xc(l,u){throw l=Object.prototype.toString.call(u),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function a_(l){return(0,l._init)(l._payload)}function l_(l){function u(ne,G){if(l){var J=ne.deletions;J===null?(ne.deletions=[G],ne.flags|=16):J.push(G)}}function g(ne,G){if(!l)return null;for(;G!==null;)u(ne,G),G=G.sibling;return null}function E(ne,G){for(ne=new Map;G!==null;)G.key!==null?ne.set(G.key,G):ne.set(G.index,G),G=G.sibling;return ne}function S(ne,G){return(ne=os(ne,G)).index=0,ne.sibling=null,ne}function A(ne,G,J){return ne.index=J,l?(J=ne.alternate)!==null?(J=J.index)<G?(ne.flags|=2,G):J:(ne.flags|=2,G):(ne.flags|=1048576,G)}function R(ne){return l&&ne.alternate===null&&(ne.flags|=2),ne}function $(ne,G,J,oe){return G===null||G.tag!==6?((G=em(J,ne.mode,oe)).return=ne,G):((G=S(G,J)).return=ne,G)}function q(ne,G,J,oe){var Te=J.type;return Te===d?re(ne,G,J.props.children,oe,J.key):G!==null&&(G.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===_&&a_(Te)===G.type)?((oe=S(G,J.props)).ref=kl(ne,G,J),oe.return=ne,oe):((oe=yh(J.type,J.key,J.props,null,ne.mode,oe)).ref=kl(ne,G,J),oe.return=ne,oe)}function ee(ne,G,J,oe){return G===null||G.tag!==4||G.stateNode.containerInfo!==J.containerInfo||G.stateNode.implementation!==J.implementation?((G=tm(J,ne.mode,oe)).return=ne,G):((G=S(G,J.children||[])).return=ne,G)}function re(ne,G,J,oe,Te){return G===null||G.tag!==7?((G=so(J,ne.mode,oe,Te)).return=ne,G):((G=S(G,J)).return=ne,G)}function he(ne,G,J){if(typeof G=="string"&&G!==""||typeof G=="number")return(G=em(""+G,ne.mode,J)).return=ne,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case a:return(J=yh(G.type,G.key,G.props,null,ne.mode,J)).ref=kl(ne,null,G),J.return=ne,J;case c:return(G=tm(G,ne.mode,J)).return=ne,G;case _:return he(ne,(0,G._init)(G._payload),J)}if(X(G)||C(G))return(G=so(G,ne.mode,J,null)).return=ne,G;Xc(ne,G)}return null}function te(ne,G,J,oe){var Te=G!==null?G.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Te!==null?null:$(ne,G,""+J,oe);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case a:return J.key===Te?q(ne,G,J,oe):null;case c:return J.key===Te?ee(ne,G,J,oe):null;case _:return te(ne,G,(Te=J._init)(J._payload),oe)}if(X(J)||C(J))return Te!==null?null:re(ne,G,J,oe,null);Xc(ne,J)}return null}function ue(ne,G,J,oe,Te){if(typeof oe=="string"&&oe!==""||typeof oe=="number")return $(G,ne=ne.get(J)||null,""+oe,Te);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case a:return q(G,ne=ne.get(oe.key===null?J:oe.key)||null,oe,Te);case c:return ee(G,ne=ne.get(oe.key===null?J:oe.key)||null,oe,Te);case _:return ue(ne,G,J,(0,oe._init)(oe._payload),Te)}if(X(oe)||C(oe))return re(G,ne=ne.get(J)||null,oe,Te,null);Xc(G,oe)}return null}function xe(ne,G,J,oe){for(var Te=null,qe=null,_e=G,Ve=G=0,er=null;_e!==null&&Ve<J.length;Ve++){_e.index>Ve?(er=_e,_e=null):er=_e.sibling;var Ye=te(ne,_e,J[Ve],oe);if(Ye===null){_e===null&&(_e=er);break}l&&_e&&Ye.alternate===null&&u(ne,_e),G=A(Ye,G,Ve),qe===null?Te=Ye:qe.sibling=Ye,qe=Ye,_e=er}if(Ve===J.length)return g(ne,_e),ut&&Js(ne,Ve),Te;if(_e===null){for(;Ve<J.length;Ve++)(_e=he(ne,J[Ve],oe))!==null&&(G=A(_e,G,Ve),qe===null?Te=_e:qe.sibling=_e,qe=_e);return ut&&Js(ne,Ve),Te}for(_e=E(ne,_e);Ve<J.length;Ve++)(er=ue(_e,ne,Ve,J[Ve],oe))!==null&&(l&&er.alternate!==null&&_e.delete(er.key===null?Ve:er.key),G=A(er,G,Ve),qe===null?Te=er:qe.sibling=er,qe=er);return l&&_e.forEach(function(as){return u(ne,as)}),ut&&Js(ne,Ve),Te}function De(ne,G,J,oe){var Te=C(J);if(typeof Te!="function")throw Error(s(150));if((J=Te.call(J))==null)throw Error(s(151));for(var qe=Te=null,_e=G,Ve=G=0,er=null,Ye=J.next();_e!==null&&!Ye.done;Ve++,Ye=J.next()){_e.index>Ve?(er=_e,_e=null):er=_e.sibling;var as=te(ne,_e,Ye.value,oe);if(as===null){_e===null&&(_e=er);break}l&&_e&&as.alternate===null&&u(ne,_e),G=A(as,G,Ve),qe===null?Te=as:qe.sibling=as,qe=as,_e=er}if(Ye.done)return g(ne,_e),ut&&Js(ne,Ve),Te;if(_e===null){for(;!Ye.done;Ve++,Ye=J.next())(Ye=he(ne,Ye.value,oe))!==null&&(G=A(Ye,G,Ve),qe===null?Te=Ye:qe.sibling=Ye,qe=Ye);return ut&&Js(ne,Ve),Te}for(_e=E(ne,_e);!Ye.done;Ve++,Ye=J.next())(Ye=ue(_e,ne,Ve,Ye.value,oe))!==null&&(l&&Ye.alternate!==null&&_e.delete(Ye.key===null?Ve:Ye.key),G=A(Ye,G,Ve),qe===null?Te=Ye:qe.sibling=Ye,qe=Ye);return l&&_e.forEach(function(PP){return u(ne,PP)}),ut&&Js(ne,Ve),Te}return function ne(G,J,oe,Te){if(typeof oe=="object"&&oe!==null&&oe.type===d&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case a:e:{for(var qe=oe.key,_e=J;_e!==null;){if(_e.key===qe){if((qe=oe.type)===d){if(_e.tag===7){g(G,_e.sibling),(J=S(_e,oe.props.children)).return=G,G=J;break e}}else if(_e.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===_&&a_(qe)===_e.type){g(G,_e.sibling),(J=S(_e,oe.props)).ref=kl(G,_e,oe),J.return=G,G=J;break e}g(G,_e);break}u(G,_e),_e=_e.sibling}oe.type===d?((J=so(oe.props.children,G.mode,Te,oe.key)).return=G,G=J):((Te=yh(oe.type,oe.key,oe.props,null,G.mode,Te)).ref=kl(G,J,oe),Te.return=G,G=Te)}return R(G);case c:e:{for(_e=oe.key;J!==null;){if(J.key===_e){if(J.tag===4&&J.stateNode.containerInfo===oe.containerInfo&&J.stateNode.implementation===oe.implementation){g(G,J.sibling),(J=S(J,oe.children||[])).return=G,G=J;break e}g(G,J);break}u(G,J),J=J.sibling}(J=tm(oe,G.mode,Te)).return=G,G=J}return R(G);case _:return ne(G,J,(_e=oe._init)(oe._payload),Te)}if(X(oe))return xe(G,J,oe,Te);if(C(oe))return De(G,J,oe,Te);Xc(G,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,J!==null&&J.tag===6?(g(G,J.sibling),(J=S(J,oe)).return=G,G=J):(g(G,J),(J=em(oe,G.mode,Te)).return=G,G=J),R(G)):g(G,J)}}var ea=l_(!0),u_=l_(!1),Fl={},rn=Ki(Fl),Il=Ki(Fl),ta=Ki(Fl);function Kn(l){if(l===Fl)throw Error(s(174));return l}function mp(l,u){rt(ta,u),rt(Il,l),rt(rn,Fl),l=W(u),lt(rn),rt(rn,l)}function ra(){lt(rn),lt(Il),lt(ta)}function c_(l){var u=Kn(ta.current),g=Kn(rn.current);g!==(u=N(g,l.type,u))&&(rt(Il,l),rt(rn,u))}function gp(l){Il.current===l&&(lt(rn),lt(Il))}var St=Ki(0);function qc(l){for(var u=l;u!==null;){if(u.tag===13){var g=u.memoizedState;if(g!==null&&((g=g.dehydrated)===null||_n(g)||Vo(g)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((128&u.flags)!=0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var vp=[];function xp(){for(var l=0;l<vp.length;l++){var u=vp[l];Qe?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}vp.length=0}var Yc=o.ReactCurrentDispatcher,yp=o.ReactCurrentBatchConfig,to=0,vt=null,Ht=null,Gt=null,Qc=!1,Bl=!1,Rl=0,sP=0;function or(){throw Error(s(321))}function _p(l,u){if(u===null)return!1;for(var g=0;g<u.length&&g<l.length;g++)if(!wn(l[g],u[g]))return!1;return!0}function bp(l,u,g,E,S,A){if(to=A,vt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Yc.current=l===null||l.memoizedState===null?uP:cP,l=g(E,S),Bl){A=0;do{if(Bl=!1,Rl=0,25<=A)throw Error(s(301));A+=1,Gt=Ht=null,u.updateQueue=null,Yc.current=hP,l=g(E,S)}while(Bl)}if(Yc.current=Jc,u=Ht!==null&&Ht.next!==null,to=0,Gt=Ht=vt=null,Qc=!1,u)throw Error(s(300));return l}function wp(){var l=Rl!==0;return Rl=0,l}function Zn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gt===null?vt.memoizedState=Gt=l:Gt=Gt.next=l,Gt}function nn(){if(Ht===null){var l=vt.alternate;l=l!==null?l.memoizedState:null}else l=Ht.next;var u=Gt===null?vt.memoizedState:Gt.next;if(u!==null)Gt=u,Ht=l;else{if(l===null)throw Error(s(310));l={memoizedState:(Ht=l).memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},Gt===null?vt.memoizedState=Gt=l:Gt=Gt.next=l}return Gt}function Dl(l,u){return typeof u=="function"?u(l):u}function Ep(l){var u=nn(),g=u.queue;if(g===null)throw Error(s(311));g.lastRenderedReducer=l;var E=Ht,S=E.baseQueue,A=g.pending;if(A!==null){if(S!==null){var R=S.next;S.next=A.next,A.next=R}E.baseQueue=S=A,g.pending=null}if(S!==null){A=S.next,E=E.baseState;var $=R=null,q=null,ee=A;do{var re=ee.lane;if((to&re)===re)q!==null&&(q=q.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),E=ee.hasEagerState?ee.eagerState:l(E,ee.action);else{var he={lane:re,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};q===null?($=q=he,R=E):q=q.next=he,vt.lanes|=re,ro|=re}ee=ee.next}while(ee!==null&&ee!==A);q===null?R=E:q.next=$,wn(E,u.memoizedState)||(Tr=!0),u.memoizedState=E,u.baseState=R,u.baseQueue=q,g.lastRenderedState=E}if((l=g.interleaved)!==null){S=l;do A=S.lane,vt.lanes|=A,ro|=A,S=S.next;while(S!==l)}else S===null&&(g.lanes=0);return[u.memoizedState,g.dispatch]}function Sp(l){var u=nn(),g=u.queue;if(g===null)throw Error(s(311));g.lastRenderedReducer=l;var E=g.dispatch,S=g.pending,A=u.memoizedState;if(S!==null){g.pending=null;var R=S=S.next;do A=l(A,R.action),R=R.next;while(R!==S);wn(A,u.memoizedState)||(Tr=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),g.lastRenderedState=A}return[A,E]}function h_(){}function d_(l,u){var g=vt,E=nn(),S=u(),A=!wn(E.memoizedState,S);if(A&&(E.memoizedState=S,Tr=!0),E=E.queue,Tp(m_.bind(null,g,E,l),[l]),E.getSnapshot!==u||A||Gt!==null&&1&Gt.memoizedState.tag){if(g.flags|=2048,Ml(9,p_.bind(null,g,E,S,u),void 0,null),Wt===null)throw Error(s(349));(30&to)!=0||f_(g,u,S)}return S}function f_(l,u,g){l.flags|=16384,l={getSnapshot:u,value:g},(u=vt.updateQueue)===null?(u={lastEffect:null,stores:null},vt.updateQueue=u,u.stores=[l]):(g=u.stores)===null?u.stores=[l]:g.push(l)}function p_(l,u,g,E){u.value=g,u.getSnapshot=E,g_(u)&&v_(l)}function m_(l,u,g){return g(function(){g_(u)&&v_(l)})}function g_(l){var u=l.getSnapshot;l=l.value;try{var g=u();return!wn(l,g)}catch{return!0}}function v_(l){var u=Qn(l,1);u!==null&&sn(u,l,1,-1)}function x_(l){var u=Zn();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dl,lastRenderedState:l},u.queue=l,l=l.dispatch=lP.bind(null,vt,l),[u.memoizedState,l]}function Ml(l,u,g,E){return l={tag:l,create:u,destroy:g,deps:E,next:null},(u=vt.updateQueue)===null?(u={lastEffect:null,stores:null},vt.updateQueue=u,u.lastEffect=l.next=l):(g=u.lastEffect)===null?u.lastEffect=l.next=l:(E=g.next,g.next=l,l.next=E,u.lastEffect=l),l}function y_(){return nn().memoizedState}function Kc(l,u,g,E){var S=Zn();vt.flags|=l,S.memoizedState=Ml(1|u,g,void 0,E===void 0?null:E)}function Zc(l,u,g,E){var S=nn();E=E===void 0?null:E;var A=void 0;if(Ht!==null){var R=Ht.memoizedState;if(A=R.destroy,E!==null&&_p(E,R.deps))return void(S.memoizedState=Ml(u,g,A,E))}vt.flags|=l,S.memoizedState=Ml(1|u,g,A,E)}function __(l,u){return Kc(8390656,8,l,u)}function Tp(l,u){return Zc(2048,8,l,u)}function b_(l,u){return Zc(4,2,l,u)}function w_(l,u){return Zc(4,4,l,u)}function E_(l,u){return typeof u=="function"?(l=l(),u(l),function(){u(null)}):u!=null?(l=l(),u.current=l,function(){u.current=null}):void 0}function S_(l,u,g){return g=g!=null?g.concat([l]):null,Zc(4,4,E_.bind(null,u,l),g)}function Ap(){}function T_(l,u){var g=nn();u=u===void 0?null:u;var E=g.memoizedState;return E!==null&&u!==null&&_p(u,E[1])?E[0]:(g.memoizedState=[l,u],l)}function A_(l,u){var g=nn();u=u===void 0?null:u;var E=g.memoizedState;return E!==null&&u!==null&&_p(u,E[1])?E[0]:(l=l(),g.memoizedState=[l,u],l)}function C_(l,u,g){return(21&to)==0?(l.baseState&&(l.baseState=!1,Tr=!0),l.memoizedState=g):(wn(g,u)||(g=jy(),vt.lanes|=g,ro|=g,l.baseState=!0),u)}function oP(l,u){var g=We;We=g!==0&&4>g?g:4,l(!0);var E=yp.transition;yp.transition={};try{l(!1),u()}finally{We=g,yp.transition=E}}function P_(){return nn().memoizedState}function aP(l,u,g){var E=is(l);g={lane:E,action:g,hasEagerState:!1,eagerState:null,next:null},k_(l)?F_(u,g):(g=Jy(l,u,g,E))!==null&&(sn(g,l,E,lr()),I_(g,u,E))}function lP(l,u,g){var E=is(l),S={lane:E,action:g,hasEagerState:!1,eagerState:null,next:null};if(k_(l))F_(u,S);else{var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer)!==null)try{var R=u.lastRenderedState,$=A(R,g);if(S.hasEagerState=!0,S.eagerState=$,wn($,R)){var q=u.interleaved;return q===null?(S.next=S,hp(u)):(S.next=q.next,q.next=S),void(u.interleaved=S)}}catch{}(g=Jy(l,u,S,E))!==null&&(sn(g,l,E,S=lr()),I_(g,u,E))}}function k_(l){var u=l.alternate;return l===vt||u!==null&&u===vt}function F_(l,u){Bl=Qc=!0;var g=l.pending;g===null?u.next=u:(u.next=g.next,g.next=u),l.pending=u}function I_(l,u,g){if((4194240&g)!=0){var E=u.lanes;g|=E&=l.pendingLanes,u.lanes=g,Z0(l,g)}}var Jc={readContext:tn,useCallback:or,useContext:or,useEffect:or,useImperativeHandle:or,useInsertionEffect:or,useLayoutEffect:or,useMemo:or,useReducer:or,useRef:or,useState:or,useDebugValue:or,useDeferredValue:or,useTransition:or,useMutableSource:or,useSyncExternalStore:or,useId:or,unstable_isNewReconciler:!1},uP={readContext:tn,useCallback:function(l,u){return Zn().memoizedState=[l,u===void 0?null:u],l},useContext:tn,useEffect:__,useImperativeHandle:function(l,u,g){return g=g!=null?g.concat([l]):null,Kc(4194308,4,E_.bind(null,u,l),g)},useLayoutEffect:function(l,u){return Kc(4194308,4,l,u)},useInsertionEffect:function(l,u){return Kc(4,2,l,u)},useMemo:function(l,u){var g=Zn();return u=u===void 0?null:u,l=l(),g.memoizedState=[l,u],l},useReducer:function(l,u,g){var E=Zn();return u=g!==void 0?g(u):u,E.memoizedState=E.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},E.queue=l,l=l.dispatch=aP.bind(null,vt,l),[E.memoizedState,l]},useRef:function(l){return l={current:l},Zn().memoizedState=l},useState:x_,useDebugValue:Ap,useDeferredValue:function(l){return Zn().memoizedState=l},useTransition:function(){var l=x_(!1),u=l[0];return l=oP.bind(null,l[1]),Zn().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,g){var E=vt,S=Zn();if(ut){if(g===void 0)throw Error(s(407));g=g()}else{if(g=u(),Wt===null)throw Error(s(349));(30&to)!=0||f_(E,u,g)}S.memoizedState=g;var A={value:g,getSnapshot:u};return S.queue=A,__(m_.bind(null,E,A,l),[l]),E.flags|=2048,Ml(9,p_.bind(null,E,A,g,u),void 0,null),g},useId:function(){var l=Zn(),u=Wt.identifierPrefix;if(ut){var g=Ti;u=":"+u+"R"+(g=(Yn&~(1<<32-bn(Yn)-1)).toString(32)+g),0<(g=Rl++)&&(u+="H"+g.toString(32)),u+=":"}else u=":"+u+"r"+(g=sP++).toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},cP={readContext:tn,useCallback:T_,useContext:tn,useEffect:Tp,useImperativeHandle:S_,useInsertionEffect:b_,useLayoutEffect:w_,useMemo:A_,useReducer:Ep,useRef:y_,useState:function(){return Ep(Dl)},useDebugValue:Ap,useDeferredValue:function(l){return C_(nn(),Ht.memoizedState,l)},useTransition:function(){return[Ep(Dl)[0],nn().memoizedState]},useMutableSource:h_,useSyncExternalStore:d_,useId:P_,unstable_isNewReconciler:!1},hP={readContext:tn,useCallback:T_,useContext:tn,useEffect:Tp,useImperativeHandle:S_,useInsertionEffect:b_,useLayoutEffect:w_,useMemo:A_,useReducer:Sp,useRef:y_,useState:function(){return Sp(Dl)},useDebugValue:Ap,useDeferredValue:function(l){var u=nn();return Ht===null?u.memoizedState=l:C_(u,Ht.memoizedState,l)},useTransition:function(){return[Sp(Dl)[0],nn().memoizedState]},useMutableSource:h_,useSyncExternalStore:d_,useId:P_,unstable_isNewReconciler:!1};function na(l,u){try{var g="",E=u;do g+=iP(E),E=E.return;while(E);var S=g}catch(A){S=`
Error generating stack: `+A.message+`
`+A.stack}return{value:l,source:u,stack:S,digest:null}}function Cp(l,u,g){return{value:l,source:null,stack:g??null,digest:u??null}}function Pp(l,u){try{console.error(u.value)}catch(g){setTimeout(function(){throw g})}}var dP=typeof WeakMap=="function"?WeakMap:Map;function B_(l,u,g){(g=Ai(-1,g)).tag=3,g.payload={element:null};var E=u.value;return g.callback=function(){fh||(fh=!0,Xp=E),Pp(0,u)},g}function R_(l,u,g){(g=Ai(-1,g)).tag=3;var E=l.type.getDerivedStateFromError;if(typeof E=="function"){var S=u.value;g.payload=function(){return E(S)},g.callback=function(){Pp(0,u)}}var A=l.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(g.callback=function(){Pp(0,u),typeof E!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var R=u.stack;this.componentDidCatch(u.value,{componentStack:R!==null?R:""})}),g}function D_(l,u,g){var E=l.pingCache;if(E===null){E=l.pingCache=new dP;var S=new Set;E.set(u,S)}else(S=E.get(u))===void 0&&(S=new Set,E.set(u,S));S.has(g)||(S.add(g),l=bP.bind(null,l,u,g),u.then(l,l))}function M_(l){do{var u;if((u=l.tag===13)&&(u=(u=l.memoizedState)===null||u.dehydrated!==null),u)return l;l=l.return}while(l!==null);return null}function O_(l,u,g,E,S){return(1&l.mode)==0?(l===u?l.flags|=65536:(l.flags|=128,g.flags|=131072,g.flags&=-52805,g.tag===1&&(g.alternate===null?g.tag=17:((u=Ai(-1,1)).tag=2,es(g,u,1))),g.lanes|=1),l):(l.flags|=65536,l.lanes=S,l)}var fP=o.ReactCurrentOwner,Tr=!1;function Ar(l,u,g,E){u.child=l===null?u_(u,null,g,E):ea(u,l.child,g,E)}function N_(l,u,g,E,S){g=g.render;var A=u.ref;return Jo(u,S),E=bp(l,u,g,E,A,S),g=wp(),l===null||Tr?(ut&&g&&rp(u),u.flags|=1,Ar(l,u,E,S),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Ci(l,u,S))}function L_(l,u,g,E,S){if(l===null){var A=g.type;return typeof A!="function"||Jp(A)||A.defaultProps!==void 0||g.compare!==null||g.defaultProps!==void 0?((l=yh(g.type,null,E,u,u.mode,S)).ref=u.ref,l.return=u,u.child=l):(u.tag=15,u.type=A,U_(l,u,A,E,S))}if(A=l.child,(l.lanes&S)==0){var R=A.memoizedProps;if((g=(g=g.compare)!==null?g:$c)(R,E)&&l.ref===u.ref)return Ci(l,u,S)}return u.flags|=1,(l=os(A,E)).ref=u.ref,l.return=u,u.child=l}function U_(l,u,g,E,S){if(l!==null){var A=l.memoizedProps;if($c(A,E)&&l.ref===u.ref){if(Tr=!1,u.pendingProps=E=A,(l.lanes&S)==0)return u.lanes=l.lanes,Ci(l,u,S);(131072&l.flags)!=0&&(Tr=!0)}}return kp(l,u,g,E,S)}function z_(l,u,g){var E=u.pendingProps,S=E.children,A=l!==null?l.memoizedState:null;if(E.mode==="hidden")if((1&u.mode)==0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(sa,Lr),Lr|=g;else{if((1073741824&g)==0)return l=A!==null?A.baseLanes|g:g,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,rt(sa,Lr),Lr|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},E=A!==null?A.baseLanes:g,rt(sa,Lr),Lr|=E}else A!==null?(E=A.baseLanes|g,u.memoizedState=null):E=g,rt(sa,Lr),Lr|=E;return Ar(l,u,S,g),u.child}function $_(l,u){var g=u.ref;(l===null&&g!==null||l!==null&&l.ref!==g)&&(u.flags|=512,u.flags|=2097152)}function kp(l,u,g,E,S){var A=Or(g)?Ks:sr.current;return A=qo(u,A),Jo(u,S),g=bp(l,u,g,E,A,S),E=wp(),l===null||Tr?(ut&&E&&rp(u),u.flags|=1,Ar(l,u,g,S),u.child):(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Ci(l,u,S))}function j_(l,u,g,E,S){if(Or(g)){var A=!0;Dc(u)}else A=!1;if(Jo(u,S),u.stateNode===null)nh(l,u),s_(u,g,E),pp(u,g,E,S),E=!0;else if(l===null){var R=u.stateNode,$=u.memoizedProps;R.props=$;var q=R.context,ee=g.contextType;typeof ee=="object"&&ee!==null?ee=tn(ee):ee=qo(u,ee=Or(g)?Ks:sr.current);var re=g.getDerivedStateFromProps,he=typeof re=="function"||typeof R.getSnapshotBeforeUpdate=="function";he||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==E||q!==ee)&&o_(u,R,E,ee),Ji=!1;var te=u.memoizedState;R.state=te,Wc(u,E,R,S),q=u.memoizedState,$!==E||te!==q||Sr.current||Ji?(typeof re=="function"&&(fp(u,g,re,E),q=u.memoizedState),($=Ji||i_(u,g,$,E,te,q,ee))?(he||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount()),typeof R.componentDidMount=="function"&&(u.flags|=4194308)):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=E,u.memoizedState=q),R.props=E,R.state=q,R.context=ee,E=$):(typeof R.componentDidMount=="function"&&(u.flags|=4194308),E=!1)}else{R=u.stateNode,e_(l,u),$=u.memoizedProps,ee=u.type===u.elementType?$:Sn(u.type,$),R.props=ee,he=u.pendingProps,te=R.context,typeof(q=g.contextType)=="object"&&q!==null?q=tn(q):q=qo(u,q=Or(g)?Ks:sr.current);var ue=g.getDerivedStateFromProps;(re=typeof ue=="function"||typeof R.getSnapshotBeforeUpdate=="function")||typeof R.UNSAFE_componentWillReceiveProps!="function"&&typeof R.componentWillReceiveProps!="function"||($!==he||te!==q)&&o_(u,R,E,q),Ji=!1,te=u.memoizedState,R.state=te,Wc(u,E,R,S);var xe=u.memoizedState;$!==he||te!==xe||Sr.current||Ji?(typeof ue=="function"&&(fp(u,g,ue,E),xe=u.memoizedState),(ee=Ji||i_(u,g,ee,E,te,xe,q)||!1)?(re||typeof R.UNSAFE_componentWillUpdate!="function"&&typeof R.componentWillUpdate!="function"||(typeof R.componentWillUpdate=="function"&&R.componentWillUpdate(E,xe,q),typeof R.UNSAFE_componentWillUpdate=="function"&&R.UNSAFE_componentWillUpdate(E,xe,q)),typeof R.componentDidUpdate=="function"&&(u.flags|=4),typeof R.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof R.componentDidUpdate!="function"||$===l.memoizedProps&&te===l.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&te===l.memoizedState||(u.flags|=1024),u.memoizedProps=E,u.memoizedState=xe),R.props=E,R.state=xe,R.context=q,E=ee):(typeof R.componentDidUpdate!="function"||$===l.memoizedProps&&te===l.memoizedState||(u.flags|=4),typeof R.getSnapshotBeforeUpdate!="function"||$===l.memoizedProps&&te===l.memoizedState||(u.flags|=1024),E=!1)}return Fp(l,u,g,E,A,S)}function Fp(l,u,g,E,S,A){$_(l,u);var R=(128&u.flags)!=0;if(!E&&!R)return S&&$y(u,g,!1),Ci(l,u,A);E=u.stateNode,fP.current=u;var $=R&&typeof g.getDerivedStateFromError!="function"?null:E.render();return u.flags|=1,l!==null&&R?(u.child=ea(u,l.child,null,A),u.child=ea(u,null,$,A)):Ar(l,u,$,A),u.memoizedState=E.state,S&&$y(u,g,!0),u.child}function H_(l){var u=l.stateNode;u.pendingContext?Uy(0,u.pendingContext,u.pendingContext!==u.context):u.context&&Uy(0,u.context,!1),mp(l,u.containerInfo)}function G_(l,u,g,E,S){return Ko(),op(S),u.flags|=256,Ar(l,u,g,E),u.child}var Ol,Nl,eh,th,Ip={dehydrated:null,treeContext:null,retryLane:0};function Bp(l){return{baseLanes:l,cachePool:null,transitions:null}}function W_(l,u,g){var E,S=u.pendingProps,A=St.current,R=!1,$=(128&u.flags)!=0;if((E=$)||(E=(l===null||l.memoizedState!==null)&&(2&A)!=0),E?(R=!0,u.flags&=-129):l!==null&&l.memoizedState===null||(A|=1),rt(St,1&A),l===null)return sp(u),(l=u.memoizedState)!==null&&(l=l.dehydrated)!==null?((1&u.mode)==0?u.lanes=1:Vo(l)?u.lanes=8:u.lanes=1073741824,null):($=S.children,l=S.fallback,R?(S=u.mode,R=u.child,$={mode:"hidden",children:$},(1&S)==0&&R!==null?(R.childLanes=0,R.pendingProps=$):R=_h($,S,0,null),l=so(l,S,g,null),R.return=u,l.return=u,R.sibling=l,u.child=R,u.child.memoizedState=Bp(g),u.memoizedState=Ip,l):Rp(u,$));if((A=l.memoizedState)!==null&&(E=A.dehydrated)!==null)return function(ee,re,he,te,ue,xe,De){if(he)return 256&re.flags?(re.flags&=-257,rh(ee,re,De,te=Cp(Error(s(422))))):re.memoizedState!==null?(re.child=ee.child,re.flags|=128,null):(xe=te.fallback,ue=re.mode,te=_h({mode:"visible",children:te.children},ue,0,null),(xe=so(xe,ue,De,null)).flags|=2,te.return=re,xe.return=re,te.sibling=xe,re.child=te,(1&re.mode)!=0&&ea(re,ee.child,null,De),re.child.memoizedState=Bp(De),re.memoizedState=Ip,xe);if((1&re.mode)==0)return rh(ee,re,De,null);if(Vo(ue))return te=H0(ue).digest,xe=Error(s(419)),te=Cp(xe,te,void 0),rh(ee,re,De,te);if(he=(De&ee.childLanes)!=0,Tr||he){if((te=Wt)!==null){switch(De&-De){case 4:ue=2;break;case 16:ue=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ue=32;break;case 536870912:ue=268435456;break;default:ue=0}(ue=(ue&(te.suspendedLanes|De))!=0?0:ue)!==0&&ue!==xe.retryLane&&(xe.retryLane=ue,Qn(ee,ue),sn(te,ee,ue,-1))}return Zp(),rh(ee,re,De,te=Cp(Error(s(421))))}return _n(ue)?(re.flags|=128,re.child=ee.child,re=wP.bind(null,ee),D3(ue,re),null):(ee=xe.treeContext,Ie&&(en=N3(ue),Nr=re,ut=!0,En=null,Pl=!1,ee!==null&&(Zr[Jr++]=Yn,Zr[Jr++]=Ti,Zr[Jr++]=Zs,Yn=ee.id,Ti=ee.overflow,Zs=re)),re=Rp(re,te.children),re.flags|=4096,re)}(l,u,$,S,E,A,g);if(R){R=S.fallback,$=u.mode,E=(A=l.child).sibling;var q={mode:"hidden",children:S.children};return(1&$)==0&&u.child!==A?((S=u.child).childLanes=0,S.pendingProps=q,u.deletions=null):(S=os(A,q)).subtreeFlags=14680064&A.subtreeFlags,E!==null?R=os(E,R):(R=so(R,$,g,null)).flags|=2,R.return=u,S.return=u,S.sibling=R,u.child=S,S=R,R=u.child,$=($=l.child.memoizedState)===null?Bp(g):{baseLanes:$.baseLanes|g,cachePool:null,transitions:$.transitions},R.memoizedState=$,R.childLanes=l.childLanes&~g,u.memoizedState=Ip,S}return l=(R=l.child).sibling,S=os(R,{mode:"visible",children:S.children}),(1&u.mode)==0&&(S.lanes=g),S.return=u,S.sibling=null,l!==null&&((g=u.deletions)===null?(u.deletions=[l],u.flags|=16):g.push(l)),u.child=S,u.memoizedState=null,S}function Rp(l,u){return(u=_h({mode:"visible",children:u},l.mode,0,null)).return=l,l.child=u}function rh(l,u,g,E){return E!==null&&op(E),ea(u,l.child,null,g),(l=Rp(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,l}function V_(l,u,g){l.lanes|=u;var E=l.alternate;E!==null&&(E.lanes|=u),cp(l.return,u,g)}function Dp(l,u,g,E,S){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:E,tail:g,tailMode:S}:(A.isBackwards=u,A.rendering=null,A.renderingStartTime=0,A.last=E,A.tail=g,A.tailMode=S)}function X_(l,u,g){var E=u.pendingProps,S=E.revealOrder,A=E.tail;if(Ar(l,u,E.children,g),(2&(E=St.current))!=0)E=1&E|2,u.flags|=128;else{if(l!==null&&(128&l.flags)!=0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&V_(l,g,u);else if(l.tag===19)V_(l,g,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}E&=1}if(rt(St,E),(1&u.mode)==0)u.memoizedState=null;else switch(S){case"forwards":for(g=u.child,S=null;g!==null;)(l=g.alternate)!==null&&qc(l)===null&&(S=g),g=g.sibling;(g=S)===null?(S=u.child,u.child=null):(S=g.sibling,g.sibling=null),Dp(u,!1,S,g,A);break;case"backwards":for(g=null,S=u.child,u.child=null;S!==null;){if((l=S.alternate)!==null&&qc(l)===null){u.child=S;break}l=S.sibling,S.sibling=g,g=S,S=l}Dp(u,!0,g,null,A);break;case"together":Dp(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function nh(l,u){(1&u.mode)==0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Ci(l,u,g){if(l!==null&&(u.dependencies=l.dependencies),ro|=u.lanes,(g&u.childLanes)==0)return null;if(l!==null&&u.child!==l.child)throw Error(s(153));if(u.child!==null){for(g=os(l=u.child,l.pendingProps),u.child=g,g.return=u;l.sibling!==null;)l=l.sibling,(g=g.sibling=os(l,l.pendingProps)).return=u;g.sibling=null}return u.child}function Jn(l){l.flags|=4}function q_(l,u){if(l!==null&&l.child===u.child)return!0;if((16&u.flags)!=0)return!1;for(l=u.child;l!==null;){if((12854&l.flags)!=0||(12854&l.subtreeFlags)!=0)return!1;l=l.sibling}return!0}if(Be)Ol=function(l,u){for(var g=u.child;g!==null;){if(g.tag===5||g.tag===6)j(l,g.stateNode);else if(g.tag!==4&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===u)break;for(;g.sibling===null;){if(g.return===null||g.return===u)return;g=g.return}g.sibling.return=g.return,g=g.sibling}},Nl=function(){},eh=function(l,u,g,E,S){if((l=l.memoizedProps)!==E){var A=u.stateNode,R=Kn(rn.current);g=Y(A,g,l,E,S,R),(u.updateQueue=g)&&Jn(u)}},th=function(l,u,g,E){g!==E&&Jn(u)};else if(Xe){Ol=function(l,u,g,E){for(var S=u.child;S!==null;){if(S.tag===5){var A=S.stateNode;g&&E&&(A=Ic(A,S.type,S.memoizedProps,S)),j(l,A)}else if(S.tag===6)A=S.stateNode,g&&E&&(A=Sl(A,S.memoizedProps,S)),j(l,A);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)(A=S.child)!==null&&(A.return=S),Ol(l,S,!0,!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===u)break;for(;S.sibling===null;){if(S.return===null||S.return===u)return;S=S.return}S.sibling.return=S.return,S=S.sibling}};var Y_=function(l,u,g,E){for(var S=u.child;S!==null;){if(S.tag===5){var A=S.stateNode;g&&E&&(A=Ic(A,S.type,S.memoizedProps,S)),kc(l,A)}else if(S.tag===6)A=S.stateNode,g&&E&&(A=Sl(A,S.memoizedProps,S)),kc(l,A);else if(S.tag!==4){if(S.tag===22&&S.memoizedState!==null)(A=S.child)!==null&&(A.return=S),Y_(l,S,!0,!0);else if(S.child!==null){S.child.return=S,S=S.child;continue}}if(S===u)break;for(;S.sibling===null;){if(S.return===null||S.return===u)return;S=S.return}S.sibling.return=S.return,S=S.sibling}};Nl=function(l,u){var g=u.stateNode;if(!q_(l,u)){l=g.containerInfo;var E=Pc(l);Y_(E,u,!1,!1),g.pendingChildren=E,Jn(u),Fc(l,E)}},eh=function(l,u,g,E,S){var A=l.stateNode,R=l.memoizedProps;if((l=q_(l,u))&&R===E)u.stateNode=A;else{var $=u.stateNode,q=Kn(rn.current),ee=null;R!==E&&(ee=Y($,g,R,E,S,q)),l&&ee===null?u.stateNode=A:(A=$0(A,ee,g,R,E,u,l,$),K(A,g,E,S,q)&&Jn(u),u.stateNode=A,l?Jn(u):Ol(A,u,!1,!1))}},th=function(l,u,g,E){g!==E?(l=Kn(ta.current),g=Kn(rn.current),u.stateNode=pe(E,l,g,u),Jn(u)):u.stateNode=l.stateNode}}else Nl=function(){},eh=function(){},th=function(){};function Ll(l,u){if(!ut)switch(l.tailMode){case"hidden":u=l.tail;for(var g=null;u!==null;)u.alternate!==null&&(g=u),u=u.sibling;g===null?l.tail=null:g.sibling=null;break;case"collapsed":g=l.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:E.sibling=null}}function gr(l){var u=l.alternate!==null&&l.alternate.child===l.child,g=0,E=0;if(u)for(var S=l.child;S!==null;)g|=S.lanes|S.childLanes,E|=14680064&S.subtreeFlags,E|=14680064&S.flags,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)g|=S.lanes|S.childLanes,E|=S.subtreeFlags,E|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=E,l.childLanes=g,u}function pP(l,u,g){var E=u.pendingProps;switch(np(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(u),null;case 1:case 17:return Or(u.type)&&X0(),gr(u),null;case 3:return g=u.stateNode,ra(),lt(Sr),lt(sr),xp(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),l!==null&&l.child!==null||(zc(u)?Jn(u):l===null||l.memoizedState.isDehydrated&&(256&u.flags)==0||(u.flags|=1024,En!==null&&(Qp(En),En=null))),Nl(l,u),gr(u),null;case 5:gp(u),g=Kn(ta.current);var S=u.type;if(l!==null&&u.stateNode!=null)eh(l,u,S,E,g),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!E){if(u.stateNode===null)throw Error(s(166));return gr(u),null}if(l=Kn(rn.current),zc(u)){if(!Ie)throw Error(s(175));l=L3(u.stateNode,u.type,u.memoizedProps,g,l,u,!Pl),u.updateQueue=l,l!==null&&Jn(u)}else{var A=z(S,E,g,l,u);Ol(A,u,!1,!1),u.stateNode=A,K(A,S,E,g,l)&&Jn(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return gr(u),null;case 6:if(l&&u.stateNode!=null)th(l,u,l.memoizedProps,E);else{if(typeof E!="string"&&u.stateNode===null)throw Error(s(166));if(l=Kn(ta.current),g=Kn(rn.current),zc(u)){if(!Ie)throw Error(s(176));if(l=u.stateNode,g=u.memoizedProps,(E=U3(l,g,u,!Pl))&&(S=Nr)!==null)switch(S.tag){case 3:X3(S.stateNode.containerInfo,l,g,(1&S.mode)!=0);break;case 5:q3(S.type,S.memoizedProps,S.stateNode,l,g,(1&S.mode)!=0)}E&&Jn(u)}else u.stateNode=pe(E,l,g,u)}return gr(u),null;case 13:if(lt(St),E=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(ut&&en!==null&&(1&u.mode)!=0&&(128&u.flags)==0)Ky(),Ko(),u.flags|=98560,S=!1;else if(S=zc(u),E!==null&&E.dehydrated!==null){if(l===null){if(!S)throw Error(s(318));if(!Ie)throw Error(s(344));if(!(S=(S=u.memoizedState)!==null?S.dehydrated:null))throw Error(s(317));z3(S,u)}else Ko(),(128&u.flags)==0&&(u.memoizedState=null),u.flags|=4;gr(u),S=!1}else En!==null&&(Qp(En),En=null),S=!0;if(!S)return 65536&u.flags?u:null}return(128&u.flags)!=0?(u.lanes=g,u):((g=E!==null)!=(l!==null&&l.memoizedState!==null)&&g&&(u.child.flags|=8192,(1&u.mode)!=0&&(l===null||(1&St.current)!=0?Nt===0&&(Nt=3):Zp())),u.updateQueue!==null&&(u.flags|=4),gr(u),null);case 4:return ra(),Nl(l,u),l===null&&Zt(u.stateNode.containerInfo),gr(u),null;case 10:return up(u.type._context),gr(u),null;case 19:if(lt(St),(S=u.memoizedState)===null)return gr(u),null;if(E=(128&u.flags)!=0,(A=S.rendering)===null)if(E)Ll(S,!1);else{if(Nt!==0||l!==null&&(128&l.flags)!=0)for(l=u.child;l!==null;){if((A=qc(l))!==null){for(u.flags|=128,Ll(S,!1),(l=A.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),u.subtreeFlags=0,l=g,g=u.child;g!==null;)S=l,(E=g).flags&=14680066,(A=E.alternate)===null?(E.childLanes=0,E.lanes=S,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=A.childLanes,E.lanes=A.lanes,E.child=A.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=A.memoizedProps,E.memoizedState=A.memoizedState,E.updateQueue=A.updateQueue,E.type=A.type,S=A.dependencies,E.dependencies=S===null?null:{lanes:S.lanes,firstContext:S.firstContext}),g=g.sibling;return rt(St,1&St.current|2),u.child}l=l.sibling}S.tail!==null&&jt()>Vp&&(u.flags|=128,E=!0,Ll(S,!1),u.lanes=4194304)}else{if(!E)if((l=qc(A))!==null){if(u.flags|=128,E=!0,(l=l.updateQueue)!==null&&(u.updateQueue=l,u.flags|=4),Ll(S,!0),S.tail===null&&S.tailMode==="hidden"&&!A.alternate&&!ut)return gr(u),null}else 2*jt()-S.renderingStartTime>Vp&&g!==1073741824&&(u.flags|=128,E=!0,Ll(S,!1),u.lanes=4194304);S.isBackwards?(A.sibling=u.child,u.child=A):((l=S.last)!==null?l.sibling=A:u.child=A,S.last=A)}return S.tail!==null?(u=S.tail,S.rendering=u,S.tail=u.sibling,S.renderingStartTime=jt(),u.sibling=null,l=St.current,rt(St,E?1&l|2:1&l),u):(gr(u),null);case 22:case 23:return Kp(),g=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==g&&(u.flags|=8192),g&&(1&u.mode)!=0?(1073741824&Lr)!=0&&(gr(u),Be&&6&u.subtreeFlags&&(u.flags|=8192)):gr(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function mP(l,u){switch(np(u),u.tag){case 1:return Or(u.type)&&X0(),65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 3:return ra(),lt(Sr),lt(sr),xp(),(65536&(l=u.flags))!=0&&(128&l)==0?(u.flags=-65537&l|128,u):null;case 5:return gp(u),null;case 13:if(lt(St),(l=u.memoizedState)!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(s(340));Ko()}return 65536&(l=u.flags)?(u.flags=-65537&l|128,u):null;case 19:return lt(St),null;case 4:return ra(),null;case 10:return up(u.type._context),null;case 22:case 23:return Kp(),null;default:return null}}var ih=!1,ar=!1,gP=typeof WeakSet=="function"?WeakSet:Set,me=null;function ia(l,u){var g=l.ref;if(g!==null)if(typeof g=="function")try{g(null)}catch(E){ct(l,u,E)}else g.current=null}function Q_(l,u,g){try{g()}catch(E){ct(l,u,E)}}var K_=!1;function Ul(l,u,g){var E=u.updateQueue;if((E=E!==null?E.lastEffect:null)!==null){var S=E=E.next;do{if((S.tag&l)===l){var A=S.destroy;S.destroy=void 0,A!==void 0&&Q_(u,g,A)}S=S.next}while(S!==E)}}function sh(l,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var g=u=u.next;do{if((g.tag&l)===l){var E=g.create;g.destroy=E()}g=g.next}while(g!==u)}}function Mp(l){var u=l.ref;if(u!==null){var g=l.stateNode;l.tag===5?l=Z(g):l=g,typeof u=="function"?u(l):u.current=l}}function Z_(l){var u=l.alternate;u!==null&&(l.alternate=null,Z_(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode)!==null&&qi(u),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function J_(l){return l.tag===5||l.tag===3||l.tag===4}function eb(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||J_(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function Op(l,u,g){var E=l.tag;if(E===5||E===6)l=l.stateNode,u?wc(g,l,u):_c(g,l);else if(E!==4&&(l=l.child)!==null)for(Op(l,u,g),l=l.sibling;l!==null;)Op(l,u,g),l=l.sibling}function Np(l,u,g){var E=l.tag;if(E===5||E===6)l=l.stateNode,u?N0(g,l,u):O0(g,l);else if(E!==4&&(l=l.child)!==null)for(Np(l,u,g),l=l.sibling;l!==null;)Np(l,u,g),l=l.sibling}var vr=null,ei=!1;function ti(l,u,g){for(g=g.child;g!==null;)Lp(l,u,g),g=g.sibling}function Lp(l,u,g){if(Xn&&typeof Xn.onCommitFiberUnmount=="function")try{Xn.onCommitFiberUnmount(Oc,g)}catch{}switch(g.tag){case 5:ar||ia(g,u);case 6:if(Be){var E=vr,S=ei;vr=null,ti(l,u,g),ei=S,(vr=E)!==null&&(ei?L0(vr,g.stateNode):Ec(vr,g.stateNode))}else ti(l,u,g);break;case 18:Be&&vr!==null&&(ei?W3(vr,g.stateNode):G3(vr,g.stateNode));break;case 4:Be?(E=vr,S=ei,vr=g.stateNode.containerInfo,ei=!0,ti(l,u,g),vr=E,ei=S):(Xe&&(E=g.stateNode.containerInfo,S=Pc(E),El(E,S)),ti(l,u,g));break;case 0:case 11:case 14:case 15:if(!ar&&(E=g.updateQueue)!==null&&(E=E.lastEffect)!==null){S=E=E.next;do{var A=S,R=A.destroy;A=A.tag,R!==void 0&&((2&A)!=0||(4&A)!=0)&&Q_(g,u,R),S=S.next}while(S!==E)}ti(l,u,g);break;case 1:if(!ar&&(ia(g,u),typeof(E=g.stateNode).componentWillUnmount=="function"))try{E.props=g.memoizedProps,E.state=g.memoizedState,E.componentWillUnmount()}catch($){ct(g,u,$)}ti(l,u,g);break;case 21:ti(l,u,g);break;case 22:1&g.mode?(ar=(E=ar)||g.memoizedState!==null,ti(l,u,g),ar=E):ti(l,u,g);break;default:ti(l,u,g)}}function tb(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var g=l.stateNode;g===null&&(g=l.stateNode=new gP),u.forEach(function(E){var S=EP.bind(null,l,E);g.has(E)||(g.add(E),E.then(S,S))})}}function Tn(l,u){var g=u.deletions;if(g!==null)for(var E=0;E<g.length;E++){var S=g[E];try{var A=l,R=u;if(Be){var $=R;e:for(;$!==null;){switch($.tag){case 5:vr=$.stateNode,ei=!1;break e;case 3:case 4:vr=$.stateNode.containerInfo,ei=!0;break e}$=$.return}if(vr===null)throw Error(s(160));Lp(A,R,S),vr=null,ei=!1}else Lp(A,R,S);var q=S.alternate;q!==null&&(q.return=null),S.return=null}catch(ee){ct(S,u,ee)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)rb(u,l),u=u.sibling}function rb(l,u){var g=l.alternate,E=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Tn(u,l),ri(l),4&E){try{Ul(3,l,l.return),sh(3,l)}catch(te){ct(l,l.return,te)}try{Ul(5,l,l.return)}catch(te){ct(l,l.return,te)}}break;case 1:Tn(u,l),ri(l),512&E&&g!==null&&ia(g,g.return);break;case 5:if(Tn(u,l),ri(l),512&E&&g!==null&&ia(g,g.return),Be){if(32&l.flags){var S=l.stateNode;try{Sc(S)}catch(te){ct(l,l.return,te)}}if(4&E&&(S=l.stateNode)!=null){var A=l.memoizedProps;if(g=g!==null?g.memoizedProps:A,E=l.type,u=l.updateQueue,l.updateQueue=null,u!==null)try{Qs(S,u,E,g,A,l)}catch(te){ct(l,l.return,te)}}}break;case 6:if(Tn(u,l),ri(l),4&E&&Be){if(l.stateNode===null)throw Error(s(162));S=l.stateNode,A=l.memoizedProps,g=g!==null?g.memoizedProps:A;try{bc(S,g,A)}catch(te){ct(l,l.return,te)}}break;case 3:if(Tn(u,l),ri(l),4&E){if(Be&&Ie&&g!==null&&g.memoizedState.isDehydrated)try{j3(u.containerInfo)}catch(te){ct(l,l.return,te)}if(Xe){S=u.containerInfo,A=u.pendingChildren;try{El(S,A)}catch(te){ct(l,l.return,te)}}}break;case 4:if(Tn(u,l),ri(l),4&E&&Xe){S=(A=l.stateNode).containerInfo,A=A.pendingChildren;try{El(S,A)}catch(te){ct(l,l.return,te)}}break;case 13:Tn(u,l),ri(l),8192&(S=l.child).flags&&(A=S.memoizedState!==null,S.stateNode.isHidden=A,!A||S.alternate!==null&&S.alternate.memoizedState!==null||(Wp=jt())),4&E&&tb(l);break;case 22:var R=g!==null&&g.memoizedState!==null;if(1&l.mode?(ar=(g=ar)||R,Tn(u,l),ar=g):Tn(u,l),ri(l),8192&E){if(g=l.memoizedState!==null,(l.stateNode.isHidden=g)&&!R&&(1&l.mode)!=0)for(me=l,E=l.child;E!==null;){for(u=me=E;me!==null;){var $=(R=me).child;switch(R.tag){case 0:case 11:case 14:case 15:Ul(4,R,R.return);break;case 1:ia(R,R.return);var q=R.stateNode;if(typeof q.componentWillUnmount=="function"){var ee=R,re=R.return;try{var he=ee;q.props=he.memoizedProps,q.state=he.memoizedState,q.componentWillUnmount()}catch(te){ct(ee,re,te)}}break;case 5:ia(R,R.return);break;case 22:if(R.memoizedState!==null){sb(u);continue}}$!==null?($.return=R,me=$):sb(u)}E=E.sibling}if(Be){e:if(E=null,Be)for(u=l;;){if(u.tag===5){if(E===null){E=u;try{S=u.stateNode,g?Tc(S):Ac(u.stateNode,u.memoizedProps)}catch(te){ct(l,l.return,te)}}}else if(u.tag===6){if(E===null)try{A=u.stateNode,g?U0(A):z0(A,u.memoizedProps)}catch(te){ct(l,l.return,te)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;E===u&&(E=null),u=u.return}E===u&&(E=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Tn(u,l),ri(l),4&E&&tb(l);break;case 21:break;default:Tn(u,l),ri(l)}}function ri(l){var u=l.flags;if(2&u){try{if(Be){e:{for(var g=l.return;g!==null;){if(J_(g)){var E=g;break e}g=g.return}throw Error(s(160))}switch(E.tag){case 5:var S=E.stateNode;32&E.flags&&(Sc(S),E.flags&=-33),Np(l,eb(l),S);break;case 3:case 4:var A=E.stateNode.containerInfo;Op(l,eb(l),A);break;default:throw Error(s(161))}}}catch(R){ct(l,l.return,R)}l.flags&=-3}4096&u&&(l.flags&=-4097)}function vP(l,u,g){me=l,nb(l)}function nb(l,u,g){for(var E=(1&l.mode)!=0;me!==null;){var S=me,A=S.child;if(S.tag===22&&E){var R=S.memoizedState!==null||ih;if(!R){var $=S.alternate,q=$!==null&&$.memoizedState!==null||ar;$=ih;var ee=ar;if(ih=R,(ar=q)&&!ee)for(me=S;me!==null;)q=(R=me).child,R.tag===22&&R.memoizedState!==null?ob(S):q!==null?(q.return=R,me=q):ob(S);for(;A!==null;)me=A,nb(A),A=A.sibling;me=S,ih=$,ar=ee}ib(l)}else(8772&S.subtreeFlags)!=0&&A!==null?(A.return=S,me=A):ib(l)}}function ib(l){for(;me!==null;){var u=me;if((8772&u.flags)!=0){var g=u.alternate;try{if((8772&u.flags)!=0)switch(u.tag){case 0:case 11:case 15:ar||sh(5,u);break;case 1:var E=u.stateNode;if(4&u.flags&&!ar)if(g===null)E.componentDidMount();else{var S=u.elementType===u.type?g.memoizedProps:Sn(u.type,g.memoizedProps);E.componentDidUpdate(S,g.memoizedState,E.__reactInternalSnapshotBeforeUpdate)}var A=u.updateQueue;A!==null&&r_(u,A,E);break;case 3:var R=u.updateQueue;if(R!==null){if(g=null,u.child!==null)switch(u.child.tag){case 5:g=Z(u.child.stateNode);break;case 1:g=u.child.stateNode}r_(u,R,g)}break;case 5:var $=u.stateNode;g===null&&4&u.flags&&Qi($,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Ie&&u.memoizedState===null){var q=u.alternate;if(q!==null){var ee=q.memoizedState;if(ee!==null){var re=ee.dehydrated;re!==null&&H3(re)}}}break;default:throw Error(s(163))}ar||512&u.flags&&Mp(u)}catch(he){ct(u,u.return,he)}}if(u===l){me=null;break}if((g=u.sibling)!==null){g.return=u.return,me=g;break}me=u.return}}function sb(l){for(;me!==null;){var u=me;if(u===l){me=null;break}var g=u.sibling;if(g!==null){g.return=u.return,me=g;break}me=u.return}}function ob(l){for(;me!==null;){var u=me;try{switch(u.tag){case 0:case 11:case 15:var g=u.return;try{sh(4,u)}catch(q){ct(u,g,q)}break;case 1:var E=u.stateNode;if(typeof E.componentDidMount=="function"){var S=u.return;try{E.componentDidMount()}catch(q){ct(u,S,q)}}var A=u.return;try{Mp(u)}catch(q){ct(u,A,q)}break;case 5:var R=u.return;try{Mp(u)}catch(q){ct(u,R,q)}}}catch(q){ct(u,u.return,q)}if(u===l){me=null;break}var $=u.sibling;if($!==null){$.return=u.return,me=$;break}me=u.return}}var oh=0,ah=1,lh=2,uh=3,ch=4;if(typeof Symbol=="function"&&Symbol.for){var zl=Symbol.for;oh=zl("selector.component"),ah=zl("selector.has_pseudo_class"),lh=zl("selector.role"),uh=zl("selector.test_id"),ch=zl("selector.text")}function Up(l){var u=tt(l);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((l=Mr(l))===null)throw Error(s(362));return l.stateNode.current}function zp(l,u){switch(u.$$typeof){case oh:if(l.type===u.value)return!0;break;case ah:e:{u=u.value,l=[l,0];for(var g=0;g<l.length;){var E=l[g++],S=l[g++],A=u[S];if(E.tag!==5||!Vn(E)){for(;A!=null&&zp(E,A);)A=u[++S];if(S===u.length){u=!0;break e}for(E=E.child;E!==null;)l.push(E,S),E=E.sibling}}u=!1}return u;case lh:if(l.tag===5&&yc(l.stateNode,u.value))return!0;break;case ch:if((l.tag===5||l.tag===6)&&(l=Wn(l))!==null&&0<=l.indexOf(u.value))return!0;break;case uh:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function $p(l){switch(l.$$typeof){case oh:return"<"+(P(l.value)||"Unknown")+">";case ah:return":has("+($p(l)||"")+")";case lh:return'[role="'+l.value+'"]';case ch:return'"'+l.value+'"';case uh:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function ab(l,u){var g=[];l=[l,0];for(var E=0;E<l.length;){var S=l[E++],A=l[E++],R=u[A];if(S.tag!==5||!Vn(S)){for(;R!=null&&zp(S,R);)R=u[++A];if(A===u.length)g.push(S);else for(S=S.child;S!==null;)l.push(S,A),S=S.sibling}}return g}function jp(l,u){if(!yn)throw Error(s(363));l=ab(l=Up(l),u),u=[],l=Array.from(l);for(var g=0;g<l.length;){var E=l[g++];if(E.tag===5)Vn(E)||u.push(E.stateNode);else for(E=E.child;E!==null;)l.push(E),E=E.sibling}return u}var xP=Math.ceil,hh=o.ReactCurrentDispatcher,Hp=o.ReactCurrentOwner,Ct=o.ReactCurrentBatchConfig,ze=0,Wt=null,Rt=null,Jt=0,Lr=0,sa=Ki(0),Nt=0,$l=null,ro=0,dh=0,Gp=0,jl=null,Ur=null,Wp=0,Vp=1/0,ts=null;function oa(){Vp=jt()+500}var lb,fh=!1,Xp=null,rs=null,ph=!1,ns=null,mh=0,Hl=0,qp=null,gh=-1,vh=0;function lr(){return(6&ze)!=0?jt():gh!==-1?gh:gh=jt()}function is(l){return(1&l.mode)==0?1:(2&ze)!=0&&Jt!==0?Jt&-Jt:nP.transition!==null?(vh===0&&(vh=jy()),vh):(l=We)!==0?l:Dr()}function sn(l,u,g,E){if(50<Hl)throw Hl=0,qp=null,Error(s(185));Cl(l,g,E),(2&ze)!=0&&l===Wt||(l===Wt&&((2&ze)==0&&(dh|=g),Nt===4&&ss(l,Jt)),Cr(l,E),g===1&&ze===0&&(1&u.mode)==0&&(oa(),Nc&&qn()))}function Cr(l,u){var g=l.callbackNode;(function(S,A){for(var R=S.suspendedLanes,$=S.pingedLanes,q=S.expirationTimes,ee=S.pendingLanes;0<ee;){var re=31-bn(ee),he=1<<re,te=q[re];te===-1?(he&R)!=0&&(he&$)==0||(q[re]=Z3(he,A)):te<=A&&(S.expiredLanes|=he),ee&=~he}})(l,u);var E=Mc(l,l===Wt?Jt:0);if(E===0)g!==null&&Gy(g),l.callbackNode=null,l.callbackPriority=0;else if(u=E&-E,l.callbackPriority!==u){if(g!=null&&Gy(g),u===1)l.tag===0?function(S){Nc=!0,Vy(S)}(cb.bind(null,l)):Vy(cb.bind(null,l)),Kr?wl(function(){(6&ze)==0&&qn()}):J0(ep,qn),g=null;else{switch(Hy(E)){case 1:g=ep;break;case 4:g=tP;break;case 16:default:g=Wy;break;case 536870912:g=rP}g=xb(g,ub.bind(null,l))}l.callbackPriority=u,l.callbackNode=g}}function ub(l,u){if(gh=-1,vh=0,(6&ze)!=0)throw Error(s(327));var g=l.callbackNode;if(io()&&l.callbackNode!==g)return null;var E=Mc(l,l===Wt?Jt:0);if(E===0)return null;if((30&E)!=0||(E&l.expiredLanes)!=0||u)u=xh(l,E);else{u=E;var S=ze;ze|=2;var A=fb();for(Wt===l&&Jt===u||(ts=null,oa(),no(l,u));;)try{_P();break}catch($){db(l,$)}lp(),hh.current=A,ze=S,Rt!==null?u=0:(Wt=null,Jt=0,u=Nt)}if(u!==0){if(u===2&&(S=Q0(l))!==0&&(E=S,u=Yp(l,S)),u===1)throw g=$l,no(l,0),ss(l,E),Cr(l,jt()),g;if(u===6)ss(l,E);else{if(S=l.current.alternate,(30&E)==0&&!function($){for(var q=$;;){if(16384&q.flags){var ee=q.updateQueue;if(ee!==null&&(ee=ee.stores)!==null)for(var re=0;re<ee.length;re++){var he=ee[re],te=he.getSnapshot;he=he.value;try{if(!wn(te(),he))return!1}catch{return!1}}}if(ee=q.child,16384&q.subtreeFlags&&ee!==null)ee.return=q,q=ee;else{if(q===$)break;for(;q.sibling===null;){if(q.return===null||q.return===$)return!0;q=q.return}q.sibling.return=q.return,q=q.sibling}}return!0}(S)&&((u=xh(l,E))===2&&(A=Q0(l))!==0&&(E=A,u=Yp(l,A)),u===1))throw g=$l,no(l,0),ss(l,E),Cr(l,jt()),g;switch(l.finishedWork=S,l.finishedLanes=E,u){case 0:case 1:throw Error(s(345));case 2:case 5:aa(l,Ur,ts);break;case 3:if(ss(l,E),(130023424&E)===E&&10<(u=Wp+500-jt())){if(Mc(l,0)!==0)break;if(((S=l.suspendedLanes)&E)!==E){lr(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=Pe(aa.bind(null,l,Ur,ts),u);break}aa(l,Ur,ts);break;case 4:if(ss(l,E),(4194240&E)===E)break;for(u=l.eventTimes,S=-1;0<E;){var R=31-bn(E);A=1<<R,(R=u[R])>S&&(S=R),E&=~A}if(E=S,10<(E=(120>(E=jt()-E)?120:480>E?480:1080>E?1080:1920>E?1920:3e3>E?3e3:4320>E?4320:1960*xP(E/1960))-E)){l.timeoutHandle=Pe(aa.bind(null,l,Ur,ts),E);break}aa(l,Ur,ts);break;default:throw Error(s(329))}}}return Cr(l,jt()),l.callbackNode===g?ub.bind(null,l):null}function Yp(l,u){var g=jl;return l.current.memoizedState.isDehydrated&&(no(l,u).flags|=256),(l=xh(l,u))!==2&&(u=Ur,Ur=g,u!==null&&Qp(u)),l}function Qp(l){Ur===null?Ur=l:Ur.push.apply(Ur,l)}function ss(l,u){for(u&=~Gp,u&=~dh,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var g=31-bn(u),E=1<<g;l[g]=-1,u&=~E}}function cb(l){if((6&ze)!=0)throw Error(s(327));io();var u=Mc(l,0);if((1&u)==0)return Cr(l,jt()),null;var g=xh(l,u);if(l.tag!==0&&g===2){var E=Q0(l);E!==0&&(u=E,g=Yp(l,E))}if(g===1)throw g=$l,no(l,0),ss(l,u),Cr(l,jt()),g;if(g===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,aa(l,Ur,ts),Cr(l,jt()),null}function hb(l){ns!==null&&ns.tag===0&&(6&ze)==0&&io();var u=ze;ze|=1;var g=Ct.transition,E=We;try{if(Ct.transition=null,We=1,l)return l()}finally{We=E,Ct.transition=g,(6&(ze=u))==0&&qn()}}function Kp(){Lr=sa.current,lt(sa)}function no(l,u){l.finishedWork=null,l.finishedLanes=0;var g=l.timeoutHandle;if(g!==gt&&(l.timeoutHandle=gt,we(g)),Rt!==null)for(g=Rt.return;g!==null;){var E=g;switch(np(E),E.tag){case 1:(E=E.type.childContextTypes)!=null&&X0();break;case 3:ra(),lt(Sr),lt(sr),xp();break;case 5:gp(E);break;case 4:ra();break;case 13:case 19:lt(St);break;case 10:up(E.type._context);break;case 22:case 23:Kp()}g=g.return}if(Wt=l,Rt=l=os(l.current,null),Jt=Lr=u,Nt=0,$l=null,Gp=dh=ro=0,Ur=jl=null,eo!==null){for(u=0;u<eo.length;u++)if((E=(g=eo[u]).interleaved)!==null){g.interleaved=null;var S=E.next,A=g.pending;if(A!==null){var R=A.next;A.next=S,E.next=R}g.pending=E}eo=null}return l}function db(l,u){for(;;){var g=Rt;try{if(lp(),Yc.current=Jc,Qc){for(var E=vt.memoizedState;E!==null;){var S=E.queue;S!==null&&(S.pending=null),E=E.next}Qc=!1}if(to=0,Gt=Ht=vt=null,Bl=!1,Rl=0,Hp.current=null,g===null||g.return===null){Nt=1,$l=u,Rt=null;break}e:{var A=l,R=g.return,$=g,q=u;if(u=Jt,$.flags|=32768,q!==null&&typeof q=="object"&&typeof q.then=="function"){var ee=q,re=$,he=re.tag;if((1&re.mode)==0&&(he===0||he===11||he===15)){var te=re.alternate;te?(re.updateQueue=te.updateQueue,re.memoizedState=te.memoizedState,re.lanes=te.lanes):(re.updateQueue=null,re.memoizedState=null)}var ue=M_(R);if(ue!==null){ue.flags&=-257,O_(ue,R,$,0,u),1&ue.mode&&D_(A,ee,u),q=ee;var xe=(u=ue).updateQueue;if(xe===null){var De=new Set;De.add(q),u.updateQueue=De}else xe.add(q);break e}if((1&u)==0){D_(A,ee,u),Zp();break e}q=Error(s(426))}else if(ut&&1&$.mode){var ne=M_(R);if(ne!==null){(65536&ne.flags)==0&&(ne.flags|=256),O_(ne,R,$,0,u),op(na(q,$));break e}}A=q=na(q,$),Nt!==4&&(Nt=2),jl===null?jl=[A]:jl.push(A),A=R;do{switch(A.tag){case 3:A.flags|=65536,u&=-u,A.lanes|=u,t_(A,B_(0,q,u));break e;case 1:$=q;var G=A.type,J=A.stateNode;if((128&A.flags)==0&&(typeof G.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(rs===null||!rs.has(J)))){A.flags|=65536,u&=-u,A.lanes|=u,t_(A,R_(A,$,u));break e}}A=A.return}while(A!==null)}mb(g)}catch(oe){u=oe,Rt===g&&g!==null&&(Rt=g=g.return);continue}break}}function fb(){var l=hh.current;return hh.current=Jc,l===null?Jc:l}function Zp(){Nt!==0&&Nt!==3&&Nt!==2||(Nt=4),Wt===null||(268435455&ro)==0&&(268435455&dh)==0||ss(Wt,Jt)}function xh(l,u){var g=ze;ze|=2;var E=fb();for(Wt===l&&Jt===u||(ts=null,no(l,u));;)try{yP();break}catch(S){db(l,S)}if(lp(),ze=g,hh.current=E,Rt!==null)throw Error(s(261));return Wt=null,Jt=0,Nt}function yP(){for(;Rt!==null;)pb(Rt)}function _P(){for(;Rt!==null&&!J3();)pb(Rt)}function pb(l){var u=lb(l.alternate,l,Lr);l.memoizedProps=l.pendingProps,u===null?mb(l):Rt=u,Hp.current=null}function mb(l){var u=l;do{var g=u.alternate;if(l=u.return,(32768&u.flags)==0){if((g=pP(g,u,Lr))!==null)return void(Rt=g)}else{if((g=mP(g,u))!==null)return g.flags&=32767,void(Rt=g);if(l===null)return Nt=6,void(Rt=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((u=u.sibling)!==null)return void(Rt=u);Rt=u=l}while(u!==null);Nt===0&&(Nt=5)}function aa(l,u,g){var E=We,S=Ct.transition;try{Ct.transition=null,We=1,function(A,R,$,q){do io();while(ns!==null);if((6&ze)!=0)throw Error(s(327));$=A.finishedWork;var ee=A.finishedLanes;if($===null)return null;if(A.finishedWork=null,A.finishedLanes=0,$===A.current)throw Error(s(177));A.callbackNode=null,A.callbackPriority=0;var re=$.lanes|$.childLanes;if(function(ue,xe){var De=ue.pendingLanes&~xe;ue.pendingLanes=xe,ue.suspendedLanes=0,ue.pingedLanes=0,ue.expiredLanes&=xe,ue.mutableReadLanes&=xe,ue.entangledLanes&=xe,xe=ue.entanglements;var ne=ue.eventTimes;for(ue=ue.expirationTimes;0<De;){var G=31-bn(De),J=1<<G;xe[G]=0,ne[G]=-1,ue[G]=-1,De&=~J}}(A,re),A===Wt&&(Rt=Wt=null,Jt=0),(2064&$.subtreeFlags)==0&&(2064&$.flags)==0||ph||(ph=!0,xb(Wy,function(){return io(),null})),re=(15990&$.flags)!=0,(15990&$.subtreeFlags)!=0||re){re=Ct.transition,Ct.transition=null;var he=We;We=1;var te=ze;ze|=4,Hp.current=null,function(ue,xe){for(V(ue.containerInfo),me=xe;me!==null;)if(xe=(ue=me).child,(1028&ue.subtreeFlags)!=0&&xe!==null)xe.return=ue,me=xe;else for(;me!==null;){ue=me;try{var De=ue.alternate;if((1024&ue.flags)!=0)switch(ue.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(De!==null){var ne=De.memoizedProps,G=De.memoizedState,J=ue.stateNode,oe=J.getSnapshotBeforeUpdate(ue.elementType===ue.type?ne:Sn(ue.type,ne),G);J.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:Be&&Cc(ue.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(Te){ct(ue,ue.return,Te)}if((xe=ue.sibling)!==null){xe.return=ue.return,me=xe;break}me=ue.return}De=K_,K_=!1}(A,$),rb($,A),L(A.containerInfo),A.current=$,vP($),eP(),ze=te,We=he,Ct.transition=re}else A.current=$;if(ph&&(ph=!1,ns=A,mh=ee),re=A.pendingLanes,re===0&&(rs=null),function(ue){if(Xn&&typeof Xn.onCommitFiberRoot=="function")try{Xn.onCommitFiberRoot(Oc,ue,void 0,(128&ue.current.flags)==128)}catch{}}($.stateNode),Cr(A,jt()),R!==null)for(q=A.onRecoverableError,$=0;$<R.length;$++)ee=R[$],q(ee.value,{componentStack:ee.stack,digest:ee.digest});if(fh)throw fh=!1,A=Xp,Xp=null,A;(1&mh)!=0&&A.tag!==0&&io(),re=A.pendingLanes,(1&re)!=0?A===qp?Hl++:(Hl=0,qp=A):Hl=0,qn()}(l,u,g,E)}finally{Ct.transition=S,We=E}return null}function io(){if(ns!==null){var l=Hy(mh),u=Ct.transition,g=We;try{if(Ct.transition=null,We=16>l?16:l,ns===null)var E=!1;else{if(l=ns,ns=null,mh=0,(6&ze)!=0)throw Error(s(331));var S=ze;for(ze|=4,me=l.current;me!==null;){var A=me,R=A.child;if((16&me.flags)!=0){var $=A.deletions;if($!==null){for(var q=0;q<$.length;q++){var ee=$[q];for(me=ee;me!==null;){var re=me;switch(re.tag){case 0:case 11:case 15:Ul(8,re,A)}var he=re.child;if(he!==null)he.return=re,me=he;else for(;me!==null;){var te=(re=me).sibling,ue=re.return;if(Z_(re),re===ee){me=null;break}if(te!==null){te.return=ue,me=te;break}me=ue}}}var xe=A.alternate;if(xe!==null){var De=xe.child;if(De!==null){xe.child=null;do{var ne=De.sibling;De.sibling=null,De=ne}while(De!==null)}}me=A}}if((2064&A.subtreeFlags)!=0&&R!==null)R.return=A,me=R;else e:for(;me!==null;){if((2048&(A=me).flags)!=0)switch(A.tag){case 0:case 11:case 15:Ul(9,A,A.return)}var G=A.sibling;if(G!==null){G.return=A.return,me=G;break e}me=A.return}}var J=l.current;for(me=J;me!==null;){var oe=(R=me).child;if((2064&R.subtreeFlags)!=0&&oe!==null)oe.return=R,me=oe;else e:for(R=J;me!==null;){if((2048&($=me).flags)!=0)try{switch($.tag){case 0:case 11:case 15:sh(9,$)}}catch(qe){ct($,$.return,qe)}if($===R){me=null;break e}var Te=$.sibling;if(Te!==null){Te.return=$.return,me=Te;break e}me=$.return}}if(ze=S,qn(),Xn&&typeof Xn.onPostCommitFiberRoot=="function")try{Xn.onPostCommitFiberRoot(Oc,l)}catch{}E=!0}return E}finally{We=g,Ct.transition=u}}return!1}function gb(l,u,g){l=es(l,u=B_(0,u=na(g,u),1),1),u=lr(),l!==null&&(Cl(l,1,u),Cr(l,u))}function ct(l,u,g){if(l.tag===3)gb(l,l,g);else for(;u!==null;){if(u.tag===3){gb(u,l,g);break}if(u.tag===1){var E=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof E.componentDidCatch=="function"&&(rs===null||!rs.has(E))){u=es(u,l=R_(u,l=na(g,l),1),1),l=lr(),u!==null&&(Cl(u,1,l),Cr(u,l));break}}u=u.return}}function bP(l,u,g){var E=l.pingCache;E!==null&&E.delete(u),u=lr(),l.pingedLanes|=l.suspendedLanes&g,Wt===l&&(Jt&g)===g&&(Nt===4||Nt===3&&(130023424&Jt)===Jt&&500>jt()-Wp?no(l,0):Gp|=g),Cr(l,u)}function vb(l,u){u===0&&((1&l.mode)==0?u=1:(u=Y0,(130023424&(Y0<<=1))==0&&(Y0=4194304)));var g=lr();(l=Qn(l,u))!==null&&(Cl(l,u,g),Cr(l,g))}function wP(l){var u=l.memoizedState,g=0;u!==null&&(g=u.retryLane),vb(l,g)}function EP(l,u){var g=0;switch(l.tag){case 13:var E=l.stateNode,S=l.memoizedState;S!==null&&(g=S.retryLane);break;case 19:E=l.stateNode;break;default:throw Error(s(314))}E!==null&&E.delete(u),vb(l,g)}function xb(l,u){return J0(l,u)}function SP(l,u,g,E){this.tag=l,this.key=g,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=E,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(l,u,g,E){return new SP(l,u,g,E)}function Jp(l){return!(!(l=l.prototype)||!l.isReactComponent)}function os(l,u){var g=l.alternate;return g===null?((g=on(l.tag,u,l.key,l.mode)).elementType=l.elementType,g.type=l.type,g.stateNode=l.stateNode,g.alternate=l,l.alternate=g):(g.pendingProps=u,g.type=l.type,g.flags=0,g.subtreeFlags=0,g.deletions=null),g.flags=14680064&l.flags,g.childLanes=l.childLanes,g.lanes=l.lanes,g.child=l.child,g.memoizedProps=l.memoizedProps,g.memoizedState=l.memoizedState,g.updateQueue=l.updateQueue,u=l.dependencies,g.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},g.sibling=l.sibling,g.index=l.index,g.ref=l.ref,g}function yh(l,u,g,E,S,A){var R=2;if(E=l,typeof l=="function")Jp(l)&&(R=1);else if(typeof l=="string")R=5;else e:switch(l){case d:return so(g.children,S,A,u);case p:R=8,S|=8;break;case h:return(l=on(12,g,u,2|S)).elementType=h,l.lanes=A,l;case y:return(l=on(13,g,u,S)).elementType=y,l.lanes=A,l;case w:return(l=on(19,g,u,S)).elementType=w,l.lanes=A,l;case b:return _h(g,S,A,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case f:R=10;break e;case m:R=9;break e;case v:R=11;break e;case x:R=14;break e;case _:R=16,E=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return(u=on(R,g,u,S)).elementType=l,u.type=E,u.lanes=A,u}function so(l,u,g,E){return(l=on(7,l,E,u)).lanes=g,l}function _h(l,u,g,E){return(l=on(22,l,E,u)).elementType=b,l.lanes=g,l.stateNode={isHidden:!1},l}function em(l,u,g){return(l=on(6,l,null,u)).lanes=g,l}function tm(l,u,g){return(u=on(4,l.children!==null?l.children:[],l.key,u)).lanes=g,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function TP(l,u,g,E,S){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=gt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=K0(0),this.expirationTimes=K0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K0(0),this.identifierPrefix=E,this.onRecoverableError=S,Ie&&(this.mutableSourceEagerHydrationData=null)}function yb(l,u,g,E,S,A,R,$,q){return l=new TP(l,u,g,$,q),u===1?(u=1,A===!0&&(u|=8)):u=0,A=on(3,null,null,u),l.current=A,A.stateNode=l,A.memoizedState={element:E,isDehydrated:g,cache:null,transitions:null,pendingSuspenseBoundaries:null},dp(A),l}function _b(l){if(!l)return Zi;e:{if(F(l=l._reactInternals)!==l||l.tag!==1)throw Error(s(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Or(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(l.tag===1){var g=l.type;if(Or(g))return zy(l,g,u)}return u}function bb(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return(l=B(u))===null?null:l.stateNode}function wb(l,u){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var g=l.retryLane;l.retryLane=g!==0&&g<u?g:u}}function bh(l,u){wb(l,u),(l=l.alternate)&&wb(l,u)}function AP(l){return(l=B(l))===null?null:l.stateNode}function CP(){return null}return lb=function(l,u,g){if(l!==null)if(l.memoizedProps!==u.pendingProps||Sr.current)Tr=!0;else{if((l.lanes&g)==0&&(128&u.flags)==0)return Tr=!1,function(he,te,ue){switch(te.tag){case 3:H_(te),Ko();break;case 5:c_(te);break;case 1:Or(te.type)&&Dc(te);break;case 4:mp(te,te.stateNode.containerInfo);break;case 10:Zy(0,te.type._context,te.memoizedProps.value);break;case 13:var xe=te.memoizedState;if(xe!==null)return xe.dehydrated!==null?(rt(St,1&St.current),te.flags|=128,null):(ue&te.child.childLanes)!=0?W_(he,te,ue):(rt(St,1&St.current),(he=Ci(he,te,ue))!==null?he.sibling:null);rt(St,1&St.current);break;case 19:if(xe=(ue&te.childLanes)!=0,(128&he.flags)!=0){if(xe)return X_(he,te,ue);te.flags|=128}var De=te.memoizedState;if(De!==null&&(De.rendering=null,De.tail=null,De.lastEffect=null),rt(St,St.current),xe)break;return null;case 22:case 23:return te.lanes=0,z_(he,te,ue)}return Ci(he,te,ue)}(l,u,g);Tr=(131072&l.flags)!=0}else Tr=!1,ut&&(1048576&u.flags)!=0&&Xy(u,Uc,u.index);switch(u.lanes=0,u.tag){case 2:var E=u.type;nh(l,u),l=u.pendingProps;var S=qo(u,sr.current);Jo(u,g),S=bp(null,u,E,l,S,g);var A=wp();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Or(E)?(A=!0,Dc(u)):A=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,dp(u),S.updater=Vc,u.stateNode=S,S._reactInternals=u,pp(u,E,l,g),u=Fp(null,u,E,!0,A,g)):(u.tag=0,ut&&A&&rp(u),Ar(null,u,S,g),u=u.child),u;case 16:E=u.elementType;e:{switch(nh(l,u),l=u.pendingProps,E=(S=E._init)(E._payload),u.type=E,S=u.tag=function(he){if(typeof he=="function")return Jp(he)?1:0;if(he!=null){if((he=he.$$typeof)===v)return 11;if(he===x)return 14}return 2}(E),l=Sn(E,l),S){case 0:u=kp(null,u,E,l,g);break e;case 1:u=j_(null,u,E,l,g);break e;case 11:u=N_(null,u,E,l,g);break e;case 14:u=L_(null,u,E,Sn(E.type,l),g);break e}throw Error(s(306,E,""))}return u;case 0:return E=u.type,S=u.pendingProps,kp(l,u,E,S=u.elementType===E?S:Sn(E,S),g);case 1:return E=u.type,S=u.pendingProps,j_(l,u,E,S=u.elementType===E?S:Sn(E,S),g);case 3:e:{if(H_(u),l===null)throw Error(s(387));E=u.pendingProps,S=(A=u.memoizedState).element,e_(l,u),Wc(u,E,null,g);var R=u.memoizedState;if(E=R.element,Ie&&A.isDehydrated){if(A={element:E,isDehydrated:!1,cache:R.cache,pendingSuspenseBoundaries:R.pendingSuspenseBoundaries,transitions:R.transitions},u.updateQueue.baseState=A,u.memoizedState=A,256&u.flags){u=G_(l,u,E,g,S=na(Error(s(423)),u));break e}if(E!==S){u=G_(l,u,E,g,S=na(Error(s(424)),u));break e}for(Ie&&(en=O3(u.stateNode.containerInfo),Nr=u,ut=!0,En=null,Pl=!1),g=u_(u,null,E,g),u.child=g;g;)g.flags=-3&g.flags|4096,g=g.sibling}else{if(Ko(),E===S){u=Ci(l,u,g);break e}Ar(l,u,E,g)}u=u.child}return u;case 5:return c_(u),l===null&&sp(u),E=u.type,S=u.pendingProps,A=l!==null?l.memoizedProps:null,R=S.children,Ee(E,S)?R=null:A!==null&&Ee(E,A)&&(u.flags|=32),$_(l,u),Ar(l,u,R,g),u.child;case 6:return l===null&&sp(u),null;case 13:return W_(l,u,g);case 4:return mp(u,u.stateNode.containerInfo),E=u.pendingProps,l===null?u.child=ea(u,null,E,g):Ar(l,u,E,g),u.child;case 11:return E=u.type,S=u.pendingProps,N_(l,u,E,S=u.elementType===E?S:Sn(E,S),g);case 7:return Ar(l,u,u.pendingProps,g),u.child;case 8:case 12:return Ar(l,u,u.pendingProps.children,g),u.child;case 10:e:{if(E=u.type._context,S=u.pendingProps,A=u.memoizedProps,Zy(0,E,R=S.value),A!==null)if(wn(A.value,R)){if(A.children===S.children&&!Sr.current){u=Ci(l,u,g);break e}}else for((A=u.child)!==null&&(A.return=u);A!==null;){var $=A.dependencies;if($!==null){R=A.child;for(var q=$.firstContext;q!==null;){if(q.context===E){if(A.tag===1){(q=Ai(-1,g&-g)).tag=2;var ee=A.updateQueue;if(ee!==null){var re=(ee=ee.shared).pending;re===null?q.next=q:(q.next=re.next,re.next=q),ee.pending=q}}A.lanes|=g,(q=A.alternate)!==null&&(q.lanes|=g),cp(A.return,g,u),$.lanes|=g;break}q=q.next}}else if(A.tag===10)R=A.type===u.type?null:A.child;else if(A.tag===18){if((R=A.return)===null)throw Error(s(341));R.lanes|=g,($=R.alternate)!==null&&($.lanes|=g),cp(R,g,u),R=A.sibling}else R=A.child;if(R!==null)R.return=A;else for(R=A;R!==null;){if(R===u){R=null;break}if((A=R.sibling)!==null){A.return=R.return,R=A;break}R=R.return}A=R}Ar(l,u,S.children,g),u=u.child}return u;case 9:return S=u.type,E=u.pendingProps.children,Jo(u,g),E=E(S=tn(S)),u.flags|=1,Ar(l,u,E,g),u.child;case 14:return S=Sn(E=u.type,u.pendingProps),L_(l,u,E,S=Sn(E.type,S),g);case 15:return U_(l,u,u.type,u.pendingProps,g);case 17:return E=u.type,S=u.pendingProps,S=u.elementType===E?S:Sn(E,S),nh(l,u),u.tag=1,Or(E)?(l=!0,Dc(u)):l=!1,Jo(u,g),s_(u,E,S),pp(u,E,S,g),Fp(null,u,E,!0,l,g);case 19:return X_(l,u,g);case 22:return z_(l,u,g)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var u=Qn(l,134217728);u!==null&&sn(u,l,134217728,lr()),bh(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var u=Qn(l,1);u!==null&&sn(u,l,1,lr()),bh(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var u=is(l),g=Qn(l,u);g!==null&&sn(g,l,u,lr()),bh(l,u)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var g=Al(u.pendingLanes);g!==0&&(Z0(u,1|g),Cr(u,jt()),(6&ze)==0&&(oa(),qn()))}break;case 13:hb(function(){var E=Qn(l,1);if(E!==null){var S=lr();sn(E,l,1,S)}}),bh(l,1)}},e.batchedUpdates=function(l,u){var g=ze;ze|=1;try{return l(u)}finally{(ze=g)===0&&(oa(),Nc&&qn())}},e.createComponentSelector=function(l){return{$$typeof:oh,value:l}},e.createContainer=function(l,u,g,E,S,A,R){return yb(l,u,!1,null,0,E,0,A,R)},e.createHasPseudoClassSelector=function(l){return{$$typeof:ah,value:l}},e.createHydrationContainer=function(l,u,g,E,S,A,R,$,q){return(l=yb(g,E,!0,l,0,A,0,$,q)).context=_b(null),g=l.current,(A=Ai(E=lr(),S=is(g))).callback=u??null,es(g,A,S),l.current.lanes=S,Cl(l,S,E),Cr(l,E),l},e.createPortal=function(l,u,g){var E=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:E==null?null:""+E,children:l,containerInfo:u,implementation:g}},e.createRoleSelector=function(l){return{$$typeof:lh,value:l}},e.createTestNameSelector=function(l){return{$$typeof:uh,value:l}},e.createTextSelector=function(l){return{$$typeof:ch,value:l}},e.deferredUpdates=function(l){var u=We,g=Ct.transition;try{return Ct.transition=null,We=16,l()}finally{We=u,Ct.transition=g}},e.discreteUpdates=function(l,u,g,E,S){var A=We,R=Ct.transition;try{return Ct.transition=null,We=1,l(u,g,E,S)}finally{We=A,Ct.transition=R,ze===0&&oa()}},e.findAllNodes=jp,e.findBoundingRects=function(l,u){if(!yn)throw Error(s(363));u=jp(l,u),l=[];for(var g=0;g<u.length;g++)l.push(Er(u[g]));for(u=l.length-1;0<u;u--)for(var E=(g=l[u]).x,S=E+g.width,A=g.y,R=A+g.height,$=u-1;0<=$;$--)if(u!==$){var q=l[$],ee=q.x,re=ee+q.width,he=q.y,te=he+q.height;if(E>=ee&&A>=he&&S<=re&&R<=te){l.splice(u,1);break}if(!(E!==ee||g.width!==q.width||te<A||he>R)){he>A&&(q.height+=he-A,q.y=A),te<R&&(q.height=R-he),l.splice(u,1);break}if(!(A!==he||g.height!==q.height||re<E||ee>S)){ee>E&&(q.width+=ee-E,q.x=E),re<S&&(q.width=S-ee),l.splice(u,1);break}}return l},e.findHostInstance=bb,e.findHostInstanceWithNoPortals=function(l){return(l=(l=k(l))!==null?D(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return bb(l)},e.flushControlled=function(l){var u=ze;ze|=1;var g=Ct.transition,E=We;try{Ct.transition=null,We=1,l()}finally{We=E,Ct.transition=g,(ze=u)===0&&(oa(),qn())}},e.flushPassiveEffects=io,e.flushSync=hb,e.focusWithin=function(l,u){if(!yn)throw Error(s(363));for(u=ab(l=Up(l),u),u=Array.from(u),l=0;l<u.length;){var g=u[l++];if(!Vn(g)){if(g.tag===5&&Yi(g.stateNode))return!0;for(g=g.child;g!==null;)u.push(g),g=g.sibling}}return!1},e.getCurrentUpdatePriority=function(){return We},e.getFindAllNodesFailureDescription=function(l,u){if(!yn)throw Error(s(363));var g=0,E=[];l=[Up(l),0];for(var S=0;S<l.length;){var A=l[S++],R=l[S++],$=u[R];if((A.tag!==5||!Vn(A))&&(zp(A,$)&&(E.push($p($)),++R>g&&(g=R)),R<u.length))for(A=A.child;A!==null;)l.push(A,R),A=A.sibling}if(g<u.length){for(l=[];g<u.length;g++)l.push($p(u[g]));return`findAllNodes was able to match part of the selector:
  `+E.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?Z(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:AP,findFiberByHostInstance:l.findFiberByHostInstance||CP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)l=!0;else{try{Oc=u.inject(l),Xn=u}catch{}l=!!u.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,u,g,E){if(!yn)throw Error(s(363));l=jp(l,u);var S=Ys(l,g,E).disconnect;return{disconnect:function(){S()}}},e.registerMutableSourceForHydration=function(l,u){var g=u._getVersion;g=g(u._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[u,g]:l.mutableSourceEagerHydrationData.push(u,g)},e.runWithPriority=function(l,u){var g=We;try{return We=l,u()}finally{We=g}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,u,g,E){var S=u.current,A=lr(),R=is(S);return g=_b(g),u.context===null?u.context=g:u.pendingContext=g,(u=Ai(A,R)).payload={element:l},(E=E===void 0?null:E)!==null&&(u.callback=E),(l=es(S,u,R))!==null&&(sn(l,S,R,A),Gc(l,S,R)),R},e}),qE}({get exports(){return Wx},set exports(t){Wx=t}}).exports=eM();var tM=C6(Wx),L4={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Xx={},ad={get exports(){return Xx},set exports(t){Xx=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?ad.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(ad.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(ad.exports=function(){return Date.now()-r},r=Date.now()):(ad.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(A6);var KE,Ma={},lo={};({get exports(){return Ma},set exports(t){Ma=t}}).exports=(KE||(KE=1,lo.ConcurrentRoot=1,lo.ContinuousEventPriority=4,lo.DefaultEventPriority=16,lo.DiscreteEventPriority=1,lo.IdleEventPriority=536870912,lo.LegacyRoot=0),lo);var rM={};function Zg(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function U4(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&Wi(t.children).forEach(function(s){U4(s,t)})}function ZE(t,e){var r;U4(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,c=n.destroyTexture,d=c!==void 0&&c,p=n.destroyBaseTexture,h=p!==void 0&&p;s&&e.destroy({children:a,texture:d,baseTexture:h})}function JE(t,e,r){var n,i;At(e!==r,"Cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var s=t.getChildIndex(r);t.addChildAt(e,s),(n=t.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var eS=null,Un=tM({getRootHostContext:function(){return rM},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Ma.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ma.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ma.ContinuousEventPriority;default:return Ma.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=Q6[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=N4[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:wi)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return eS=function(o,a,c,d){var p=null;for(var h in c)!d.hasOwnProperty(h)&&c.hasOwnProperty(h)&&c[h]!==null&&(h===Hx||(p||(p=[]),p.push(h,null)));for(var f in d){var m=d[f],v=c!==null?c[f]:void 0;!d.hasOwnProperty(f)||m===v||m===null&&v===null||f===Hx||(p||(p=[]),p.push(f,m))}return p}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){At(!1,'Error trying to add text node "'.concat(t,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Xx,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Zg.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Zg.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Zg.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=ZE.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=ZE.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:JE,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=JE.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=wi),(a(t,n,i)||eS)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),nM=L4.dependencies["react-dom"].replace(/[^0-9.]/g,""),iM=L4.name;Un.injectIntoDevTools({bundleType:0,version:nM,rendererPackageName:iM,findHostInstanceByFiber:Un.findHostInstance});var Bs=new Map;function z4(t){if(At(Vr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`."),Bs.has(t)){var e=Bs.get(t).pixiFiberContainer;Un.updateContainer(null,e,void 0,function(){Bs.delete(t)})}}function $4(t){At(Vr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`.");var e=Bs.get(t);if(At(!e,"createRoot should only be called once"),!e){var r=Un.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return Un.updateContainer(n,r,void 0),Un.getPublicRootInstance(r)},unmount:function(){z4(t),Bs.delete(t)}}},Bs.set(t,e)}return e.reactRoot}function sM(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Bs.has(e)?n=Bs.get(e).reactRoot:n=$4(e),n.render(t)}function oM(t){z4(t)}function oc(){return oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oc.apply(this,arguments)}function aM(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lM(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,D4(n.key),n)}}function Fi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Af(t,e){return Af=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},Af(t,e)}function uM(t,e){if(e&&(Gr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Fi(t)}function Cf(t){return Cf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Cf(t)}var h0=mi.createContext(null),j4=h0.Provider,H4=h0.Consumer,cM=function(t){var e=mi.forwardRef(function(r,n){return mi.createElement(H4,null,function(i){return mi.createElement(t,oc({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function hM(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=Cf(t);if(e){var i=Cf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return uM(this,r)}}function tS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ld(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(r),!0).forEach(function(n){kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var rS=function(){},G4={width:nt.exports.number,height:nt.exports.number,onMount:nt.exports.func,onUnmount:nt.exports.func,raf:nt.exports.bool,renderOnComponentChange:nt.exports.bool,children:nt.exports.node,options:nt.exports.shape({autoStart:nt.exports.bool,width:nt.exports.number,height:nt.exports.number,useContextAlpha:nt.exports.bool,backgroundAlpha:nt.exports.number,autoDensity:nt.exports.bool,antialias:nt.exports.bool,preserveDrawingBuffer:nt.exports.bool,resolution:nt.exports.number,forceCanvas:nt.exports.bool,backgroundColor:nt.exports.number,clearBeforeRender:nt.exports.bool,powerPreference:nt.exports.string,sharedTicker:nt.exports.bool,sharedLoader:nt.exports.bool,resizeTo:function(t,e){var r=t[e];r&&At(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Gr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&At(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Gr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},dM={width:800,height:600,onMount:rS,onUnmount:rS,raf:!0,renderOnComponentChange:!0},qx=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&Af(s,o)})(i,mi.Component);var e,r,n=hM(i);function i(){var s;aM(this,i);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return kt(Fi(s=n.call.apply(n,[this].concat(a))),"_canvas",null),kt(Fi(s),"_mediaQuery",null),kt(Fi(s),"_ticker",null),kt(Fi(s),"_needsUpdate",!0),kt(Fi(s),"app",null),kt(Fi(s),"updateSize",function(){var d=s.props,p=d.width,h=d.height,f=d.options;f!=null&&f.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(p,h)}),kt(Fi(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),kt(Fi(s),"renderStage",function(){var d=s.props,p=d.renderOnComponentChange;!d.raf&&p&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,c=s.height,d=s.options,p=s.raf,h=s.renderOnComponentChange;this.app=new c0(ld(ld({width:a,height:c,view:this._canvas},d),{},{autoDensity:d?.autoDensity!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[p?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Un.createContainer(this.app.stage),Un.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),d!=null&&d.autoDensity&&window.matchMedia&&d?.resolution===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),h&&!p&&(this._ticker=new yr,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var c,d=this.props,p=d.width,h=d.height,f=d.raf,m=d.renderOnComponentChange,v=d.options;v?.resolution!==void 0&&s?.options.resolution!==v?.resolution&&(this.app.renderer.resolution=v.resolution,this.resetInteractionManager()),s.height===h&&s.width===p&&((c=s.options)===null||c===void 0?void 0:c.resolution)===v?.resolution||this.updateSize(),s.raf!==f&&this.app.ticker[f?"start":"stop"](),Un.updateContainer(this.getChildren(),this.mountNode,this),s.width===p&&s.height===h&&s.raf===f&&s.renderOnComponentChange===m&&s.options===v||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return mi.createElement(j4,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Un.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,c=this.props.options;return c&&c.view?(At(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):mi.createElement("canvas",oc({},(s=this.props,o=[].concat(Wi(Object.keys(G4)),Wi(Object.keys(Gx))),Object.keys(s).filter(function(d){return!o.includes(d)}).reduce(function(d,p){return ld(ld({},d),{},kt({},p,s[p]))},{})),{ref:function(d){return a._canvas=d}}))}}])&&lM(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();qx.propTypes=G4,qx.defaultProps=dM;var fM=qx;function W4(){var t=se.exports.useContext(h0);return At(t instanceof c0,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),t}function pM(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=W4();At(typeof t=="function","`useTick` needs a callback function."),At(r instanceof c0,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=se.exports.useRef(null);se.exports.useEffect(function(){n.current=t},[t]),se.exports.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function mM(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Yx(t,e,r){return Yx=mM()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&Af(a,s.prototype),a},Yx.apply(null,arguments)}var gM=["children","apply"];function nS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ud(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nS(Object(r),!0).forEach(function(n){kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var vM=function(t,e){At(Gr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=qs(i,gM),c=se.exports.useRef(se.exports.useMemo(function(){return r.map(function(h){var f,m=(a==null||(f=a[h])===null||f===void 0?void 0:f.construct)||[];return Yx(e[h],Wi(m))})},[r])),d=se.exports.useMemo(function(){return r.reduce(function(h,f,m){return ud(ud({},h),{},kt({},f,c.current[m]))},{})},[r]),p=se.exports.useMemo(function(){return Object.keys(a).filter(O4(M4(r))).reduce(function(h,f){return ud(ud({},h),{},kt({},f,a[f]))},{})},[a,r]);return r.forEach(function(h,f){return Object.assign(c.current[f],a[h])}),o&&function(){for(var h=arguments.length,f=new Array(h),m=0;m<h;m++)f[m]=arguments[m];return f.every(function(v){return typeof v=="function"})}(o)&&o.call(t,d),mi.createElement(t,oc({},p,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:nt.exports.node,apply:nt.exports.func},n},xM=Rr.BitmapText,yM=Rr.Container,_M=Rr.Graphics,bM=Rr.NineSlicePlane,wM=Rr.ParticleContainer,EM=Rr.Sprite,SM=Rr.AnimatedSprite,TM=Rr.Text,AM=Rr.TilingSprite,CM=Rr.SimpleMesh,PM=Rr.SimpleRope;const kM=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:SM,AppConsumer:H4,AppContext:h0,AppProvider:j4,BitmapText:xM,Container:yM,Graphics:_M,NineSlicePlane:bM,ParticleContainer:wM,PixiComponent:K6,PixiFiber:Un,SimpleMesh:CM,SimpleRope:PM,Sprite:EM,Stage:fM,TYPES:Rr,Text:TM,TilingSprite:AM,applyDefaultProps:wi,createRoot:$4,eventHandlers:Tf,render:sM,unmountComponentAtNode:oM,useApp:W4,useTick:pM,withFilters:vM,withPixiApp:cM},Symbol.toStringTag,{value:"Module"})),FM=US(kM);(function(t){t.exports=FM})(ie);var V4={exports:{}},X4={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dl=se.exports;function IM(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var BM=typeof Object.is=="function"?Object.is:IM,RM=dl.useState,DM=dl.useEffect,MM=dl.useLayoutEffect,OM=dl.useDebugValue;function NM(t,e){var r=e(),n=RM({inst:{value:r,getSnapshot:e}}),i=n[0].inst,s=n[1];return MM(function(){i.value=r,i.getSnapshot=e,Jg(i)&&s({inst:i})},[t,r,e]),DM(function(){return Jg(i)&&s({inst:i}),t(function(){Jg(i)&&s({inst:i})})},[t]),OM(r),r}function Jg(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!BM(t,r)}catch{return!0}}function LM(t,e){return e()}var UM=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?LM:NM;X4.useSyncExternalStore=dl.useSyncExternalStore!==void 0?dl.useSyncExternalStore:UM;(function(t){t.exports=X4})(V4);var q4={exports:{}},Y4={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d0=se.exports,zM=V4.exports;function $M(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jM=typeof Object.is=="function"?Object.is:$M,HM=zM.useSyncExternalStore,GM=d0.useRef,WM=d0.useEffect,VM=d0.useMemo,XM=d0.useDebugValue;Y4.useSyncExternalStoreWithSelector=function(t,e,r,n,i){var s=GM(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=VM(function(){function c(m){if(!d){if(d=!0,p=m,m=n(m),i!==void 0&&o.hasValue){var v=o.value;if(i(v,m))return h=v}return h=m}if(v=h,jM(p,m))return v;var y=n(m);return i!==void 0&&i(v,y)?v:(p=m,h=y)}var d=!1,p,h,f=r===void 0?null:r;return[function(){return c(e())},f===null?void 0:function(){return c(f())}]},[e,r,n,i]);var a=HM(t,s[0],s[1]);return WM(function(){o.hasValue=!0,o.value=a},[a]),XM(a),a};(function(t){t.exports=Y4})(q4);function qM(t){t()}let Q4=qM;const YM=t=>Q4=t,QM=()=>Q4,iS=Symbol.for("react-redux-context"),sS=typeof globalThis<"u"?globalThis:{};function KM(){var t;if(!se.exports.createContext)return{};const e=(t=sS[iS])!=null?t:sS[iS]=new Map;let r=e.get(se.exports.createContext);return r||(r=se.exports.createContext(null),e.set(se.exports.createContext,r)),r}const zs=KM();function Sy(t=zs){return function(){return se.exports.useContext(t)}}const K4=Sy(),ZM=()=>{throw new Error("uSES not initialized!")};let Z4=ZM;const JM=t=>{Z4=t},eO=(t,e)=>t===e;function tO(t=zs){const e=t===zs?K4:Sy(t);return function(n,i={}){const{equalityFn:s=eO,stabilityCheck:o=void 0,noopCheck:a=void 0}=typeof i=="function"?{equalityFn:i}:i,{store:c,subscription:d,getServerState:p,stabilityCheck:h,noopCheck:f}=e();se.exports.useRef(!0);const m=se.exports.useCallback({[n.name](y){return n(y)}}[n.name],[n,h,o]),v=Z4(d.addNestedSub,c.getState,p||c.getState,m,s);return se.exports.useDebugValue(v),v}}const Ty=tO();var J4={exports:{}},Je={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kt=typeof Symbol=="function"&&Symbol.for,Ay=Kt?Symbol.for("react.element"):60103,Cy=Kt?Symbol.for("react.portal"):60106,f0=Kt?Symbol.for("react.fragment"):60107,p0=Kt?Symbol.for("react.strict_mode"):60108,m0=Kt?Symbol.for("react.profiler"):60114,g0=Kt?Symbol.for("react.provider"):60109,v0=Kt?Symbol.for("react.context"):60110,Py=Kt?Symbol.for("react.async_mode"):60111,x0=Kt?Symbol.for("react.concurrent_mode"):60111,y0=Kt?Symbol.for("react.forward_ref"):60112,_0=Kt?Symbol.for("react.suspense"):60113,rO=Kt?Symbol.for("react.suspense_list"):60120,b0=Kt?Symbol.for("react.memo"):60115,w0=Kt?Symbol.for("react.lazy"):60116,nO=Kt?Symbol.for("react.block"):60121,iO=Kt?Symbol.for("react.fundamental"):60117,sO=Kt?Symbol.for("react.responder"):60118,oO=Kt?Symbol.for("react.scope"):60119;function Qr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Ay:switch(t=t.type,t){case Py:case x0:case f0:case m0:case p0:case _0:return t;default:switch(t=t&&t.$$typeof,t){case v0:case y0:case w0:case b0:case g0:return t;default:return e}}case Cy:return e}}}function e3(t){return Qr(t)===x0}Je.AsyncMode=Py;Je.ConcurrentMode=x0;Je.ContextConsumer=v0;Je.ContextProvider=g0;Je.Element=Ay;Je.ForwardRef=y0;Je.Fragment=f0;Je.Lazy=w0;Je.Memo=b0;Je.Portal=Cy;Je.Profiler=m0;Je.StrictMode=p0;Je.Suspense=_0;Je.isAsyncMode=function(t){return e3(t)||Qr(t)===Py};Je.isConcurrentMode=e3;Je.isContextConsumer=function(t){return Qr(t)===v0};Je.isContextProvider=function(t){return Qr(t)===g0};Je.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ay};Je.isForwardRef=function(t){return Qr(t)===y0};Je.isFragment=function(t){return Qr(t)===f0};Je.isLazy=function(t){return Qr(t)===w0};Je.isMemo=function(t){return Qr(t)===b0};Je.isPortal=function(t){return Qr(t)===Cy};Je.isProfiler=function(t){return Qr(t)===m0};Je.isStrictMode=function(t){return Qr(t)===p0};Je.isSuspense=function(t){return Qr(t)===_0};Je.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===f0||t===x0||t===m0||t===p0||t===_0||t===rO||typeof t=="object"&&t!==null&&(t.$$typeof===w0||t.$$typeof===b0||t.$$typeof===g0||t.$$typeof===v0||t.$$typeof===y0||t.$$typeof===iO||t.$$typeof===sO||t.$$typeof===oO||t.$$typeof===nO)};Je.typeOf=Qr;(function(t){t.exports=Je})(J4);var t3=J4.exports,aO={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},lO={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r3={};r3[t3.ForwardRef]=aO;r3[t3.Memo]=lO;var uO={exports:{}},et={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky=Symbol.for("react.element"),Fy=Symbol.for("react.portal"),E0=Symbol.for("react.fragment"),S0=Symbol.for("react.strict_mode"),T0=Symbol.for("react.profiler"),A0=Symbol.for("react.provider"),C0=Symbol.for("react.context"),cO=Symbol.for("react.server_context"),P0=Symbol.for("react.forward_ref"),k0=Symbol.for("react.suspense"),F0=Symbol.for("react.suspense_list"),I0=Symbol.for("react.memo"),B0=Symbol.for("react.lazy"),hO=Symbol.for("react.offscreen"),n3;n3=Symbol.for("react.module.reference");function xn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case ky:switch(t=t.type,t){case E0:case T0:case S0:case k0:case F0:return t;default:switch(t=t&&t.$$typeof,t){case cO:case C0:case P0:case B0:case I0:case A0:return t;default:return e}}case Fy:return e}}}et.ContextConsumer=C0;et.ContextProvider=A0;et.Element=ky;et.ForwardRef=P0;et.Fragment=E0;et.Lazy=B0;et.Memo=I0;et.Portal=Fy;et.Profiler=T0;et.StrictMode=S0;et.Suspense=k0;et.SuspenseList=F0;et.isAsyncMode=function(){return!1};et.isConcurrentMode=function(){return!1};et.isContextConsumer=function(t){return xn(t)===C0};et.isContextProvider=function(t){return xn(t)===A0};et.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===ky};et.isForwardRef=function(t){return xn(t)===P0};et.isFragment=function(t){return xn(t)===E0};et.isLazy=function(t){return xn(t)===B0};et.isMemo=function(t){return xn(t)===I0};et.isPortal=function(t){return xn(t)===Fy};et.isProfiler=function(t){return xn(t)===T0};et.isStrictMode=function(t){return xn(t)===S0};et.isSuspense=function(t){return xn(t)===k0};et.isSuspenseList=function(t){return xn(t)===F0};et.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===E0||t===T0||t===S0||t===k0||t===F0||t===hO||typeof t=="object"&&t!==null&&(t.$$typeof===B0||t.$$typeof===I0||t.$$typeof===A0||t.$$typeof===C0||t.$$typeof===P0||t.$$typeof===n3||t.getModuleId!==void 0)};et.typeOf=xn;(function(t){t.exports=et})(uO);function dO(){const t=QM();let e=null,r=null;return{clear(){e=null,r=null},notify(){t(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){let n=[],i=e;for(;i;)n.push(i),i=i.next;return n},subscribe(n){let i=!0,s=r={callback:n,next:null,prev:r};return s.prev?s.prev.next=s:e=s,function(){!i||e===null||(i=!1,s.next?s.next.prev=s.prev:r=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}const oS={notify(){},get:()=>[]};function fO(t,e){let r,n=oS,i=0,s=!1;function o(y){p();const w=n.subscribe(y);let x=!1;return()=>{x||(x=!0,w(),h())}}function a(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function d(){return s}function p(){i++,r||(r=e?e.addNestedSub(c):t.subscribe(c),n=dO())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=oS)}function f(){s||(s=!0,p())}function m(){s&&(s=!1,h())}const v={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:c,isSubscribed:d,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>n};return v}const pO=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",mO=pO?se.exports.useLayoutEffect:se.exports.useEffect;var R0={exports:{}},D0={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gO=se.exports,vO=Symbol.for("react.element"),xO=Symbol.for("react.fragment"),yO=Object.prototype.hasOwnProperty,_O=gO.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,bO={key:!0,ref:!0,__self:!0,__source:!0};function i3(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)yO.call(e,n)&&!bO.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:vO,type:t,key:s,ref:o,props:i,_owner:_O.current}}D0.Fragment=xO;D0.jsx=i3;D0.jsxs=i3;(function(t){t.exports=D0})(R0);const Ot=R0.exports.Fragment,H=R0.exports.jsx,Ke=R0.exports.jsxs;function s3({store:t,context:e,children:r,serverState:n,stabilityCheck:i="once",noopCheck:s="once"}){const o=se.exports.useMemo(()=>{const d=fO(t);return{store:t,subscription:d,getServerState:n?()=>n:void 0,stabilityCheck:i,noopCheck:s}},[t,n,i,s]),a=se.exports.useMemo(()=>t.getState(),[t]);return mO(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),a!==t.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,a]),H((e||zs).Provider,{value:o,children:r})}function o3(t=zs){const e=t===zs?K4:Sy(t);return function(){const{store:n}=e();return n}}const wO=o3();function EO(t=zs){const e=t===zs?wO:o3(t);return function(){return e().dispatch}}const Iy=EO();JM(q4.exports.useSyncExternalStoreWithSelector);YM(d1.exports.unstable_batchedUpdates);var SO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,TO=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,AO=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`;class Pf extends st{constructor(e=4,r=3,n=!1){super(SO,n?AO:TO),this._kernels=[],this._blur=4,this._quality=3,this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new Re,this.pixelSize=1,this._clamp=n,Array.isArray(e)?this.kernels=e:(this._blur=e,this.quality=r)}apply(e,r,n,i){const s=this._pixelSize.x/r._frame.width,o=this._pixelSize.y/r._frame.height;let a;if(this._quality===1||this._blur===0)a=this._kernels[0]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,r,n,i);else{const c=e.getFilterTexture();let d=r,p=c,h;const f=this._quality-1;for(let m=0;m<f;m++)a=this._kernels[m]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,d,p,1),h=d,d=p,p=h;a=this._kernels[f]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,d,n,i),e.returnFilterTexture(c)}}_updatePadding(){this.padding=Math.ceil(this._kernels.reduce((e,r)=>e+r+.5,0))}_generateKernels(){const e=this._blur,r=this._quality,n=[e];if(e>0){let i=e;const s=e/r;for(let o=1;o<r;o++)i-=s,n.push(i)}this._kernels=n,this._updatePadding()}get kernels(){return this._kernels}set kernels(e){Array.isArray(e)&&e.length>0?(this._kernels=e,this._quality=e.length,this._blur=Math.max(...e)):(this._kernels=[0],this._quality=1)}get clamp(){return this._clamp}set pixelSize(e){typeof e=="number"?(this._pixelSize.x=e,this._pixelSize.y=e):Array.isArray(e)?(this._pixelSize.x=e[0],this._pixelSize.y=e[1]):e instanceof Re?(this._pixelSize.x=e.x,this._pixelSize.y=e.y):(this._pixelSize.x=1,this._pixelSize.y=1)}get pixelSize(){return this._pixelSize}get quality(){return this._quality}set quality(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()}get blur(){return this._blur}set blur(e){this._blur=e,this._generateKernels()}}var a3=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,CO=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`;class PO extends st{constructor(e=.5){super(a3,CO),this.threshold=e}get threshold(){return this.uniforms.threshold}set threshold(e){this.uniforms.threshold=e}}var kO=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;const l3=class extends st{constructor(t){super(a3,kO),this.bloomScale=1,this.brightness=1,this._resolution=ye.FILTER_RESOLUTION,typeof t=="number"&&(t={threshold:t});const e=Object.assign(l3.defaults,t);this.bloomScale=e.bloomScale,this.brightness=e.brightness;const{kernels:r,blur:n,quality:i,pixelSize:s,resolution:o}=e;this._extractFilter=new PO(e.threshold),this._extractFilter.resolution=o,this._blurFilter=r?new Pf(r):new Pf(n,i),this.pixelSize=s,this.resolution=o}apply(t,e,r,n,i){const s=t.getFilterTexture();this._extractFilter.apply(t,e,s,1,i);const o=t.getFilterTexture();this._blurFilter.apply(t,s,o,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=o,t.applyFilter(this,e,r,n),t.returnFilterTexture(o),t.returnFilterTexture(s)}get resolution(){return this._resolution}set resolution(t){this._resolution=t,this._extractFilter&&(this._extractFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)}get threshold(){return this._extractFilter.threshold}set threshold(t){this._extractFilter.threshold=t}get kernels(){return this._blurFilter.kernels}set kernels(t){this._blurFilter.kernels=t}get blur(){return this._blurFilter.blur}set blur(t){this._blurFilter.blur=t}get quality(){return this._blurFilter.quality}set quality(t){this._blurFilter.quality=t}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(t){this._blurFilter.pixelSize=t}};let FO=l3;FO.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:ye.FILTER_RESOLUTION};var IO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,BO=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;const u3=class extends st{constructor(t){super(IO,BO),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,u3.defaults,t)}apply(t,e,r,n){const{width:i,height:s}=e.filterFrame;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,t.applyFilter(this,e,r,n)}get radius(){return this.uniforms.radius}set radius(t){this.uniforms.radius=t}get strength(){return this.uniforms.strength}set strength(t){this.uniforms.strength=t}get center(){return this.uniforms.center}set center(t){this.uniforms.center=t}};let RO=u3;RO.defaults={center:[.5,.5],radius:100,strength:1};var DO=`const float PI = 3.1415926538;
const float PI_2 = PI*2.;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;
uniform sampler2D uSampler;

const int TYPE_LINEAR = 0;
const int TYPE_RADIAL = 1;
const int TYPE_CONIC = 2;
const int MAX_STOPS = 32;

uniform int uNumStops;
uniform float uAlphas[3*MAX_STOPS];
uniform vec3 uColors[MAX_STOPS];
uniform float uOffsets[MAX_STOPS];
uniform int uType;
uniform float uAngle;
uniform float uAlpha;
uniform int uMaxColors;
uniform bool uReplace;

struct ColorStop {
    float offset;
    vec3 color;
    float alpha;
};

mat2 rotate2d(float angle){
    return mat2(cos(angle), -sin(angle),
    sin(angle), cos(angle));
}

float projectLinearPosition(vec2 pos, float angle){
    vec2 center = vec2(0.5);
    vec2 result = pos - center;
    result = rotate2d(angle) * result;
    result = result + center;
    return clamp(result.x, 0., 1.);
}

float projectRadialPosition(vec2 pos) {
    float r = distance(vFilterCoord, vec2(0.5));
    return clamp(2.*r, 0., 1.);
}

float projectAnglePosition(vec2 pos, float angle) {
    vec2 center = pos - vec2(0.5);
    float polarAngle=atan(-center.y, center.x);
    return mod(polarAngle + angle, PI_2) / PI_2;
}

float projectPosition(vec2 pos, int type, float angle) {
    if (type == TYPE_LINEAR) {
        return projectLinearPosition(pos, angle);
    } else if (type == TYPE_RADIAL) {
        return projectRadialPosition(pos);
    } else if (type == TYPE_CONIC) {
        return projectAnglePosition(pos, angle);
    }

    return pos.y;
}

void main(void) {
    // current/original color
    vec4 currentColor = texture2D(uSampler, vTextureCoord);

    // skip calculations if gradient alpha is 0
    if (0.0 == uAlpha) {
        gl_FragColor = currentColor;
        return;
    }

    // project position
    float y = projectPosition(vFilterCoord, uType, radians(uAngle));

    // check gradient bounds
    float offsetMin = uOffsets[0];
    float offsetMax = 0.0;

    for (int i = 0; i < MAX_STOPS; i++) {
        if (i == uNumStops-1){ // last index
            offsetMax = uOffsets[i];
        }
    }

    if (y  < offsetMin || y > offsetMax) {
        gl_FragColor = currentColor;
        return;
    }

    // limit colors
    if (uMaxColors > 0) {
        float stepSize = 1./float(uMaxColors);
        float stepNumber = float(floor(y/stepSize));
        y = stepSize * (stepNumber + 0.5);// offset by 0.5 to use color from middle of segment
    }

    // find color stops
    ColorStop from;
    ColorStop to;

    for (int i = 0; i < MAX_STOPS; i++) {
        if (y >= uOffsets[i]) {
            from = ColorStop(uOffsets[i], uColors[i], uAlphas[i]);
            to = ColorStop(uOffsets[i+1], uColors[i+1], uAlphas[i+1]);
        }

        if (i == uNumStops-1){ // last index
            break;
        }
    }

    // mix colors from stops
    vec4 colorFrom = vec4(from.color * from.alpha, from.alpha);
    vec4 colorTo = vec4(to.color * to.alpha, to.alpha);

    float segmentHeight = to.offset - from.offset;
    float relativePos = y - from.offset;// position from 0 to [segmentHeight]
    float relativePercent = relativePos / segmentHeight;// position in percent between [from.offset] and [to.offset].

    float gradientAlpha = uAlpha * currentColor.a;
    vec4 gradientColor = mix(colorFrom, colorTo, relativePercent) * gradientAlpha;

    if (uReplace == false) {
        // mix resulting color with current color
        gl_FragColor = gradientColor + currentColor*(1.-gradientColor.a);
    } else {
        // replace with gradient color
        gl_FragColor = gradientColor;
    }
}
`,MO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform vec4 inputSize;
uniform vec4 outputFrame;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
    vFilterCoord = vTextureCoord * inputSize.xy / outputFrame.zw;
}
`,Wo=Wo||{};Wo.stringify=function(){var t={"visit_linear-gradient":function(e){return t.visit_gradient(e)},"visit_repeating-linear-gradient":function(e){return t.visit_gradient(e)},"visit_radial-gradient":function(e){return t.visit_gradient(e)},"visit_repeating-radial-gradient":function(e){return t.visit_gradient(e)},visit_gradient:function(e){var r=t.visit(e.orientation);return r&&(r+=", "),e.type+"("+r+t.visit(e.colorStops)+")"},visit_shape:function(e){var r=e.value,n=t.visit(e.at),i=t.visit(e.style);return i&&(r+=" "+i),n&&(r+=" at "+n),r},"visit_default-radial":function(e){var r="",n=t.visit(e.at);return n&&(r+=n),r},"visit_extent-keyword":function(e){var r=e.value,n=t.visit(e.at);return n&&(r+=" at "+n),r},"visit_position-keyword":function(e){return e.value},visit_position:function(e){return t.visit(e.value.x)+" "+t.visit(e.value.y)},"visit_%":function(e){return e.value+"%"},visit_em:function(e){return e.value+"em"},visit_px:function(e){return e.value+"px"},visit_literal:function(e){return t.visit_color(e.value,e)},visit_hex:function(e){return t.visit_color("#"+e.value,e)},visit_rgb:function(e){return t.visit_color("rgb("+e.value.join(", ")+")",e)},visit_rgba:function(e){return t.visit_color("rgba("+e.value.join(", ")+")",e)},visit_color:function(e,r){var n=e,i=t.visit(r.length);return i&&(n+=" "+i),n},visit_angular:function(e){return e.value+"deg"},visit_directional:function(e){return"to "+e.value},visit_array:function(e){var r="",n=e.length;return e.forEach(function(i,s){r+=t.visit(i),s<n-1&&(r+=", ")}),r},visit:function(e){if(!e)return"";var r="";if(e instanceof Array)return t.visit_array(e,r);if(e.type){var n=t["visit_"+e.type];if(n)return n(e);throw Error("Missing visitor visit_"+e.type)}else throw Error("Invalid node.")}};return function(e){return t.visit(e)}}();var Wo=Wo||{};Wo.parse=function(){var t={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function r(W){var N=new Error(e+": "+W);throw N.source=e,N}function n(){var W=i();return e.length>0&&r("Invalid input not EOF"),W}function i(){return b(s)}function s(){return o("linear-gradient",t.linearGradient,c)||o("repeating-linear-gradient",t.repeatingLinearGradient,c)||o("radial-gradient",t.radialGradient,h)||o("repeating-radial-gradient",t.repeatingRadialGradient,h)}function o(W,N,V){return a(N,function(L){var z=V();return z&&(X(t.comma)||r("Missing comma before color stops")),{type:W,orientation:z,colorStops:b(T)}})}function a(W,N){var V=X(W);if(V){X(t.startCall)||r("Missing (");var L=N(V);return X(t.endCall)||r("Missing )"),L}}function c(){return d()||p()}function d(){return U("directional",t.sideOrCorner,1)}function p(){return U("angular",t.angleValue,1)}function h(){var W,N=f(),V;return N&&(W=[],W.push(N),V=e,X(t.comma)&&(N=f(),N?W.push(N):e=V)),W}function f(){var W=m()||v();if(W)W.at=w();else{var N=y();if(N){W=N;var V=w();V&&(W.at=V)}else{var L=x();L&&(W={type:"default-radial",at:L})}}return W}function m(){var W=U("shape",/^(circle)/i,0);return W&&(W.style=D()||y()),W}function v(){var W=U("shape",/^(ellipse)/i,0);return W&&(W.style=B()||y()),W}function y(){return U("extent-keyword",t.extentKeywords,1)}function w(){if(U("position",/^at/,0)){var W=x();return W||r("Missing positioning value"),W}}function x(){var W=_();if(W.x||W.y)return{type:"position",value:W}}function _(){return{x:B(),y:B()}}function b(W){var N=W(),V=[];if(N)for(V.push(N);X(t.comma);)N=W(),N?V.push(N):r("One extra comma");return V}function T(){var W=C();return W||r("Expected color definition"),W.length=B(),W}function C(){return I()||M()||F()||P()}function P(){return U("literal",t.literalColor,0)}function I(){return U("hex",t.hexColor,1)}function F(){return a(t.rgbColor,function(){return{type:"rgb",value:b(k)}})}function M(){return a(t.rgbaColor,function(){return{type:"rgba",value:b(k)}})}function k(){return X(t.number)[1]}function B(){return U("%",t.percentageValue,1)||O()||D()}function O(){return U("position-keyword",t.positionKeywords,1)}function D(){return U("px",t.pixelValue,1)||U("em",t.emValue,1)}function U(W,N,V){var L=X(N);if(L)return{type:W,value:L[V]}}function X(W){var N,V;return V=/^[\n\r\t\s]+/.exec(e),V&&Z(V[0].length),N=W.exec(e),N&&Z(N[0].length),N}function Z(W){e=e.substr(W)}return function(W){return e=W.toString(),n()}}();var OO=Wo.parse;Wo.stringify;var aS={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},lS={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function NO(t){var e,r=[],n=1,i;if(typeof t=="string")if(aS[t])r=aS[t].slice(),i="rgb";else if(t==="transparent")n=0,i="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var s=t.slice(1),o=s.length,a=o<=4;n=1,a?(r=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(n=parseInt(s[3]+s[3],16)/255)):(r=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(n=parseInt(s[6]+s[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),i="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var c=e[1],d=c==="rgb",s=c.replace(/a$/,"");i=s;var o=s==="cmyk"?4:s==="gray"?1:3;r=e[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(f,m){if(/%$/.test(f))return m===o?parseFloat(f)/100:s==="rgb"?parseFloat(f)*255/100:parseFloat(f);if(s[m]==="h"){if(/deg$/.test(f))return parseFloat(f);if(lS[f]!==void 0)return lS[f]}return parseFloat(f)}),c===s&&r.push(1),n=d||r[o]===void 0?1:r[o],r=r.slice(0,o)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(r=t.match(/([0-9]+)/g).map(function(p){return parseFloat(p)}),i=t.match(/([a-z])/ig).join("").toLowerCase());else isNaN(t)?Array.isArray(t)||t.length?(r=[t[0],t[1],t[2]],i="rgb",n=t.length===4?t[3]:1):t instanceof Object&&(t.r!=null||t.red!=null||t.R!=null?(i="rgb",r=[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0]):(i="hsl",r=[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness]),n=t.a||t.alpha||t.opacity||1,t.opacity!=null&&(n/=100)):(i="rgb",r=[t>>>16,(t&65280)>>>8,t&255]);return{space:i,values:r,alpha:n}}var Qx={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},ev={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o,a,c;if(r===0)return c=n*255,[c,c,c];n<.5?s=n*(1+r):s=n+r-n*r,i=2*n-s,a=[0,0,0];for(var d=0;d<3;d++)o=e+1/3*-(d-1),o<0?o++:o>1&&o--,6*o<1?c=i+(s-i)*6*o:2*o<1?c=s:3*o<2?c=i+(s-i)*(2/3-o)*6:c=i,a[d]=c*255;return a}};Qx.hsl=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,a,c,d;return s===i?a=0:e===s?a=(r-n)/o:r===s?a=2+(n-e)/o:n===s&&(a=4+(e-r)/o),a=Math.min(a*60,360),a<0&&(a+=360),d=(i+s)/2,s===i?c=0:d<=.5?c=o/(s+i):c=o/(2-s-i),[a,c*100,d*100]};function LO(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments));var e,r=NO(t);if(!r.space)return[];const n=r.space[0]==="h"?ev.min:Qx.min,i=r.space[0]==="h"?ev.max:Qx.max;return e=Array(3),e[0]=Math.min(Math.max(r.values[0],n[0]),i[0]),e[1]=Math.min(Math.max(r.values[1],n[1]),i[1]),e[2]=Math.min(Math.max(r.values[2],n[2]),i[2]),r.space[0]==="h"&&(e=ev.rgb(e)),e.push(Math.min(Math.max(r.alpha,0),1)),e}function c3(t){switch(typeof t){case"string":return UO(t);case"number":return Jf(t);default:return t}}function UO(t){const e=LO(t);if(!e)throw new Error(`Unable to parse color "${t}" as RGBA.`);return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function zO(t){const e=OO(YO(t));if(e.length===0)throw new Error("Invalid CSS gradient.");if(e.length!==1)throw new Error("Unsupported CSS gradient (multiple gradients is not supported).");const r=e[0],n=$O(r.type),i=jO(r.colorStops),s=XO(r.orientation);return{type:n,stops:i,angle:s}}function $O(t){const e={"linear-gradient":0,"radial-gradient":1};if(!(t in e))throw new Error(`Unsupported gradient type "${t}"`);return e[t]}function jO(t){const e=WO(t),r=[];for(let n=0;n<t.length;n++){const i=HO(t[n]);r.push({offset:e[n],color:i.slice(0,3),alpha:i[3]})}return r}function HO(t){return c3(GO(t))}function GO(t){switch(t.type){case"hex":return`#${t.value}`;case"literal":return t.value;default:return`${t.type}(${t.value.join(",")})`}}function WO(t){const e=[];for(let i=0;i<t.length;i++){const s=t[i];let o=-1;s.type==="literal"&&s.length&&"type"in s.length&&s.length.type==="%"&&"value"in s.length&&(o=parseFloat(s.length.value)/100),e.push(o)}const r=i=>{for(let s=i;s<e.length;s++)if(e[s]!==-1)return{indexDelta:s-i,offset:e[s]};return{indexDelta:e.length-1-i,offset:1}};let n=0;for(let i=0;i<e.length;i++){const s=e[i];if(s!==-1)n=s;else if(i===0)e[i]=0;else if(i+1===e.length)e[i]=1;else{const o=r(i),a=(o.offset-n)/(1+o.indexDelta);for(let c=0;c<=o.indexDelta;c++)e[i+c]=n+(c+1)*a;i+=o.indexDelta,n=e[i]}}return e.map(VO)}function VO(t){return t.toString().length>6?parseFloat(t.toString().substring(0,6)):t}function XO(t){if(typeof t>"u")return 0;if("type"in t&&"value"in t)switch(t.type){case"angular":return parseFloat(t.value);case"directional":return qO(t.value)}return 0}function qO(t){const e={left:270,top:0,bottom:180,right:90,"left top":315,"top left":315,"left bottom":225,"bottom left":225,"right top":45,"top right":45,"right bottom":135,"bottom right":135};if(!(t in e))throw new Error(`Unsupported directional value "${t}"`);return e[t]}function YO(t){let e=t.replace(/\s{2,}/gu," ");return e=e.replace(/;/g,""),e=e.replace(/ ,/g,","),e=e.replace(/\( /g,"("),e=e.replace(/ \)/g,")"),e.trim()}var QO=Object.defineProperty,KO=Object.defineProperties,ZO=Object.getOwnPropertyDescriptors,uS=Object.getOwnPropertySymbols,JO=Object.prototype.hasOwnProperty,eN=Object.prototype.propertyIsEnumerable,cS=(t,e,r)=>e in t?QO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tv=(t,e)=>{for(var r in e||(e={}))JO.call(e,r)&&cS(t,r,e[r]);if(uS)for(var r of uS(e))eN.call(e,r)&&cS(t,r,e[r]);return t},tN=(t,e)=>KO(t,ZO(e));const hS=90;function rN(t){return[...t].sort((e,r)=>e.offset-r.offset)}const Iu=class extends st{constructor(t){var e,r;let n;if(t&&"css"in t?n=tN(tv({},zO(t.css||"")),{alpha:(e=t.alpha)!=null?e:Iu.defaults.alpha,maxColors:(r=t.maxColors)!=null?r:Iu.defaults.maxColors}):n=tv(tv({},Iu.defaults),t),!n.stops||n.stops.length<2)throw new Error("ColorGradientFilter requires at least 2 color stops.");super(MO,DO),this._stops=[],this.autoFit=!1,Object.assign(this,n)}get stops(){return this._stops}set stops(t){const e=rN(t),r=new Float32Array(e.length*3),n=0,i=1,s=2;for(let o=0;o<e.length;o++){const a=c3(e[o].color),c=o*3;r[c+n]=a[n],r[c+i]=a[i],r[c+s]=a[s]}this.uniforms.uColors=r,this.uniforms.uOffsets=e.map(o=>o.offset),this.uniforms.uAlphas=e.map(o=>o.alpha),this.uniforms.uNumStops=e.length,this._stops=e}set type(t){this.uniforms.uType=t}get type(){return this.uniforms.uType}set angle(t){this.uniforms.uAngle=t-hS}get angle(){return this.uniforms.uAngle+hS}set alpha(t){this.uniforms.uAlpha=t}get alpha(){return this.uniforms.uAlpha}set maxColors(t){this.uniforms.uMaxColors=t}get maxColors(){return this.uniforms.uMaxColors}set replace(t){this.uniforms.uReplace=t}get replace(){return this.uniforms.uReplace}};let cd=Iu;cd.LINEAR=0,cd.RADIAL=1,cd.CONIC=2,cd.defaults={type:Iu.LINEAR,stops:[{offset:0,color:16711680,alpha:1},{offset:1,color:255,alpha:1}],alpha:1,angle:90,maxColors:0,replace:!1};var nN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,iN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;const h3=class extends st{constructor(t){super(nN,iN),this.time=0,this.seed=0,this.uniforms.dimensions=new Float32Array(2),Object.assign(this,h3.defaults,t)}apply(t,e,r,n){const{width:i,height:s}=e.filterFrame;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,this.uniforms.seed=this.seed,this.uniforms.time=this.time,t.applyFilter(this,e,r,n)}set curvature(t){this.uniforms.curvature=t}get curvature(){return this.uniforms.curvature}set lineWidth(t){this.uniforms.lineWidth=t}get lineWidth(){return this.uniforms.lineWidth}set lineContrast(t){this.uniforms.lineContrast=t}get lineContrast(){return this.uniforms.lineContrast}set verticalLine(t){this.uniforms.verticalLine=t}get verticalLine(){return this.uniforms.verticalLine}set noise(t){this.uniforms.noise=t}get noise(){return this.uniforms.noise}set noiseSize(t){this.uniforms.noiseSize=t}get noiseSize(){return this.uniforms.noiseSize}set vignetting(t){this.uniforms.vignetting=t}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(t){this.uniforms.vignettingAlpha=t}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(t){this.uniforms.vignettingBlur=t}get vignettingBlur(){return this.uniforms.vignettingBlur}};let sN=h3;sN.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0};var oN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,aN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`,lN=Object.defineProperty,dS=Object.getOwnPropertySymbols,uN=Object.prototype.hasOwnProperty,cN=Object.prototype.propertyIsEnumerable,fS=(t,e,r)=>e in t?lN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,pS=(t,e)=>{for(var r in e||(e={}))uN.call(e,r)&&fS(t,r,e[r]);if(dS)for(var r of dS(e))cN.call(e,r)&&fS(t,r,e[r]);return t};const Kx=class extends st{constructor(t){super(),this.angle=45,this._distance=5,this._resolution=ye.FILTER_RESOLUTION;const e=t?pS(pS({},Kx.defaults),t):Kx.defaults,{kernels:r,blur:n,quality:i,pixelSize:s,resolution:o}=e;this._offset=new Ln(this._updatePadding,this),this._tintFilter=new st(oN,aN),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=this._offset,this._tintFilter.resolution=o,this._blurFilter=r?new Pf(r):new Pf(n,i),this.pixelSize=s,this.resolution=o;const{shadowOnly:a,rotation:c,distance:d,offset:p,alpha:h,color:f}=e;this.shadowOnly=a,c!==void 0&&d!==void 0?(this.rotation=c,this.distance=d):this.offset=p,this.alpha=h,this.color=f}apply(t,e,r,n){const i=t.getFilterTexture();this._tintFilter.apply(t,e,i,1),this._blurFilter.apply(t,i,r,n),this.shadowOnly!==!0&&t.applyFilter(this,e,r,0),t.returnFilterTexture(i)}_updatePadding(){const t=Math.max(Math.abs(this._offset.x),Math.abs(this._offset.y));this.padding=t+this.blur*2}_updateShift(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))}set offset(t){this._offset.copyFrom(t),this._updatePadding()}get offset(){return this._offset}get resolution(){return this._resolution}set resolution(t){this._resolution=t,this._tintFilter&&(this._tintFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)}get distance(){return this._distance}set distance(t){Me("5.3.0","DropShadowFilter distance is deprecated, use offset"),this._distance=t,this._updatePadding(),this._updateShift()}get rotation(){return this.angle/rc}set rotation(t){Me("5.3.0","DropShadowFilter rotation is deprecated, use offset"),this.angle=t*rc,this._updateShift()}get alpha(){return this._tintFilter.uniforms.alpha}set alpha(t){this._tintFilter.uniforms.alpha=t}get color(){return py(this._tintFilter.uniforms.color)}set color(t){Jf(t,this._tintFilter.uniforms.color)}get kernels(){return this._blurFilter.kernels}set kernels(t){this._blurFilter.kernels=t}get blur(){return this._blurFilter.blur}set blur(t){this._blurFilter.blur=t,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(t){this._blurFilter.quality=t}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(t){this._blurFilter.pixelSize=t}};let hN=Kx;hN.defaults={offset:{x:4,y:4},color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:ye.FILTER_RESOLUTION};var dN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,fN=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`;const Zx=class extends st{constructor(t){super(dN,fN),this.offset=100,this.fillMode=Zx.TRANSPARENT,this.average=!1,this.seed=0,this.minSize=8,this.sampleSize=512,this._slices=0,this._offsets=new Float32Array(1),this._sizes=new Float32Array(1),this._direction=-1,this.uniforms.dimensions=new Float32Array(2),this._canvas=document.createElement("canvas"),this._canvas.width=4,this._canvas.height=this.sampleSize,this.texture=ae.from(this._canvas,{scaleMode:pi.NEAREST}),Object.assign(this,Zx.defaults,t)}apply(t,e,r,n){const{width:i,height:s}=e.filterFrame;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,this.uniforms.aspect=s/i,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,t.applyFilter(this,e,r,n)}_randomizeSizes(){const t=this._sizes,e=this._slices-1,r=this.sampleSize,n=Math.min(this.minSize/r,.9/this._slices);if(this.average){const i=this._slices;let s=1;for(let o=0;o<e;o++){const a=s/(i-o),c=Math.max(a*(1-Math.random()*.6),n);t[o]=c,s-=c}t[e]=s}else{let i=1;const s=Math.sqrt(1/this._slices);for(let o=0;o<e;o++){const a=Math.max(s*i*Math.random(),n);t[o]=a,i-=a}t[e]=i}this.shuffle()}shuffle(){const t=this._sizes,e=this._slices-1;for(let r=e;r>0;r--){const n=Math.random()*r>>0,i=t[r];t[r]=t[n],t[n]=i}}_randomizeOffsets(){for(let t=0;t<this._slices;t++)this._offsets[t]=Math.random()*(Math.random()<.5?-1:1)}refresh(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()}redraw(){const t=this.sampleSize,e=this.texture,r=this._canvas.getContext("2d");r.clearRect(0,0,8,t);let n,i=0;for(let s=0;s<this._slices;s++){n=Math.floor(this._offsets[s]*256);const o=this._sizes[s]*t,a=n>0?n:0,c=n<0?-n:0;r.fillStyle=`rgba(${a}, ${c}, 0, 1)`,r.fillRect(0,i>>0,t,o+1>>0),i+=o}e.baseTexture.update(),this.uniforms.displacementMap=e}set sizes(t){const e=Math.min(this._slices,t.length);for(let r=0;r<e;r++)this._sizes[r]=t[r]}get sizes(){return this._sizes}set offsets(t){const e=Math.min(this._slices,t.length);for(let r=0;r<e;r++)this._offsets[r]=t[r]}get offsets(){return this._offsets}get slices(){return this._slices}set slices(t){this._slices!==t&&(this._slices=t,this.uniforms.slices=t,this._sizes=this.uniforms.slicesWidth=new Float32Array(t),this._offsets=this.uniforms.slicesOffset=new Float32Array(t),this.refresh())}get direction(){return this._direction}set direction(t){if(this._direction===t)return;this._direction=t;const e=t*rc;this.uniforms.sinDir=Math.sin(e),this.uniforms.cosDir=Math.cos(e)}get red(){return this.uniforms.red}set red(t){this.uniforms.red=t}get green(){return this.uniforms.green}set green(t){this.uniforms.green=t}get blue(){return this.uniforms.blue}set blue(t){this.uniforms.blue=t}destroy(){var t;(t=this.texture)==null||t.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null}};let pa=Zx;pa.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},pa.TRANSPARENT=0,pa.ORIGINAL=1,pa.LOOP=2,pa.CLAMP=3,pa.MIRROR=4;var pN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,mN=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;
uniform float alpha;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    if (knockout) {
      float resultAlpha = (outerGlowAlpha + innerGlowAlpha) * alpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      vec4 outerGlowColor = outerGlowStrength * glowColor.rgba * alpha;
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;const d3=class extends st{constructor(t){const e=Object.assign({},d3.defaults,t),{outerStrength:r,innerStrength:n,color:i,knockout:s,quality:o,alpha:a}=e,c=Math.round(e.distance);super(pN,mN.replace(/__ANGLE_STEP_SIZE__/gi,`${(1/o/c).toFixed(7)}`).replace(/__DIST__/gi,`${c.toFixed(0)}.0`)),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.uniforms.alpha=1,Object.assign(this,{color:i,outerStrength:r,innerStrength:n,padding:c,knockout:s,alpha:a})}get color(){return py(this.uniforms.glowColor)}set color(t){Jf(t,this.uniforms.glowColor)}get outerStrength(){return this.uniforms.outerStrength}set outerStrength(t){this.uniforms.outerStrength=t}get innerStrength(){return this.uniforms.innerStrength}set innerStrength(t){this.uniforms.innerStrength=t}get knockout(){return this.uniforms.knockout}set knockout(t){this.uniforms.knockout=t}get alpha(){return this.uniforms.alpha}set alpha(t){this.uniforms.alpha=t}};let gN=d3;gN.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1,alpha:1};var vN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,xN=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,yN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`;const f3=class extends st{constructor(t){super(vN,yN.replace("${perlin}",xN)),this.parallel=!0,this.time=0,this._angle=0,this.uniforms.dimensions=new Float32Array(2);const e=Object.assign(f3.defaults,t);this._angleLight=new Re,this.angle=e.angle,this.gain=e.gain,this.lacunarity=e.lacunarity,this.alpha=e.alpha,this.parallel=e.parallel,this.center=e.center,this.time=e.time}apply(t,e,r,n){const{width:i,height:s}=e.filterFrame;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,this.uniforms.aspect=s/i,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,t.applyFilter(this,e,r,n)}get angle(){return this._angle}set angle(t){this._angle=t;const e=t*rc;this._angleLight.x=Math.cos(e),this._angleLight.y=Math.sin(e)}get gain(){return this.uniforms.gain}set gain(t){this.uniforms.gain=t}get lacunarity(){return this.uniforms.lacunarity}set lacunarity(t){this.uniforms.lacunarity=t}get alpha(){return this.uniforms.alpha}set alpha(t){this.uniforms.alpha=t}};let _N=f3;_N.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1};var bN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,wN=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float uHue;
uniform float uAlpha;
uniform bool uColorize;
uniform float uSaturation;
uniform float uLightness;

// https://en.wikipedia.org/wiki/Luma_(video)
const vec3 weight = vec3(0.299, 0.587, 0.114);

float getWeightedAverage(vec3 rgb) {
    return rgb.r * weight.r + rgb.g * weight.g + rgb.b * weight.b;
}

// https://gist.github.com/mairod/a75e7b44f68110e1576d77419d608786?permalink_comment_id=3195243#gistcomment-3195243
const vec3 k = vec3(0.57735, 0.57735, 0.57735);

vec3 hueShift(vec3 color, float angle) {
    float cosAngle = cos(angle);
    return vec3(
    color * cosAngle +
    cross(k, color) * sin(angle) +
    k * dot(k, color) * (1.0 - cosAngle)
    );
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    vec4 result = color;

    // colorize
    if (uColorize) {
        result.rgb = vec3(getWeightedAverage(result.rgb), 0., 0.);
    }

    // hue
    result.rgb = hueShift(result.rgb, uHue);

    // saturation
    // https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/huesaturation.js
    float average = (result.r + result.g + result.b) / 3.0;

    if (uSaturation > 0.) {
        result.rgb += (average - result.rgb) * (1. - 1. / (1.001 - uSaturation));
    } else {
        result.rgb -= (average - result.rgb) * uSaturation;
    }

    // lightness
    result.rgb = mix(result.rgb, vec3(ceil(uLightness)) * color.a, abs(uLightness));

    // alpha
    gl_FragColor = mix(color, result, uAlpha);
}
`;const p3=class extends st{constructor(t){super(bN,wN),this._hue=0;const e=Object.assign({},p3.defaults,t);Object.assign(this,e)}get hue(){return this._hue}set hue(t){this._hue=t,this.uniforms.uHue=this._hue*(Math.PI/180)}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}get colorize(){return this.uniforms.uColorize}set colorize(t){this.uniforms.uColorize=t}get lightness(){return this.uniforms.uLightness}set lightness(t){this.uniforms.uLightness=t}get saturation(){return this.uniforms.uSaturation}set saturation(t){this.uniforms.uSaturation=t}};let EN=p3;EN.defaults={hue:0,saturation:0,lightness:0,colorize:!1,alpha:1};var SN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,TN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`;const m3=class extends st{constructor(t,e=0){super(SN,TN),this.seed=0,this.uniforms.dimensions=new Float32Array(2),typeof t=="number"?(this.seed=t,t=void 0):this.seed=e,Object.assign(this,m3.defaults,t)}apply(t,e,r,n){var i,s;this.uniforms.dimensions[0]=(i=e.filterFrame)==null?void 0:i.width,this.uniforms.dimensions[1]=(s=e.filterFrame)==null?void 0:s.height,this.uniforms.seed=this.seed,t.applyFilter(this,e,r,n)}set sepia(t){this.uniforms.sepia=t}get sepia(){return this.uniforms.sepia}set noise(t){this.uniforms.noise=t}get noise(){return this.uniforms.noise}set noiseSize(t){this.uniforms.noiseSize=t}get noiseSize(){return this.uniforms.noiseSize}set scratch(t){this.uniforms.scratch=t}get scratch(){return this.uniforms.scratch}set scratchDensity(t){this.uniforms.scratchDensity=t}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(t){this.uniforms.scratchWidth=t}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(t){this.uniforms.vignetting=t}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(t){this.uniforms.vignettingAlpha=t}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(t){this.uniforms.vignettingBlur=t}get vignettingBlur(){return this.uniforms.vignettingBlur}};let AN=m3;AN.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};var CN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,PN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterClamp;

uniform float uAlpha;
uniform vec2 uThickness;
uniform vec4 uColor;
uniform bool uKnockout;

const float DOUBLE_PI = 2. * 3.14159265358979323846264;
const float ANGLE_STEP = \${angleStep};

float outlineMaxAlphaAtPos(vec2 pos) {
    if (uThickness.x == 0. || uThickness.y == 0.) {
        return 0.;
    }

    vec4 displacedColor;
    vec2 displacedPos;
    float maxAlpha = 0.;

    for (float angle = 0.; angle <= DOUBLE_PI; angle += ANGLE_STEP) {
        displacedPos.x = vTextureCoord.x + uThickness.x * cos(angle);
        displacedPos.y = vTextureCoord.y + uThickness.y * sin(angle);
        displacedColor = texture2D(uSampler, clamp(displacedPos, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, displacedColor.a);
    }

    return maxAlpha;
}

void main(void) {
    vec4 sourceColor = texture2D(uSampler, vTextureCoord);
    vec4 contentColor = sourceColor * float(!uKnockout);
    float outlineAlpha = uAlpha * outlineMaxAlphaAtPos(vTextureCoord.xy) * (1.-sourceColor.a);
    vec4 outlineColor = vec4(vec3(uColor) * outlineAlpha, outlineAlpha);
    gl_FragColor = contentColor + outlineColor;
}
`;const Md=class extends st{constructor(t=1,e=0,r=.1,n=1,i=!1){super(CN,PN.replace(/\$\{angleStep\}/,Md.getAngleStep(r))),this._thickness=1,this._alpha=1,this._knockout=!1,this.uniforms.uThickness=new Float32Array([0,0]),this.uniforms.uColor=new Float32Array([0,0,0,1]),this.uniforms.uAlpha=n,this.uniforms.uKnockout=i,Object.assign(this,{thickness:t,color:e,quality:r,alpha:n,knockout:i})}static getAngleStep(t){const e=Math.max(t*Md.MAX_SAMPLES,Md.MIN_SAMPLES);return(Math.PI*2/e).toFixed(7)}apply(t,e,r,n){this.uniforms.uThickness[0]=this._thickness/e._frame.width,this.uniforms.uThickness[1]=this._thickness/e._frame.height,this.uniforms.uAlpha=this._alpha,this.uniforms.uKnockout=this._knockout,t.applyFilter(this,e,r,n)}get alpha(){return this._alpha}set alpha(t){this._alpha=t}get color(){return py(this.uniforms.uColor)}set color(t){Jf(t,this.uniforms.uColor)}get knockout(){return this._knockout}set knockout(t){this._knockout=t}get thickness(){return this._thickness}set thickness(t){this._thickness=t,this.padding=t}};let Eo=Md;Eo.MIN_SAMPLES=1,Eo.MAX_SAMPLES=100;var kN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,FN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`;const g3=class extends st{constructor(t){super(kN,FN),this.time=0,this.uniforms.amplitude=new Float32Array(2),this.uniforms.waveLength=new Float32Array(2),this.uniforms.alpha=new Float32Array(2),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,g3.defaults,t)}apply(t,e,r,n){var i,s;this.uniforms.dimensions[0]=(i=e.filterFrame)==null?void 0:i.width,this.uniforms.dimensions[1]=(s=e.filterFrame)==null?void 0:s.height,this.uniforms.time=this.time,t.applyFilter(this,e,r,n)}set mirror(t){this.uniforms.mirror=t}get mirror(){return this.uniforms.mirror}set boundary(t){this.uniforms.boundary=t}get boundary(){return this.uniforms.boundary}set amplitude(t){this.uniforms.amplitude[0]=t[0],this.uniforms.amplitude[1]=t[1]}get amplitude(){return this.uniforms.amplitude}set waveLength(t){this.uniforms.waveLength[0]=t[0],this.uniforms.waveLength[1]=t[1]}get waveLength(){return this.uniforms.waveLength}set alpha(t){this.uniforms.alpha[0]=t[0],this.uniforms.alpha[1]=t[1]}get alpha(){return this.uniforms.alpha}};let IN=g3;IN.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0};var BN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,RN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`;const v3=class extends st{constructor(t=[0,0],e,r=0){super(BN,RN),this.center=t,Object.assign(this,v3.defaults,e),this.time=r}apply(t,e,r,n){this.uniforms.time=this.time,t.applyFilter(this,e,r,n)}get center(){return this.uniforms.center}set center(t){this.uniforms.center=t}get amplitude(){return this.uniforms.amplitude}set amplitude(t){this.uniforms.amplitude=t}get wavelength(){return this.uniforms.wavelength}set wavelength(t){this.uniforms.wavelength=t}get brightness(){return this.uniforms.brightness}set brightness(t){this.uniforms.brightness=t}get speed(){return this.uniforms.speed}set speed(t){this.uniforms.speed=t}get radius(){return this.uniforms.radius}set radius(t){this.uniforms.radius=t}};let DN=v3;DN.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1};var MN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ON=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;class x3 extends st{constructor(e){var r,n;super(MN,ON),this.uniforms.blur=e.blur,this.uniforms.gradientBlur=e.gradientBlur,this.uniforms.start=(r=e.start)!=null?r:new Re(0,window.innerHeight/2),this.uniforms.end=(n=e.end)!=null?n:new Re(600,window.innerHeight/2),this.uniforms.delta=new Re(30,30),this.uniforms.texSize=new Re(window.innerWidth,window.innerHeight),this.updateDelta()}updateDelta(){this.uniforms.delta.x=0,this.uniforms.delta.y=0}get blur(){return this.uniforms.blur}set blur(e){this.uniforms.blur=e}get gradientBlur(){return this.uniforms.gradientBlur}set gradientBlur(e){this.uniforms.gradientBlur=e}get start(){return this.uniforms.start}set start(e){this.uniforms.start=e,this.updateDelta()}get end(){return this.uniforms.end}set end(e){this.uniforms.end=e,this.updateDelta()}}class NN extends x3{updateDelta(){const e=this.uniforms.end.x-this.uniforms.start.x,r=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(e*e+r*r);this.uniforms.delta.x=e/n,this.uniforms.delta.y=r/n}}class LN extends x3{updateDelta(){const e=this.uniforms.end.x-this.uniforms.start.x,r=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(e*e+r*r);this.uniforms.delta.x=-r/n,this.uniforms.delta.y=e/n}}const y3=class extends st{constructor(t,e,r,n){super(),typeof t=="number"&&(Me("5.3.0","TiltShiftFilter constructor arguments is deprecated, use options."),t={blur:t,gradientBlur:e,start:r,end:n}),t=Object.assign({},y3.defaults,t),this.tiltShiftXFilter=new NN(t),this.tiltShiftYFilter=new LN(t)}apply(t,e,r,n){const i=t.getFilterTexture();this.tiltShiftXFilter.apply(t,e,i,1),this.tiltShiftYFilter.apply(t,i,r,n),t.returnFilterTexture(i)}get blur(){return this.tiltShiftXFilter.blur}set blur(t){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=t}get gradientBlur(){return this.tiltShiftXFilter.gradientBlur}set gradientBlur(t){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=t}get start(){return this.tiltShiftXFilter.start}set start(t){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=t}get end(){return this.tiltShiftXFilter.end}set end(t){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=t}};let UN=y3;UN.defaults={blur:100,gradientBlur:600,start:void 0,end:void 0};var zN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$N=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;const _3=class extends st{constructor(t){super(zN,$N),Object.assign(this,_3.defaults,t)}get offset(){return this.uniforms.offset}set offset(t){this.uniforms.offset=t}get radius(){return this.uniforms.radius}set radius(t){this.uniforms.radius=t}get angle(){return this.uniforms.angle}set angle(t){this.uniforms.angle=t}};let jN=_3;jN.defaults={radius:200,angle:4,padding:20,offset:new Re};var HN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,GN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,mS=Object.getOwnPropertySymbols,WN=Object.prototype.hasOwnProperty,VN=Object.prototype.propertyIsEnumerable,XN=(t,e)=>{var r={};for(var n in t)WN.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&mS)for(var n of mS(t))e.indexOf(n)<0&&VN.call(t,n)&&(r[n]=t[n]);return r};const b3=class extends st{constructor(t){const e=Object.assign(b3.defaults,t),{maxKernelSize:r}=e,n=XN(e,["maxKernelSize"]);super(HN,GN.replace("${maxKernelSize}",r.toFixed(1))),Object.assign(this,n)}get center(){return this.uniforms.uCenter}set center(t){this.uniforms.uCenter=t}get strength(){return this.uniforms.uStrength}set strength(t){this.uniforms.uStrength=t}get innerRadius(){return this.uniforms.uInnerRadius}set innerRadius(t){this.uniforms.uInnerRadius=t}get radius(){return this.uniforms.uRadius}set radius(t){(t<0||t===1/0)&&(t=-1),this.uniforms.uRadius=t}};let qN=b3;qN.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32};function Dn(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+t+(r.length?" "+r.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function $s(t){return!!t&&!!t[ft]}function Vi(t){var e;return!!t&&(function(r){if(!r||typeof r!="object")return!1;var n=Object.getPrototypeOf(r);if(n===null)return!0;var i=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===nL}(t)||Array.isArray(t)||!!t[wS]||!!(!((e=t.constructor)===null||e===void 0)&&e[wS])||By(t)||Ry(t))}function Lo(t,e,r){r===void 0&&(r=!1),bl(t)===0?(r?Object.keys:Ya)(t).forEach(function(n){r&&typeof n=="symbol"||e(n,t[n],t)}):t.forEach(function(n,i){return e(i,n,t)})}function bl(t){var e=t[ft];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:By(t)?2:Ry(t)?3:0}function qa(t,e){return bl(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function YN(t,e){return bl(t)===2?t.get(e):t[e]}function w3(t,e,r){var n=bl(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function E3(t,e){return t===e?t!==0||1/t==1/e:t!=t&&e!=e}function By(t){return tL&&t instanceof Map}function Ry(t){return rL&&t instanceof Set}function _o(t){return t.o||t.t}function Dy(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=T3(t);delete e[ft];for(var r=Ya(e),n=0;n<r.length;n++){var i=r[n],s=e[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function My(t,e){return e===void 0&&(e=!1),Oy(t)||$s(t)||!Vi(t)||(bl(t)>1&&(t.set=t.add=t.clear=t.delete=QN),Object.freeze(t),e&&Lo(t,function(r,n){return My(n,!0)},!0)),t}function QN(){Dn(2)}function Oy(t){return t==null||typeof t!="object"||Object.isFrozen(t)}function _i(t){var e=r1[t];return e||Dn(18,t),e}function KN(t,e){r1[t]||(r1[t]=e)}function Jx(){return ac}function rv(t,e){e&&(_i("Patches"),t.u=[],t.s=[],t.v=e)}function kf(t){e1(t),t.p.forEach(ZN),t.p=null}function e1(t){t===ac&&(ac=t.l)}function gS(t){return ac={p:[],l:ac,h:t,m:!0,_:0}}function ZN(t){var e=t[ft];e.i===0||e.i===1?e.j():e.g=!0}function nv(t,e){e._=e.p.length;var r=e.p[0],n=t!==void 0&&t!==r;return e.h.O||_i("ES5").S(e,t,n),n?(r[ft].P&&(kf(e),Dn(4)),Vi(t)&&(t=Ff(e,t),e.l||If(e,t)),e.u&&_i("Patches").M(r[ft].t,t,e.u,e.s)):t=Ff(e,r,[]),kf(e),e.u&&e.v(e.u,e.s),t!==S3?t:void 0}function Ff(t,e,r){if(Oy(e))return e;var n=e[ft];if(!n)return Lo(e,function(a,c){return vS(t,n,e,a,c,r)},!0),e;if(n.A!==t)return e;if(!n.P)return If(t,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var i=n.i===4||n.i===5?n.o=Dy(n.k):n.o,s=i,o=!1;n.i===3&&(s=new Set(i),i.clear(),o=!0),Lo(s,function(a,c){return vS(t,n,i,a,c,r,o)}),If(t,i,!1),r&&t.u&&_i("Patches").N(n,r,t.u,t.s)}return n.o}function vS(t,e,r,n,i,s,o){if($s(i)){var a=Ff(t,i,s&&e&&e.i!==3&&!qa(e.R,n)?s.concat(n):void 0);if(w3(r,n,a),!$s(a))return;t.m=!1}else o&&r.add(i);if(Vi(i)&&!Oy(i)){if(!t.h.D&&t._<1)return;Ff(t,i),e&&e.A.l||If(t,i)}}function If(t,e,r){r===void 0&&(r=!1),!t.l&&t.h.D&&t.m&&My(e,r)}function iv(t,e){var r=t[ft];return(r?_o(r):t)[e]}function xS(t,e){if(e in t)for(var r=Object.getPrototypeOf(t);r;){var n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Object.getPrototypeOf(r)}}function xs(t){t.P||(t.P=!0,t.l&&xs(t.l))}function sv(t){t.o||(t.o=Dy(t.t))}function t1(t,e,r){var n=By(e)?_i("MapSet").F(e,r):Ry(e)?_i("MapSet").T(e,r):t.O?function(i,s){var o=Array.isArray(i),a={i:o?1:0,A:s?s.A:Jx(),P:!1,I:!1,R:{},l:s,t:i,k:null,o:null,j:null,C:!1},c=a,d=lc;o&&(c=[a],d=mu);var p=Proxy.revocable(c,d),h=p.revoke,f=p.proxy;return a.k=f,a.j=h,f}(e,r):_i("ES5").J(e,r);return(r?r.A:Jx()).p.push(n),n}function JN(t){return $s(t)||Dn(22,t),function e(r){if(!Vi(r))return r;var n,i=r[ft],s=bl(r);if(i){if(!i.P&&(i.i<4||!_i("ES5").K(i)))return i.t;i.I=!0,n=yS(r,s),i.I=!1}else n=yS(r,s);return Lo(n,function(o,a){i&&YN(i.t,o)===a||w3(n,o,e(a))}),s===3?new Set(n):n}(t)}function yS(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Dy(t)}function eL(){function t(s,o){var a=i[s];return a?a.enumerable=o:i[s]=a={configurable:!0,enumerable:o,get:function(){var c=this[ft];return lc.get(c,s)},set:function(c){var d=this[ft];lc.set(d,s,c)}},a}function e(s){for(var o=s.length-1;o>=0;o--){var a=s[o][ft];if(!a.P)switch(a.i){case 5:n(a)&&xs(a);break;case 4:r(a)&&xs(a)}}}function r(s){for(var o=s.t,a=s.k,c=Ya(a),d=c.length-1;d>=0;d--){var p=c[d];if(p!==ft){var h=o[p];if(h===void 0&&!qa(o,p))return!0;var f=a[p],m=f&&f[ft];if(m?m.t!==h:!E3(f,h))return!0}}var v=!!o[ft];return c.length!==Ya(o).length+(v?0:1)}function n(s){var o=s.k;if(o.length!==s.t.length)return!0;var a=Object.getOwnPropertyDescriptor(o,o.length-1);if(a&&!a.get)return!0;for(var c=0;c<o.length;c++)if(!o.hasOwnProperty(c))return!0;return!1}var i={};KN("ES5",{J:function(s,o){var a=Array.isArray(s),c=function(p,h){if(p){for(var f=Array(h.length),m=0;m<h.length;m++)Object.defineProperty(f,""+m,t(m,!0));return f}var v=T3(h);delete v[ft];for(var y=Ya(v),w=0;w<y.length;w++){var x=y[w];v[x]=t(x,p||!!v[x].enumerable)}return Object.create(Object.getPrototypeOf(h),v)}(a,s),d={i:a?5:4,A:o?o.A:Jx(),P:!1,I:!1,R:{},l:o,t:s,k:c,o:null,g:!1,C:!1};return Object.defineProperty(c,ft,{value:d,writable:!0}),c},S:function(s,o,a){a?$s(o)&&o[ft].A===s&&e(s.p):(s.u&&function c(d){if(d&&typeof d=="object"){var p=d[ft];if(p){var h=p.t,f=p.k,m=p.R,v=p.i;if(v===4)Lo(f,function(b){b!==ft&&(h[b]!==void 0||qa(h,b)?m[b]||c(f[b]):(m[b]=!0,xs(p)))}),Lo(h,function(b){f[b]!==void 0||qa(f,b)||(m[b]=!1,xs(p))});else if(v===5){if(n(p)&&(xs(p),m.length=!0),f.length<h.length)for(var y=f.length;y<h.length;y++)m[y]=!1;else for(var w=h.length;w<f.length;w++)m[w]=!0;for(var x=Math.min(f.length,h.length),_=0;_<x;_++)f.hasOwnProperty(_)||(m[_]=!0),m[_]===void 0&&c(f[_])}}}}(s.p[0]),e(s.p))},K:function(s){return s.i===4?r(s):n(s)}})}var _S,ac,Ny=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",tL=typeof Map<"u",rL=typeof Set<"u",bS=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",S3=Ny?Symbol.for("immer-nothing"):((_S={})["immer-nothing"]=!0,_S),wS=Ny?Symbol.for("immer-draftable"):"__$immer_draftable",ft=Ny?Symbol.for("immer-state"):"__$immer_state",nL=""+Object.prototype.constructor,Ya=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,T3=Object.getOwnPropertyDescriptors||function(t){var e={};return Ya(t).forEach(function(r){e[r]=Object.getOwnPropertyDescriptor(t,r)}),e},r1={},lc={get:function(t,e){if(e===ft)return t;var r=_o(t);if(!qa(r,e))return function(i,s,o){var a,c=xS(s,o);return c?"value"in c?c.value:(a=c.get)===null||a===void 0?void 0:a.call(i.k):void 0}(t,r,e);var n=r[e];return t.I||!Vi(n)?n:n===iv(t.t,e)?(sv(t),t.o[e]=t1(t.A.h,n,t)):n},has:function(t,e){return e in _o(t)},ownKeys:function(t){return Reflect.ownKeys(_o(t))},set:function(t,e,r){var n=xS(_o(t),e);if(n?.set)return n.set.call(t.k,r),!0;if(!t.P){var i=iv(_o(t),e),s=i?.[ft];if(s&&s.t===r)return t.o[e]=r,t.R[e]=!1,!0;if(E3(r,i)&&(r!==void 0||qa(t.t,e)))return!0;sv(t),xs(t)}return t.o[e]===r&&(r!==void 0||e in t.o)||Number.isNaN(r)&&Number.isNaN(t.o[e])||(t.o[e]=r,t.R[e]=!0),!0},deleteProperty:function(t,e){return iv(t.t,e)!==void 0||e in t.t?(t.R[e]=!1,sv(t),xs(t)):delete t.R[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var r=_o(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.i!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty:function(){Dn(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Dn(12)}},mu={};Lo(lc,function(t,e){mu[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),mu.deleteProperty=function(t,e){return mu.set.call(this,t,e,void 0)},mu.set=function(t,e,r){return lc.set.call(this,t[0],e,r,t[0])};var iL=function(){function t(r){var n=this;this.O=bS,this.D=!0,this.produce=function(i,s,o){if(typeof i=="function"&&typeof s!="function"){var a=s;s=i;var c=n;return function(y){var w=this;y===void 0&&(y=a);for(var x=arguments.length,_=Array(x>1?x-1:0),b=1;b<x;b++)_[b-1]=arguments[b];return c.produce(y,function(T){var C;return(C=s).call.apply(C,[w,T].concat(_))})}}var d;if(typeof s!="function"&&Dn(6),o!==void 0&&typeof o!="function"&&Dn(7),Vi(i)){var p=gS(n),h=t1(n,i,void 0),f=!0;try{d=s(h),f=!1}finally{f?kf(p):e1(p)}return typeof Promise<"u"&&d instanceof Promise?d.then(function(y){return rv(p,o),nv(y,p)},function(y){throw kf(p),y}):(rv(p,o),nv(d,p))}if(!i||typeof i!="object"){if((d=s(i))===void 0&&(d=i),d===S3&&(d=void 0),n.D&&My(d,!0),o){var m=[],v=[];_i("Patches").M(i,d,m,v),o(m,v)}return d}Dn(21,i)},this.produceWithPatches=function(i,s){if(typeof i=="function")return function(d){for(var p=arguments.length,h=Array(p>1?p-1:0),f=1;f<p;f++)h[f-1]=arguments[f];return n.produceWithPatches(d,function(m){return i.apply(void 0,[m].concat(h))})};var o,a,c=n.produce(i,s,function(d,p){o=d,a=p});return typeof Promise<"u"&&c instanceof Promise?c.then(function(d){return[d,o,a]}):[c,o,a]},typeof r?.useProxies=="boolean"&&this.setUseProxies(r.useProxies),typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze)}var e=t.prototype;return e.createDraft=function(r){Vi(r)||Dn(8),$s(r)&&(r=JN(r));var n=gS(this),i=t1(this,r,void 0);return i[ft].C=!0,e1(n),i},e.finishDraft=function(r,n){var i=r&&r[ft],s=i.A;return rv(s,n),nv(void 0,s)},e.setAutoFreeze=function(r){this.D=r},e.setUseProxies=function(r){r&&!bS&&Dn(20),this.O=r},e.applyPatches=function(r,n){var i;for(i=n.length-1;i>=0;i--){var s=n[i];if(s.path.length===0&&s.op==="replace"){r=s.value;break}}i>-1&&(n=n.slice(i+1));var o=_i("Patches").$;return $s(r)?o(r,n):this.produce(r,function(a){return o(a,n)})},t}(),Xr=new iL,A3=Xr.produce;Xr.produceWithPatches.bind(Xr);Xr.setAutoFreeze.bind(Xr);Xr.setUseProxies.bind(Xr);Xr.applyPatches.bind(Xr);Xr.createDraft.bind(Xr);Xr.finishDraft.bind(Xr);function uc(t){return uc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uc(t)}function sL(t,e){if(uc(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oL(t){var e=sL(t,"string");return uc(e)=="symbol"?e:e+""}function aL(t,e,r){return(e=oL(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ES(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ES(Object(r),!0).forEach(function(n){aL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ES(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hr(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var TS=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),ov=function(){return Math.random().toString(36).substring(7).split("").join(".")},Bf={INIT:"@@redux/INIT"+ov(),REPLACE:"@@redux/REPLACE"+ov(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+ov()}};function lL(t){if(typeof t!="object"||t===null)return!1;for(var e=t;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function C3(t,e,r){var n;if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(hr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(hr(1));return r(C3)(t,e)}if(typeof t!="function")throw new Error(hr(2));var i=t,s=e,o=[],a=o,c=!1;function d(){a===o&&(a=o.slice())}function p(){if(c)throw new Error(hr(3));return s}function h(y){if(typeof y!="function")throw new Error(hr(4));if(c)throw new Error(hr(5));var w=!0;return d(),a.push(y),function(){if(!!w){if(c)throw new Error(hr(6));w=!1,d();var _=a.indexOf(y);a.splice(_,1),o=null}}}function f(y){if(!lL(y))throw new Error(hr(7));if(typeof y.type>"u")throw new Error(hr(8));if(c)throw new Error(hr(9));try{c=!0,s=i(s,y)}finally{c=!1}for(var w=o=a,x=0;x<w.length;x++){var _=w[x];_()}return y}function m(y){if(typeof y!="function")throw new Error(hr(10));i=y,f({type:Bf.REPLACE})}function v(){var y,w=h;return y={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(hr(11));function b(){_.next&&_.next(p())}b();var T=w(b);return{unsubscribe:T}}},y[TS]=function(){return this},y}return f({type:Bf.INIT}),n={dispatch:f,subscribe:h,getState:p,replaceReducer:m},n[TS]=v,n}function uL(t){Object.keys(t).forEach(function(e){var r=t[e],n=r(void 0,{type:Bf.INIT});if(typeof n>"u")throw new Error(hr(12));if(typeof r(void 0,{type:Bf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(hr(13))})}function cL(t){for(var e=Object.keys(t),r={},n=0;n<e.length;n++){var i=e[n];typeof t[i]=="function"&&(r[i]=t[i])}var s=Object.keys(r),o;try{uL(r)}catch(a){o=a}return function(c,d){if(c===void 0&&(c={}),o)throw o;for(var p=!1,h={},f=0;f<s.length;f++){var m=s[f],v=r[m],y=c[m],w=v(y,d);if(typeof w>"u")throw d&&d.type,new Error(hr(14));h[m]=w,p=p||w!==y}return p=p||s.length!==Object.keys(c).length,p?h:c}}function Rf(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length===0?function(n){return n}:e.length===1?e[0]:e.reduce(function(n,i){return function(){return n(i.apply(void 0,arguments))}})}function hL(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(n){return function(){var i=n.apply(void 0,arguments),s=function(){throw new Error(hr(15))},o={getState:i.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=e.map(function(c){return c(o)});return s=Rf.apply(void 0,a)(i.dispatch),SS(SS({},i),{},{dispatch:s})}}}function P3(t){var e=function(n){var i=n.dispatch,s=n.getState;return function(o){return function(a){return typeof a=="function"?a(i,s,t):o(a)}}};return e}var k3=P3();k3.withExtraArgument=P3;const AS=k3;var F3=globalThis&&globalThis.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),dL=globalThis&&globalThis.__generator||function(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(d){return function(p){return c([d,p])}}function c(d){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return r.label++,{value:d[1],done:!1};case 5:r.label++,i=d[1],d=[0];continue;case 7:d=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){r=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){r.label=d[1];break}if(d[0]===6&&r.label<s[1]){r.label=s[1],s=d;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(d);break}s[2]&&r.ops.pop(),r.trys.pop();continue}d=e.call(t,r)}catch(p){d=[6,p],i=0}finally{n=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},fl=globalThis&&globalThis.__spreadArray||function(t,e){for(var r=0,n=e.length,i=t.length;r<n;r++,i++)t[i]=e[r];return t},fL=Object.defineProperty,pL=Object.defineProperties,mL=Object.getOwnPropertyDescriptors,CS=Object.getOwnPropertySymbols,gL=Object.prototype.hasOwnProperty,vL=Object.prototype.propertyIsEnumerable,PS=function(t,e,r){return e in t?fL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r},Rs=function(t,e){for(var r in e||(e={}))gL.call(e,r)&&PS(t,r,e[r]);if(CS)for(var n=0,i=CS(e);n<i.length;n++){var r=i[n];vL.call(e,r)&&PS(t,r,e[r])}return t},av=function(t,e){return pL(t,mL(e))},xL=function(t,e,r){return new Promise(function(n,i){var s=function(c){try{a(r.next(c))}catch(d){i(d)}},o=function(c){try{a(r.throw(c))}catch(d){i(d)}},a=function(c){return c.done?n(c.value):Promise.resolve(c.value).then(s,o)};a((r=r.apply(t,e)).next())})},yL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Rf:Rf.apply(null,arguments)};function _L(t){if(typeof t!="object"||t===null)return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return e===r}function Ds(t,e){function r(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];if(e){var s=e.apply(void 0,n);if(!s)throw new Error("prepareAction did not return an object");return Rs(Rs({type:t,payload:s.payload},"meta"in s&&{meta:s.meta}),"error"in s&&{error:s.error})}return{type:t,payload:n[0]}}return r.toString=function(){return""+t},r.type=t,r.match=function(n){return n.type===t},r}var bL=function(t){F3(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,fl([void 0],r[0].concat(this)))):new(e.bind.apply(e,fl([void 0],r.concat(this))))},e}(Array),wL=function(t){F3(e,t);function e(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var i=t.apply(this,r)||this;return Object.setPrototypeOf(i,e.prototype),i}return Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return t.prototype.concat.apply(this,r)},e.prototype.prepend=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r.length===1&&Array.isArray(r[0])?new(e.bind.apply(e,fl([void 0],r[0].concat(this)))):new(e.bind.apply(e,fl([void 0],r.concat(this))))},e}(Array);function n1(t){return Vi(t)?A3(t,function(){}):t}function EL(t){return typeof t=="boolean"}function SL(){return function(e){return TL(e)}}function TL(t){t===void 0&&(t={});var e=t.thunk,r=e===void 0?!0:e;t.immutableCheck,t.serializableCheck,t.actionCreatorCheck;var n=new bL;return r&&(EL(r)?n.push(AS):n.push(AS.withExtraArgument(r.extraArgument))),n}var AL=!0;function CL(t){var e=SL(),r=t||{},n=r.reducer,i=n===void 0?void 0:n,s=r.middleware,o=s===void 0?e():s,a=r.devTools,c=a===void 0?!0:a,d=r.preloadedState,p=d===void 0?void 0:d,h=r.enhancers,f=h===void 0?void 0:h,m;if(typeof i=="function")m=i;else if(_L(i))m=cL(i);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var v=o;typeof v=="function"&&(v=v(e));var y=hL.apply(void 0,v),w=Rf;c&&(w=yL(Rs({trace:!AL},typeof c=="object"&&c)));var x=new wL(y),_=x;Array.isArray(f)?_=fl([y],f):typeof f=="function"&&(_=f(x));var b=w.apply(void 0,_);return C3(m,p,b)}function I3(t){var e={},r=[],n,i={addCase:function(s,o){var a=typeof s=="string"?s:s.type;if(!a)throw new Error("`builder.addCase` cannot be called with an empty action type");if(a in e)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return e[a]=o,i},addMatcher:function(s,o){return r.push({matcher:s,reducer:o}),i},addDefaultCase:function(s){return n=s,i}};return t(i),[e,r,n]}function PL(t){return typeof t=="function"}function kL(t,e,r,n){r===void 0&&(r=[]);var i=typeof e=="function"?I3(e):[e,r,n],s=i[0],o=i[1],a=i[2],c;if(PL(t))c=function(){return n1(t())};else{var d=n1(t);c=function(){return d}}function p(h,f){h===void 0&&(h=c());var m=fl([s[f.type]],o.filter(function(v){var y=v.matcher;return y(f)}).map(function(v){var y=v.reducer;return y}));return m.filter(function(v){return!!v}).length===0&&(m=[a]),m.reduce(function(v,y){if(y)if($s(v)){var w=v,x=y(w,f);return x===void 0?v:x}else{if(Vi(v))return A3(v,function(_){return y(_,f)});var x=y(v,f);if(x===void 0){if(v===null)return v;throw Error("A case reducer on a non-draftable value must not return undefined")}return x}return v},h)}return p.getInitialState=c,p}function FL(t,e){return t+"/"+e}function B3(t){var e=t.name;if(!e)throw new Error("`name` is a required option for createSlice");typeof process<"u";var r=typeof t.initialState=="function"?t.initialState:n1(t.initialState),n=t.reducers||{},i=Object.keys(n),s={},o={},a={};i.forEach(function(p){var h=n[p],f=FL(e,p),m,v;"reducer"in h?(m=h.reducer,v=h.prepare):m=h,s[p]=m,o[f]=m,a[p]=v?Ds(f,v):Ds(f)});function c(){var p=typeof t.extraReducers=="function"?I3(t.extraReducers):[t.extraReducers],h=p[0],f=h===void 0?{}:h,m=p[1],v=m===void 0?[]:m,y=p[2],w=y===void 0?void 0:y,x=Rs(Rs({},f),o);return kL(r,function(_){for(var b in x)_.addCase(b,x[b]);for(var T=0,C=v;T<C.length;T++){var P=C[T];_.addMatcher(P.matcher,P.reducer)}w&&_.addDefaultCase(w)})}var d;return{name:e,reducer:function(p,h){return d||(d=c()),d(p,h)},actions:a,caseReducers:s,getInitialState:function(){return d||(d=c()),d.getInitialState()}}}var IL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",BL=function(t){t===void 0&&(t=21);for(var e="",r=t;r--;)e+=IL[Math.random()*64|0];return e},RL=["name","message","stack","code"],lv=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),kS=function(){function t(e,r){this.payload=e,this.meta=r}return t}(),DL=function(t){if(typeof t=="object"&&t!==null){for(var e={},r=0,n=RL;r<n.length;r++){var i=n[r];typeof t[i]=="string"&&(e[i]=t[i])}return e}return{message:String(t)}};(function(){function t(e,r,n){var i=Ds(e+"/fulfilled",function(d,p,h,f){return{payload:d,meta:av(Rs({},f||{}),{arg:h,requestId:p,requestStatus:"fulfilled"})}}),s=Ds(e+"/pending",function(d,p,h){return{payload:void 0,meta:av(Rs({},h||{}),{arg:p,requestId:d,requestStatus:"pending"})}}),o=Ds(e+"/rejected",function(d,p,h,f,m){return{payload:f,error:(n&&n.serializeError||DL)(d||"Rejected"),meta:av(Rs({},m||{}),{arg:h,requestId:p,rejectedWithValue:!!f,requestStatus:"rejected",aborted:d?.name==="AbortError",condition:d?.name==="ConditionError"})}}),a=typeof AbortController<"u"?AbortController:function(){function d(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return d.prototype.abort=function(){},d}();function c(d){return function(p,h,f){var m=n?.idGenerator?n.idGenerator(d):BL(),v=new a,y;function w(_){y=_,v.abort()}var x=function(){return xL(this,null,function(){var _,b,T,C,P,I,F;return dL(this,function(M){switch(M.label){case 0:return M.trys.push([0,4,,5]),C=(_=n?.condition)==null?void 0:_.call(n,d,{getState:h,extra:f}),OL(C)?[4,C]:[3,2];case 1:C=M.sent(),M.label=2;case 2:if(C===!1||v.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return P=new Promise(function(k,B){return v.signal.addEventListener("abort",function(){return B({name:"AbortError",message:y||"Aborted"})})}),p(s(m,d,(b=n?.getPendingMeta)==null?void 0:b.call(n,{requestId:m,arg:d},{getState:h,extra:f}))),[4,Promise.race([P,Promise.resolve(r(d,{dispatch:p,getState:h,extra:f,requestId:m,signal:v.signal,abort:w,rejectWithValue:function(k,B){return new lv(k,B)},fulfillWithValue:function(k,B){return new kS(k,B)}})).then(function(k){if(k instanceof lv)throw k;return k instanceof kS?i(k.payload,m,d,k.meta):i(k,m,d)})])];case 3:return T=M.sent(),[3,5];case 4:return I=M.sent(),T=I instanceof lv?o(null,m,d,I.payload,I.meta):o(I,m,d),[3,5];case 5:return F=n&&!n.dispatchConditionRejection&&o.match(T)&&T.meta.condition,F||p(T),[2,T]}})})}();return Object.assign(x,{abort:w,requestId:m,arg:d,unwrap:function(){return x.then(ML)}})}}return Object.assign(c,{pending:s,rejected:o,fulfilled:i,typePrefix:e})}return t.withTypes=function(){return t},t})();function ML(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function OL(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Ly="listenerMiddleware";Ds(Ly+"/add");Ds(Ly+"/removeAll");Ds(Ly+"/remove");var FS;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);eL();const NL=B3({name:"songselect",initialState:{value:{currentmap:"voiceofhope",currentpack:"utopia",seed:0,currentdiff:Mn("DIFF")!="Lite"||Mn("DIFF")!="Neon"||Mn("DIFF")!="Enigma"?"Lite":Mn("DIFF"),isSelectChapter:!1,isRankingScreen:!1,SongSort:3,RankingSort:1,isAllSongs:!1}},reducers:{setcurrentmap:(t,e)=>{t.value.currentmap=e.payload},setcurrentpack:(t,e)=>{t.value.currentpack=e.payload},setcurrentdiff:(t,e)=>{t.value.currentdiff=e.payload},toggleSelectChapter:t=>{t.value.isAllSongs=!1,t.value.isSelectChapter=!t.value.isSelectChapter},toggleisRankingScreen:t=>{t.value.isRankingScreen=!t.value.isRankingScreen},togglAllSongs:t=>{t.value.isAllSongs=!t.value.isAllSongs},toggleRankingSort:t=>{t.value.RankingSort=t.value.RankingSort==1?2:1},toggleSongSort:t=>{t.value.SongSort=t.value.SongSort==3?1:t.value.SongSort+1},reset:t=>{t.value.seed=Math.random()}}}),LL=NL.reducer,UL=B3({name:"editor",initialState:{value:{rawBeatmap:{id:"unnamed",audioPath:"audio/eden/untilnexttime.mp3",preview:0,bgPath:"eden_light",jacketPath:"jackets/eden/untilnexttime.jpg",metadata:{title:"???",artist:"???",illustrator:"???",creator:"???",difficult:"",difficultcc:0,difficulttype:"ENIGMA"},hitObjects:[{type:"note",column:1,startTime:0}],cursor:[{type:"normal",x:.5,startTime:0}],timingPoints:[{time:0,meter:4,bpm:120,speed:1}]},currentMap:dt(JSON.stringify({id:"unnamed",audioPath:"audio/eden/untilnexttime.mp3",preview:0,bgPath:"eden_light",jacketPath:"jackets/eden/untilnexttime.jpg",metadata:{title:"???",artist:"???",illustrator:"???",creator:"???",difficult:"",difficultcc:0,difficulttype:"ENIGMA"},hitObjects:[{type:"note",column:1,startTime:0}],cursor:[{type:"normal",x:.5,startTime:0}],timingPoints:[{time:0,meter:4,bpm:120,speed:1}]})),currentObjectType:"nothing",currentRemoveType:"",currentSnap:4,currentCol:4,historypos:0,k:0,currentSelectedTime:0,actionslist:[]}},reducers:{setBeatmap(t,e){t.value.rawBeatmap=e.payload,t.value.currentMap=dt(JSON.stringify(t.value.rawBeatmap))},setSnap(t,e){t.value.currentSnap=e.payload},setcurrentRemoveType(t,e){t.value.currentRemoveType=e.payload},changeTiming(t,e){t.value.rawBeatmap.timingPoints=e.payload,t.value.currentMap=dt(JSON.stringify(t.value.rawBeatmap)),console.log(t.value.rawBeatmap.timingPoints)},RemoveTiming(t,e){t.value.rawBeatmap.timingPoints.splice(e.payload,1),t.value.currentMap=dt(JSON.stringify(t.value.rawBeatmap))},AddTiming(t){const e=t.value.rawBeatmap.timingPoints.find(r=>r.time==0)==null?0:1;t.value.rawBeatmap.timingPoints.push({time:e,bpm:100,speed:1,meter:4}),console.log(t.value.rawBeatmap.timingPoints),t.value.currentMap=dt(JSON.stringify(t.value.rawBeatmap))},setMetadata(t,e){t.value.rawBeatmap.metadata.artist=e.payload[0],t.value.rawBeatmap.metadata.title=e.payload[1],t.value.rawBeatmap.metadata.illustrator=e.payload[2],t.value.rawBeatmap.metadata.difficulttype=e.payload[3],t.value.rawBeatmap.metadata.creator=e.payload[4],t.value.rawBeatmap.bgPath=e.payload[5],t.value.rawBeatmap.jacketPath=e.payload[6],t.value.rawBeatmap.preview=e.payload[7],t.value.currentMap=dt(JSON.stringify(t.value.rawBeatmap))},setcurrentObjectType(t,e){t.value.currentObjectType=e.payload},setcurrentSelectedTime(t,e){t.value.currentSelectedTime=e.payload},update(t){t.value.k=Math.random()},setcurrentCol(t,e){t.value.currentCol=e.payload,console.log(e.payload)},addNote(t,e){const r=sl(t.value.currentSelectedTime,t.value.currentMap.timingPoints,t.value.currentMap);t.value.rawBeatmap.hitObjects.push({type:"note",startTime:t.value.currentSelectedTime,column:t.value.currentCol}),t.value.currentMap.hitObjects.push({type:"note",startTime:t.value.currentSelectedTime,column:t.value.currentCol,screenStartTime:r[0],screenEndTime:r[1],scrollPosList:r[2],index:t.value.currentMap.hitObjects.length}),console.log(t.value.currentMap.hitObjects),t.value.actionslist=t.value.actionslist.slice(0,t.value.actionslist.length-t.value.historypos),t.value.historypos=0,t.value.actionslist.push({map:t.value.rawBeatmap})},addHold(t,e){const r=sl(t.value.currentSelectedTime,t.value.currentMap.timingPoints,t.value.currentMap);t.value.rawBeatmap.hitObjects.push({type:"hold",column:t.value.currentCol,startTime:t.value.currentSelectedTime,endTime:t.value.currentSelectedTime+50}),t.value.currentMap.hitObjects.push({type:"hold",startTime:t.value.currentSelectedTime,column:t.value.currentCol,endTime:t.value.currentSelectedTime+50,screenStartTime:r[0],screenEndTime:r[1],scrollPosList:r[2],index:t.value.currentMap.hitObjects.length}),t.value.actionslist=t.value.actionslist.slice(0,t.value.actionslist.length-t.value.historypos),t.value.historypos=0,t.value.actionslist.push({map:t.value.rawBeatmap})},addHoldend(t){const e=t.value.rawBeatmap.hitObjects[t.value.rawBeatmap.hitObjects.length-1],r=t.value.rawBeatmap.hitObjects.findIndex(i=>i.type=="hold"&&i.startTime==e.startTime&&i.column==e.column);t.value.rawBeatmap.hitObjects[r].endTime=t.value.currentSelectedTime,t.value.currentMap.hitObjects[r].endTime=t.value.currentSelectedTime;const n=ZA(t.value.currentMap.timingPoints,t.value.currentMap,t.value.currentMap.hitObjects[r]);t.value.currentMap.hitObjects[r]=n,t.value.actionslist=t.value.actionslist.slice(0,t.value.actionslist.length-t.value.historypos),t.value.historypos=0,t.value.actionslist.push({map:t.value.rawBeatmap})},addCursor(t,e){t.value.rawBeatmap.cursor.push({type:t.value.currentObjectType,startTime:t.value.currentSelectedTime,x:e.payload[1]}),t.value.currentMap=dt(JSON.stringify(t.value.rawBeatmap)),t.value.actionslist=t.value.actionslist.slice(0,t.value.actionslist.length-t.value.historypos),t.value.historypos=0,t.value.actionslist.push({map:t.value.rawBeatmap})},removeNote(t){const e=t.value.rawBeatmap.hitObjects.findIndex(r=>r.column==t.value.currentCol&&(10>Math.abs(r.startTime-t.value.currentSelectedTime)||r.startTime<=t.value.currentSelectedTime&&r.endTime>=t.value.currentSelectedTime));t.value.rawBeatmap.hitObjects.splice(e,1),t.value.currentMap=dt(JSON.stringify(t.value.rawBeatmap)),t.value.actionslist=t.value.actionslist.slice(0,t.value.actionslist.length-t.value.historypos),t.value.historypos=0,t.value.actionslist.push({map:t.value.rawBeatmap})},removeCursor(t,e){const r=t.value.rawBeatmap.cursor.findIndex(n=>n.startTime==e.payload);t.value.currentRemoveType=="removecursor"&&(t.value.rawBeatmap.cursor.splice(r,1),t.value.currentMap=dt(JSON.stringify(t.value.rawBeatmap))),t.value.actionslist=t.value.actionslist.slice(0,t.value.actionslist.length-t.value.historypos),t.value.historypos=0,t.value.actionslist.push({map:t.value.rawBeatmap})},redo(t){t.value.historypos>0&&(t.value.historypos-=1,t.value.rawBeatmap=t.value.actionslist[t.value.actionslist.length-1-t.value.historypos].map,t.value.currentMap=dt(JSON.stringify(t.value.rawBeatmap)))},undo(t){t.value.historypos+=1,t.value.rawBeatmap=t.value.actionslist[t.value.actionslist.length-1-t.value.historypos].map,t.value.currentMap=dt(JSON.stringify(t.value.rawBeatmap))}}}),zL=UL.reducer,cc=CL({reducer:{songselect:LL,editor:zL}});let $L="";function jL(t){const[e,r]=se.exports.useState(0);se.exports.useState(!1);const n=Ty(i=>i.editor);return Iy(),cc.subscribe(()=>{const i=cc.getState().editor.value.rawBeatmap;$L!=JSON.stringify(i)&&r(Math.random())}),se.exports.useEffect(()=>{const i=s=>{s.code=="ArrowUp"?(s.preventDefault(),t.game.currentSnap=t.game.currentSnap+1):s.code=="ArrowDown"&&(s.preventDefault(),t.game.currentSnap=t.game.currentSnap-1)};return addEventListener("keydown",i),()=>{removeEventListener("keydown",i)}}),Ke(Ot,{children:[H(ie.exports.Sprite,{image:"./side.png",x:Q,y:0,anchor:[0,0],scale:[-1,1],width:Q*.3,height:ce*.15,tint:"#ffa3db"}),H(ie.exports.Sprite,{image:"./side.png",x:Q,y:0,anchor:[0,0],scale:[-1,1],width:Q*.3,height:ce*.15,tint:4657202}),H(ie.exports.Text,{text:"Snap",anchor:[1,0],x:Q*.98,y:ce*.01,style:{fill:"white",fontFamily:"Montserrat",fontWeight:"400",fontSize:`${Q*.015}px`}}),H(ie.exports.Text,{text:"+",anchor:[1,0],x:Q*.98,y:ce*.15,interactive:!0,onclick:()=>{t.game.currentSnap=t.game.currentSnap+1},style:{fill:"white",fontFamily:"Montserrat",fontWeight:"800",fontSize:`${Q*.04}px`}}),H(ie.exports.Text,{text:"-",anchor:[1,0],x:Q*.95,interactive:!0,onclick:()=>{t.game.currentSnap=t.game.currentSnap-1},y:ce*.15,style:{fill:"white",fontFamily:"Montserrat",fontWeight:"800",fontSize:`${Q*.04}px`}}),H(ie.exports.Sprite,{texture:ae.WHITE,width:Q*.1,height:Q*.007,x:Q*.89,y:ce*.05,blendMode:Se.NORMAL,alpha:.5,anchor:[0,0]}),H(ie.exports.Sprite,{texture:ae.WHITE,width:ht(n.value.currentSnap,[1,16],[0,Q*.1]),height:Q*.007,x:Q*.89,y:ce*.05,blendMode:Se.NORMAL,alpha:1,anchor:[0,0]}),H(ie.exports.Text,{text:`1/${t.game.currentSnap.toString()}`,anchor:[1,1],x:Q*.98,y:ce*.125,style:{fill:"white",fontFamily:"Montserrat",fontWeight:"700",fontSize:`${Q*.02}px`}})]})}function HL(t){Ty(v=>v.editor);let[e,r]=se.exports.useState("Math.floor(time / 60000)"),n=se.exports.useRef(0),i=se.exports.useRef(0),[s,o]=se.exports.useState(0),[a,c]=se.exports.useState(0),[d,p]=se.exports.useState([0,0]),[h,f]=se.exports.useState(!0);const m=v=>{let y=t.game.currentMap.timingPoints.slice().filter(T=>T.time<=t.game.audio.seek()*1e3).sort((T,C)=>T.time-C.time).reverse()[0],w=i.current,_=(t.game.currenttime+On(0,t.game.beatmap.timingPoints,-w)+-On(0,t.game.beatmap.timingPoints,-ce+Bt))/1e3,b=y.time/1e3+60/(y.bpm*t.game.currentSnap)*Math.round((_-y.time/1e3)/(60/(y.bpm*t.game.currentSnap)));t.game.currentSelectedTimeDrag[v]=Math.round(b*1e3)};return se.exports.useEffect(()=>{const v=x=>{n.current=x.clientX,i.current=x.clientY},y=x=>{t.game.currentObjectType=="nothing"&&(p([x.clientX,x.clientY]),f(!0),m(0))},w=x=>{t.game.currentObjectType=="nothing"&&(p([x.clientX,x.clientY]),f(!1),m(1))};return addEventListener("mousemove",v),addEventListener("mousedown",y),addEventListener("mouseup",w),()=>{removeEventListener("mousemove",v),removeEventListener("mousedown",y),removeEventListener("mouseup",w)}},[]),ie.exports.useTick(()=>{t.game.currenttime=t.game.audio.seek()*1e3;let v=t.game.currenttime;var y=v%1e3;v=(v-y)/1e3;var w=v%60;v=(v-w)/60;var x=v%60;const _=(x<10?`0${Math.round(x)}`:Math.round(x).toString())+":"+(w<10?`0${Math.round(w)}`:Math.round(w).toString())+"."+(y<10?`00${Math.round(y)}`:y<99?`0${Math.round(y)}`:Math.round(y).toString());_!=e&&r(_),s!=n.current&&o(n.current),a!=i.current&&c(i.current)}),Ke(Ot,{children:[H(ie.exports.Sprite,{texture:ae.WHITE,width:Q,height:ce*.06,x:0,y:ce,tint:"#471032",blendMode:Se.MULTIPLY,alpha:.8,anchor:[0,1]}),H(ie.exports.Sprite,{texture:ae.WHITE,width:ht(t.game.currenttime,[0,t.game.audio.duration()*1e3],[0,Q*.95]),height:ce*.015,x:Q*.11,y:ce*.97,tint:16777215,alpha:.8,anchor:[0,.5]}),H(ie.exports.Text,{text:e.toString(),anchor:[0,.5],x:ce*.03,y:ce*.97,style:{fill:16777215,fontFamily:"Montserrat",fontWeight:"700",fontSize:`${Q*.018}px`}}),Ke(ie.exports.Container,{y:-ce*.1,children:[H(ie.exports.Sprite,{image:"./overlay3.png",width:Q*.06,height:ce*.6,x:Q*.05,y:ce*.5,tint:15420845,anchor:.5,blendMode:Se.MULTIPLY}),H(ie.exports.Sprite,{image:"./overlay3.png",tint:"#000000",width:Q*.06,height:ce*.6,x:Q*.05,y:ce*.5,anchor:.5,alpha:.9}),H(ie.exports.Sprite,{texture:ae.WHITE,tint:t.game.currentObjectType=="nothing"?"#eb4dad":"#e8a0cc",filters:[new Eo(t.game.currentObjectType=="nothing"?2:0,16737987)],width:Q*.05,height:Q*.05,x:Q*.05,y:ce*.3,alpha:.6,anchor:.5}),H(ie.exports.Sprite,{image:"./select.png",width:Q*.045,height:Q*.045,x:Q*.05,y:ce*.3,alpha:1,anchor:.5}),H(ie.exports.Text,{text:"Select",anchor:[.5,0],x:Q*.05,y:ce*.32,style:{fill:16777215,fontFamily:"Montserrat",fontWeight:"700",fontSize:`${Q*.008}px`}}),H(ie.exports.Sprite,{texture:ae.WHITE,alpha:.6,tint:t.game.currentObjectType=="note"?"#eb4dad":"#e8a0cc",width:Q*.05,filters:[new Eo(t.game.currentObjectType=="note"?1:0,16737987)],height:Q*.05,x:Q*.05,y:ce*(.3+.12*1),anchor:.5}),H(ie.exports.Sprite,{image:"./selectnote.png",width:Q*.045,height:Q*.045,x:Q*.05,y:ce*(.3+.12*1),alpha:1,anchor:.5}),H(ie.exports.Text,{text:"Note",anchor:[.5,0],x:Q*.05,y:ce*(.3+.02+.12*1),style:{fill:16777215,fontFamily:"Montserrat",fontWeight:"700",fontSize:`${Q*.008}px`}}),H(ie.exports.Sprite,{texture:ae.WHITE,tint:t.game.currentObjectType=="hold"?"#eb4dad":"#e8a0cc",filters:[new Eo(t.game.currentObjectType=="hold"?1:0,16737987)],width:Q*.05,alpha:.6,height:Q*.05,y:ce*(.3+.12*2),x:Q*.05,anchor:.5}),H(ie.exports.Sprite,{image:"./selecthold.png",width:Q*.045,height:Q*.045,y:ce*(.3+.12*2),x:Q*.05,alpha:1,anchor:.5}),H(ie.exports.Text,{text:"Hold",anchor:[.5,0],x:Q*.05,y:ce*(.3+.02+.12*2),style:{fill:16777215,fontFamily:"Montserrat",fontWeight:"700",fontSize:`${Q*.008}px`}}),H(ie.exports.Sprite,{texture:ae.WHITE,alpha:.6,tint:t.game.currentObjectType=="linear"||t.game.currentObjectType=="ein"||t.game.currentObjectType=="eout"||t.game.currentObjectType=="normal"?"#eb4dad":"#e8a0cc",width:Q*.05,height:Q*.05,filters:[new Eo(t.game.currentObjectType=="linear"||t.game.currentObjectType=="ein"||t.game.currentObjectType=="eout"||t.game.currentObjectType=="normal"?1:0,16737987)],y:ce*(.3+.12*3),x:Q*.05,anchor:.5}),H(ie.exports.Sprite,{image:"./selectlaser.png",width:Q*.045,height:Q*.045,y:ce*(.3+.12*3),x:Q*.05,alpha:1,anchor:.5}),H(ie.exports.Text,{text:"Lasers",anchor:[.5,0],x:Q*.05,y:ce*(.3+.02+.12*3),style:{fill:16777215,fontFamily:"Montserrat",fontWeight:"700",fontSize:`${Q*.008}px`}}),H(ie.exports.Sprite,{texture:ae.WHITE,tint:t.game.currentObjectType=="timing"?"#eb4dad":"#e8a0cc",filters:[new Eo(t.game.currentObjectType=="timing"?1:0,16737987)],width:Q*.05,alpha:.6,height:Q*.05,y:ce*(.3+.12*4),x:Q*.05,anchor:.5}),H(ie.exports.Text,{text:"Timing",anchor:[.5,0],x:Q*.05,y:ce*(.3+.02+.12*4),style:{fill:16777215,fontFamily:"Montserrat",fontWeight:"700",fontSize:`${Q*.008}px`}}),H(ie.exports.Sprite,{texture:ae.WHITE,width:Q*.08,height:Q*.03,x:Q*.02+Q*.1,y:ce*(.3+.02+.12*5),alpha:.6,tint:"#75104e",anchor:[0,.5]}),H(ie.exports.Text,{text:t.game.currentRemoveType=="removenote"?"Note":t.game.currentObjectType=="removecursor"?"Laser":"deez nuts",anchor:[0,.5],x:Q*.025+Q*.1,y:ce*(.3+.02+.12*5),style:{fill:"white",fontFamily:"Montserrat",fontWeight:"600",fontSize:`${Q*.013}px`}}),H(ie.exports.Text,{text:"Removing :",anchor:[0,0],x:Q*.02+Q*.1,y:ce*(.3+.02+.12*4.5),style:{fill:"white",fontFamily:"Montserrat",fontWeight:"600",fontSize:`${Q*.014}px`}}),H(ie.exports.Sprite,{texture:ae.WHITE,width:Q*.08,height:Q*.03,x:Q*.02,y:ce*(.3+.02+.12*5),alpha:.6,tint:"#75104e",anchor:[0,.5]}),H(ie.exports.Text,{text:t.game.currentObjectType=="linear"?"Linear":t.game.currentObjectType=="ein"?"Ease In":t.game.currentObjectType=="eout"?"Ease Out":t.game.currentObjectType=="normal"?"Normal":"deez nuts",anchor:[0,.5],x:Q*.025,y:ce*(.3+.02+.12*5),style:{fill:"white",fontFamily:"Montserrat",fontWeight:"600",fontSize:`${Q*.013}px`}}),H(ie.exports.Text,{text:"Easing :",anchor:[0,0],x:Q*.02,y:ce*(.3+.02+.12*4.5),style:{fill:"white",fontFamily:"Montserrat",fontWeight:"600",fontSize:`${Q*.014}px`}})]}),H(ie.exports.Container,{y:ce*.03,children:H(jL,{game:t.game,beatmap:t.beatmap,uneditedchart:t.uneditedchart})}),H(ie.exports.Sprite,{texture:ae.WHITE,tint:"#000000",width:Q,height:ce*.03,x:0,y:0,alpha:1,anchor:0}),H(ie.exports.Text,{text:"File",anchor:[0,0],x:0,y:0,style:{fill:16777215,fontFamily:"Montserrat",fontWeight:"400",fontSize:`${Q*.01}px`}}),H(ie.exports.Text,{text:"Edit",anchor:[0,0],x:Q*.05,y:0,style:{fill:16777215,fontFamily:"Montserrat",fontWeight:"400",fontSize:`${Q*.01}px`}}),H(ie.exports.Text,{text:"View",anchor:[0,0],x:Q*.1,y:0,style:{fill:16777215,fontFamily:"Montserrat",fontWeight:"400",fontSize:`${Q*.01}px`}}),H(ie.exports.Text,{text:Math.round(ie.exports.useApp().ticker.FPS).toString(),anchor:[0,0],x:Q*.15,y:0,style:{fill:16777215,fontFamily:"Montserrat",fontWeight:"400",fontSize:`${Q*.01}px`}}),H(ie.exports.Text,{text:`${t.game.currentMap.metadata.difficulttype} ${t.game.currentMap.metadata.difficultcc}`,anchor:[1,1],x:Q-10,y:ce-10,style:{fill:16777215,fontFamily:"Montserrat",fontWeight:"800",fontSize:`${Q*.018}px`}}),t.game.currentObjectType=="note"||t.game.currentObjectType=="hold"?H(ie.exports.Sprite,{texture:ae.WHITE,x:s,y:a,anchor:[.5,.5],width:Mi,tint:Yu[t.game.currentCol-1],height:Qu}):H(ie.exports.Sprite,{x:s,image:"./select.png",y:a,anchor:[.5,.5],width:Mi*1.4,height:Mi*1.4,mousedown:()=>{console.log("Test")}}),H(ie.exports.Container,{children:H(ie.exports.Sprite,{texture:ae.WHITE,alpha:h?.1:0,width:Math.abs(n.current-d[0]),height:Math.abs(i.current-d[1]),x:d[0],y:d[1],anchor:[d[0]>n.current?1:0,d[1]>i.current?1:0]})})]})}let IS=parseFloat(Mn("VISUALOFFSET"));function GL(t){const[e,r]=se.exports.useState(Ne(t.startTime,t.endTime,t.game.currentMap.timingPoints)),[n,i]=se.exports.useState(-e),[s,o]=se.exports.useState(Yu[t.keys-1]),[a,c]=se.exports.useState(0),d=se.exports.useRef(0),[p,h]=se.exports.useState(Q/2-ke/2+.5*ke);se.exports.useEffect(()=>{t.hitobject,IS=parseFloat(Mn("VISUALOFFSET"));let v=t.game.currentMap.cursor.filter(C=>C.startTime<=t.startTime)[t.game.currentMap.cursor.filter(C=>C.startTime<=t.startTime).length-1],y=t.game.currentMap.cursor.filter(C=>C.startTime>t.startTime)[0],w=v!=null?v.x:.5,x=y!=null?y.x:v.x,_=v!=null?v.startTime:0,b=y!=null?y.startTime:v.startTime;const T=vs(t.startTime,[_,b],[w,x],v.type);h(Q/2-ke/2+T*ke)},[t.game.currentMap]);const f=se.exports.useMemo(()=>t.hitobject.scrollPosList[a],[a]),m=se.exports.useMemo(()=>t.hitobject.scrollPosList[a+1],[a]);return ie.exports.useTick(()=>{o(t.startTime>=t.game.currentSelectedTimeDrag[0]&&t.startTime<=t.game.currentSelectedTimeDrag[1]&&(t.game.currentSelectedColDrag[0]<t.game.currentSelectedColDrag[1]&&t.keys>=t.game.currentSelectedColDrag[0]&&t.keys<=t.game.currentSelectedColDrag[1]||t.game.currentSelectedColDrag[1]<t.game.currentSelectedColDrag[0]&&t.keys>=t.game.currentSelectedColDrag[1]&&t.keys<=t.game.currentSelectedColDrag[0])?15925248:Yu[t.keys-1]);const v=t.game.currenttime+IS;if(m&&f){if(t.game.currentMap.hitObjects.find(y=>y.index==t.i).endTime!=d.current){const y=Ne(t.game.currentMap.hitObjects.find(w=>w.index==t.i).startTime,t.game.currentMap.hitObjects.find(w=>w.index==t.i).endTime,t.game.currentMap.timingPoints);d.current=t.game.currentMap.hitObjects.find(w=>w.index==t.i).endTime,y!=e&&r(y)}v>=m[0]&&c(a+1),v<f[0]&&c(a-1),i(ce-Bt-ht(v,[f[0],m[0]],[f[1],m[1]]))}}),H(Ot,{children:Ke(Ot,{children:[H(ie.exports.Sprite,{texture:ae.WHITE,x:p-Oe/2+Mi*(t.keys-1)+0,y:n,anchor:[0,1],width:Mi,height:Qu,alpha:1,tint:s}),H(ie.exports.Sprite,{texture:ae.WHITE,x:p-Oe/2+Mi*(t.keys-1)+0,y:n,anchor:[0,1],width:Mi,height:e,alpha:.5,tint:s})]})})}let BS=parseFloat(Mn("VISUALOFFSET"));function WL(t){const[e,r]=se.exports.useState(-Qu),[n,i]=se.exports.useState(Q/2-ke/2+.5*ke),s=se.exports.useRef(0);let[o,a]=se.exports.useState(Yu[t.keys-1]);return se.exports.useEffect(()=>{t.hitobject,BS=parseFloat(Mn("VISUALOFFSET"));let c=t.game.currentMap.cursor.filter(y=>y.startTime<=t.startTime)[t.game.currentMap.cursor.filter(y=>y.startTime<=t.startTime).length-1],d=t.game.currentMap.cursor.filter(y=>y.startTime>t.startTime)[0],p=c!=null?c.x:.5,h=d!=null?d.x:c.x,f=c!=null?c.startTime:0,m=d!=null?d.startTime:c.startTime;const v=vs(t.startTime,[f,m],[p,h],c.type);i(Q/2-ke/2+v*ke)},[t.game.currentMap]),ie.exports.useTick(()=>{const c=t.game.currenttime+BS,d=t.hitobject.scrollPosList[s.current],p=t.hitobject.scrollPosList[s.current+1];p&&c>=p[0]&&(s.current=s.current+1),a((t.game.currentSelectedTimeDrag[0]<t.game.currentSelectedTimeDrag[1]&&t.startTime>=t.game.currentSelectedTimeDrag[0]&&t.startTime<=t.game.currentSelectedTimeDrag[1]||t.game.currentSelectedTimeDrag[1]<t.game.currentSelectedTimeDrag[0]&&t.startTime>=t.game.currentSelectedTimeDrag[1]&&t.startTime<=t.game.currentSelectedTimeDrag[0])&&(t.game.currentSelectedColDrag[0]<t.game.currentSelectedColDrag[1]&&t.keys>=t.game.currentSelectedColDrag[0]&&t.keys<=t.game.currentSelectedColDrag[1]||t.game.currentSelectedColDrag[1]<t.game.currentSelectedColDrag[0]&&t.keys>=t.game.currentSelectedColDrag[1]&&t.keys<=t.game.currentSelectedColDrag[0])?16646144:Yu[t.keys-1]),d&&p&&r(ce-Bt-ht(c,[d[0],p[0]],[d[1],p[1]],!0))}),H(Ot,{children:H(ie.exports.Sprite,{texture:ae.WHITE,tint:o,x:n-Oe/2+Mi*(t.keys-1),y:e,anchor:[0,1],width:Mi,height:Qu})})}const VL=(t,e)=>t<=e.screenEndTime&&t>=e.screenStartTime;function XL(t){let e=t+"=",n=decodeURIComponent(document.cookie).split(";");for(let i=0;i<n.length;i++){let s=n[i];for(;s.charAt(0)==" ";)s=s.substring(1);if(s.indexOf(e)==0)return s.substring(e.length,s.length)}return""}const RS=XL("TOGGLECOLOR");function hd(t){se.exports.useState(t.game.currentMap);const[e,r]=se.exports.useState(t.game.currentMap.hitObjects),[n,i]=se.exports.useState(t.game.currentMap);var s=se.exports.useRef(t.game.mode=="edit"?Q/4:Q/2);let o=se.exports.useRef(t.i==1?s.current-Oe/2:t.i==2||t.i==3?s.current:s.current+Oe/2);return ie.exports.useTick(()=>{const a=t.game.beatmap.hitObjects.filter(c=>VL(t.game.currenttime,c));t.game.beatmap=t.game.currentMap,r(a),i(t.game.currentMap)}),e.map((a,c)=>{if(a.column==t.i){if(a.type=="note")return H(WL,{x:o.current,startTime:a.startTime,keys:t.i,i:a.index,visibleend:a.screenEndTime,visiblestart:a.screenStartTime,hitobject:a,game:t.game,color:RS=="True"},a.index);if(a.type=="hold")return H(GL,{x:o.current,hitobject:a,visibleend:a.screenEndTime,visiblestart:a.screenStartTime,startTime:a.startTime,beatmap:n,endTime:a.endTime,timingPoint:n.timingPoints.slice().filter(d=>d.time<=a.startTime).sort((d,p)=>p.time-d.time)[0],keys:t.i,color:RS=="True",i:a.index,game:t.game},a.index)}})}const qL=(t,e)=>t>=e.ticks[0]&&t<=e.ticks[1];function YL(t){let e=t.game.currentSnap;const[r,n]=se.exports.useState([{ticks:sl(0+Math.floor(1*(6e4/(120*e))),t.game.currentMap.timingPoints.slice().sort((o,a)=>o.time-a.time),t.game.currentMap),index:0,bpm:t.game.currentMap.timingPoints[0]}]),[i,s]=se.exports.useState(r);return se.exports.useEffect(()=>{let o=[],a=0;t.game.currentMap.timingPoints.map((c,d)=>{const p=t.game.currentMap.timingPoints[d+1]!=null?t.game.currentMap.timingPoints[d+1].time:t.game.audio.duration()*1e3;if(Math.floor((p-c.time)/(6e4/(c.bpm*e)))>0)for(let h=0;h<Math.floor((p-c.time)/(6e4/(c.bpm*e)));h++)o.push({ticks:sl(c.time+Math.floor(h*(6e4/(c.bpm*e))),t.game.currentMap.timingPoints.slice().sort((f,m)=>f.time-m.time),t.game.currentMap),index:a,bpm:c}),a++}),n(o)},[e,t.game.currentMap.timingPoints]),ie.exports.useTick(()=>{const o=r.filter(a=>qL(t.game.currenttime,a));o!=i&&s(o)}),H(Ot,{children:H(ie.exports.ParticleContainer,{children:i.map(o=>H(QL,{time:0,game:t.game,factor:e,i:o.index,currentbpm:o.bpm,beatmap:t.game.currentMap,ticks:o.ticks},t.game.currentMap.hitObjects.length+t.game.currentMap.cursor.length+o.index))})})}function QL(t){const e=se.exports.useRef(0),[r,n]=se.exports.useState(0);return ie.exports.useTick(()=>{const i=t.game.currenttime;let s=t.ticks[2][r],o=t.ticks[2][r+1];s!=null&&o!=null&&(i>=o[0]&&n(r+1),i<s[0]&&n(r-1),e.current=ce-Bt-ht(i,[s[0],o[0]],[s[1],o[1]]))}),H(ie.exports.Sprite,{texture:ae.WHITE,x:0,width:Q,height:2,alpha:1,y:e.current,tint:(t.i+1)%t.game.currentSnap==1?16777215:4273855,anchor:[0,1]})}class KL{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(yr.system.add(this.tickerUpdate,this,cl.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(yr.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const ys=new KL;class M0{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=M0.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Re,this.page=new Re,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class Df extends M0{constructor(){super(...arguments),this.client=new Re,this.movement=new Re,this.offset=new Re,this.global=new Re,this.screen=new Re}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,c,d,p,h,f,m,v,y){throw new Error("Method not implemented.")}}class kn extends Df{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Qa extends Df{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Qa.DOM_DELTA_PIXEL=0,Qa.DOM_DELTA_LINE=1,Qa.DOM_DELTA_PAGE=2;const ZL=2048,JL=new Re,uv=new Re;class e7{constructor(e){this.dispatch=new gc,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){ys.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,JL.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<ZL&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(ys.pauseUpdate=!1),e.interactiveChildren&&e.children){const p=e.children;for(let h=p.length-1;h>=0;h--){const f=p[h],m=this.hitTestMoveRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s,o||s(e,n));if(m){if(m.length>0&&!m[m.length-1].parent)continue;const v=e.isInteractive();(m.length>0||v)&&(v&&this._allInteractiveElements.push(e),m.push(e)),this._hitElements.length===0&&(this._hitElements=m),a=!0}}}const c=this._isInteractive(r),d=e.isInteractive();return c&&d&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:c&&!s(e,n)&&i(e,n)?d?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(ys.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let d=c.length-1;d>=0;d--){const p=c[d],h=this.hitTestRecursive(p,this._isInteractive(r)?r:p.eventMode,n,i,s);if(h){if(h.length>0&&!h[h.length-1].parent)continue;const f=e.isInteractive();return(h.length>0||f)&&h.push(e),h}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){if(e.hitArea&&(e.worldTransform.applyInverse(r,uv),!e.hitArea.contains(uv.x,uv.y)))return!0;if(e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;if(n&&!n.containsPoint?.(r))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){r=r??e.type;const n=`on${r}`;e.currentTarget[n]?.(e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){if(!(e instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(i.overTargets?.length>0&&s!==r.target){const c=e.type==="mousemove"?"mouseout":"pointerout",d=this.createPointerEvent(e,c,s);if(this.dispatchEvent(d,"pointerout"),n&&this.dispatchEvent(d,"mouseout"),!r.composedPath().includes(s)){const p=this.createPointerEvent(e,"pointerleave",s);for(p.eventPhase=p.AT_TARGET;p.target&&!r.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(d)}if(s!==r.target){const c=e.type==="mousemove"?"mouseover":"pointerover",d=this.clonePointerEvent(r,c);this.dispatchEvent(d,"pointerover"),n&&this.dispatchEvent(d,"mouseover");let p=s?.parent;for(;p&&p!==this.rootTarget.parent&&p!==r.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const h=this.clonePointerEvent(r,"pointerenter");for(h.eventPhase=h.AT_TARGET;h.target&&h.target!==s&&h.target!==this.rootTarget.parent;)h.currentTarget=h.target,this.notifyTarget(h),n&&this.notifyTarget(h,"mouseenter"),h.target=h.target.parent;this.freeEvent(h)}this.freeEvent(d)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=r.target?.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){if(!(e instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=n.target?.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const c=i.clicksByButton[e.button];if(c.target===a.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=a.target,c.timeStamp=r,a.detail=c.clickCount,a.pointerType==="mouse"){const d=a.button===2;this.dispatchEvent(a,d?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof kn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Qa)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(kn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Qa);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(kn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof kn&&r instanceof kn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof Df&&r instanceof Df&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const t7=1,r7={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},i1=class s1{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new e7(null),ys.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new kn(null),this.rootWheelEvent=new Qa(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...s1.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,s1._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,ys.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const a=this.bootstrapEvent(this.rootPointerEvent,i[s]);a.type+=n,this.rootBoundary.mapEvent(a)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,ys.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;ys.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;ys.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=t7),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=r7[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};i1.extension={name:"events",type:[ve.RendererSystem,ve.CanvasRendererSystem]},i1.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let o1=i1;Ae.add(o1);function DS(t){return t==="dynamic"||t==="static"}const n7={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??DS(o1.defaultEventMode)},set interactive(t){Me("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??o1.defaultEventMode},set eventMode(t){this._internalInteractive=DS(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=n?`${t}capture`:t;const a=typeof e=="function"?e:e.handleEvent,c=this;i&&i.addEventListener("abort",()=>{c.off(t,a,o)}),s?c.once(t,a,o):c.on(t,a,o)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof M0))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};Us.mixin(n7);let MS=parseFloat(Mn("VISUALOFFSET"));function OS(t){const e=se.exports.useRef(t.game.currentMap.cursor).current;let r=se.exports.useRef(e[t.i]?e[t.i].startTime:0).current,[n,i]=se.exports.useState(e[t.i]!=null?e[t.i].x:.5),[s,o]=se.exports.useState(e[t.i-1]!=null?e[t.i-1].x:.5),a=se.exports.useRef(e[t.i-1]!=null?e[t.i-1].type:"normal").current;se.exports.useState(Q/2);let[c,d]=se.exports.useState(e[t.i+1]!=null?e[t.i+1].x:.5),p=se.exports.useRef(e[t.i+1]?e[t.i+1].startTime:t.game.duration).current;const h=se.exports.useRef(0),f=se.exports.useRef(t.game.currentMap.cursor[t.i]).current,[m,v]=se.exports.useState(f.scrollPosList);let[y,w]=se.exports.useState(Math.round(Ne(r,p,t.game.currentMap.timingPoints)));const[x,_]=se.exports.useState(-y);return se.exports.useState(!1),se.exports.useEffect(()=>{MS=parseFloat(Mn("VISUALOFFSET")),t.game.mode=="edit"&&(h.current=0,r=e[t.i]?e[t.i].startTime:0,v(f.scrollPosList),a=e[t.i-1]!=null?e[t.i-1].type:"normal",d(e[t.i+1]!=null?e[t.i+1].x:.5),p=e[t.i+1]?e[t.i+1].startTime:t.game.duration);for(let b=1;b<t.i+1;b++)if(t.game.currentMap.cursor[t.i-b]!=null){s=e[t.i-b].x;break}w(Math.round(Ne(t.game.currentMap.cursor[t.i].startTime,t.game.currentMap.cursor[t.i].endTime,t.game.currentMap.timingPoints))),i(e[t.i]!=null?e[t.i].x:.5),o(t.game.beatmap.cursor[t.i-1]!=null?t.game.beatmap.cursor[t.i-1].x:.5),i(t.game.beatmap.cursor[t.i]!=null?t.game.beatmap.cursor[t.i].x:.5),o(t.game.beatmap.cursor[t.i-1]!=null?t.game.beatmap.cursor[t.i-1].x:.5)},[JSON.stringify(t.game.beatmap.cursor[t.i])]),ie.exports.useTick(()=>{const b=t.game.currenttime+MS,T=m[h.current],C=m[h.current+1];C&&b>=C[0]&&(h.current=h.current+1),m[h.current-1]&&b<T[0]&&(h.current=h.current-1),C&&T&&_(ce-Bt-ht(b,[T[0],C[0]],[T[1],C[1]]))}),Ke(ie.exports.Container,{rightclick:b=>{t.game.currentRemoveType=="removecursor"&&t.game.removeCursor(r)},interactive:!0,children:[t.game.currentMap.cursor[t.i].type=="ein"||e[t.i].type=="eout"||e[t.i].type=="linear"?H(ie.exports.Container,{y:x-y,children:t.draw}):null,Ke(Ot,{children:[t.game.currentMap.cursor[t.i].type=="normal"&&Ke(Ot,{children:[H(ie.exports.Sprite,{texture:ae.WHITE,x:ht(e[t.i].x,[0,1],[Q/2-ke/2,Q/2+ke/2]),width:Oe*1.1+2,height:a=="normal"?y+2:y+1,y:a=="normal"?x+1:x,alpha:1,anchor:[.5,1]}),H(ie.exports.Sprite,{texture:ae.WHITE,tint:3151144,x:ht(e[t.i].x,[0,1],[Q/2-ke/2,Q/2+ke/2]),width:Oe*1.1,height:y,y:x,alpha:1,anchor:[.5,1]}),H(ie.exports.Sprite,{texture:ae.WHITE,x:Math.floor(ht(e[t.i].x,[0,1],[Q/2-ke/2,Q/2+ke/2])-Oe*.25),width:1,height:y,alpha:.5,y:x,anchor:s>n?[.5,1]:[.5,1]}),H(ie.exports.Sprite,{texture:ae.WHITE,x:Math.floor(ht(e[t.i].x,[0,1],[Q/2-ke/2,Q/2+ke/2])+Oe*.25),width:1,height:y,alpha:.5,y:x,anchor:s>n?[.5,1]:[.5,1]}),H(ie.exports.Sprite,{texture:ae.WHITE,x:Math.floor(ht(e[t.i].x,[0,1],[Q/2-ke/2,Q/2+ke/2])),width:1,height:y,alpha:.5,y:x,anchor:s>n?[.5,1]:[.5,1]})]}),a=="normal"&&Ke(Ot,{children:[H(ie.exports.Sprite,{texture:ae.WHITE,x:ht(e[t.i].x,[0,1],[Q/2-ke/2,Q/2+ke/2]),width:Math.abs(s-n)*ke,tint:s>n?B2[0]:B2[1],height:ce*.05,alpha:.4,y:x,anchor:s>n?[0,1]:[1,1]}),H(ie.exports.Sprite,{texture:ae.WHITE,x:ht(e[t.i].x,[0,1],[Q/2-ke/2,Q/2+ke/2]),width:Math.abs(s-n)*ke,height:1,alpha:1,y:x,anchor:s>n?[0,1]:[1,1]}),H(ie.exports.Sprite,{texture:ae.WHITE,x:ht(e[t.i].x,[0,1],[Q/2-ke/2,Q/2+ke/2]),width:Math.abs(s-n)*ke,height:1,alpha:1,y:x-ce*.05,anchor:s>n?[0,1]:[1,1]})]})]}),t.game.currentMap.cursor[t.i].type=="normal"&&Ke(Ot,{children:[H(ie.exports.Sprite,{texture:ae.WHITE,x:ht(e[t.i].x,[0,1],[Q/2-ke/2,Q/2+ke/2])-Oe*1*.25*4/4,width:Q*.5,height:y,y:x,alpha:0,interactive:!0,pointerover:()=>{t.game.currentCol=1},mousedown:()=>{t.game.clicked||(t.game.clicked=!0,t.game.currentSelectedColDrag[0]=1)},mouseup:()=>{t.game.clicked=!1,t.game.currentSelectedColDrag[1]=1},anchor:[1,1]}),H(ie.exports.Sprite,{texture:ae.WHITE,x:ht(e[t.i].x,[0,1],[Q/2-ke/2,Q/2+ke/2])-Oe*1*.25*2/4,width:Oe*1*.25,height:y,y:x,interactive:!0,pointerover:b=>{t.game.currentCol=2},mousedown:()=>{t.game.clicked||(t.game.clicked=!0,t.game.currentSelectedColDrag[0]=2)},mouseup:()=>{t.game.clicked=!1,t.game.currentSelectedColDrag[1]=2},alpha:0,anchor:[.5,1]}),H(ie.exports.Sprite,{texture:ae.WHITE,x:ht(e[t.i].x,[0,1],[Q/2-ke/2,Q/2+ke/2])+Oe*1*.25*2/4,width:Oe*1*.25,height:y,y:x,alpha:0,interactive:!0,pointerover:b=>{t.game.currentCol=3},mousedown:()=>{t.game.clicked||(t.game.clicked=!0,t.game.currentSelectedColDrag[0]=3)},mouseup:()=>{t.game.clicked=!1,t.game.currentSelectedColDrag[1]=3},anchor:[.5,1]}),H(ie.exports.Sprite,{texture:ae.WHITE,x:ht(e[t.i].x,[0,1],[Q/2-ke/2,Q/2+ke/2])+Oe*.25,width:Q*.5,height:y,interactive:!0,pointerover:b=>{t.game.currentCol=4},mousedown:()=>{t.game.clicked||(t.game.clicked=!0,t.game.currentSelectedColDrag[0]=4)},mouseup:()=>{t.game.clicked=!1,t.game.currentSelectedColDrag[1]=4},y:x,alpha:0,anchor:[0,1]})]}),Ke(ie.exports.Container,{alpha:0,y:x-y,children:[H(ie.exports.Container,{x:c<n?-(Oe*1)/2*1:+(Oe*1)/2*-.5,pointerover:()=>{t.game.currentCol=1},interactive:!0,children:t.draw2}),H(ie.exports.Container,{x:c<n?-(Oe*1)/2*.5:+(Oe*1)/2*0,pointerover:()=>{t.game.currentCol=2},interactive:!0,children:t.draw2}),H(ie.exports.Container,{x:c<n?-(Oe*1)/2*-0:+(Oe*1)/2*.5,pointerover:()=>{t.game.currentCol=3},interactive:!0,children:t.draw2}),H(ie.exports.Container,{x:c<n?-(Oe*1)/2*-.5:+(Oe*1)/2*1,pointerover:()=>{t.game.currentCol=4},interactive:!0,children:t.draw2})]})]})}const i7=(t,e)=>t>=e.screenStartTime&&t<=e.screenEndTime;function s7(t){const[e,r]=se.exports.useState(t.game.beatmap.cursor),[n,i]=se.exports.useState([H(Ot,{})]),[s,o]=se.exports.useState([H(Ot,{})]);se.exports.useEffect(()=>{const d=t.game.beatmap;JSON.stringify(e),console.log("change"),o(t.game.beatmap.cursor.map((p,h)=>{if(p.type=="normal")return H(OS,{x:p.x,cursorlist:e,beatmap:d,i:p.index,type:p.type,game:t.game,draw:H(Ot,{})},d.hitObjects.length+p.index);{const m=t.game.beatmap.cursor[h+1]?t.game.beatmap.cursor[h+1].x:.5,v=p.endTime,y=t.game.beatmap.cursor[h],w=T=>{console.log("changed");const C=Math.round(Ne(y.startTime,v,d.timingPoints));T.clear(),T.lineStyle(0,"white",1),T.beginFill(3151144);const P=0;let I=0;const F=Math.abs(y.x-m)*ke,M=0,k=y.type=="ein"?"eout":y.type=="eout"?"ein":y.type;let B=0;const O=C;for(let D=0;D<4;D++)T.lineTo(vs(I+(F-P)/4,[P,F],[P,F],k),B+(O-M)/4),I+=(F-P)/4,B+=(O-M)/4;I+=(F-P)/4,B+=(O-M)/4,T.lineTo(F,O);for(let D=0;D<4;D++)T.lineTo(vs(I-(F-P)/4,[P,F],[P,F],k)+Oe*1.1,B-(O-M)/4),I-=(F-P)/4,B-=(O-M)/4;T.lineTo(P+Oe*1.1,M)},x=T=>{console.log("changed");const C=Math.round(Ne(y.startTime,v,t.game.currentMap.timingPoints));T.clear(),T.lineStyle(0,"white",1),T.beginFill("white");const P=0;let I=0;const F=Math.abs(y.x-m)*ke,M=0,k=y.type=="ein"?"eout":y.type=="eout"?"ein":y.type;let B=0;const O=C;for(let D=0;D<4;D++)T.lineTo(vs(I+(F-P)/4,[P,F],[P,F],k),B+(O-M)/4),I+=(F-P)/4,B+=(O-M)/4;I+=(F-P)/4,B+=(O-M)/4,T.lineTo(F,O);for(let D=0;D<4;D++)T.lineTo(vs(I-(F-P)/4,[P,F],[P,F],k)+Oe*.25,B-(O-M)/4),I-=(F-P)/4,B-=(O-M)/4;T.lineTo(P+Oe*.25,M)},_=T=>{T.clear();const C=Math.round(Ne(y.startTime,v,t.game.currentMap.timingPoints)),P=0;let I=0;const F=Math.abs(y.x-m)*ke,M=0,k=y.type=="ein"?"eout":y.type=="eout"?"ein":y.type;let B=0;const O=C;T.lineStyle(1,"white",1),I=0,B=0;for(let D=0;D<4;D++)T.lineTo(vs(I+(F-P)/4,[P,F],[P,F],k),B+(O-M)/4),I+=(F-P)/4,B+=(O-M)/4;I+=(F-P)/4,B+=(O-M)/4,T.lineTo(F,O)};console.log(m,p.x);const b=ht(m,[0,1],[Q/2-ke/2,Q/2+ke/2]);return H(OS,{x:p.x,cursorlist:e,beatmap:d,i:p.index,type:p.type,game:t.game,draw2:H(ie.exports.Graphics,{draw:x,x:b,scale:[m>p.x?-1:1,1]}),draw:H(Ot,{children:Ke(ie.exports.Container,{x:b,children:[H(ie.exports.Graphics,{draw:w,x:m>p.x?Oe*1.1/2:-Oe*1.1/2,scale:[m<p.x?1:-1,1]}),H(ie.exports.Graphics,{draw:_,x:-(Oe*1.1)/2,scale:[m>p.x?-1:1,1]}),H(ie.exports.Graphics,{draw:_,alpha:.5,x:0,scale:[m>p.x?-1:1,1]}),H(ie.exports.Graphics,{draw:_,x:-(Oe*1.1)/2,scale:[m>p.x?-1:1,1]}),H(ie.exports.Graphics,{draw:_,x:+(Oe*1.1)/2,scale:[m>p.x?-1:1,1]}),H(ie.exports.Graphics,{draw:_,x:Oe/4,scale:[m>p.x?-1:1,1],alpha:.5}),H(ie.exports.Graphics,{draw:_,x:-Oe/4,scale:[m>p.x?-1:1,1],alpha:.5})]})})},d.hitObjects.length+p.index)}}))},[JSON.stringify(t.game.beatmap)]);const[a,c]=se.exports.useState(t.game.beatmap.cursor);return se.exports.useEffect(()=>{i(a.map((d,p)=>s[d.index]))},[JSON.stringify(a)]),ie.exports.useTick(()=>{const d=t.game.beatmap;d.cursor!=e&&r(d.cursor);const p=d.cursor.filter(h=>i7(t.game.currenttime,h));c(p)}),n}function o7(t){let e=t+"=",n=decodeURIComponent(document.cookie).split(";");for(let i=0;i<n.length;i++){let s=n[i];for(;s.charAt(0)==" ";)s=s.substring(1);if(s.indexOf(e)==0)return s.substring(e.length,s.length)}return""}function a7(t){const[e,r]=se.exports.useState(parseFloat(o7("BACKGROUND_DIM")));return Ke(Ot,{children:[H(ie.exports.Sprite,{image:t.imgpath,height:Q>ce*16/9?Q*9/16:ce,width:Q>ce*16/9?Q:ce*16/9,x:Q/2,anchor:[.5,.5],y:ce/2}),H(ie.exports.Sprite,{texture:ae.WHITE,tint:"black",height:ce,width:Q,x:Q/2,alpha:e,anchor:[.5,.5],y:ce/2})]})}function l7(t){const[e,r]=se.exports.useState(0);return ie.exports.useTick(()=>{const n=t.game.beatmap.cursor.filter(i=>i.startTime<=t.game.currenttime).sort((i,s)=>i.startTime-s.startTime).reverse()[0];if(n&&t.game.audio.playing())if(n.type!="normal"){let i=t.game.beatmap.cursor.filter(c=>c.startTime>t.game.currenttime)[0],s=i?i.x:.5,o=i?i.startTime:n.startTime,a=Q/2-ke/2+vs(t.game.currenttime,[n.startTime,o],[n.x,s],n.type)*ke;a!=e&&r(a)}else Q/2-ke/2+n.x*ke&&r(Q/2-ke/2+n.x*ke)}),Ke(ie.exports.Container,{x:e,y:ce-Bt/2,children:[H(ie.exports.Sprite,{image:"./overlay2.png",height:15,tint:"white",width:Oe*7,anchor:[.5,.5],alpha:1}),H(ie.exports.Sprite,{image:"./overlay2.png",height:10,tint:16721594,alpha:1,width:Oe*3,anchor:[.5,.5]})]})}function u7(t){const[e,r]=se.exports.useState(!1);Ty(y=>y.editor);const[n,i]=se.exports.useState(t.beatmap);Iy();const s=t.game.currentSnap,o=se.exports.useRef(0),a=se.exports.useRef(0),c=y=>{let w=cc.getState().editor.value.currentMap.timingPoints.filter(C=>C.time<=t.game.audio.seek()*1e3).sort((C,P)=>C.time-P.time),x=w[w.length-1],_=t.game.audio.seek()*1e3,b=Math.round(6e4/(x.bpm*s)),T=x.time+b*Math.floor((_-x.time)/b);y.deltaY>0&&(T=T-b),y.deltaY<0&&(T=T+b),t.game.audio.seek(Math.round(T)/1e3)},d=y=>{o.current=y.clientX,a.current=y.clientY,p()},p=()=>{let y=t.game.currentMap.timingPoints.slice().filter(T=>T.time<=t.game.audio.seek()*1e3).sort((T,C)=>T.time-C.time).reverse()[0],w=a.current,_=(t.game.currenttime+On(0,t.game.currentMap.timingPoints.slice(),-w)+-On(0,t.game.currentMap.timingPoints.slice(),-ce+Bt))/1e3,b=y.time/1e3+60/(y.bpm*t.game.currentSnap)*Math.round((_-y.time/1e3)/(60/(y.bpm*t.game.currentSnap)));t.game.currentSelectedTime=Math.round(b*1e3)},h=y=>{y.button==0&&(r(!0),t.game.currentObjectType!="nothing"&&p(),(t.game.currentObjectType=="normal"||t.game.currentObjectType=="linear"||t.game.currentObjectType=="ein"||t.game.currentObjectType=="eout")&&t.game.addCursor([Math.round(t.game.currenttime),Math.round(ht(o.current,[lu()/2-lu()*.13*3/2,lu()/2+lu()*.13*3/2],[0,1])*10)/10]),t.game.currentObjectType=="note"&&t.game.addnote(),t.game.currentObjectType=="hold"&&t.game.addHold([t.game.currenttime,t.game.currentCol,t.game.currenttime+1e3])),y.button==2&&t.game.currentRemoveType=="removenote"&&(p(),t.game.removeNote())},f=y=>{y.button==0&&r(!1),t.game.currentObjectType=="hold"&&y.button==0&&(t.game.addholdend(),t.game.lastobj=[-1,-1])},m=y=>{switch(y.code){case"Space":console.log(t.game.audio.playing()),t.game.audio.playing()?t.game.audio.pause():t.game.audio.play();break;case"KeyE":t.game.currentObjectType="timing";break;case"KeyQ":t.game.currentRemoveType="removenote";break;case"Escape":t.game.currentObjectType="nothing";break;case"KeyW":t.game.currentRemoveType="removecursor";break;case"Digit1":t.game.currentObjectType="note";break;case"Digit2":t.game.currentObjectType="hold";break;case"Digit3":t.game.currentObjectType="normal";break;case"Digit4":t.game.currentObjectType="ein";break;case"Digit5":t.game.currentObjectType="eout";break;case"Digit6":t.game.currentObjectType="linear";break;case"Numpad1":t.game.audio.rate(1);break;case"Numpad2":t.game.audio.rate(1.5);break;case"Numpad3":t.game.audio.rate(50);break;case"Numpad3":t.game.audio.rate(50);break;case"KeyZ":y.ctrlKey&&(t.game.undo(),y.preventDefault());break;case"KeyS":y.ctrlKey&&(y.preventDefault(),t.game.save());break;case"KeyH":y.ctrlKey&&(y.preventDefault(),t.game.select());break;case"KeyY":y.ctrlKey&&(t.game.redo(),y.preventDefault());break}};ie.exports.useTick(()=>{var y=t.game.audio.seek()*1e3;if(t.game.currentObjectType=="hold"&&e){let w=t.game.currentMap.timingPoints.slice().filter(C=>C.time<=t.game.audio.seek()*1e3).sort((C,P)=>C.time-P.time).reverse()[0],x=a.current,b=(t.game.currenttime+On(0,t.game.currentMap.timingPoints.slice(),-x)+-On(0,t.game.currentMap.timingPoints.slice(),-ce+Bt))/1e3,T=w.time/1e3+60/(w.bpm*t.game.currentSnap)*Math.round((b-w.time/1e3)/(60/(w.bpm*t.game.currentSnap)));console.log(T),t.game.currentSelectedTime=Math.round(T*1e3),t.game.currentMap.hitObjects[t.game.currentMap.hitObjects.findIndex(C=>C.startTime==t.game.lastobj[1]&&C.column==t.game.lastobj[0])].endTime=Math.round(T*1e3),t.game.rawBeatmap.hitObjects[t.game.rawBeatmap.hitObjects.findIndex(C=>C.startTime==t.game.lastobj[1]&&C.column==t.game.lastobj[0])].endTime=Math.round(T*1e3)}t.game.currenttime=y});const v=y=>{y.preventDefault()};return se.exports.useEffect(()=>(document.addEventListener("keydown",m),document.addEventListener("contextmenu",v),document.addEventListener("mousemove",d),document.addEventListener("mousedown",h),document.addEventListener("mouseup",f),document.addEventListener("mousewheel",c),()=>{document.removeEventListener("keydown",m),document.removeEventListener("mousewheel",c),document.removeEventListener("mouseup",f),document.removeEventListener("contextmenu",v),document.removeEventListener("mousedown",h),document.removeEventListener("mousemove",d)}),[]),Ke(ie.exports.Container,{children:[H(a7,{imgpath:`${n.bgPath}`}),H(s7,{user:t.user,game:t.game,beatmap:n}),H(YL,{game:t.game,beatmap:n}),Ke(ie.exports.Container,{children:[H(hd,{i:0+1,beatmap:n,hitObjects:n.hitObjects.filter(y=>y.column==0+1),timingPoints:n.timingPoints,game:t.game},-1),H(hd,{i:1+1,beatmap:n,hitObjects:n.hitObjects.filter(y=>y.column==1+1),timingPoints:n.timingPoints,game:t.game},-2),H(hd,{i:2+1,beatmap:n,hitObjects:n.hitObjects.filter(y=>y.column==2+1),timingPoints:n.timingPoints,game:t.game},-3),H(hd,{i:3+1,beatmap:n,hitObjects:n.hitObjects.filter(y=>y.column==3+1),timingPoints:n.timingPoints,game:t.game},-4)]}),H(l7,{game:t.game,cursors:t.game.beatmap.cursor})]})}let NS="";function c7(t){const[e,r]=se.exports.useState(t.timing.time),[n,i]=se.exports.useState(t.timing.bpm),[s,o]=se.exports.useState(t.timing.speed);return Iy(),Ke(Ot,{children:[H("input",{type:"number",name:"",id:`${t.i}-time`,defaultValue:e}),H("input",{type:"number",name:"",id:`${t.i}-bpm`,defaultValue:n}),H("input",{type:"number",name:"",id:`${t.i}-speed`,defaultValue:s}),H("div",{onClick:()=>{t.game.RemoveTiming(t.i)},children:"Remove"})]})}function h7(t){const[e,r]=se.exports.useState(0),[n,i]=se.exports.useState(!1),[s,o]=se.exports.useState(!1),[a,c]=se.exports.useState(t.game.rawBeatmap);return se.exports.useEffect(()=>{const d=setInterval(()=>{const p=t.game.rawBeatmap;NS!=JSON.stringify(p)&&(c(t.game.rawBeatmap),r(Math.random()),NS=JSON.stringify(p))},100);return()=>{clearInterval(d)}}),se.exports.useEffect(()=>{const d=p=>{p.code=="F1"&&(p.preventDefault(),i(!n),t.game.currentObjectType="timing"),p.code=="F2"&&(p.preventDefault(),o(!s),t.game.currentObjectType="nothing"),p.code=="Escape"&&(t.game.currentObjectType="nothing",p.preventDefault(),i(!1),o(!1))};return addEventListener("keydown",d),()=>{removeEventListener("keydown",d)}}),Ke(Ot,{children:[H("button",{onClick:()=>{i(!n),t.game.currentObjectType="timing"},className:"editor-toggle",style:{opacity:n?"1":"0.5"},children:"Edit Timing"}),H("button",{onClick:()=>{o(!s)},className:"editor-toggle-2",style:{opacity:s?"1":"0.5"},children:"Editor Guide"}),Ke("div",{className:"timing-editor",style:{display:n?"flex":"none"},children:[H("hr",{}),Ke("div",{className:"timing-editor-point",children:[H("div",{children:"Time"}),H("div",{children:"BPM"}),H("div",{children:"Speed"}),H("div",{children:" "})]}),H("hr",{}),a.timingPoints.map((d,p)=>H(Ot,{children:H("div",{className:"timing-editor-point",children:H(c7,{game:t.game,timing:d,i:p})})})),H("hr",{}),H("div",{className:"timing-editor-point",onClick:()=>{t.game.AddTiming()},children:H("div",{children:"Add Timing"})}),H("div",{className:"timing-editor-point",onClick:()=>{const d=[];a.timingPoints.slice().forEach((p,h)=>{d.push({time:parseFloat(document.getElementById(`${h}-time`).value),bpm:parseFloat(document.getElementById(`${h}-bpm`).value),speed:parseFloat(document.getElementById(`${h}-speed`).value),meter:4})}),t.game.changeTiming(d)},children:H("div",{children:"Submit Changes"})})]},e),Ke("div",{className:"timing-editor",style:{display:s?"flex":"none"},children:["1 - NOTE",H("br",{}),"2 - HOLD",H("br",{}),"3 - SLAM LASER",H("br",{}),"4 - EASE IN LASER",H("br",{}),"5 - EASE OUT LASER",H("br",{}),"6 - LINEAR LASER",H("br",{}),"Q - REMOVE NOTE MODE",H("br",{}),"W - REMOVE LASER MODE",H("br",{}),"LEFT CLICK - MAIN ACTION",H("br",{}),"RIGHT CLICK - REMOVE ACTION (ACCORDING TO MODE)",H("br",{}),"F1 - TIMING POINTS",H("br",{}),"F2 - EDITOR GUIDE",H("br",{}),"ARROW UP - INCREASE SNAP",H("br",{}),"ARROW DOWN- DECREASE SNAP",H("br",{}),"ARROW DOWN- DECREASE SNAP",H("br",{}),"ESC - NOTHING",H("br",{}),"CTRL+S - SAVE CHART",H("br",{}),"CTRL+H - FLIP",H("br",{}),"CTRL+Z - UNDO",H("br",{}),"CTRL+Y - REDO",H("br",{}),"NUMPAD 1/2/3 - SONG PLAYBACK SPEED",H("br",{})]},e)]})}function d7(t){const e=t.game;return t.uneditedchart.cursor.push({startTime:e.duration,x:t.chart.cursor[t.chart.cursor.length-1].x,type:"normal"}),e.rawBeatmap=JSON.parse(JSON.stringify(t.uneditedchart)),e.currentMap=dt(JSON.stringify(t.uneditedchart)),e.beatmap=t.game.currentMap,e.actionslist.push({map:dt(JSON.stringify(t.uneditedchart)).hitObjects,cursor:dt(JSON.stringify(t.uneditedchart)).cursor}),Ke(Ot,{children:[H(ie.exports.Stage,{width:Q,height:ce,children:H(ie.exports.Container,{filters:[],click:()=>{console.log("test")},children:Ke(s3,{store:cc,children:[H(u7,{beatmap:t.uneditedchart,game:t.game,user:t.user}),H(HL,{game:t.game,beatmap:t.chart,uneditedchart:t.uneditedchart})]})})}),H(h7,{game:t.game,uneditedchart:t.game.rawBeatmap,beatmap:t.game.beatmap})]})}function f7(){return document.cookie="BACKGROUND_DIM=0.4",document.cookie="OFFSET=0",document.cookie="SCROLL_SPEED_FACTOR=8",document.cookie="VOL=0.2",document.cookie="TOGGLECOLOR=True",document.cookie="RENDER=True",H(Ot,{children:Ke("div",{className:"editor-container",children:[Ke("div",{children:[H("h1",{children:"NEODITRONIX CHARTER V.SUPER SUPER BETA ALPHA 0.0.0.0.0.0.0.1"}),H("p",{children:"shit ui. shit ux. but sort of usable. absolutely not recommended to use. but if you're that desperate. u can learn to use it. i'll randomly and gradually push updates here and there to gradually improve the charting program. please forgive me. everything is really rushed, but like i mean who cares fr :p "})]}),Ke("div",{className:"editor-container-half",style:{overflowY:"scroll",height:"100svh"},children:[H("h1",{children:"Start from scratch"}),Ke("p",{children:[" ",'Make sure the audio file directly leads to the .mp3 file. if you use s-ul make sure to add ".mp3" at the end of the link. or use discord links if you will']}),H("br",{}),H("hr",{}),Ke("div",{className:"editor-form",children:[H("input",{className:"custommaptext",type:"text",name:"",id:"audiourl",placeholder:"Audio URL"}),H("input",{className:"custommaptext",type:"text",name:"",id:"title",placeholder:"Title"}),H("input",{className:"custommaptext",type:"text",name:"",id:"artist",placeholder:"Artist"}),H("input",{className:"custommaptext",type:"text",name:"",id:"creator",placeholder:"Creator"}),H("input",{className:"custommaptext",type:"text",name:"",id:"illustrator",placeholder:"Illustrator"}),H("input",{className:"custommaptext",type:"text",name:"",id:"level",placeholder:"Difficulty (LITE, NEON, ENIGMA, EX-ENIGMA)"}),H("input",{className:"custommaptext",type:"number",name:"",id:"bpm",placeholder:"BPM"}),H("input",{className:"custommaptext",type:"number",name:"",id:"offset",placeholder:"BPM offset"}),H("input",{type:"submit",value:"SUBMIT",onClick:()=>{const t=JSON.stringify({id:"unnamed",audioPath:document.getElementById("audiourl").value,preview:0,bgPath:"eden_light",jacketPath:"jackets/eden/untilnexttime.jpg",metadata:{title:document.getElementById("title").value,artist:document.getElementById("artist").value,illustrator:document.getElementById("illustrator").value,creator:document.getElementById("creator").value,difficult:"",difficultcc:0,difficulttype:document.getElementById("level").value},hitObjects:[{type:"note",column:1,startTime:1e3}],cursor:[{type:"normal",x:.5,startTime:0}],timingPoints:[{time:0,meter:4,bpm:parseFloat(document.getElementById("bpm").value),speed:1},{time:parseFloat(document.getElementById("offset").value),meter:4,bpm:parseFloat(document.getElementById("bpm").value),speed:1}]});console.log(t),LS(dt(t),new af,JSON.parse(t))}})]})]}),Ke("div",{className:"editor-container-half",children:[H("h1",{children:"Raw Chart File"}),H("p",{children:" Paste the JSON file into this textbox."}),H("br",{}),H("hr",{}),Ke("div",{className:"editor-form",children:[H("textarea",{id:"custommaptext"}),H("input",{type:"submit",value:"SUBMIT",onClick:()=>{console.log(dt(document.getElementById("custommaptext").value)),LS(dt(document.getElementById("custommaptext").value),new af,JSON.parse(document.getElementById("custommaptext").value))}})]})]})]})})}const a1=XA(document.getElementById("root"));function LS(t,e,r){a1.render(null);let n=t;const{audioPath:i}=n;let s=0,o=0;n.hitObjects.forEach(d=>{d.type=="hold"&&(o+=d.ticks.length,s+=100*d.ticks.length),s+=100,o+=1}),n.cursor.sort((d,p)=>d.startTime-p.startTime).forEach((d,p)=>{const h=n.cursor[p-1]!=null?n.cursor[p-1].x:.5;d.type!="normal"&&(o+=d.ticks.length,s+=100*d.ticks.length),d.x!=h&&(s+=100,o+=1)});const a=new AI;a.init(10,10,400,i,s,n,KF,o,e),a.beatmap=n,a.mode="edit";var c=!1;a.isPlaying=!0,a.setAudioPath(i),console.log(a.audio.playing()),console.log(a.audio.duration()),setInterval(()=>{a.audio.duration()>0&&!c&&(a.duration=a.audio.duration()*1e3,console.log(a.duration),a1.render(H(s3,{store:cc,children:H(mi.StrictMode,{children:H(d7,{uneditedchart:r,game:a,chart:n,menutime:Date.now(),user:e})})})),c=!0)},10)}const R3=new af;R3.partners=[0];R3.selectedpartner=0;a1.render(H(f7,{}))});export default p7();
