var yR=Object.defineProperty;var _R=(t,e,r)=>e in t?yR(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var xR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var He=(t,e,r)=>(_R(t,typeof e!="symbol"?e+"":e,r),r);var Q8=xR((J8,Ce)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bR(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var me={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ou=Symbol.for("react.element"),ER=Symbol.for("react.portal"),TR=Symbol.for("react.fragment"),wR=Symbol.for("react.strict_mode"),SR=Symbol.for("react.profiler"),AR=Symbol.for("react.provider"),CR=Symbol.for("react.context"),RR=Symbol.for("react.forward_ref"),IR=Symbol.for("react.suspense"),PR=Symbol.for("react.memo"),OR=Symbol.for("react.lazy"),Z_=Symbol.iterator;function NR(t){return t===null||typeof t!="object"?null:(t=Z_&&t[Z_]||t["@@iterator"],typeof t=="function"?t:null)}var GE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zE=Object.assign,jE={};function Ca(t,e,r){this.props=t,this.context=e,this.refs=jE,this.updater=r||GE}Ca.prototype.isReactComponent={};Ca.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ca.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function HE(){}HE.prototype=Ca.prototype;function o0(t,e,r){this.props=t,this.context=e,this.refs=jE,this.updater=r||GE}var a0=o0.prototype=new HE;a0.constructor=o0;zE(a0,Ca.prototype);a0.isPureReactComponent=!0;var Q_=Array.isArray,XE=Object.prototype.hasOwnProperty,l0={current:null},VE={key:!0,ref:!0,__self:!0,__source:!0};function $E(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)XE.call(e,n)&&!VE.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Ou,type:t,key:s,ref:o,props:i,_owner:l0.current}}function MR(t,e){return{$$typeof:Ou,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function u0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ou}function FR(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var K_=/\/+/g;function Up(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FR(""+t.key):e.toString(36)}function Lc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ou:case ER:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Up(o,0):n,Q_(i)?(r="",t!=null&&(r=t.replace(K_,"$&/")+"/"),Lc(i,e,r,"",function(c){return c})):i!=null&&(u0(i)&&(i=MR(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(K_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Q_(t))for(var a=0;a<t.length;a++){s=t[a];var u=n+Up(s,a);o+=Lc(s,e,r,u,i)}else if(u=NR(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=n+Up(s,a++),o+=Lc(s,e,r,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Uh(t,e,r){if(t==null)return t;var n=[],i=0;return Lc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function LR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var mr={current:null},kc={transition:null},kR={ReactCurrentDispatcher:mr,ReactCurrentBatchConfig:kc,ReactCurrentOwner:l0};Ie.Children={map:Uh,forEach:function(t,e,r){Uh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Uh(t,function(){e++}),e},toArray:function(t){return Uh(t,function(e){return e})||[]},only:function(t){if(!u0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Ca;Ie.Fragment=TR;Ie.Profiler=SR;Ie.PureComponent=o0;Ie.StrictMode=wR;Ie.Suspense=IR;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kR;Ie.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=zE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=l0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)XE.call(e,u)&&!VE.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:Ou,type:t.type,key:i,ref:s,props:n,_owner:o}};Ie.createContext=function(t){return t={$$typeof:CR,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:AR,_context:t},t.Consumer=t};Ie.createElement=$E;Ie.createFactory=function(t){var e=$E.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:RR,render:t}};Ie.isValidElement=u0;Ie.lazy=function(t){return{$$typeof:OR,_payload:{_status:-1,_result:t},_init:LR}};Ie.memo=function(t,e){return{$$typeof:PR,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=kc.transition;kc.transition={};try{t()}finally{kc.transition=e}};Ie.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ie.useCallback=function(t,e){return mr.current.useCallback(t,e)};Ie.useContext=function(t){return mr.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return mr.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return mr.current.useEffect(t,e)};Ie.useId=function(){return mr.current.useId()};Ie.useImperativeHandle=function(t,e,r){return mr.current.useImperativeHandle(t,e,r)};Ie.useInsertionEffect=function(t,e){return mr.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return mr.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return mr.current.useMemo(t,e)};Ie.useReducer=function(t,e,r){return mr.current.useReducer(t,e,r)};Ie.useRef=function(t){return mr.current.useRef(t)};Ie.useState=function(t){return mr.current.useState(t)};Ie.useSyncExternalStore=function(t,e,r){return mr.current.useSyncExternalStore(t,e,r)};Ie.useTransition=function(){return mr.current.useTransition()};Ie.version="18.2.0";(function(t){t.exports=Ie})(me);const Ln=UE(me.exports);var WE={exports:{}},rn={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var J_=Object.getOwnPropertySymbols,DR=Object.prototype.hasOwnProperty,BR=Object.prototype.propertyIsEnumerable;function UR(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function GR(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var YE=GR()?Object.assign:function(t,e){for(var r,n=UR(t),i,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var o in r)DR.call(r,o)&&(n[o]=r[o]);if(J_){i=J_(r);for(var a=0;a<i.length;a++)BR.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n},qE={exports:{}},ZE={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}if(typeof window>"u"||typeof MessageChannel!="function"){var u=null,c=null,d=function(){if(u!==null)try{var M=t.unstable_now();u(!0,M),u=null}catch(L){throw setTimeout(d,0),L}};e=function(M){u!==null?setTimeout(e,0,M):(u=M,setTimeout(d,0))},r=function(M,L){c=setTimeout(M,L)},n=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,v=window.clearTimeout;if(typeof console<"u"){var m=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof m!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var g=!1,b=null,y=-1,E=5,T=0;t.unstable_shouldYield=function(){return t.unstable_now()>=T},i=function(){},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5};var S=new MessageChannel,A=S.port2;S.port1.onmessage=function(){if(b!==null){var M=t.unstable_now();T=M+E;try{b(!0,M)?A.postMessage(null):(g=!1,b=null)}catch(L){throw A.postMessage(null),L}}else g=!1},e=function(M){b=M,g||(g=!0,A.postMessage(null))},r=function(M,L){y=p(function(){M(t.unstable_now())},L)},n=function(){v(y),y=-1}}function R(M,L){var z=M.length;M.push(L);e:for(;;){var X=z-1>>>1,oe=M[X];if(oe!==void 0&&0<k(oe,L))M[X]=L,M[z]=oe,z=X;else break e}}function I(M){return M=M[0],M===void 0?null:M}function P(M){var L=M[0];if(L!==void 0){var z=M.pop();if(z!==L){M[0]=z;e:for(var X=0,oe=M.length;X<oe;){var ve=2*(X+1)-1,Te=M[ve],Pe=ve+1,Le=M[Pe];if(Te!==void 0&&0>k(Te,z))Le!==void 0&&0>k(Le,Te)?(M[X]=Le,M[Pe]=z,X=Pe):(M[X]=Te,M[ve]=z,X=ve);else if(Le!==void 0&&0>k(Le,z))M[X]=Le,M[Pe]=z,X=Pe;else break e}}return L}return null}function k(M,L){var z=M.sortIndex-L.sortIndex;return z!==0?z:M.id-L.id}var N=[],D=[],V=1,Q=null,q=3,ae=!1,W=!1,$=!1;function se(M){for(var L=I(D);L!==null;){if(L.callback===null)P(D);else if(L.startTime<=M)P(D),L.sortIndex=L.expirationTime,R(N,L);else break;L=I(D)}}function Se(M){if($=!1,se(M),!W)if(I(N)!==null)W=!0,e(pe);else{var L=I(D);L!==null&&r(Se,L.startTime-M)}}function pe(M,L){W=!1,$&&($=!1,n()),ae=!0;var z=q;try{for(se(L),Q=I(N);Q!==null&&(!(Q.expirationTime>L)||M&&!t.unstable_shouldYield());){var X=Q.callback;if(typeof X=="function"){Q.callback=null,q=Q.priorityLevel;var oe=X(Q.expirationTime<=L);L=t.unstable_now(),typeof oe=="function"?Q.callback=oe:Q===I(N)&&P(N),se(L)}else P(N);Q=I(N)}if(Q!==null)var ve=!0;else{var Te=I(D);Te!==null&&r(Se,Te.startTime-L),ve=!1}return ve}finally{Q=null,q=z,ae=!1}}var H=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){W||ae||(W=!0,e(pe))},t.unstable_getCurrentPriorityLevel=function(){return q},t.unstable_getFirstCallbackNode=function(){return I(N)},t.unstable_next=function(M){switch(q){case 1:case 2:case 3:var L=3;break;default:L=q}var z=q;q=L;try{return M()}finally{q=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=H,t.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var z=q;q=M;try{return L()}finally{q=z}},t.unstable_scheduleCallback=function(M,L,z){var X=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?X+z:X):z=X,M){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=z+oe,M={id:V++,callback:L,priorityLevel:M,startTime:z,expirationTime:oe,sortIndex:-1},z>X?(M.sortIndex=z,R(D,M),I(N)===null&&M===I(D)&&($?n():$=!0,r(Se,z-X))):(M.sortIndex=oe,R(N,M),W||ae||(W=!0,e(pe))),M},t.unstable_wrapCallback=function(M){var L=q;return function(){var z=q;q=L;try{return M.apply(this,arguments)}finally{q=z}}}})(ZE);(function(t){t.exports=ZE})(qE);/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var td=me.exports,ut=YE,Vt=qE.exports;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!td)throw Error(Y(227));var QE=new Set,nu={};function fo(t,e){ba(t,e),ba(t+"Capture",e)}function ba(t,e){for(nu[t]=e,t=0;t<e.length;t++)QE.add(e[t])}var yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,e1=Object.prototype.hasOwnProperty,t1={},r1={};function jR(t){return e1.call(r1,t)?!0:e1.call(t1,t)?!1:zR.test(t)?r1[t]=!0:(t1[t]=!0,!1)}function HR(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XR(t,e,r,n){if(e===null||typeof e>"u"||HR(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function gr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nr[t]=new gr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nr[e]=new gr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nr[t]=new gr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nr[t]=new gr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nr[t]=new gr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nr[t]=new gr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nr[t]=new gr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nr[t]=new gr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nr[t]=new gr(t,5,!1,t.toLowerCase(),null,!1,!1)});var h0=/[\-:]([a-z])/g;function c0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(h0,c0);nr[e]=new gr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(h0,c0);nr[e]=new gr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(h0,c0);nr[e]=new gr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nr[t]=new gr(t,1,!1,t.toLowerCase(),null,!1,!1)});nr.xlinkHref=new gr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nr[t]=new gr(t,1,!1,t.toLowerCase(),null,!0,!0)});function f0(t,e,r,n){var i=nr.hasOwnProperty(e)?nr[e]:null,s=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(XR(e,r,i,n)&&(r=null),n||i===null?jR(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var po=td.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Nl=60103,Ws=60106,Wi=60107,d0=60108,Hl=60114,p0=60109,v0=60110,rd=60112,Xl=60113,cf=60120,nd=60115,m0=60116,g0=60121,y0=60128,KE=60129,_0=60130,um=60131;if(typeof Symbol=="function"&&Symbol.for){var Ut=Symbol.for;Nl=Ut("react.element"),Ws=Ut("react.portal"),Wi=Ut("react.fragment"),d0=Ut("react.strict_mode"),Hl=Ut("react.profiler"),p0=Ut("react.provider"),v0=Ut("react.context"),rd=Ut("react.forward_ref"),Xl=Ut("react.suspense"),cf=Ut("react.suspense_list"),nd=Ut("react.memo"),m0=Ut("react.lazy"),g0=Ut("react.block"),Ut("react.scope"),y0=Ut("react.opaque.id"),KE=Ut("react.debug_trace_mode"),_0=Ut("react.offscreen"),um=Ut("react.legacy_hidden")}var n1=typeof Symbol=="function"&&Symbol.iterator;function ul(t){return t===null||typeof t!="object"?null:(t=n1&&t[n1]||t["@@iterator"],typeof t=="function"?t:null)}var Gp;function Ml(t){if(Gp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Gp=e&&e[1]||""}return`
`+Gp+t}var zp=!1;function Gh(t,e){if(!t||zp)return"";zp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{zp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ml(t):""}function VR(t){switch(t.tag){case 5:return Ml(t.type);case 16:return Ml("Lazy");case 13:return Ml("Suspense");case 19:return Ml("SuspenseList");case 0:case 2:case 15:return t=Gh(t.type,!1),t;case 11:return t=Gh(t.type.render,!1),t;case 22:return t=Gh(t.type._render,!1),t;case 1:return t=Gh(t.type,!0),t;default:return""}}function sa(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wi:return"Fragment";case Ws:return"Portal";case Hl:return"Profiler";case d0:return"StrictMode";case Xl:return"Suspense";case cf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case v0:return(t.displayName||"Context")+".Consumer";case p0:return(t._context.displayName||"Context")+".Provider";case rd:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case nd:return sa(t.type);case g0:return sa(t._render);case m0:e=t._payload,t=t._init;try{return sa(t(e))}catch{}}return null}function as(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function JE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $R(t){var e=JE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zh(t){t._valueTracker||(t._valueTracker=$R(t))}function eT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=JE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ff(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function hm(t,e){var r=e.checked;return ut({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:t._wrapperState.initialChecked})}function i1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=as(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tT(t,e){e=e.checked,e!=null&&f0(t,"checked",e,!1)}function cm(t,e){tT(t,e);var r=as(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?fm(t,e.type,r):e.hasOwnProperty("defaultValue")&&fm(t,e.type,as(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function s1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function fm(t,e,r){(e!=="number"||ff(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function WR(t){var e="";return td.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function dm(t,e){return t=ut({children:void 0},e),(e=WR(e.children))&&(t.children=e),t}function oa(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+as(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function pm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return ut({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function o1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Y(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(Y(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:as(r)}}function rT(t,e){var r=as(e.value),n=as(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function a1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var vm={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function nT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?nT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var jh,iT=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==vm.svg||"innerHTML"in t)t.innerHTML=e;else{for(jh=jh||document.createElement("div"),jh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=jh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function iu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Vl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YR=["Webkit","ms","Moz","O"];Object.keys(Vl).forEach(function(t){YR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Vl[e]=Vl[t]})});function sT(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Vl.hasOwnProperty(t)&&Vl[t]?(""+e).trim():e+"px"}function oT(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=sT(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var qR=ut({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gm(t,e){if(e){if(qR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function ym(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function x0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var _m=null,aa=null,la=null;function l1(t){if(t=Mu(t)){if(typeof _m!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=ud(e),_m(t.stateNode,t.type,e))}}function aT(t){aa?la?la.push(t):la=[t]:aa=t}function lT(){if(aa){var t=aa,e=la;if(la=aa=null,l1(t),e)for(t=0;t<e.length;t++)l1(e[t])}}function b0(t,e){return t(e)}function uT(t,e,r,n,i){return t(e,r,n,i)}function E0(){}var hT=b0,Ys=!1,jp=!1;function T0(){(aa!==null||la!==null)&&(E0(),lT())}function ZR(t,e,r){if(jp)return t(e,r);jp=!0;try{return hT(t,e,r)}finally{jp=!1,T0()}}function su(t,e){var r=t.stateNode;if(r===null)return null;var n=ud(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Y(231,e,typeof r));return r}var xm=!1;if(yi)try{var hl={};Object.defineProperty(hl,"passive",{get:function(){xm=!0}}),window.addEventListener("test",hl,hl),window.removeEventListener("test",hl,hl)}catch{xm=!1}function QR(t,e,r,n,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var $l=!1,df=null,pf=!1,bm=null,KR={onError:function(t){$l=!0,df=t}};function JR(t,e,r,n,i,s,o,a,u){$l=!1,df=null,QR.apply(KR,arguments)}function eI(t,e,r,n,i,s,o,a,u){if(JR.apply(this,arguments),$l){if($l){var c=df;$l=!1,df=null}else throw Error(Y(198));pf||(pf=!0,bm=c)}}function vo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function cT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function u1(t){if(vo(t)!==t)throw Error(Y(188))}function tI(t){var e=t.alternate;if(!e){if(e=vo(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return u1(i),t;if(s===n)return u1(i),e;s=s.sibling}throw Error(Y(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?t:e}function fT(t){if(t=tI(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function h1(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var dT,w0,pT,vT,Em=!1,Rn=[],Ki=null,Ji=null,es=null,ou=new Map,au=new Map,cl=[],c1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tm(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function f1(t,e){switch(t){case"focusin":case"focusout":Ki=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":ou.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":au.delete(e.pointerId)}}function fl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t=Tm(e,r,n,i,s),e!==null&&(e=Mu(e),e!==null&&w0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function rI(t,e,r,n,i){switch(e){case"focusin":return Ki=fl(Ki,t,e,r,n,i),!0;case"dragenter":return Ji=fl(Ji,t,e,r,n,i),!0;case"mouseover":return es=fl(es,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return ou.set(s,fl(ou.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,au.set(s,fl(au.get(s)||null,t,e,r,n,i)),!0}return!1}function nI(t){var e=qs(t.target);if(e!==null){var r=vo(e);if(r!==null){if(e=r.tag,e===13){if(e=cT(r),e!==null){t.blockedOn=e,vT(t.lanePriority,function(){Vt.unstable_runWithPriority(t.priority,function(){pT(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=R0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=Mu(r),e!==null&&w0(e),t.blockedOn=r,!1;e.shift()}return!0}function d1(t,e,r){Dc(t)&&r.delete(e)}function iI(){for(Em=!1;0<Rn.length;){var t=Rn[0];if(t.blockedOn!==null){t=Mu(t.blockedOn),t!==null&&dT(t);break}for(var e=t.targetContainers;0<e.length;){var r=R0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&Rn.shift()}Ki!==null&&Dc(Ki)&&(Ki=null),Ji!==null&&Dc(Ji)&&(Ji=null),es!==null&&Dc(es)&&(es=null),ou.forEach(d1),au.forEach(d1)}function dl(t,e){t.blockedOn===e&&(t.blockedOn=null,Em||(Em=!0,Vt.unstable_scheduleCallback(Vt.unstable_NormalPriority,iI)))}function mT(t){function e(i){return dl(i,t)}if(0<Rn.length){dl(Rn[0],t);for(var r=1;r<Rn.length;r++){var n=Rn[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ki!==null&&dl(Ki,t),Ji!==null&&dl(Ji,t),es!==null&&dl(es,t),ou.forEach(e),au.forEach(e),r=0;r<cl.length;r++)n=cl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<cl.length&&(r=cl[0],r.blockedOn===null);)nI(r),r.blockedOn===null&&cl.shift()}function Hh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Wo={animationend:Hh("Animation","AnimationEnd"),animationiteration:Hh("Animation","AnimationIteration"),animationstart:Hh("Animation","AnimationStart"),transitionend:Hh("Transition","TransitionEnd")},Hp={},gT={};yi&&(gT=document.createElement("div").style,"AnimationEvent"in window||(delete Wo.animationend.animation,delete Wo.animationiteration.animation,delete Wo.animationstart.animation),"TransitionEvent"in window||delete Wo.transitionend.transition);function id(t){if(Hp[t])return Hp[t];if(!Wo[t])return t;var e=Wo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in gT)return Hp[t]=e[r];return t}var yT=id("animationend"),_T=id("animationiteration"),xT=id("animationstart"),bT=id("transitionend"),ET=new Map,S0=new Map,sI=["abort","abort",yT,"animationEnd",_T,"animationIteration",xT,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",bT,"transitionEnd","waiting","waiting"];function A0(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),S0.set(n,e),ET.set(n,i),fo(i,[n])}}var oI=Vt.unstable_now;oI();var et=8;function Xo(t){if((1&t)!==0)return et=15,1;if((2&t)!==0)return et=14,2;if((4&t)!==0)return et=13,4;var e=24&t;return e!==0?(et=12,e):(t&32)!==0?(et=11,32):(e=192&t,e!==0?(et=10,e):(t&256)!==0?(et=9,256):(e=3584&t,e!==0?(et=8,e):(t&4096)!==0?(et=7,4096):(e=4186112&t,e!==0?(et=6,e):(e=62914560&t,e!==0?(et=5,e):t&67108864?(et=4,67108864):(t&134217728)!==0?(et=3,134217728):(e=805306368&t,e!==0?(et=2,e):(1073741824&t)!==0?(et=1,1073741824):(et=8,t))))))}function aI(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function lI(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(Y(358,t))}}function lu(t,e){var r=t.pendingLanes;if(r===0)return et=0;var n=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,a=t.pingedLanes;if(s!==0)n=s,i=et=15;else if(s=r&134217727,s!==0){var u=s&~o;u!==0?(n=Xo(u),i=et):(a&=s,a!==0&&(n=Xo(a),i=et))}else s=r&~o,s!==0?(n=Xo(s),i=et):a!==0&&(n=Xo(a),i=et);if(n===0)return 0;if(n=31-ls(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&(e&o)===0){if(Xo(e),i<=et)return e;et=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ls(e),i=1<<r,n|=t[r],e&=~i;return n}function TT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vf(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Vo(24&~e),t===0?vf(10,e):t;case 10:return t=Vo(192&~e),t===0?vf(8,e):t;case 8:return t=Vo(3584&~e),t===0&&(t=Vo(4186112&~e),t===0&&(t=512)),t;case 2:return e=Vo(805306368&~e),e===0&&(e=268435456),e}throw Error(Y(358,t))}function Vo(t){return t&-t}function Xp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function sd(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-ls(e),t[e]=r}var ls=Math.clz32?Math.clz32:cI,uI=Math.log,hI=Math.LN2;function cI(t){return t===0?32:31-(uI(t)/hI|0)|0}var fI=Vt.unstable_UserBlockingPriority,dI=Vt.unstable_runWithPriority,Bc=!0;function pI(t,e,r,n){Ys||E0();var i=C0,s=Ys;Ys=!0;try{uT(i,t,e,r,n)}finally{(Ys=s)||T0()}}function vI(t,e,r,n){dI(fI,C0.bind(null,t,e,r,n))}function C0(t,e,r,n){if(Bc){var i;if((i=(e&4)===0)&&0<Rn.length&&-1<c1.indexOf(t))t=Tm(null,t,e,r,n),Rn.push(t);else{var s=R0(t,e,r,n);if(s===null)i&&f1(t,n);else{if(i){if(-1<c1.indexOf(t)){t=Tm(s,t,e,r,n),Rn.push(t);return}if(rI(s,t,e,r,n))return;f1(t,n)}kT(t,e,n,null,r)}}}}function R0(t,e,r,n){var i=x0(n);if(i=qs(i),i!==null){var s=vo(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=cT(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return kT(t,e,n,i,r),null}var Yi=null,I0=null,Uc=null;function wT(){if(Uc)return Uc;var t,e=I0,r=e.length,n,i="value"in Yi?Yi.value:Yi.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Uc=i.slice(t,1<n?1-n:void 0)}function Gc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Xh(){return!0}function p1(){return!1}function kr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Xh:p1,this.isPropagationStopped=p1,this}return ut(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Xh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Xh)},persist:function(){},isPersistent:Xh}),e}var Ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},P0=kr(Ra),Nu=ut({},Ra,{view:0,detail:0}),mI=kr(Nu),Vp,$p,pl,od=ut({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:O0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pl&&(pl&&t.type==="mousemove"?(Vp=t.screenX-pl.screenX,$p=t.screenY-pl.screenY):$p=Vp=0,pl=t),Vp)},movementY:function(t){return"movementY"in t?t.movementY:$p}}),v1=kr(od),gI=ut({},od,{dataTransfer:0}),yI=kr(gI),_I=ut({},Nu,{relatedTarget:0}),Wp=kr(_I),xI=ut({},Ra,{animationName:0,elapsedTime:0,pseudoElement:0}),bI=kr(xI),EI=ut({},Ra,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),TI=kr(EI),wI=ut({},Ra,{data:0}),m1=kr(wI),SI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},CI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=CI[t])?!!e[t]:!1}function O0(){return RI}var II=ut({},Nu,{key:function(t){if(t.key){var e=SI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Gc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?AI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:O0,charCode:function(t){return t.type==="keypress"?Gc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PI=kr(II),OI=ut({},od,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),g1=kr(OI),NI=ut({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:O0}),MI=kr(NI),FI=ut({},Ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),LI=kr(FI),kI=ut({},od,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DI=kr(kI),BI=[9,13,27,32],N0=yi&&"CompositionEvent"in window,Wl=null;yi&&"documentMode"in document&&(Wl=document.documentMode);var UI=yi&&"TextEvent"in window&&!Wl,ST=yi&&(!N0||Wl&&8<Wl&&11>=Wl),y1=String.fromCharCode(32),_1=!1;function AT(t,e){switch(t){case"keyup":return BI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function CT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Yo=!1;function GI(t,e){switch(t){case"compositionend":return CT(e);case"keypress":return e.which!==32?null:(_1=!0,y1);case"textInput":return t=e.data,t===y1&&_1?null:t;default:return null}}function zI(t,e){if(Yo)return t==="compositionend"||!N0&&AT(t,e)?(t=wT(),Uc=I0=Yi=null,Yo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ST&&e.locale!=="ko"?null:e.data;default:return null}}var jI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function x1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jI[t.type]:e==="textarea"}function RT(t,e,r,n){aT(n),e=mf(e,"onChange"),0<e.length&&(r=new P0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Yl=null,uu=null;function HI(t){MT(t,0)}function ad(t){var e=Zo(t);if(eT(e))return t}function XI(t,e){if(t==="change")return e}var IT=!1;if(yi){var Yp;if(yi){var qp="oninput"in document;if(!qp){var b1=document.createElement("div");b1.setAttribute("oninput","return;"),qp=typeof b1.oninput=="function"}Yp=qp}else Yp=!1;IT=Yp&&(!document.documentMode||9<document.documentMode)}function E1(){Yl&&(Yl.detachEvent("onpropertychange",PT),uu=Yl=null)}function PT(t){if(t.propertyName==="value"&&ad(uu)){var e=[];if(RT(e,uu,t,x0(t)),t=HI,Ys)t(e);else{Ys=!0;try{b0(t,e)}finally{Ys=!1,T0()}}}}function VI(t,e,r){t==="focusin"?(E1(),Yl=e,uu=r,Yl.attachEvent("onpropertychange",PT)):t==="focusout"&&E1()}function $I(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ad(uu)}function WI(t,e){if(t==="click")return ad(e)}function YI(t,e){if(t==="input"||t==="change")return ad(e)}function qI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wr=typeof Object.is=="function"?Object.is:qI,ZI=Object.prototype.hasOwnProperty;function hu(t,e){if(Wr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!ZI.call(e,r[n])||!Wr(t[r[n]],e[r[n]]))return!1;return!0}function T1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function w1(t,e){var r=T1(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=T1(r)}}function OT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function S1(){for(var t=window,e=ff();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ff(t.document)}return e}function wm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var QI=yi&&"documentMode"in document&&11>=document.documentMode,qo=null,Sm=null,ql=null,Am=!1;function A1(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Am||qo==null||qo!==ff(n)||(n=qo,"selectionStart"in n&&wm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ql&&hu(ql,n)||(ql=n,n=mf(Sm,"onSelect"),0<n.length&&(e=new P0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=qo)))}A0("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);A0("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);A0(sI,2);for(var C1="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Zp=0;Zp<C1.length;Zp++)S0.set(C1[Zp],0);ba("onMouseEnter",["mouseout","mouseover"]);ba("onMouseLeave",["mouseout","mouseover"]);ba("onPointerEnter",["pointerout","pointerover"]);ba("onPointerLeave",["pointerout","pointerover"]);fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NT=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fl));function R1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,eI(n,e,void 0,t),t.currentTarget=null}function MT(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;R1(i,a,c),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;R1(i,a,c),s=u}}}if(pf)throw t=bm,pf=!1,bm=null,t}function it(t,e){var r=BT(e),n=t+"__bubble";r.has(n)||(LT(e,t,2,!1),r.add(n))}var I1="_reactListening"+Math.random().toString(36).slice(2);function FT(t){t[I1]||(t[I1]=!0,QE.forEach(function(e){NT.has(e)||P1(e,!1,t,null),P1(e,!0,t,null)}))}function P1(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=r;if(t==="selectionchange"&&r.nodeType!==9&&(s=r.ownerDocument),n!==null&&!e&&NT.has(t)){if(t!=="scroll")return;i|=2,s=n}var o=BT(s),a=t+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),LT(s,t,i,e),o.add(a))}function LT(t,e,r,n){var i=S0.get(e);switch(i===void 0?2:i){case 0:i=pI;break;case 1:i=vI;break;default:i=C0}r=i.bind(null,e,r,t),i=void 0,!xm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function kT(t,e,r,n,i){var s=n;if((e&1)===0&&(e&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=qs(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}ZR(function(){var c=s,d=x0(r),p=[];e:{var v=ET.get(t);if(v!==void 0){var m=P0,g=t;switch(t){case"keypress":if(Gc(r)===0)break e;case"keydown":case"keyup":m=PI;break;case"focusin":g="focus",m=Wp;break;case"focusout":g="blur",m=Wp;break;case"beforeblur":case"afterblur":m=Wp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=v1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=yI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=MI;break;case yT:case _T:case xT:m=bI;break;case bT:m=LI;break;case"scroll":m=mI;break;case"wheel":m=DI;break;case"copy":case"cut":case"paste":m=TI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=g1}var b=(e&4)!==0,y=!b&&t==="scroll",E=b?v!==null?v+"Capture":null:v;b=[];for(var T=c,S;T!==null;){S=T;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,E!==null&&(A=su(T,E),A!=null&&b.push(cu(T,A,S)))),y)break;T=T.return}0<b.length&&(v=new m(v,g,null,r,d),p.push({event:v,listeners:b}))}}if((e&7)===0){e:{if(v=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",v&&(e&16)===0&&(g=r.relatedTarget||r.fromElement)&&(qs(g)||g[Ia]))break e;if((m||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=c,g=g?qs(g):null,g!==null&&(y=vo(g),g!==y||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=c),m!==g)){if(b=v1,A="onMouseLeave",E="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(b=g1,A="onPointerLeave",E="onPointerEnter",T="pointer"),y=m==null?v:Zo(m),S=g==null?v:Zo(g),v=new b(A,T+"leave",m,r,d),v.target=y,v.relatedTarget=S,A=null,qs(d)===c&&(b=new b(E,T+"enter",g,r,d),b.target=S,b.relatedTarget=y,A=b),y=A,m&&g)t:{for(b=m,E=g,T=0,S=b;S;S=Lo(S))T++;for(S=0,A=E;A;A=Lo(A))S++;for(;0<T-S;)b=Lo(b),T--;for(;0<S-T;)E=Lo(E),S--;for(;T--;){if(b===E||E!==null&&b===E.alternate)break t;b=Lo(b),E=Lo(E)}b=null}else b=null;m!==null&&O1(p,v,m,b,!1),g!==null&&y!==null&&O1(p,y,g,b,!0)}}e:{if(v=c?Zo(c):window,m=v.nodeName&&v.nodeName.toLowerCase(),m==="select"||m==="input"&&v.type==="file")var R=XI;else if(x1(v))if(IT)R=YI;else{R=$I;var I=VI}else(m=v.nodeName)&&m.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(R=WI);if(R&&(R=R(t,c))){RT(p,R,r,d);break e}I&&I(t,v,c),t==="focusout"&&(I=v._wrapperState)&&I.controlled&&v.type==="number"&&fm(v,"number",v.value)}switch(I=c?Zo(c):window,t){case"focusin":(x1(I)||I.contentEditable==="true")&&(qo=I,Sm=c,ql=null);break;case"focusout":ql=Sm=qo=null;break;case"mousedown":Am=!0;break;case"contextmenu":case"mouseup":case"dragend":Am=!1,A1(p,r,d);break;case"selectionchange":if(QI)break;case"keydown":case"keyup":A1(p,r,d)}var P;if(N0)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Yo?AT(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(ST&&r.locale!=="ko"&&(Yo||k!=="onCompositionStart"?k==="onCompositionEnd"&&Yo&&(P=wT()):(Yi=d,I0="value"in Yi?Yi.value:Yi.textContent,Yo=!0)),I=mf(c,k),0<I.length&&(k=new m1(k,t,null,r,d),p.push({event:k,listeners:I}),P?k.data=P:(P=CT(r),P!==null&&(k.data=P)))),(P=UI?GI(t,r):zI(t,r))&&(c=mf(c,"onBeforeInput"),0<c.length&&(d=new m1("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:c}),d.data=P))}MT(p,e)})}function cu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function mf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=su(t,r),s!=null&&n.unshift(cu(t,s,i)),s=su(t,e),s!=null&&n.push(cu(t,s,i))),t=t.return}return n}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function O1(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,i?(u=su(r,s),u!=null&&o.unshift(cu(r,u,a))):i||(u=su(r,s),u!=null&&o.push(cu(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function gf(){}var Qp=null,Kp=null;function DT(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Cm(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var N1=typeof setTimeout=="function"?setTimeout:void 0,KI=typeof clearTimeout=="function"?clearTimeout:void 0;function M0(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function ua(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function M1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Jp=0;function JI(t){return{$$typeof:y0,toString:t,valueOf:t}}var ld=Math.random().toString(36).slice(2),qi="__reactFiber$"+ld,yf="__reactProps$"+ld,Ia="__reactContainer$"+ld,F1="__reactEvents$"+ld;function qs(t){var e=t[qi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ia]||r[qi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=M1(t);t!==null;){if(r=t[qi])return r;t=M1(t)}return e}t=r,r=t.parentNode}return null}function Mu(t){return t=t[qi]||t[Ia],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function ud(t){return t[yf]||null}function BT(t){var e=t[F1];return e===void 0&&(e=t[F1]=new Set),e}var Rm=[],Qo=-1;function vs(t){return{current:t}}function ot(t){0>Qo||(t.current=Rm[Qo],Rm[Qo]=null,Qo--)}function yt(t,e){Qo++,Rm[Qo]=t.current,t.current=e}var us={},hr=vs(us),Ar=vs(!1),so=us;function Ea(t,e){var r=t.type.contextTypes;if(!r)return us;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Cr(t){return t=t.childContextTypes,t!=null}function _f(){ot(Ar),ot(hr)}function L1(t,e,r){if(hr.current!==us)throw Error(Y(168));yt(hr,e),yt(Ar,r)}function UT(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Y(108,sa(e)||"Unknown",i));return ut({},r,n)}function zc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||us,so=hr.current,yt(hr,t),yt(Ar,Ar.current),!0}function k1(t,e,r){var n=t.stateNode;if(!n)throw Error(Y(169));r?(t=UT(t,e,so),n.__reactInternalMemoizedMergedChildContext=t,ot(Ar),ot(hr),yt(hr,t)):ot(Ar),yt(Ar,r)}var F0=null,eo=null,eP=Vt.unstable_runWithPriority,L0=Vt.unstable_scheduleCallback,Im=Vt.unstable_cancelCallback,tP=Vt.unstable_shouldYield,D1=Vt.unstable_requestPaint,Pm=Vt.unstable_now,rP=Vt.unstable_getCurrentPriorityLevel,hd=Vt.unstable_ImmediatePriority,GT=Vt.unstable_UserBlockingPriority,zT=Vt.unstable_NormalPriority,jT=Vt.unstable_LowPriority,HT=Vt.unstable_IdlePriority,ev={},nP=D1!==void 0?D1:function(){},oi=null,jc=null,tv=!1,B1=Pm(),lr=1e4>B1?Pm:function(){return Pm()-B1};function Ta(){switch(rP()){case hd:return 99;case GT:return 98;case zT:return 97;case jT:return 96;case HT:return 95;default:throw Error(Y(332))}}function XT(t){switch(t){case 99:return hd;case 98:return GT;case 97:return zT;case 96:return jT;case 95:return HT;default:throw Error(Y(332))}}function oo(t,e){return t=XT(t),eP(t,e)}function fu(t,e,r){return t=XT(t),L0(t,e,r)}function jn(){if(jc!==null){var t=jc;jc=null,Im(t)}VT()}function VT(){if(!tv&&oi!==null){tv=!0;var t=0;try{var e=oi;oo(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),oi=null}catch(r){throw oi!==null&&(oi=oi.slice(t+1)),L0(hd,jn),r}finally{tv=!1}}}var iP=po.ReactCurrentBatchConfig;function un(t,e){if(t&&t.defaultProps){e=ut({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var xf=vs(null),bf=null,Ko=null,Ef=null;function k0(){Ef=Ko=bf=null}function D0(t){var e=xf.current;ot(xf),t.type._context._currentValue=e}function $T(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function ha(t,e){bf=t,Ef=Ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(cn=!0),t.firstContext=null)}function Jr(t,e){if(Ef!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(Ef=t,e=1073741823),e={context:t,observedBits:e,next:null},Ko===null){if(bf===null)throw Error(Y(308));Ko=e,bf.dependencies={lanes:0,firstContext:e,responders:null}}else Ko=Ko.next=e;return t._currentValue}var $i=!1;function B0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function WT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ts(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function U1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function du(t,e,r,n){var i=t.updateQueue;$i=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;if(d!==null){d=d.updateQueue;var p=d.lastBaseUpdate;p!==o&&(p===null?d.firstBaseUpdate=c:p.next=c,d.lastBaseUpdate=u)}}if(s!==null){p=i.baseState,o=0,d=c=u=null;do{a=s.lane;var v=s.eventTime;if((n&a)===a){d!==null&&(d=d.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var m=t,g=s;switch(a=e,v=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){p=m.call(v,p,a);break e}p=m;break e;case 3:m.flags=m.flags&-4097|64;case 0:if(m=g.payload,a=typeof m=="function"?m.call(v,p,a):m,a==null)break e;p=ut({},p,a);break e;case 2:$i=!0}}s.callback!==null&&(t.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else v={eventTime:v,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(c=d=v,u=p):d=d.next=v,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,Lu|=o,t.lanes=o,t.memoizedState=p}}function G1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Y(191,i));i.call(n)}}}var YT=new td.Component().refs;function Tf(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ut({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var cd={isMounted:function(t){return(t=t._reactInternals)?vo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Lr(),i=ns(t),s=ts(n,i);s.payload=e,r!=null&&(s.callback=r),rs(t,s),is(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Lr(),i=ns(t),s=ts(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),rs(t,s),is(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Lr(),n=ns(t),i=ts(r,n);i.tag=2,e!=null&&(i.callback=e),rs(t,i),is(t,n,r)}};function z1(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!hu(r,n)||!hu(i,s):!0}function qT(t,e,r){var n=!1,i=us,s=e.contextType;return typeof s=="object"&&s!==null?s=Jr(s):(i=Cr(e)?so:hr.current,n=e.contextTypes,s=(n=n!=null)?Ea(t,i):us),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function j1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&cd.enqueueReplaceState(e,e.state,null)}function Om(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=YT,B0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Jr(s):(s=Cr(e)?so:hr.current,i.context=Ea(t,s)),du(t,r,i,n),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Tf(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cd.enqueueReplaceState(i,i.state,null),du(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Vh=Array.isArray;function vl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=n.refs;o===YT&&(o=n.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,t))}return t}function $h(t,e){if(t.type!=="textarea")throw Error(Y(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function ZT(t){function e(y,E){if(t){var T=y.lastEffect;T!==null?(T.nextEffect=E,y.lastEffect=E):y.firstEffect=y.lastEffect=E,E.nextEffect=null,E.flags=8}}function r(y,E){if(!t)return null;for(;E!==null;)e(y,E),E=E.sibling;return null}function n(y,E){for(y=new Map;E!==null;)E.key!==null?y.set(E.key,E):y.set(E.index,E),E=E.sibling;return y}function i(y,E){return y=cs(y,E),y.index=0,y.sibling=null,y}function s(y,E,T){return y.index=T,t?(T=y.alternate,T!==null?(T=T.index,T<E?(y.flags=2,E):T):(y.flags=2,E)):E}function o(y){return t&&y.alternate===null&&(y.flags=2),y}function a(y,E,T,S){return E===null||E.tag!==6?(E=ov(T,y.mode,S),E.return=y,E):(E=i(E,T),E.return=y,E)}function u(y,E,T,S){return E!==null&&E.elementType===T.type?(S=i(E,T.props),S.ref=vl(y,E,T),S.return=y,S):(S=$c(T.type,T.key,T.props,null,y.mode,S),S.ref=vl(y,E,T),S.return=y,S)}function c(y,E,T,S){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=av(T,y.mode,S),E.return=y,E):(E=i(E,T.children||[]),E.return=y,E)}function d(y,E,T,S,A){return E===null||E.tag!==7?(E=pa(T,y.mode,S,A),E.return=y,E):(E=i(E,T),E.return=y,E)}function p(y,E,T){if(typeof E=="string"||typeof E=="number")return E=ov(""+E,y.mode,T),E.return=y,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Nl:return T=$c(E.type,E.key,E.props,null,y.mode,T),T.ref=vl(y,null,E),T.return=y,T;case Ws:return E=av(E,y.mode,T),E.return=y,E}if(Vh(E)||ul(E))return E=pa(E,y.mode,T,null),E.return=y,E;$h(y,E)}return null}function v(y,E,T,S){var A=E!==null?E.key:null;if(typeof T=="string"||typeof T=="number")return A!==null?null:a(y,E,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Nl:return T.key===A?T.type===Wi?d(y,E,T.props.children,S,A):u(y,E,T,S):null;case Ws:return T.key===A?c(y,E,T,S):null}if(Vh(T)||ul(T))return A!==null?null:d(y,E,T,S,null);$h(y,T)}return null}function m(y,E,T,S,A){if(typeof S=="string"||typeof S=="number")return y=y.get(T)||null,a(E,y,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Nl:return y=y.get(S.key===null?T:S.key)||null,S.type===Wi?d(E,y,S.props.children,A,S.key):u(E,y,S,A);case Ws:return y=y.get(S.key===null?T:S.key)||null,c(E,y,S,A)}if(Vh(S)||ul(S))return y=y.get(T)||null,d(E,y,S,A,null);$h(E,S)}return null}function g(y,E,T,S){for(var A=null,R=null,I=E,P=E=0,k=null;I!==null&&P<T.length;P++){I.index>P?(k=I,I=null):k=I.sibling;var N=v(y,I,T[P],S);if(N===null){I===null&&(I=k);break}t&&I&&N.alternate===null&&e(y,I),E=s(N,E,P),R===null?A=N:R.sibling=N,R=N,I=k}if(P===T.length)return r(y,I),A;if(I===null){for(;P<T.length;P++)I=p(y,T[P],S),I!==null&&(E=s(I,E,P),R===null?A=I:R.sibling=I,R=I);return A}for(I=n(y,I);P<T.length;P++)k=m(I,y,P,T[P],S),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?P:k.key),E=s(k,E,P),R===null?A=k:R.sibling=k,R=k);return t&&I.forEach(function(D){return e(y,D)}),A}function b(y,E,T,S){var A=ul(T);if(typeof A!="function")throw Error(Y(150));if(T=A.call(T),T==null)throw Error(Y(151));for(var R=A=null,I=E,P=E=0,k=null,N=T.next();I!==null&&!N.done;P++,N=T.next()){I.index>P?(k=I,I=null):k=I.sibling;var D=v(y,I,N.value,S);if(D===null){I===null&&(I=k);break}t&&I&&D.alternate===null&&e(y,I),E=s(D,E,P),R===null?A=D:R.sibling=D,R=D,I=k}if(N.done)return r(y,I),A;if(I===null){for(;!N.done;P++,N=T.next())N=p(y,N.value,S),N!==null&&(E=s(N,E,P),R===null?A=N:R.sibling=N,R=N);return A}for(I=n(y,I);!N.done;P++,N=T.next())N=m(I,y,P,N.value,S),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?P:N.key),E=s(N,E,P),R===null?A=N:R.sibling=N,R=N);return t&&I.forEach(function(V){return e(y,V)}),A}return function(y,E,T,S){var A=typeof T=="object"&&T!==null&&T.type===Wi&&T.key===null;A&&(T=T.props.children);var R=typeof T=="object"&&T!==null;if(R)switch(T.$$typeof){case Nl:e:{for(R=T.key,A=E;A!==null;){if(A.key===R){switch(A.tag){case 7:if(T.type===Wi){r(y,A.sibling),E=i(A,T.props.children),E.return=y,y=E;break e}break;default:if(A.elementType===T.type){r(y,A.sibling),E=i(A,T.props),E.ref=vl(y,A,T),E.return=y,y=E;break e}}r(y,A);break}else e(y,A);A=A.sibling}T.type===Wi?(E=pa(T.props.children,y.mode,S,T.key),E.return=y,y=E):(S=$c(T.type,T.key,T.props,null,y.mode,S),S.ref=vl(y,E,T),S.return=y,y=S)}return o(y);case Ws:e:{for(A=T.key;E!==null;){if(E.key===A)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){r(y,E.sibling),E=i(E,T.children||[]),E.return=y,y=E;break e}else{r(y,E);break}else e(y,E);E=E.sibling}E=av(T,y.mode,S),E.return=y,y=E}return o(y)}if(typeof T=="string"||typeof T=="number")return T=""+T,E!==null&&E.tag===6?(r(y,E.sibling),E=i(E,T),E.return=y,y=E):(r(y,E),E=ov(T,y.mode,S),E.return=y,y=E),o(y);if(Vh(T))return g(y,E,T,S);if(ul(T))return b(y,E,T,S);if(R&&$h(y,T),typeof T>"u"&&!A)switch(y.tag){case 1:case 22:case 0:case 11:case 15:throw Error(Y(152,sa(y.type)||"Component"))}return r(y,E)}}var wf=ZT(!0),QT=ZT(!1),Fu={},kn=vs(Fu),pu=vs(Fu),vu=vs(Fu);function Zs(t){if(t===Fu)throw Error(Y(174));return t}function Nm(t,e){switch(yt(vu,e),yt(pu,t),yt(kn,Fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:mm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=mm(e,t)}ot(kn),yt(kn,e)}function wa(){ot(kn),ot(pu),ot(vu)}function H1(t){Zs(vu.current);var e=Zs(kn.current),r=mm(e,t.type);e!==r&&(yt(pu,t),yt(kn,r))}function U0(t){pu.current===t&&(ot(kn),ot(pu))}var mt=vs(0);function Sf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fi=null,Zi=null,Dn=!1;function KT(t,e){var r=Yr(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function X1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function Mm(t){if(Dn){var e=Zi;if(e){var r=e;if(!X1(t,e)){if(e=ua(r.nextSibling),!e||!X1(t,e)){t.flags=t.flags&-1025|2,Dn=!1,fi=t;return}KT(fi,r)}fi=t,Zi=ua(e.firstChild)}else t.flags=t.flags&-1025|2,Dn=!1,fi=t}}function V1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fi=t}function Wh(t){if(t!==fi)return!1;if(!Dn)return V1(t),Dn=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!Cm(e,t.memoizedProps))for(e=Zi;e;)KT(t,e),e=ua(e.nextSibling);if(V1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Zi=ua(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Zi=null}}else Zi=fi?ua(t.stateNode.nextSibling):null;return!0}function rv(){Zi=fi=null,Dn=!1}var ca=[];function G0(){for(var t=0;t<ca.length;t++)ca[t]._workInProgressVersionPrimary=null;ca.length=0}var Zl=po.ReactCurrentDispatcher,Qr=po.ReactCurrentBatchConfig,mu=0,At=null,ar=null,Kt=null,Af=!1,Ql=!1;function Tr(){throw Error(Y(321))}function z0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Wr(t[r],e[r]))return!1;return!0}function j0(t,e,r,n,i,s){if(mu=s,At=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Zl.current=t===null||t.memoizedState===null?oP:aP,t=r(n,i),Ql){s=0;do{if(Ql=!1,!(25>s))throw Error(Y(301));s+=1,Kt=ar=null,e.updateQueue=null,Zl.current=lP,t=r(n,i)}while(Ql)}if(Zl.current=Pf,e=ar!==null&&ar.next!==null,mu=0,Kt=ar=At=null,Af=!1,e)throw Error(Y(300));return t}function Qs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?At.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function mo(){if(ar===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=ar.next;var e=Kt===null?At.memoizedState:Kt.next;if(e!==null)Kt=e,ar=t;else{if(t===null)throw Error(Y(310));ar=t,t={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},Kt===null?At.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function In(t,e){return typeof e=="function"?e(t):e}function ml(t){var e=mo(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=ar,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var a=o=s=null,u=i;do{var c=u.lane;if((mu&c)===c)a!==null&&(a=a.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),n=u.eagerReducer===t?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};a===null?(o=a=d,s=n):a=a.next=d,At.lanes|=c,Lu|=c}u=u.next}while(u!==null&&u!==i);a===null?s=n:a.next=o,Wr(n,e.memoizedState)||(cn=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=a,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function gl(t){var e=mo(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Wr(s,e.memoizedState)||(cn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function $1(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(mu&t)===t)&&(e._workInProgressVersionPrimary=n,ca.push(e))),t)return r(e._source);throw ca.push(e),Error(Y(350))}function JT(t,e,r,n){var i=vr;if(i===null)throw Error(Y(349));var s=e._getVersion,o=s(e._source),a=Zl.current,u=a.useState(function(){return $1(i,e,r)}),c=u[1],d=u[0];u=Kt;var p=t.memoizedState,v=p.refs,m=v.getSnapshot,g=p.source;p=p.subscribe;var b=At;return t.memoizedState={refs:v,source:e,subscribe:n},a.useEffect(function(){v.getSnapshot=r,v.setSnapshot=c;var y=s(e._source);if(!Wr(o,y)){y=r(e._source),Wr(d,y)||(c(y),y=ns(b),i.mutableReadLanes|=y&i.pendingLanes),y=i.mutableReadLanes,i.entangledLanes|=y;for(var E=i.entanglements,T=y;0<T;){var S=31-ls(T),A=1<<S;E[S]|=y,T&=~A}}},[r,e,n]),a.useEffect(function(){return n(e._source,function(){var y=v.getSnapshot,E=v.setSnapshot;try{E(y(e._source));var T=ns(b);i.mutableReadLanes|=T&i.pendingLanes}catch(S){E(function(){throw S})}})},[e,n]),Wr(m,r)&&Wr(g,e)&&Wr(p,n)||(t={pending:null,dispatch:null,lastRenderedReducer:In,lastRenderedState:d},t.dispatch=c=V0.bind(null,At,t),u.queue=t,u.baseQueue=null,d=$1(i,e,r),u.memoizedState=u.baseState=d),d}function ew(t,e,r){var n=mo();return JT(n,t,e,r)}function yl(t){var e=Qs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:In,lastRenderedState:t},t=t.dispatch=V0.bind(null,At,t),[e.memoizedState,t]}function Cf(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=At.updateQueue,e===null?(e={lastEffect:null},At.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function W1(t){var e=Qs();return t={current:t},e.memoizedState=t}function Rf(){return mo().memoizedState}function Fm(t,e,r,n){var i=Qs();At.flags|=t,i.memoizedState=Cf(1|e,r,void 0,n===void 0?null:n)}function H0(t,e,r,n){var i=mo();n=n===void 0?null:n;var s=void 0;if(ar!==null){var o=ar.memoizedState;if(s=o.destroy,n!==null&&z0(n,o.deps)){Cf(e,r,s,n);return}}At.flags|=t,i.memoizedState=Cf(1|e,r,s,n)}function Y1(t,e){return Fm(516,4,t,e)}function If(t,e){return H0(516,4,t,e)}function tw(t,e){return H0(4,2,t,e)}function rw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function nw(t,e,r){return r=r!=null?r.concat([t]):null,H0(4,2,rw.bind(null,e,t),r)}function X0(){}function iw(t,e){var r=mo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&z0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function sw(t,e){var r=mo();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&z0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function sP(t,e){var r=Ta();oo(98>r?98:r,function(){t(!0)}),oo(97<r?97:r,function(){var n=Qr.transition;Qr.transition=1;try{t(!1),e()}finally{Qr.transition=n}})}function V0(t,e,r){var n=Lr(),i=ns(t),s={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===At||o!==null&&o===At)Ql=Af=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,r);if(s.eagerReducer=o,s.eagerState=u,Wr(u,a))return}catch{}finally{}is(t,i,n)}}var Pf={readContext:Jr,useCallback:Tr,useContext:Tr,useEffect:Tr,useImperativeHandle:Tr,useLayoutEffect:Tr,useMemo:Tr,useReducer:Tr,useRef:Tr,useState:Tr,useDebugValue:Tr,useDeferredValue:Tr,useTransition:Tr,useMutableSource:Tr,useOpaqueIdentifier:Tr,unstable_isNewReconciler:!1},oP={readContext:Jr,useCallback:function(t,e){return Qs().memoizedState=[t,e===void 0?null:e],t},useContext:Jr,useEffect:Y1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Fm(4,2,rw.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Fm(4,2,t,e)},useMemo:function(t,e){var r=Qs();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Qs();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=V0.bind(null,At,t),[n.memoizedState,t]},useRef:W1,useState:yl,useDebugValue:X0,useDeferredValue:function(t){var e=yl(t),r=e[0],n=e[1];return Y1(function(){var i=Qr.transition;Qr.transition=1;try{n(t)}finally{Qr.transition=i}},[t]),r},useTransition:function(){var t=yl(!1),e=t[0];return t=sP.bind(null,t[1]),W1(t),[t,e]},useMutableSource:function(t,e,r){var n=Qs();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},JT(n,t,e,r)},useOpaqueIdentifier:function(){if(Dn){var t=!1,e=JI(function(){throw t||(t=!0,r("r:"+(Jp++).toString(36))),Error(Y(355))}),r=yl(e)[1];return(At.mode&2)===0&&(At.flags|=516,Cf(5,function(){r("r:"+(Jp++).toString(36))},void 0,null)),e}return e="r:"+(Jp++).toString(36),yl(e),e},unstable_isNewReconciler:!1},aP={readContext:Jr,useCallback:iw,useContext:Jr,useEffect:If,useImperativeHandle:nw,useLayoutEffect:tw,useMemo:sw,useReducer:ml,useRef:Rf,useState:function(){return ml(In)},useDebugValue:X0,useDeferredValue:function(t){var e=ml(In),r=e[0],n=e[1];return If(function(){var i=Qr.transition;Qr.transition=1;try{n(t)}finally{Qr.transition=i}},[t]),r},useTransition:function(){var t=ml(In)[0];return[Rf().current,t]},useMutableSource:ew,useOpaqueIdentifier:function(){return ml(In)[0]},unstable_isNewReconciler:!1},lP={readContext:Jr,useCallback:iw,useContext:Jr,useEffect:If,useImperativeHandle:nw,useLayoutEffect:tw,useMemo:sw,useReducer:gl,useRef:Rf,useState:function(){return gl(In)},useDebugValue:X0,useDeferredValue:function(t){var e=gl(In),r=e[0],n=e[1];return If(function(){var i=Qr.transition;Qr.transition=1;try{n(t)}finally{Qr.transition=i}},[t]),r},useTransition:function(){var t=gl(In)[0];return[Rf().current,t]},useMutableSource:ew,useOpaqueIdentifier:function(){return gl(In)[0]},unstable_isNewReconciler:!1},uP=po.ReactCurrentOwner,cn=!1;function wr(t,e,r,n){e.child=t===null?QT(e,null,r,n):wf(e,t.child,r,n)}function q1(t,e,r,n,i){r=r.render;var s=e.ref;return ha(e,i),n=j0(t,e,r,n,s,i),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,di(t,e,i)):(e.flags|=1,wr(t,e,n,i),e.child)}function Z1(t,e,r,n,i,s){if(t===null){var o=r.type;return typeof o=="function"&&!Q0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,ow(t,e,o,n,i,s)):(t=$c(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,(i&s)===0&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:hu,r(i,n)&&t.ref===e.ref)?di(t,e,s):(e.flags|=1,t=cs(o,n),t.ref=e.ref,t.return=e,e.child=t)}function ow(t,e,r,n,i,s){if(t!==null&&hu(t.memoizedProps,n)&&t.ref===e.ref)if(cn=!1,(s&i)!==0)(t.flags&16384)!==0&&(cn=!0);else return e.lanes=t.lanes,di(t,e,s);return Lm(t,e,r,n,s)}function nv(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},qh(e,r);else if((r&1073741824)!==0)e.memoizedState={baseLanes:0},qh(e,s!==null?s.baseLanes:r);else return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},qh(e,t),null;else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,qh(e,n);return wr(t,e,i,r),e.child}function aw(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function Lm(t,e,r,n,i){var s=Cr(r)?so:hr.current;return s=Ea(e,s),ha(e,i),r=j0(t,e,r,n,s,i),t!==null&&!cn?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,di(t,e,i)):(e.flags|=1,wr(t,e,r,i),e.child)}function Q1(t,e,r,n,i){if(Cr(r)){var s=!0;zc(e)}else s=!1;if(ha(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),qT(e,r,n),Om(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Jr(c):(c=Cr(r)?so:hr.current,c=Ea(e,c));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&j1(e,o,n,c),$i=!1;var v=e.memoizedState;o.state=v,du(e,n,o,i),u=e.memoizedState,a!==n||v!==u||Ar.current||$i?(typeof d=="function"&&(Tf(e,r,d,n),u=e.memoizedState),(a=$i||z1(e,r,a,n,v,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,WT(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:un(e.type,a),o.props=c,p=e.pendingProps,v=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=Jr(u):(u=Cr(r)?so:hr.current,u=Ea(e,u));var m=r.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||v!==u)&&j1(e,o,n,u),$i=!1,v=e.memoizedState,o.state=v,du(e,n,o,i);var g=e.memoizedState;a!==p||v!==g||Ar.current||$i?(typeof m=="function"&&(Tf(e,r,m,n),g=e.memoizedState),(c=$i||z1(e,r,c,n,v,g,u))?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,g,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,g,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=g),o.props=n,o.state=g,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=256),n=!1)}return km(t,e,r,n,s,i)}function km(t,e,r,n,i,s){aw(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&k1(e,r,!1),di(t,e,s);n=e.stateNode,uP.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=wf(e,t.child,null,s),e.child=wf(e,null,a,s)):wr(t,e,a,s),e.memoizedState=n.state,i&&k1(e,r,!0),e.child}function K1(t){var e=t.stateNode;e.pendingContext?L1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&L1(t,e.context,!1),Nm(t,e.containerInfo)}var Yh={dehydrated:null,retryLane:0};function J1(t,e,r){var n=e.pendingProps,i=mt.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),yt(mt,i&1),t===null?(n.fallback!==void 0&&Mm(e),t=n.children,i=n.fallback,s?(t=ex(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Yh,t):typeof n.unstable_expectedLoadTime=="number"?(t=ex(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Yh,e.lanes=33554432,t):(r=K0({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?s?(n=rx(t,e,n.children,n.fallback,r),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},s.childLanes=t.childLanes&~r,e.memoizedState=Yh,n):(r=tx(t,e,n.children,r),e.memoizedState=null,r):s?(n=rx(t,e,n.children,n.fallback,r),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},s.childLanes=t.childLanes&~r,e.memoizedState=Yh,n):(r=tx(t,e,n.children,r),e.memoizedState=null,r)}function ex(t,e,r,n){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=K0(e,i,0,null),r=pa(r,i,n,null),s.return=t,r.return=t,s.sibling=r,t.child=s,r}function tx(t,e,r,n){var i=t.child;return t=i.sibling,r=cs(i,{mode:"visible",children:r}),(e.mode&2)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function rx(t,e,r,n,i){var s=e.mode,o=t.child;t=o.sibling;var a={mode:"hidden",children:r};return(s&2)===0&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=a,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=cs(o,a),t!==null?n=cs(t,n):(n=pa(n,s,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function nx(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),$T(t.return,e)}function iv(t,e,r,n,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=s)}function ix(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(wr(t,e,n.children,r),n=mt.current,(n&2)!==0)n=n&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nx(t,r);else if(t.tag===19)nx(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(yt(mt,n),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Sf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),iv(e,!1,i,r,s,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Sf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}iv(e,!0,r,null,s,e.lastEffect);break;case"together":iv(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function di(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Lu|=e.lanes,(r&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,r=cs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=cs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var lw,Dm,uw,hw;lw=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dm=function(){};uw=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Zs(kn.current);var s=null;switch(r){case"input":i=hm(t,i),n=hm(t,n),s=[];break;case"option":i=dm(t,i),n=dm(t,n),s=[];break;case"select":i=ut({},i,{value:void 0}),n=ut({},n,{value:void 0}),s=[];break;case"textarea":i=pm(t,i),n=pm(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=gf)}gm(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(nu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(a=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(nu.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&it("scroll",t),s||a===u||(s=[])):typeof u=="object"&&u!==null&&u.$$typeof===y0?u.toString():(s=s||[]).push(c,u))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};hw=function(t,e,r,n){r!==n&&(e.flags|=4)};function _l(t,e){if(!Dn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function hP(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Cr(e.type)&&_f(),null;case 3:return wa(),ot(Ar),ot(hr),G0(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Wh(e)?e.flags|=4:n.hydrate||(e.flags|=256)),Dm(e),null;case 5:U0(e);var i=Zs(vu.current);if(r=e.type,t!==null&&e.stateNode!=null)uw(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(Y(166));return null}if(t=Zs(kn.current),Wh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[qi]=e,n[yf]=s,r){case"dialog":it("cancel",n),it("close",n);break;case"iframe":case"object":case"embed":it("load",n);break;case"video":case"audio":for(t=0;t<Fl.length;t++)it(Fl[t],n);break;case"source":it("error",n);break;case"img":case"image":case"link":it("error",n),it("load",n);break;case"details":it("toggle",n);break;case"input":i1(n,s),it("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},it("invalid",n);break;case"textarea":o1(n,s),it("invalid",n)}gm(r,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):nu.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&it("scroll",n));switch(r){case"input":zh(n),s1(n,s,!0);break;case"textarea":zh(n),a1(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=gf)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===vm.html&&(t=nT(r)),t===vm.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[qi]=e,t[yf]=n,lw(t,e,!1,!1),e.stateNode=t,o=ym(r,n),r){case"dialog":it("cancel",t),it("close",t),i=n;break;case"iframe":case"object":case"embed":it("load",t),i=n;break;case"video":case"audio":for(i=0;i<Fl.length;i++)it(Fl[i],t);i=n;break;case"source":it("error",t),i=n;break;case"img":case"image":case"link":it("error",t),it("load",t),i=n;break;case"details":it("toggle",t),i=n;break;case"input":i1(t,n),i=hm(t,n),it("invalid",t);break;case"option":i=dm(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ut({},n,{value:void 0}),it("invalid",t);break;case"textarea":o1(t,n),i=pm(t,n),it("invalid",t);break;default:i=n}gm(r,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?oT(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&iT(t,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&iu(t,u):typeof u=="number"&&iu(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(nu.hasOwnProperty(s)?u!=null&&s==="onScroll"&&it("scroll",t):u!=null&&f0(t,s,u,o))}switch(r){case"input":zh(t),s1(t,n,!1);break;case"textarea":zh(t),a1(t);break;case"option":n.value!=null&&t.setAttribute("value",""+as(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?oa(t,!!n.multiple,s,!1):n.defaultValue!=null&&oa(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=gf)}DT(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)hw(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Y(166));r=Zs(vu.current),Zs(kn.current),Wh(e)?(n=e.stateNode,r=e.memoizedProps,n[qi]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[qi]=e,e.stateNode=n)}return null;case 13:return ot(mt),n=e.memoizedState,(e.flags&64)!==0?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Wh(e):r=t.memoizedState!==null,n&&!r&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(mt.current&1)!==0?tr===0&&(tr=3):((tr===0||tr===3)&&(tr=4),vr===null||(Lu&134217727)===0&&(Oa&134217727)===0||fa(vr,ur))),(n||r)&&(e.flags|=4),null);case 4:return wa(),Dm(e),t===null&&FT(e.stateNode.containerInfo),null;case 10:return D0(e),null;case 17:return Cr(e.type)&&_f(),null;case 19:if(ot(mt),n=e.memoizedState,n===null)return null;if(s=(e.flags&64)!==0,o=n.rendering,o===null)if(s)_l(n,!1);else{if(tr!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(o=Sf(t),o!==null){for(e.flags|=64,_l(n,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return yt(mt,mt.current&1|2),e.child}t=t.sibling}n.tail!==null&&lr()>Hm&&(e.flags|=64,s=!0,_l(n,!1),e.lanes=33554432)}else{if(!s)if(t=Sf(o),t!==null){if(e.flags|=64,s=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),_l(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!Dn)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*lr()-n.renderingStartTime>Hm&&r!==1073741824&&(e.flags|=64,s=!0,_l(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=lr(),r.sibling=null,e=mt.current,yt(mt,s?e&1|2:e&1),r):null;case 23:case 24:return Z0(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(Y(156,e.tag))}function cP(t){switch(t.tag){case 1:Cr(t.type)&&_f();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(wa(),ot(Ar),ot(hr),G0(),e=t.flags,(e&64)!==0)throw Error(Y(285));return t.flags=e&-4097|64,t;case 5:return U0(t),null;case 13:return ot(mt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return ot(mt),null;case 4:return wa(),null;case 10:return D0(t),null;case 23:case 24:return Z0(),null;default:return null}}function $0(t,e){try{var r="",n=e;do r+=VR(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function Bm(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var fP=typeof WeakMap=="function"?WeakMap:Map;function cw(t,e,r){r=ts(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Nf||(Nf=!0,Xm=n),Bm(t,e)},r}function fw(t,e,r){r=ts(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return Bm(t,e),n(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this),Bm(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var dP=typeof WeakSet=="function"?WeakSet:Set;function sx(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){ss(t,r)}else e.current=null}function pP(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:un(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&M0(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(Y(163))}function vP(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(bw(r,t),TP(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:un(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&G1(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}G1(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&DT(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&mT(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(Y(163))}function ox(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=sT("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function ax(t,e){if(eo&&typeof eo.onCommitFiberUnmount=="function")try{eo.onCommitFiberUnmount(F0,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)bw(e,r);else{n=e;try{i()}catch(s){ss(n,s)}}r=r.next}while(r!==t)}break;case 1:if(sx(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){ss(e,s)}break;case 5:sx(e);break;case 4:dw(t,e)}}function lx(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ux(t){return t.tag===5||t.tag===3||t.tag===4}function hx(t){e:{for(var e=t.return;e!==null;){if(ux(e))break e;e=e.return}throw Error(Y(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(Y(161))}r.flags&16&&(iu(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||ux(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?Um(t,r,e):Gm(t,r,e)}function Um(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=gf));else if(n!==4&&(t=t.child,t!==null))for(Um(t,e,r),t=t.sibling;t!==null;)Um(t,e,r),t=t.sibling}function Gm(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Gm(t,e,r),t=t.sibling;t!==null;)Gm(t,e,r),t=t.sibling}function dw(t,e){for(var r=e,n=!1,i,s;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(Y(160));switch(i=n.stateNode,n.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,a=r,u=a;;)if(ax(o,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s?(o=i,a=r.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,s=!0,r.child.return=r,r=r.child;continue}}else if(ax(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function sv(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(r[yf]=n,t==="input"&&n.type==="radio"&&n.name!=null&&tT(r,n),ym(t,i),e=ym(t,n),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?oT(r,a):o==="dangerouslySetInnerHTML"?iT(r,a):o==="children"?iu(r,a):f0(r,o,a,e)}switch(t){case"input":cm(r,n);break;case"textarea":rT(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,s=n.value,s!=null?oa(r,!!n.multiple,s,!1):t!==!!n.multiple&&(n.defaultValue!=null?oa(r,!!n.multiple,n.defaultValue,!0):oa(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(Y(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,mT(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(q0=lr(),ox(e.child,!0)),cx(e);return;case 19:cx(e);return;case 17:return;case 23:case 24:ox(e,e.memoizedState!==null);return}throw Error(Y(163))}function cx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new dP),e.forEach(function(n){var i=AP.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function mP(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var gP=Math.ceil,Of=po.ReactCurrentDispatcher,W0=po.ReactCurrentOwner,Ee=0,vr=null,Dt=null,ur=0,ao=0,zm=vs(0),tr=0,fd=null,Pa=0,Lu=0,Oa=0,Y0=0,jm=null,q0=0,Hm=1/0;function Na(){Hm=lr()+500}var ie=null,Nf=!1,Xm=null,Pn=null,hs=!1,Kl=null,Ll=90,Vm=[],$m=[],vi=null,Jl=0,Wm=null,Hc=-1,li=0,Xc=0,eu=null,Vc=!1;function Lr(){return(Ee&48)!==0?lr():Hc!==-1?Hc:Hc=lr()}function ns(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return Ta()===99?1:2;if(li===0&&(li=Pa),iP.transition!==0){Xc!==0&&(Xc=jm!==null?jm.pendingLanes:0),t=li;var e=4186112&~Xc;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=Ta(),(Ee&4)!==0&&t===98?t=vf(12,li):(t=aI(t),t=vf(t,li)),t}function is(t,e,r){if(50<Jl)throw Jl=0,Wm=null,Error(Y(185));if(t=dd(t,e),t===null)return null;sd(t,e,r),t===vr&&(Oa|=e,tr===4&&fa(t,ur));var n=Ta();e===1?(Ee&8)!==0&&(Ee&48)===0?Ym(t):(en(t,r),Ee===0&&(Na(),jn())):((Ee&4)===0||n!==98&&n!==99||(vi===null?vi=new Set([t]):vi.add(t)),en(t,r)),jm=t}function dd(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function en(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-ls(o),u=1<<a,c=s[a];if(c===-1){if((u&n)===0||(u&i)!==0){c=e,Xo(u);var d=et;s[a]=10<=d?c+250:6<=d?c+5e3:-1}}else c<=e&&(t.expiredLanes|=u);o&=~u}if(n=lu(t,t===vr?ur:0),e=et,n===0)r!==null&&(r!==ev&&Im(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==ev&&Im(r)}e===15?(r=Ym.bind(null,t),oi===null?(oi=[r],jc=L0(hd,VT)):oi.push(r),r=ev):e===14?r=fu(99,Ym.bind(null,t)):(r=lI(e),r=fu(r,pw.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function pw(t){if(Hc=-1,Xc=li=0,(Ee&48)!==0)throw Error(Y(327));var e=t.callbackNode;if(ms()&&t.callbackNode!==e)return null;var r=lu(t,t===vr?ur:0);if(r===0)return null;var n=r,i=Ee;Ee|=16;var s=yw();(vr!==t||ur!==n)&&(Na(),da(t,n));do try{xP();break}catch(a){gw(t,a)}while(1);if(k0(),Of.current=s,Ee=i,Dt!==null?n=0:(vr=null,ur=0,n=tr),(Pa&Oa)!==0)da(t,0);else if(n!==0){if(n===2&&(Ee|=64,t.hydrate&&(t.hydrate=!1,M0(t.containerInfo)),r=TT(t),r!==0&&(n=kl(t,r))),n===1)throw e=fd,da(t,0),fa(t,r),en(t,lr()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(Y(345));case 2:Fs(t);break;case 3:if(fa(t,r),(r&62914560)===r&&(n=q0+500-lr(),10<n)){if(lu(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Lr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=N1(Fs.bind(null,t),n);break}Fs(t);break;case 4:if(fa(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-ls(r);s=1<<o,o=n[o],o>i&&(i=o),r&=~s}if(r=i,r=lr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*gP(r/1960))-r,10<r){t.timeoutHandle=N1(Fs.bind(null,t),r);break}Fs(t);break;case 5:Fs(t);break;default:throw Error(Y(329))}}return en(t,lr()),t.callbackNode===e?pw.bind(null,t):null}function fa(t,e){for(e&=~Y0,e&=~Oa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ls(e),n=1<<r;t[r]=-1,e&=~n}}function Ym(t){if((Ee&48)!==0)throw Error(Y(327));if(ms(),t===vr&&(t.expiredLanes&ur)!==0){var e=ur,r=kl(t,e);(Pa&Oa)!==0&&(e=lu(t,e),r=kl(t,e))}else e=lu(t,0),r=kl(t,e);if(t.tag!==0&&r===2&&(Ee|=64,t.hydrate&&(t.hydrate=!1,M0(t.containerInfo)),e=TT(t),e!==0&&(r=kl(t,e))),r===1)throw r=fd,da(t,0),fa(t,e),en(t,lr()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fs(t),en(t,lr()),null}function yP(){if(vi!==null){var t=vi;vi=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,en(e,lr())})}jn()}function vw(t,e){var r=Ee;Ee|=1;try{return t(e)}finally{Ee=r,Ee===0&&(Na(),jn())}}function mw(t,e){var r=Ee;Ee&=-2,Ee|=8;try{return t(e)}finally{Ee=r,Ee===0&&(Na(),jn())}}function qh(t,e){yt(zm,ao),ao|=e,Pa|=e}function Z0(){ao=zm.current,ot(zm)}function da(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,KI(r)),Dt!==null)for(r=Dt.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&_f();break;case 3:wa(),ot(Ar),ot(hr),G0();break;case 5:U0(n);break;case 4:wa();break;case 13:ot(mt);break;case 19:ot(mt);break;case 10:D0(n);break;case 23:case 24:Z0()}r=r.return}vr=t,Dt=cs(t.current,null),ur=ao=Pa=e,tr=0,fd=null,Y0=Oa=Lu=0}function gw(t,e){do{var r=Dt;try{if(k0(),Zl.current=Pf,Af){for(var n=At.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Af=!1}if(mu=0,Kt=ar=At=null,Ql=!1,W0.current=null,r===null||r.return===null){tr=1,fd=e,Dt=null;break}e:{var s=t,o=r.return,a=r,u=e;if(e=ur,a.flags|=2048,a.firstEffect=a.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u;if((a.mode&2)===0){var d=a.alternate;d?(a.updateQueue=d.updateQueue,a.memoizedState=d.memoizedState,a.lanes=d.lanes):(a.updateQueue=null,a.memoizedState=null)}var p=(mt.current&1)!==0,v=o;do{var m;if(m=v.tag===13){var g=v.memoizedState;if(g!==null)m=g.dehydrated!==null;else{var b=v.memoizedProps;m=b.fallback===void 0?!1:b.unstable_avoidThisFallback!==!0?!0:!p}}if(m){var y=v.updateQueue;if(y===null){var E=new Set;E.add(c),v.updateQueue=E}else y.add(c);if((v.mode&2)===0){if(v.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var T=ts(-1,1);T.tag=2,rs(a,T)}a.lanes|=1;break e}u=void 0,a=e;var S=s.pingCache;if(S===null?(S=s.pingCache=new fP,u=new Set,S.set(c,u)):(u=S.get(c),u===void 0&&(u=new Set,S.set(c,u))),!u.has(a)){u.add(a);var A=SP.bind(null,s,c,a);c.then(A,A)}v.flags|=4096,v.lanes=e;break e}v=v.return}while(v!==null);u=Error((sa(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}tr!==5&&(tr=2),u=$0(u,a),v=o;do{switch(v.tag){case 3:s=u,v.flags|=4096,e&=-e,v.lanes|=e;var R=cw(v,s,e);U1(v,R);break e;case 1:s=u;var I=v.type,P=v.stateNode;if((v.flags&64)===0&&(typeof I.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(Pn===null||!Pn.has(P)))){v.flags|=4096,e&=-e,v.lanes|=e;var k=fw(v,s,e);U1(v,k);break e}}v=v.return}while(v!==null)}xw(r)}catch(N){e=N,Dt===r&&r!==null&&(Dt=r=r.return);continue}break}while(1)}function yw(){var t=Of.current;return Of.current=Pf,t===null?Pf:t}function kl(t,e){var r=Ee;Ee|=16;var n=yw();vr===t&&ur===e||da(t,e);do try{_P();break}catch(i){gw(t,i)}while(1);if(k0(),Ee=r,Of.current=n,Dt!==null)throw Error(Y(261));return vr=null,ur=0,tr}function _P(){for(;Dt!==null;)_w(Dt)}function xP(){for(;Dt!==null&&!tP();)_w(Dt)}function _w(t){var e=Ew(t.alternate,t,ao);t.memoizedProps=t.pendingProps,e===null?xw(t):Dt=e,W0.current=null}function xw(t){var e=t;do{var r=e.alternate;if(t=e.return,(e.flags&2048)===0){if(r=hP(r,e,ao),r!==null){Dt=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||(ao&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(r=cP(e),r!==null){r.flags&=2047,Dt=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);tr===0&&(tr=5)}function Fs(t){var e=Ta();return oo(99,bP.bind(null,t,e)),null}function bP(t,e){do ms();while(Kl!==null);if((Ee&48)!==0)throw Error(Y(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Y(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,a=t.expirationTimes;0<s;){var u=31-ls(s),c=1<<u;i[u]=0,o[u]=-1,a[u]=-1,s&=~c}if(vi!==null&&(n&24)===0&&vi.has(t)&&vi.delete(t),t===vr&&(Dt=vr=null,ur=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=Ee,Ee|=32,W0.current=null,Qp=Bc,o=S1(),wm(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(c=a.getSelection&&a.getSelection())&&c.rangeCount!==0){a=c.anchorNode,s=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var d=0,p=-1,v=-1,m=0,g=0,b=o,y=null;t:for(;;){for(var E;b!==a||s!==0&&b.nodeType!==3||(p=d+s),b!==u||c!==0&&b.nodeType!==3||(v=d+c),b.nodeType===3&&(d+=b.nodeValue.length),(E=b.firstChild)!==null;)y=b,b=E;for(;;){if(b===o)break t;if(y===a&&++m===s&&(p=d),y===u&&++g===c&&(v=d),(E=b.nextSibling)!==null)break;b=y,y=b.parentNode}b=E}a=p===-1||v===-1?null:{start:p,end:v}}else a=null;a=a||{start:0,end:0}}else a=null;Kp={focusedElem:o,selectionRange:a},Bc=!1,eu=null,Vc=!1,ie=n;do try{EP()}catch(N){if(ie===null)throw Error(Y(330));ss(ie,N),ie=ie.nextEffect}while(ie!==null);eu=null,ie=n;do try{for(o=t;ie!==null;){var T=ie.flags;if(T&16&&iu(ie.stateNode,""),T&128){var S=ie.alternate;if(S!==null){var A=S.ref;A!==null&&(typeof A=="function"?A(null):A.current=null)}}switch(T&1038){case 2:hx(ie),ie.flags&=-3;break;case 6:hx(ie),ie.flags&=-3,sv(ie.alternate,ie);break;case 1024:ie.flags&=-1025;break;case 1028:ie.flags&=-1025,sv(ie.alternate,ie);break;case 4:sv(ie.alternate,ie);break;case 8:a=ie,dw(o,a);var R=a.alternate;lx(a),R!==null&&lx(R)}ie=ie.nextEffect}}catch(N){if(ie===null)throw Error(Y(330));ss(ie,N),ie=ie.nextEffect}while(ie!==null);if(A=Kp,S=S1(),T=A.focusedElem,o=A.selectionRange,S!==T&&T&&T.ownerDocument&&OT(T.ownerDocument.documentElement,T)){for(o!==null&&wm(T)&&(S=o.start,A=o.end,A===void 0&&(A=S),"selectionStart"in T?(T.selectionStart=S,T.selectionEnd=Math.min(A,T.value.length)):(A=(S=T.ownerDocument||document)&&S.defaultView||window,A.getSelection&&(A=A.getSelection(),a=T.textContent.length,R=Math.min(o.start,a),o=o.end===void 0?R:Math.min(o.end,a),!A.extend&&R>o&&(a=o,o=R,R=a),a=w1(T,R),s=w1(T,o),a&&s&&(A.rangeCount!==1||A.anchorNode!==a.node||A.anchorOffset!==a.offset||A.focusNode!==s.node||A.focusOffset!==s.offset)&&(S=S.createRange(),S.setStart(a.node,a.offset),A.removeAllRanges(),R>o?(A.addRange(S),A.extend(s.node,s.offset)):(S.setEnd(s.node,s.offset),A.addRange(S)))))),S=[],A=T;A=A.parentNode;)A.nodeType===1&&S.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<S.length;T++)A=S[T],A.element.scrollLeft=A.left,A.element.scrollTop=A.top}Bc=!!Qp,Kp=Qp=null,t.current=r,ie=n;do try{for(T=t;ie!==null;){var I=ie.flags;if(I&36&&vP(T,ie.alternate,ie),I&128){S=void 0;var P=ie.ref;if(P!==null){var k=ie.stateNode;switch(ie.tag){case 5:S=k;break;default:S=k}typeof P=="function"?P(S):P.current=S}}ie=ie.nextEffect}}catch(N){if(ie===null)throw Error(Y(330));ss(ie,N),ie=ie.nextEffect}while(ie!==null);ie=null,nP(),Ee=i}else t.current=r;if(hs)hs=!1,Kl=t,Ll=e;else for(ie=n;ie!==null;)e=ie.nextEffect,ie.nextEffect=null,ie.flags&8&&(I=ie,I.sibling=null,I.stateNode=null),ie=e;if(n=t.pendingLanes,n===0&&(Pn=null),n===1?t===Wm?Jl++:(Jl=0,Wm=t):Jl=0,r=r.stateNode,eo&&typeof eo.onCommitFiberRoot=="function")try{eo.onCommitFiberRoot(F0,r,void 0,(r.current.flags&64)===64)}catch{}if(en(t,lr()),Nf)throw Nf=!1,t=Xm,Xm=null,t;return(Ee&8)!==0||jn(),null}function EP(){for(;ie!==null;){var t=ie.alternate;Vc||eu===null||((ie.flags&8)!==0?h1(ie,eu)&&(Vc=!0):ie.tag===13&&mP(t,ie)&&h1(ie,eu)&&(Vc=!0));var e=ie.flags;(e&256)!==0&&pP(t,ie),(e&512)===0||hs||(hs=!0,fu(97,function(){return ms(),null})),ie=ie.nextEffect}}function ms(){if(Ll!==90){var t=97<Ll?97:Ll;return Ll=90,oo(t,wP)}return!1}function TP(t,e){Vm.push(e,t),hs||(hs=!0,fu(97,function(){return ms(),null}))}function bw(t,e){$m.push(e,t),hs||(hs=!0,fu(97,function(){return ms(),null}))}function wP(){if(Kl===null)return!1;var t=Kl;if(Kl=null,(Ee&48)!==0)throw Error(Y(331));var e=Ee;Ee|=32;var r=$m;$m=[];for(var n=0;n<r.length;n+=2){var i=r[n],s=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(u){if(s===null)throw Error(Y(330));ss(s,u)}}for(r=Vm,Vm=[],n=0;n<r.length;n+=2){i=r[n],s=r[n+1];try{var a=i.create;i.destroy=a()}catch(u){if(s===null)throw Error(Y(330));ss(s,u)}}for(a=t.current.firstEffect;a!==null;)t=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=t;return Ee=e,jn(),!0}function fx(t,e,r){e=$0(r,e),e=cw(t,e,1),rs(t,e),e=Lr(),t=dd(t,1),t!==null&&(sd(t,1,e),en(t,e))}function ss(t,e){if(t.tag===3)fx(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){fx(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Pn===null||!Pn.has(n))){t=$0(e,t);var i=fw(r,t,1);if(rs(r,i),i=Lr(),r=dd(r,1),r!==null)sd(r,1,i),en(r,i);else if(typeof n.componentDidCatch=="function"&&(Pn===null||!Pn.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function SP(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Lr(),t.pingedLanes|=t.suspendedLanes&r,vr===t&&(ur&r)===r&&(tr===4||tr===3&&(ur&62914560)===ur&&500>lr()-q0?da(t,0):Y0|=r),en(t,e)}function AP(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=Ta()===99?1:2:(li===0&&(li=Pa),e=Vo(62914560&~li),e===0&&(e=4194304))),r=Lr(),t=dd(t,e),t!==null&&(sd(t,e,r),en(t,r))}var Ew;Ew=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Ar.current)cn=!0;else if((r&n)!==0)cn=(t.flags&16384)!==0;else{switch(cn=!1,e.tag){case 3:K1(e),rv();break;case 5:H1(e);break;case 1:Cr(e.type)&&zc(e);break;case 4:Nm(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;yt(xf,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return(r&e.child.childLanes)!==0?J1(t,e,r):(yt(mt,mt.current&1),e=di(t,e,r),e!==null?e.sibling:null);yt(mt,mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,(t.flags&64)!==0){if(n)return ix(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yt(mt,mt.current),n)break;return null;case 23:case 24:return e.lanes=0,nv(t,e,r)}return di(t,e,r)}else cn=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=Ea(e,hr.current),ha(e,r),i=j0(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Cr(n)){var s=!0;zc(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,B0(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&Tf(e,n,o,t),i.updater=cd,e.stateNode=i,i._reactInternals=e,Om(e,n,t,r),e=km(null,e,n,!0,s,r)}else e.tag=0,wr(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=RP(i),t=un(i,t),s){case 0:e=Lm(null,e,i,t,r);break e;case 1:e=Q1(null,e,i,t,r);break e;case 11:e=q1(null,e,i,t,r);break e;case 14:e=Z1(null,e,i,un(i.type,t),n,r);break e}throw Error(Y(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),Lm(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),Q1(t,e,n,i,r);case 3:if(K1(e),n=e.updateQueue,t===null||n===null)throw Error(Y(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,WT(t,e),du(e,n,null,r),n=e.memoizedState.element,n===i)rv(),e=di(t,e,r);else{if(i=e.stateNode,(s=i.hydrate)&&(Zi=ua(e.stateNode.containerInfo.firstChild),fi=e,s=Dn=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],ca.push(s);for(r=QT(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else wr(t,e,n,r),rv();e=e.child}return e;case 5:return H1(e),t===null&&Mm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Cm(n,i)?o=null:s!==null&&Cm(n,s)&&(e.flags|=16),aw(t,e),wr(t,e,o,r),e.child;case 6:return t===null&&Mm(e),null;case 13:return J1(t,e,r);case 4:return Nm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=wf(e,null,n,r):wr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),q1(t,e,n,i,r);case 7:return wr(t,e,e.pendingProps,r),e.child;case 8:return wr(t,e,e.pendingProps.children,r),e.child;case 12:return wr(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(yt(xf,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=Wr(a,s)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!Ar.current){e=di(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var u=a.dependencies;if(u!==null){o=a.child;for(var c=u.firstContext;c!==null;){if(c.context===n&&(c.observedBits&s)!==0){a.tag===1&&(c=ts(-1,r&-r),c.tag=2,rs(a,c)),a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),$T(a.return,r),u.lanes|=r;break}c=c.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}wr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,n=s.children,ha(e,r),i=Jr(i,s.unstable_observedBits),n=n(i),e.flags|=1,wr(t,e,n,r),e.child;case 14:return i=e.type,s=un(i,e.pendingProps),s=un(i.type,s),Z1(t,e,i,s,n,r);case 15:return ow(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:un(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Cr(n)?(t=!0,zc(e)):t=!1,ha(e,r),qT(e,n,i),Om(e,n,i,r),km(null,e,n,!0,t,r);case 19:return ix(t,e,r);case 23:return nv(t,e,r);case 24:return nv(t,e,r)}throw Error(Y(156,e.tag))};function CP(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Yr(t,e,r,n){return new CP(t,e,r,n)}function Q0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RP(t){if(typeof t=="function")return Q0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rd)return 11;if(t===nd)return 14}return 2}function cs(t,e){var r=t.alternate;return r===null?(r=Yr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function $c(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Q0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wi:return pa(r.children,i,s,e);case KE:o=8,i|=16;break;case d0:o=8,i|=1;break;case Hl:return t=Yr(12,r,e,i|8),t.elementType=Hl,t.type=Hl,t.lanes=s,t;case Xl:return t=Yr(13,r,e,i),t.type=Xl,t.elementType=Xl,t.lanes=s,t;case cf:return t=Yr(19,r,e,i),t.elementType=cf,t.lanes=s,t;case _0:return K0(r,i,s,e);case um:return t=Yr(24,r,e,i),t.elementType=um,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p0:o=10;break e;case v0:o=9;break e;case rd:o=11;break e;case nd:o=14;break e;case m0:o=16,n=null;break e;case g0:o=22;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Yr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function pa(t,e,r,n){return t=Yr(7,t,n,e),t.lanes=r,t}function K0(t,e,r,n){return t=Yr(23,t,n,e),t.elementType=_0,t.lanes=r,t}function ov(t,e,r){return t=Yr(6,t,null,e),t.lanes=r,t}function av(t,e,r){return e=Yr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IP(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Xp(0),this.expirationTimes=Xp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xp(0),this.mutableSourceEagerHydrationData=null}function PP(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Mf(t,e,r,n){var i=e.current,s=Lr(),o=ns(i);e:if(r){r=r._reactInternals;t:{if(vo(r)!==r||r.tag!==1)throw Error(Y(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Cr(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(Y(171))}if(r.tag===1){var u=r.type;if(Cr(u)){r=UT(r,u,a);break e}}r=a}else r=us;return e.context===null?e.context=r:e.pendingContext=r,e=ts(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),rs(i,e),is(i,o,s),o}function lv(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function J0(t,e){dx(t,e),(t=t.alternate)&&dx(t,e)}function OP(){return null}function ey(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new IP(t,e,r!=null&&r.hydrate===!0),e=Yr(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,B0(e),t[Ia]=r.current,FT(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}ey.prototype.render=function(t){Mf(t,this._internalRoot,null,null)};ey.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Mf(null,t,null,function(){e[Ia]=null})};function ku(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function NP(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new ey(t,0,e?{hydrate:!0}:void 0)}function pd(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var c=lv(o);a.call(c)}}Mf(e,o,t,i)}else{if(s=r._reactRootContainer=NP(r,n),o=s._internalRoot,typeof i=="function"){var u=i;i=function(){var c=lv(o);u.call(c)}}mw(function(){Mf(e,o,t,i)})}return lv(o)}dT=function(t){if(t.tag===13){var e=Lr();is(t,4,e),J0(t,4)}};w0=function(t){if(t.tag===13){var e=Lr();is(t,67108864,e),J0(t,67108864)}};pT=function(t){if(t.tag===13){var e=Lr(),r=ns(t);is(t,r,e),J0(t,r)}};vT=function(t,e){return e()};_m=function(t,e,r){switch(e){case"input":if(cm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ud(n);if(!i)throw Error(Y(90));eT(n),cm(n,i)}}}break;case"textarea":rT(t,r);break;case"select":e=r.value,e!=null&&oa(t,!!r.multiple,e,!1)}};b0=vw;uT=function(t,e,r,n,i){var s=Ee;Ee|=4;try{return oo(98,t.bind(null,e,r,n,i))}finally{Ee=s,Ee===0&&(Na(),jn())}};E0=function(){(Ee&49)===0&&(yP(),ms())};hT=function(t,e){var r=Ee;Ee|=2;try{return t(e)}finally{Ee=r,Ee===0&&(Na(),jn())}};function Tw(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ku(e))throw Error(Y(200));return PP(t,e,null,r)}var MP={Events:[Mu,Zo,ud,aT,lT,ms,{current:!1}]},xl={findFiberByHostInstance:qs,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},FP={bundleType:xl.bundleType,version:xl.version,rendererPackageName:xl.rendererPackageName,rendererConfig:xl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:po.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=fT(t),t===null?null:t.stateNode},findFiberByHostInstance:xl.findFiberByHostInstance||OP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{F0=Zh.inject(FP),eo=Zh}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MP;rn.createPortal=Tw;rn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):Error(Y(268,Object.keys(t)));return t=fT(e),t=t===null?null:t.stateNode,t};rn.flushSync=function(t,e){var r=Ee;if((r&48)!==0)return t(e);Ee|=1;try{if(t)return oo(99,t.bind(null,e))}finally{Ee=r,jn()}};rn.hydrate=function(t,e,r){if(!ku(e))throw Error(Y(200));return pd(null,t,e,!0,r)};rn.render=function(t,e,r){if(!ku(e))throw Error(Y(200));return pd(null,t,e,!1,r)};rn.unmountComponentAtNode=function(t){if(!ku(t))throw Error(Y(40));return t._reactRootContainer?(mw(function(){pd(null,null,t,!1,function(){t._reactRootContainer=null,t[Ia]=null})}),!0):!1};rn.unstable_batchedUpdates=vw;rn.unstable_createPortal=function(t,e){return Tw(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};rn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!ku(r))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return pd(t,e,r,!1,n)};rn.version="17.0.2";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=rn})(WE);const LP=UE(WE.exports);var Ce={exports:{}};function kP(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function DP(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var s=i.length;function o(u,c){if(c&&(typeof c=="object"||typeof c=="function")){var d=c.then;if(typeof d=="function"){d.call(c,function(p){o(u,p)},function(p){i[u]={status:"rejected",reason:p},--s===0&&r(i)});return}}i[u]={status:"fulfilled",value:c},--s===0&&r(i)}for(var a=0;a<i.length;a++)o(a,i[a])})}var BP=setTimeout;function ww(t){return Boolean(t&&typeof t.length<"u")}function UP(){}function GP(t,e){return function(){t.apply(e,arguments)}}function bt(t){if(!(this instanceof bt))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Aw(t,this)}function Sw(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,bt._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?qm:gu)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){gu(e.promise,i);return}qm(e.promise,n)})}function qm(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof bt){t._state=3,t._value=e,Zm(t);return}else if(typeof r=="function"){Aw(GP(r,e),t);return}}t._state=1,t._value=e,Zm(t)}catch(n){gu(t,n)}}function gu(t,e){t._state=2,t._value=e,Zm(t)}function Zm(t){t._state===2&&t._deferreds.length===0&&bt._immediateFn(function(){t._handled||bt._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)Sw(t,t._deferreds[e]);t._deferreds=null}function zP(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function Aw(t,e){var r=!1;try{t(function(n){r||(r=!0,qm(e,n))},function(n){r||(r=!0,gu(e,n))})}catch(n){if(r)return;r=!0,gu(e,n)}}bt.prototype.catch=function(t){return this.then(null,t)};bt.prototype.then=function(t,e){var r=new this.constructor(UP);return Sw(this,new zP(t,e,r)),r};bt.prototype.finally=kP;bt.all=function(t){return new bt(function(e,r){if(!ww(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function s(a,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var c=u.then;if(typeof c=="function"){c.call(u,function(d){s(a,d)},r);return}}n[a]=u,--i===0&&e(n)}catch(d){r(d)}}for(var o=0;o<n.length;o++)s(o,n[o])})};bt.allSettled=DP;bt.resolve=function(t){return t&&typeof t=="object"&&t.constructor===bt?t:new bt(function(e){e(t)})};bt.reject=function(t){return new bt(function(e,r){r(t)})};bt.race=function(t){return new bt(function(e,r){if(!ww(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)bt.resolve(t[n]).then(e,r)})};bt._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){BP(t,0)};bt._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*!
 * @pixi/polyfill - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=bt);Object.assign||(Object.assign=YE);var jP=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var HP=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-HP}}var uv=Date.now(),px=["ms","moz","webkit","o"];for(var hv=0;hv<px.length&&!globalThis.requestAnimationFrame;++hv){var cv=px[hv];globalThis.requestAnimationFrame=globalThis[cv+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[cv+"CancelAnimationFrame"]||globalThis[cv+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=jP+uv-e;return r<0&&(r=0),uv=e,globalThis.self.setTimeout(function(){uv=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/constants - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var _i;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(_i||(_i={}));var yu;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(yu||(yu={}));var Ff;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(Ff||(Ff={}));var ue;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(ue||(ue={}));var qr;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})(qr||(qr={}));var Z;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(Z||(Z={}));var to;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(to||(to={}));var fe;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(fe||(fe={}));var Lf;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(Lf||(Lf={}));var On;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(On||(On={}));var Bn;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Bn||(Bn={}));var mn;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(mn||(mn={}));var gn;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(gn||(gn={}));var hn;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(hn||(hn={}));var kf;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(kf||(kf={}));var Fr;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Fr||(Fr={}));var Rt;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(Rt||(Rt={}));var vx;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(vx||(vx={}));var gt;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(gt||(gt={}));var Un;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Un||(Un={}));/*!
 * @pixi/settings - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var XP={createCanvas:function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,e){return fetch(t,e)}},fv=/iPhone/i,mx=/iPod/i,gx=/iPad/i,yx=/\biOS-universal(?:.+)Mac\b/i,dv=/\bAndroid(?:.+)Mobile\b/i,_x=/Android/i,ko=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Qh=/Silk/i,Jn=/Windows Phone/i,xx=/\bWindows(?:.+)ARM\b/i,bx=/BlackBerry/i,Ex=/BB10/i,Tx=/Opera Mini/i,wx=/\b(CriOS|Chrome)(?:.+)Mobile/i,Sx=/Mobile(?:.+)Firefox\b/i,Ax=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function VP(t){return function(e){return e.test(t)}}function $P(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=VP(r),s={apple:{phone:i(fv)&&!i(Jn),ipod:i(mx),tablet:!i(fv)&&(i(gx)||Ax(e))&&!i(Jn),universal:i(yx),device:(i(fv)||i(mx)||i(gx)||i(yx)||Ax(e))&&!i(Jn)},amazon:{phone:i(ko),tablet:!i(ko)&&i(Qh),device:i(ko)||i(Qh)},android:{phone:!i(Jn)&&i(ko)||!i(Jn)&&i(dv),tablet:!i(Jn)&&!i(ko)&&!i(dv)&&(i(Qh)||i(_x)),device:!i(Jn)&&(i(ko)||i(Qh)||i(dv)||i(_x))||i(/\bokhttp\b/i)},windows:{phone:i(Jn),tablet:i(xx),device:i(Jn)||i(xx)},other:{blackberry:i(bx),blackberry10:i(Ex),opera:i(Tx),firefox:i(Sx),chrome:i(wx),device:i(bx)||i(Ex)||i(Tx)||i(Sx)||i(wx)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}var Nn=$P(globalThis.navigator);function WP(){return!Nn.apple.device}function YP(t){var e=!0;if(Nn.tablet||Nn.phone){if(Nn.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Nn.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}var J={ADAPTER:XP,MIPMAP_TEXTURES:mn.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:gt.NONE,SPRITE_MAX_TEXTURES:YP(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:kf.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Bn.CLAMP,SCALE_MODE:On.LINEAR,PRECISION_VERTEX:Fr.HIGH,PRECISION_FRAGMENT:Nn.apple.device?Fr.HIGH:Fr.MEDIUM,CAN_UPLOAD_SAME_BUFFER:WP(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},Cw={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,p||u,v),g=r?r+c:c;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],m]:u._events[g].push(m):(u._events[g]=m,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,p;if(this._eventsCount===0)return c;for(p in d=this._events)e.call(d,p)&&c.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=r?r+c:c,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,m=p.length,g=new Array(m);v<m;v++)g[v]=p[v].fn;return g},a.prototype.listenerCount=function(c){var d=r?r+c:c,p=this._events[d];return p?p.fn?1:p.length:0},a.prototype.emit=function(c,d,p,v,m,g){var b=r?r+c:c;if(!this._events[b])return!1;var y=this._events[b],E=arguments.length,T,S;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),E){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,p),!0;case 4:return y.fn.call(y.context,d,p,v),!0;case 5:return y.fn.call(y.context,d,p,v,m),!0;case 6:return y.fn.call(y.context,d,p,v,m,g),!0}for(S=1,T=new Array(E-1);S<E;S++)T[S-1]=arguments[S];y.fn.apply(y.context,T)}else{var A=y.length,R;for(S=0;S<A;S++)switch(y[S].once&&this.removeListener(c,y[S].fn,void 0,!0),E){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,p);break;case 4:y[S].fn.call(y[S].context,d,p,v);break;default:if(!T)for(R=1,T=new Array(E-1);R<E;R++)T[R-1]=arguments[R];y[S].fn.apply(y[S].context,T)}}return!0},a.prototype.on=function(c,d,p){return s(this,c,d,p,!1)},a.prototype.once=function(c,d,p){return s(this,c,d,p,!0)},a.prototype.removeListener=function(c,d,p,v){var m=r?r+c:c;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!v||g.once)&&(!p||g.context===p)&&o(this,m);else{for(var b=0,y=[],E=g.length;b<E;b++)(g[b].fn!==d||v&&!g[b].once||p&&g[b].context!==p)&&y.push(g[b]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(Cw);const Du=Cw.exports;var vd={exports:{}};vd.exports=md;vd.exports.default=md;function md(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=Rw(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,u,c,d,p,v,m;if(n&&(s=JP(t,e,s,r)),t.length>80*r){a=c=t[0],u=d=t[1];for(var g=r;g<i;g+=r)p=t[g],v=t[g+1],p<a&&(a=p),v<u&&(u=v),p>c&&(c=p),v>d&&(d=v);m=Math.max(c-a,d-u),m=m!==0?32767/m:0}return _u(s,o,r,a,u,m,0),o}function Rw(t,e,r,n,i){var s,o;if(i===Jm(t,e,r,n)>0)for(s=e;s<r;s+=n)o=Cx(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=Cx(s,t[s],t[s+1],o);return o&&gd(o,o.next)&&(bu(o),o=o.next),o}function lo(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(gd(r,r.next)||pt(r.prev,r,r.next)===0)){if(bu(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function _u(t,e,r,n,i,s,o){if(!!t){!o&&s&&i2(t,n,i,s);for(var a=t,u,c;t.prev!==t.next;){if(u=t.prev,c=t.next,s?ZP(t,n,i,s):qP(t)){e.push(u.i/r|0),e.push(t.i/r|0),e.push(c.i/r|0),bu(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=QP(lo(t),e,r),_u(t,e,r,n,i,s,2)):o===2&&KP(t,e,r,n,i,s):_u(lo(t),e,r,n,i,s,1);break}}}}function qP(t){var e=t.prev,r=t,n=t.next;if(pt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,u=r.y,c=n.y,d=i<s?i<o?i:o:s<o?s:o,p=a<u?a<c?a:c:u<c?u:c,v=i>s?i>o?i:o:s>o?s:o,m=a>u?a>c?a:c:u>c?u:c,g=n.next;g!==e;){if(g.x>=d&&g.x<=v&&g.y>=p&&g.y<=m&&Jo(i,a,s,u,o,c,g.x,g.y)&&pt(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function ZP(t,e,r,n){var i=t.prev,s=t,o=t.next;if(pt(i,s,o)>=0)return!1;for(var a=i.x,u=s.x,c=o.x,d=i.y,p=s.y,v=o.y,m=a<u?a<c?a:c:u<c?u:c,g=d<p?d<v?d:v:p<v?p:v,b=a>u?a>c?a:c:u>c?u:c,y=d>p?d>v?d:v:p>v?p:v,E=Qm(m,g,e,r,n),T=Qm(b,y,e,r,n),S=t.prevZ,A=t.nextZ;S&&S.z>=E&&A&&A.z<=T;){if(S.x>=m&&S.x<=b&&S.y>=g&&S.y<=y&&S!==i&&S!==o&&Jo(a,d,u,p,c,v,S.x,S.y)&&pt(S.prev,S,S.next)>=0||(S=S.prevZ,A.x>=m&&A.x<=b&&A.y>=g&&A.y<=y&&A!==i&&A!==o&&Jo(a,d,u,p,c,v,A.x,A.y)&&pt(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;S&&S.z>=E;){if(S.x>=m&&S.x<=b&&S.y>=g&&S.y<=y&&S!==i&&S!==o&&Jo(a,d,u,p,c,v,S.x,S.y)&&pt(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;A&&A.z<=T;){if(A.x>=m&&A.x<=b&&A.y>=g&&A.y<=y&&A!==i&&A!==o&&Jo(a,d,u,p,c,v,A.x,A.y)&&pt(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function QP(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!gd(i,s)&&Iw(i,n,n.next,s)&&xu(i,s)&&xu(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),bu(n),bu(n.next),n=t=s),n=n.next}while(n!==t);return lo(n)}function KP(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&a2(o,a)){var u=Pw(o,a);o=lo(o,o.next),u=lo(u,u.next),_u(o,e,r,n,i,s,0),_u(u,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function JP(t,e,r,n){var i=[],s,o,a,u,c;for(s=0,o=e.length;s<o;s++)a=e[s]*n,u=s<o-1?e[s+1]*n:t.length,c=Rw(t,a,u,n,!1),c===c.next&&(c.steiner=!0),i.push(o2(c));for(i.sort(e2),s=0;s<i.length;s++)r=t2(i[s],r);return r}function e2(t,e){return t.x-e.x}function t2(t,e){var r=r2(t,e);if(!r)return e;var n=Pw(r,t);return lo(n,n.next),lo(r,r.next)}function r2(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var u=o,c=o.x,d=o.y,p=1/0,v;r=o;do n>=r.x&&r.x>=c&&n!==r.x&&Jo(i<d?n:s,i,c,d,i<d?s:n,i,r.x,r.y)&&(v=Math.abs(i-r.y)/(n-r.x),xu(r,t)&&(v<p||v===p&&(r.x>o.x||r.x===o.x&&n2(o,r)))&&(o=r,p=v)),r=r.next;while(r!==u);return o}function n2(t,e){return pt(t.prev,t,e.prev)<0&&pt(e.next,t,t.next)<0}function i2(t,e,r,n){var i=t;do i.z===0&&(i.z=Qm(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,s2(i)}function s2(t){var e,r,n,i,s,o,a,u,c=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<c&&(a++,n=n.nextZ,!!n);e++);for(u=c;a>0||u>0&&n;)a!==0&&(u===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,c*=2}while(o>1);return t}function Qm(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function o2(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Jo(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function a2(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!l2(t,e)&&(xu(t,e)&&xu(e,t)&&u2(t,e)&&(pt(t.prev,t,e.prev)||pt(t,e.prev,e))||gd(t,e)&&pt(t.prev,t,t.next)>0&&pt(e.prev,e,e.next)>0)}function pt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function gd(t,e){return t.x===e.x&&t.y===e.y}function Iw(t,e,r,n){var i=Jh(pt(t,e,r)),s=Jh(pt(t,e,n)),o=Jh(pt(r,n,t)),a=Jh(pt(r,n,e));return!!(i!==s&&o!==a||i===0&&Kh(t,r,e)||s===0&&Kh(t,n,e)||o===0&&Kh(r,t,n)||a===0&&Kh(r,e,n))}function Kh(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Jh(t){return t>0?1:t<0?-1:0}function l2(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Iw(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function xu(t,e){return pt(t.prev,t,t.next)<0?pt(t,e,t.next)>=0&&pt(t,t.prev,e)>=0:pt(t,e,t.prev)<0||pt(t,t.next,e)<0}function u2(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function Pw(t,e){var r=new Km(t.i,t.x,t.y),n=new Km(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function Cx(t,e,r,n){var i=new Km(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function bu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Km(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}md.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Jm(t,0,s,r));if(i)for(var a=0,u=e.length;a<u;a++){var c=e[a]*r,d=a<u-1?e[a+1]*r:t.length;o-=Math.abs(Jm(t,c,d,r))}var p=0;for(a=0;a<n.length;a+=3){var v=n[a]*r,m=n[a+1]*r,g=n[a+2]*r;p+=Math.abs((t[v]-t[g])*(t[m+1]-t[v+1])-(t[v]-t[m])*(t[g+1]-t[v+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function Jm(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}md.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var eg={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Bp=="object"&&Bp;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,u=36,c=1,d=26,p=38,v=700,m=72,g=128,b="-",y=/^xn--/,E=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=u-c,R=Math.floor,I=String.fromCharCode,P;function k(H){throw RangeError(S[H])}function N(H,M){for(var L=H.length,z=[];L--;)z[L]=M(H[L]);return z}function D(H,M){var L=H.split("@"),z="";L.length>1&&(z=L[0]+"@",H=L[1]),H=H.replace(T,".");var X=H.split("."),oe=N(X,M).join(".");return z+oe}function V(H){for(var M=[],L=0,z=H.length,X,oe;L<z;)X=H.charCodeAt(L++),X>=55296&&X<=56319&&L<z?(oe=H.charCodeAt(L++),(oe&64512)==56320?M.push(((X&1023)<<10)+(oe&1023)+65536):(M.push(X),L--)):M.push(X);return M}function Q(H){return N(H,function(M){var L="";return M>65535&&(M-=65536,L+=I(M>>>10&1023|55296),M=56320|M&1023),L+=I(M),L}).join("")}function q(H){return H-48<10?H-22:H-65<26?H-65:H-97<26?H-97:u}function ae(H,M){return H+22+75*(H<26)-((M!=0)<<5)}function W(H,M,L){var z=0;for(H=L?R(H/v):H>>1,H+=R(H/M);H>A*d>>1;z+=u)H=R(H/A);return R(z+(A+1)*H/(H+p))}function $(H){var M=[],L=H.length,z,X=0,oe=g,ve=m,Te,Pe,Le,ze,De,ke,Re,Ae,Qe;for(Te=H.lastIndexOf(b),Te<0&&(Te=0),Pe=0;Pe<Te;++Pe)H.charCodeAt(Pe)>=128&&k("not-basic"),M.push(H.charCodeAt(Pe));for(Le=Te>0?Te+1:0;Le<L;){for(ze=X,De=1,ke=u;Le>=L&&k("invalid-input"),Re=q(H.charCodeAt(Le++)),(Re>=u||Re>R((a-X)/De))&&k("overflow"),X+=Re*De,Ae=ke<=ve?c:ke>=ve+d?d:ke-ve,!(Re<Ae);ke+=u)Qe=u-Ae,De>R(a/Qe)&&k("overflow"),De*=Qe;z=M.length+1,ve=W(X-ze,z,ze==0),R(X/z)>a-oe&&k("overflow"),oe+=R(X/z),X%=z,M.splice(X++,0,oe)}return Q(M)}function se(H){var M,L,z,X,oe,ve,Te,Pe,Le,ze,De,ke=[],Re,Ae,Qe,ir;for(H=V(H),Re=H.length,M=g,L=0,oe=m,ve=0;ve<Re;++ve)De=H[ve],De<128&&ke.push(I(De));for(z=X=ke.length,X&&ke.push(b);z<Re;){for(Te=a,ve=0;ve<Re;++ve)De=H[ve],De>=M&&De<Te&&(Te=De);for(Ae=z+1,Te-M>R((a-L)/Ae)&&k("overflow"),L+=(Te-M)*Ae,M=Te,ve=0;ve<Re;++ve)if(De=H[ve],De<M&&++L>a&&k("overflow"),De==M){for(Pe=L,Le=u;ze=Le<=oe?c:Le>=oe+d?d:Le-oe,!(Pe<ze);Le+=u)ir=Pe-ze,Qe=u-ze,ke.push(I(ae(ze+ir%Qe,0))),Pe=R(ir/Qe);ke.push(I(ae(Pe,0))),oe=W(L,Ae,z==X),L=0,++z}++L,++M}return ke.join("")}function Se(H){return D(H,function(M){return y.test(M)?$(M.slice(4).toLowerCase()):M})}function pe(H){return D(H,function(M){return E.test(M)?"xn--"+se(M):M})}if(o={version:"1.3.2",ucs2:{decode:V,encode:Q},decode:$,encode:se,toASCII:pe,toUnicode:Se},n&&i)if(t.exports==n)i.exports=o;else for(P in o)o.hasOwnProperty(P)&&(n[P]=o[P]);else r.punycode=o})(Bp)})(eg,eg.exports);var h2={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},Eu={};function c2(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var f2=function(t,e,r,n){e=e||"&",r=r||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var u=0;u<a;++u){var c=t[u].replace(s,"%20"),d=c.indexOf(r),p,v,m,g;d>=0?(p=c.substr(0,d),v=c.substr(d+1)):(p=c,v=""),m=decodeURIComponent(p),g=decodeURIComponent(v),c2(i,m)?Array.isArray(i[m])?i[m].push(g):i[m]=[i[m],g]:i[m]=g}return i},bl=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},d2=function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(bl(i))+r;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(bl(o))}).join(e):s+encodeURIComponent(bl(t[i]))}).join(e):n?encodeURIComponent(bl(n))+r+encodeURIComponent(bl(t)):""};Eu.decode=Eu.parse=f2;Eu.encode=Eu.stringify=d2;var p2=eg.exports,An=h2,Ow=yd,Nw=w2,Mw=T2;function dn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var v2=/^([a-z0-9.+-]+:)/i,m2=/:[0-9]*$/,g2=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,y2=["<",">",'"',"`"," ","\r",`
`,"	"],_2=["{","}","|","\\","^","`"].concat(y2),tg=["'"].concat(_2),Rx=["%","/","?",";","#"].concat(tg),Ix=["/","?","#"],x2=255,Px=/^[+a-z0-9A-Z_-]{0,63}$/,b2=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,E2={javascript:!0,"javascript:":!0},rg={javascript:!0,"javascript:":!0},va={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},ng=Eu;function yd(t,e,r){if(t&&An.isObject(t)&&t instanceof dn)return t;var n=new dn;return n.parse(t,e,r),n}dn.prototype.parse=function(t,e,r){if(!An.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var u=g2.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],e?this.query=ng.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=v2.exec(a);if(c){c=c[0];var d=c.toLowerCase();this.protocol=d,a=a.substr(c.length)}if(r||c||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var p=a.substr(0,2)==="//";p&&!(c&&rg[c])&&(a=a.substr(2),this.slashes=!0)}if(!rg[c]&&(p||c&&!va[c])){for(var v=-1,m=0;m<Ix.length;m++){var g=a.indexOf(Ix[m]);g!==-1&&(v===-1||g<v)&&(v=g)}var b,y;v===-1?y=a.lastIndexOf("@"):y=a.lastIndexOf("@",v),y!==-1&&(b=a.slice(0,y),a=a.slice(y+1),this.auth=decodeURIComponent(b)),v=-1;for(var m=0;m<Rx.length;m++){var g=a.indexOf(Rx[m]);g!==-1&&(v===-1||g<v)&&(v=g)}v===-1&&(v=a.length),this.host=a.slice(0,v),a=a.slice(v),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var T=this.hostname.split(/\./),m=0,S=T.length;m<S;m++){var A=T[m];if(!!A&&!A.match(Px)){for(var R="",I=0,P=A.length;I<P;I++)A.charCodeAt(I)>127?R+="x":R+=A[I];if(!R.match(Px)){var k=T.slice(0,m),N=T.slice(m+1),D=A.match(b2);D&&(k.push(D[1]),N.unshift(D[2])),N.length&&(a="/"+N.join(".")+a),this.hostname=k.join(".");break}}}this.hostname.length>x2?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=p2.toASCII(this.hostname));var V=this.port?":"+this.port:"",Q=this.hostname||"";this.host=Q+V,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!E2[d])for(var m=0,S=tg.length;m<S;m++){var q=tg[m];if(a.indexOf(q)!==-1){var ae=encodeURIComponent(q);ae===q&&(ae=escape(q)),a=a.split(q).join(ae)}}var W=a.indexOf("#");W!==-1&&(this.hash=a.substr(W),a=a.slice(0,W));var $=a.indexOf("?");if($!==-1?(this.search=a.substr($),this.query=a.substr($+1),e&&(this.query=ng.parse(this.query)),a=a.slice(0,$)):e&&(this.search="",this.query={}),a&&(this.pathname=a),va[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var V=this.pathname||"",se=this.search||"";this.path=V+se}return this.href=this.format(),this};function T2(t){return An.isString(t)&&(t=yd(t)),t instanceof dn?t.format():dn.prototype.format.call(t)}dn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&An.isObject(this.query)&&Object.keys(this.query).length&&(s=ng.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||va[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};function w2(t,e){return yd(t,!1,!0).resolve(e)}dn.prototype.resolve=function(t){return this.resolveObject(yd(t,!1,!0)).format()};dn.prototype.resolveObject=function(t){if(An.isString(t)){var e=new dn;e.parse(t,!1,!0),t=e}for(var r=new dn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var u=o[a];u!=="protocol"&&(r[u]=t[u])}return va[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!va[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!rg[t.protocol]){for(var S=(t.pathname||"").split("/");S.length&&!(t.host=S.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),r.pathname=S.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",m=r.search||"";r.path=v+m}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var g=r.pathname&&r.pathname.charAt(0)==="/",b=t.host||t.pathname&&t.pathname.charAt(0)==="/",y=b||g||r.host&&t.pathname,E=y,T=r.pathname&&r.pathname.split("/")||[],S=t.pathname&&t.pathname.split("/")||[],A=r.protocol&&!va[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(T[0]===""?T[0]=r.host:T.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(S[0]===""?S[0]=t.host:S.unshift(t.host)),t.host=null),y=y&&(S[0]===""||T[0]==="")),b)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,T=S;else if(S.length)T||(T=[]),T.pop(),T=T.concat(S),r.search=t.search,r.query=t.query;else if(!An.isNullOrUndefined(t.search)){if(A){r.hostname=r.host=T.shift();var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.host=r.hostname=R.shift())}return r.search=t.search,r.query=t.query,(!An.isNull(r.pathname)||!An.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=T.slice(-1)[0],P=(r.host||t.host||T.length>1)&&(I==="."||I==="..")||I==="",k=0,N=T.length;N>=0;N--)I=T[N],I==="."?T.splice(N,1):I===".."?(T.splice(N,1),k++):k&&(T.splice(N,1),k--);if(!y&&!E)for(;k--;k)T.unshift("..");y&&T[0]!==""&&(!T[0]||T[0].charAt(0)!=="/")&&T.unshift(""),P&&T.join("/").substr(-1)!=="/"&&T.push("");var D=T[0]===""||T[0]&&T[0].charAt(0)==="/";if(A){r.hostname=r.host=D?"":T.length?T.shift():"";var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.host=r.hostname=R.shift())}return y=y||r.host&&T.length,y&&!D&&T.unshift(""),T.length?r.pathname=T.join("/"):(r.pathname=null,r.path=null),(!An.isNull(r.pathname)||!An.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};dn.prototype.parseHost=function(){var t=this.host,e=m2.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};/*!
 * @pixi/utils - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ea={parse:Ow,format:Mw,resolve:Nw};J.RETINA_PREFIX=/@([0-9\.]+)x/;J.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Ox=!1,Nx="6.5.8";function S2(t){var e;if(!Ox){if(J.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+Nx+" - \u2730 "+t+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+Nx+" - "+t+" - http://www.pixijs.com/");Ox=!0}}var pv;function A2(){return typeof pv>"u"&&(pv=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:J.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!J.ADAPTER.getWebGLRenderingContext())return!1;var r=J.ADAPTER.createCanvas(),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),pv}var C2="#f0f8ff",R2="#faebd7",I2="#00ffff",P2="#7fffd4",O2="#f0ffff",N2="#f5f5dc",M2="#ffe4c4",F2="#000000",L2="#ffebcd",k2="#0000ff",D2="#8a2be2",B2="#a52a2a",U2="#deb887",G2="#5f9ea0",z2="#7fff00",j2="#d2691e",H2="#ff7f50",X2="#6495ed",V2="#fff8dc",$2="#dc143c",W2="#00ffff",Y2="#00008b",q2="#008b8b",Z2="#b8860b",Q2="#a9a9a9",K2="#006400",J2="#a9a9a9",eO="#bdb76b",tO="#8b008b",rO="#556b2f",nO="#ff8c00",iO="#9932cc",sO="#8b0000",oO="#e9967a",aO="#8fbc8f",lO="#483d8b",uO="#2f4f4f",hO="#2f4f4f",cO="#00ced1",fO="#9400d3",dO="#ff1493",pO="#00bfff",vO="#696969",mO="#696969",gO="#1e90ff",yO="#b22222",_O="#fffaf0",xO="#228b22",bO="#ff00ff",EO="#dcdcdc",TO="#f8f8ff",wO="#daa520",SO="#ffd700",AO="#808080",CO="#008000",RO="#adff2f",IO="#808080",PO="#f0fff0",OO="#ff69b4",NO="#cd5c5c",MO="#4b0082",FO="#fffff0",LO="#f0e68c",kO="#fff0f5",DO="#e6e6fa",BO="#7cfc00",UO="#fffacd",GO="#add8e6",zO="#f08080",jO="#e0ffff",HO="#fafad2",XO="#d3d3d3",VO="#90ee90",$O="#d3d3d3",WO="#ffb6c1",YO="#ffa07a",qO="#20b2aa",ZO="#87cefa",QO="#778899",KO="#778899",JO="#b0c4de",eN="#ffffe0",tN="#00ff00",rN="#32cd32",nN="#faf0e6",iN="#ff00ff",sN="#800000",oN="#66cdaa",aN="#0000cd",lN="#ba55d3",uN="#9370db",hN="#3cb371",cN="#7b68ee",fN="#00fa9a",dN="#48d1cc",pN="#c71585",vN="#191970",mN="#f5fffa",gN="#ffe4e1",yN="#ffe4b5",_N="#ffdead",xN="#000080",bN="#fdf5e6",EN="#808000",TN="#6b8e23",wN="#ffa500",SN="#ff4500",AN="#da70d6",CN="#eee8aa",RN="#98fb98",IN="#afeeee",PN="#db7093",ON="#ffefd5",NN="#ffdab9",MN="#cd853f",FN="#ffc0cb",LN="#dda0dd",kN="#b0e0e6",DN="#800080",BN="#663399",UN="#ff0000",GN="#bc8f8f",zN="#4169e1",jN="#8b4513",HN="#fa8072",XN="#f4a460",VN="#2e8b57",$N="#fff5ee",WN="#a0522d",YN="#c0c0c0",qN="#87ceeb",ZN="#6a5acd",QN="#708090",KN="#708090",JN="#fffafa",eM="#00ff7f",tM="#4682b4",rM="#d2b48c",nM="#008080",iM="#d8bfd8",sM="#ff6347",oM="#40e0d0",aM="#ee82ee",lM="#f5deb3",uM="#ffffff",hM="#f5f5f5",cM="#ffff00",fM="#9acd32",dM={aliceblue:C2,antiquewhite:R2,aqua:I2,aquamarine:P2,azure:O2,beige:N2,bisque:M2,black:F2,blanchedalmond:L2,blue:k2,blueviolet:D2,brown:B2,burlywood:U2,cadetblue:G2,chartreuse:z2,chocolate:j2,coral:H2,cornflowerblue:X2,cornsilk:V2,crimson:$2,cyan:W2,darkblue:Y2,darkcyan:q2,darkgoldenrod:Z2,darkgray:Q2,darkgreen:K2,darkgrey:J2,darkkhaki:eO,darkmagenta:tO,darkolivegreen:rO,darkorange:nO,darkorchid:iO,darkred:sO,darksalmon:oO,darkseagreen:aO,darkslateblue:lO,darkslategray:uO,darkslategrey:hO,darkturquoise:cO,darkviolet:fO,deeppink:dO,deepskyblue:pO,dimgray:vO,dimgrey:mO,dodgerblue:gO,firebrick:yO,floralwhite:_O,forestgreen:xO,fuchsia:bO,gainsboro:EO,ghostwhite:TO,goldenrod:wO,gold:SO,gray:AO,green:CO,greenyellow:RO,grey:IO,honeydew:PO,hotpink:OO,indianred:NO,indigo:MO,ivory:FO,khaki:LO,lavenderblush:kO,lavender:DO,lawngreen:BO,lemonchiffon:UO,lightblue:GO,lightcoral:zO,lightcyan:jO,lightgoldenrodyellow:HO,lightgray:XO,lightgreen:VO,lightgrey:$O,lightpink:WO,lightsalmon:YO,lightseagreen:qO,lightskyblue:ZO,lightslategray:QO,lightslategrey:KO,lightsteelblue:JO,lightyellow:eN,lime:tN,limegreen:rN,linen:nN,magenta:iN,maroon:sN,mediumaquamarine:oN,mediumblue:aN,mediumorchid:lN,mediumpurple:uN,mediumseagreen:hN,mediumslateblue:cN,mediumspringgreen:fN,mediumturquoise:dN,mediumvioletred:pN,midnightblue:vN,mintcream:mN,mistyrose:gN,moccasin:yN,navajowhite:_N,navy:xN,oldlace:bN,olive:EN,olivedrab:TN,orange:wN,orangered:SN,orchid:AN,palegoldenrod:CN,palegreen:RN,paleturquoise:IN,palevioletred:PN,papayawhip:ON,peachpuff:NN,peru:MN,pink:FN,plum:LN,powderblue:kN,purple:DN,rebeccapurple:BN,red:UN,rosybrown:GN,royalblue:zN,saddlebrown:jN,salmon:HN,sandybrown:XN,seagreen:VN,seashell:$N,sienna:WN,silver:YN,skyblue:qN,slateblue:ZN,slategray:QN,slategrey:KN,snow:JN,springgreen:eM,steelblue:tM,tan:rM,teal:nM,thistle:iM,tomato:sM,turquoise:oM,violet:aM,wheat:lM,white:uM,whitesmoke:hM,yellow:cM,yellowgreen:fM};function Sa(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function Fw(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function Lw(t){return typeof t=="string"&&(t=dM[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function pM(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[ue.NORMAL_NPM]=ue.NORMAL,t[ue.ADD_NPM]=ue.ADD,t[ue.SCREEN_NPM]=ue.SCREEN,e[ue.NORMAL]=ue.NORMAL_NPM,e[ue.ADD]=ue.ADD_NPM,e[ue.SCREEN]=ue.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var kw=pM();function Dw(t,e){return kw[e?1:0][t]}function vM(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function ty(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function Bw(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function mM(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function Uw(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Df(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Mx(t){return!(t&t-1)&&!!t}function Fx(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ma(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}}function ta(t){return t===0?0:t<0?-1:1}var gM=0;function uo(){return++gM}var Lx={};function pn(t,e,r){if(r===void 0&&(r=3),!Lx[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),Lx[e]=!0}}var kx={},ii=Object.create(null),Cs=Object.create(null),Dx=function(){function t(e,r,n){this.canvas=J.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||J.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function yM(t){var e=t.width,r=t.height,n=t.getContext("2d",{willReadFrequently:!0}),i=n.getImageData(0,0,e,r),s=i.data,o=s.length,a={top:null,left:null,right:null,bottom:null},u=null,c,d,p;for(c=0;c<o;c+=4)s[c+3]!==0&&(d=c/4%e,p=~~(c/4/e),a.top===null&&(a.top=p),(a.left===null||d<a.left)&&(a.left=d),(a.right===null||a.right<d)&&(a.right=d+1),(a.bottom===null||a.bottom<p)&&(a.bottom=p));return a.top!==null&&(e=a.right-a.left,r=a.bottom-a.top+1,u=n.getImageData(a.left,a.top,e,r)),{height:r,width:e,data:u}}var ec;function _M(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,ec||(ec=document.createElement("a")),ec.href=t;var r=ea.parse(ec.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Bf(t,e){var r=J.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}/*!
 * @pixi/math - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Uf=Math.PI*2,xM=180/Math.PI,bM=Math.PI/180,Xt;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(Xt||(Xt={}));var tt=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),tc=[new tt,new tt,new tt,new tt],Fe=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Xt.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var s=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>s}var a=this.left,u=this.right,c=this.top,d=this.bottom;if(u<=a||d<=c)return!1;var p=tc[0].set(e.left,e.top),v=tc[1].set(e.left,e.bottom),m=tc[2].set(e.right,e.top),g=tc[3].set(e.right,e.bottom);if(m.x<=p.x||v.y<=p.y)return!1;var b=Math.sign(r.a*r.d-r.b*r.c);if(b===0||(r.apply(p,p),r.apply(v,v),r.apply(m,m),r.apply(g,g),Math.max(p.x,v.x,m.x,g.x)<=a||Math.min(p.x,v.x,m.x,g.x)>=u||Math.max(p.y,v.y,m.y,g.y)<=c||Math.min(p.y,v.y,m.y,g.y)>=d))return!1;var y=b*(v.y-p.y),E=b*(p.x-v.x),T=y*a+E*c,S=y*u+E*c,A=y*a+E*d,R=y*u+E*d;if(Math.max(T,S,A,R)<=y*p.x+E*p.y||Math.min(T,S,A,R)>=y*g.x+E*g.y)return!1;var I=b*(p.y-m.y),P=b*(m.x-p.x),k=I*a+P*c,N=I*u+P*c,D=I*a+P*d,V=I*u+P*d;return!(Math.max(k,N,D,V)<=I*p.x+P*p.y||Math.min(k,N,D,V)>=I*g.x+P*g.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),EM=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=Xt.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n},t.prototype.getBounds=function(){return new Fe(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),TM=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=Xt.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new Fe(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Wc=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var s=[],o=0,a=i.length;o<a;o++)s.push(i[o].x,i[o].y);i=s}this.points=i,this.type=Xt.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,s=0,o=i-1;s<i;o=s++){var a=this.points[s*2],u=this.points[s*2+1],c=this.points[o*2],d=this.points[o*2+1],p=u>r!=d>r&&e<(c-a)*((r-u)/(d-u))+a;p&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),wM=function(){function t(e,r,n,i,s){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),s===void 0&&(s=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Xt.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),s=r-(this.y+n),o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),Ks=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),Bt=function(){function t(e,r,n,i,s,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new tt;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new tt;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this},t.prototype.setTransform=function(e,r,n,i,s,o,a,u,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),c=Math.abs(a+u);return c<1e-5||Math.abs(Uf-c)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Ls=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],ks=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ds=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Bs=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],ig=[],Gw=[],rc=Math.sign;function SM(){for(var t=0;t<16;t++){var e=[];ig.push(e);for(var r=0;r<16;r++)for(var n=rc(Ls[t]*Ls[r]+Ds[t]*ks[r]),i=rc(ks[t]*Ls[r]+Bs[t]*ks[r]),s=rc(Ls[t]*Ds[r]+Ds[t]*Bs[r]),o=rc(ks[t]*Ds[r]+Bs[t]*Bs[r]),a=0;a<16;a++)if(Ls[a]===n&&ks[a]===i&&Ds[a]===s&&Bs[a]===o){e.push(a);break}}for(var t=0;t<16;t++){var u=new Bt;u.set(Ls[t],ks[t],Ds[t],Bs[t],0,0),Gw.push(u)}}SM();var ct={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Ls[t]},uY:function(t){return ks[t]},vX:function(t){return Ds[t]},vY:function(t){return Bs[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return ig[t][e]},sub:function(t,e){return ig[t][ct.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?ct.S:ct.N:Math.abs(e)*2<=Math.abs(t)?t>0?ct.E:ct.W:e>0?t>0?ct.SE:ct.SW:t>0?ct.NE:ct.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=Gw[ct.inv(e)];i.tx=r,i.ty=n,t.append(i)}},zw=function(){function t(){this.worldTransform=new Bt,this.localTransform=new Bt,this.position=new Ks(this.onChange,this,0,0),this.scale=new Ks(this.onChange,this,1,1),this.pivot=new Ks(this.onChange,this,0,0),this.skew=new Ks(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */J.SORTABLE_CHILDREN=!1;var Gf=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Fe.EMPTY:(e=e||new Fe(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,s=e.c,o=e.d,a=e.tx,u=e.ty,c=n*r.x+s*r.y+a,d=i*r.x+o*r.y+u;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s},t.prototype.addFrame=function(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)},t.prototype.addFrameMatrix=function(e,r,n,i,s){var o=e.a,a=e.b,u=e.c,c=e.d,d=e.tx,p=e.ty,v=this.minX,m=this.minY,g=this.maxX,b=this.maxY,y=o*r+u*n+d,E=a*r+c*n+p;v=y<v?y:v,m=E<m?E:m,g=y>g?y:g,b=E>b?E:b,y=o*i+u*n+d,E=a*i+c*n+p,v=y<v?y:v,m=E<m?E:m,g=y>g?y:g,b=E>b?E:b,y=o*r+u*s+d,E=a*r+c*s+p,v=y<v?y:v,m=E<m?E:m,g=y>g?y:g,b=E>b?E:b,y=o*i+u*s+d,E=a*i+c*s+p,v=y<v?y:v,m=E<m?E:m,g=y>g?y:g,b=E>b?E:b,this.minX=v,this.minY=m,this.maxX=g,this.maxY=b},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,s=this.minY,o=this.maxX,a=this.maxY,u=r;u<n;u+=2){var c=e[u],d=e[u+1];i=c<i?c:i,s=d<s?d:s,o=c>o?c:o,a=d>a?d:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,s,o){s===void 0&&(s=0),o===void 0&&(o=s);for(var a=e.a,u=e.b,c=e.c,d=e.d,p=e.tx,v=e.ty,m=this.minX,g=this.minY,b=this.maxX,y=this.maxY,E=n;E<i;E+=2){var T=r[E],S=r[E+1],A=a*T+c*S+p,R=d*S+u*T+v;m=Math.min(m,A-s),b=Math.max(b,A+s),g=Math.min(g,R-o),y=Math.max(y,R+o)}this.minX=m,this.minY=g,this.maxX=b,this.maxY=y},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){var a=this.minX,u=this.minY,c=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>c?s:c,this.maxY=o>d?o:d}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){var a=this.minX,u=this.minY,c=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>c?s:c,this.maxY=o>d?o:d}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sg=function(t,e){return sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},sg(t,e)};function ry(t,e){sg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Et=function(t){ry(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new zw,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new Gf,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var s=n[i];Object.defineProperty(e.prototype,s,Object.getOwnPropertyDescriptor(r,s))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Fe),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new Fe),r=this._localBoundsRect),this._localBounds||(this._localBounds=new Gf);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=s,this._bounds.updateID+=this._boundsID-o,a},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,s){return n&&(r=n.toGlobal(r,i,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,s,o,a,u,c,d){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=1),o===void 0&&(o=0),a===void 0&&(a=0),u===void 0&&(u=0),c===void 0&&(c=0),d===void 0&&(d=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=s||1,this.rotation=o,this.skew.x=a,this.skew.y=u,this.pivot.x=c,this.pivot.y=d,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new jw),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*xM},set:function(r){this.transform.rotation=r*bM},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=r,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),e}(Du),jw=function(t){ry(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(Et);Et.prototype.displayObjectUpdateTransform=Et.prototype.updateTransform;function AM(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var $t=function(t){ry(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=J.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var s=0;s<n.length;s++)this.addChild(n[s]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),s=this.getChildIndex(n);this.children[i]=n,this.children[s]=r,this.onChildrenChange(i<s?i:s)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);ma(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var s=0;s<n.length;s++)this.removeChild(n[s]);else{var o=n[0],a=this.children.indexOf(o);if(a===-1)return null;o.parent=null,o.transform._parentID=-1,ma(this.children,a,1),this._boundsID++,this.onChildrenChange(a),o.emit("removed",this),this.emit("childRemoved",o,this,a)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,ma(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,s=n,o=s-i,a;if(o>0&&o<=s){a=this.children.splice(i,o);for(var u=0;u<a.length;++u)a[u].parent=null,a[u].transform&&(a[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var u=0;u<a.length;++u)a[u].emit("removed",this),this.emit("childRemoved",a[u],this,u);return a}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var s=this.children[n];s._lastSortedIndex=n,!r&&s.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(AM),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.isMaskData?n._mask.maskObject:n._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var s=0,o=this.children.length;s<o;++s){var a=this.children[s];a.visible&&a.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,s;if(this.cullArea?(i=this.cullArea,s=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,s))this._render(r);else if(this.cullArea)return;for(var o=0,a=this.children.length;o<a;++o){var u=this.children[o],c=u.cullable;u.cullable=c||!this.cullArea,u.render(r),u.cullable=c}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<n.length;s++)n[s].enabled&&this._enabledFilters.push(n[s])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==Rt.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var s=0,a=this.children.length;s<a;++s)this.children[s].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var s=0;s<i.length;++s)i[s].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(Et);$t.prototype.containerUpdateTransform=$t.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tu=function(){return tu=Object.assign||function(e){for(var r=arguments,n,i=1,s=arguments.length;i<s;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},tu.apply(this,arguments)},Ze;(function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"})(Ze||(Ze={}));var Bx=function(t){if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var e=typeof t.extension!="object"?{type:t.extension}:t.extension;t=tu(tu({},e),{ref:t})}if(typeof t=="object")t=tu({},t);else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Ei={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(Bx).forEach(function(i){i.type.forEach(function(s){var o,a;return(a=(o=e._removeHandlers)[s])===null||a===void 0?void 0:a.call(o,i)})}),this},add:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(Bx).forEach(function(i){i.type.forEach(function(s){var o=e._addHandlers,a=e._queue;o[s]?o[s](i):(a[s]=a[s]||[],a[s].push(i))})}),this},handle:function(t,e,r){var n=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(n[t]||i[t])throw new Error("Extension type "+t+" already has a handler");n[t]=e,i[t]=r;var s=this._queue;return s[t]&&(s[t].forEach(function(o){return e(o)}),delete s[t]),this},handleByMap:function(t,e){return this.handle(t,function(r){e[r.name]=r.ref},function(r){delete e[r.name]})},handleByList:function(t,e){return this.handle(t,function(r){var n,i;e.push(r.ref),t===Ze.Loader&&((i=(n=r.ref).add)===null||i===void 0||i.call(n))},function(r){var n=e.indexOf(r.ref);n!==-1&&e.splice(n,1)})}};/*!
 * @pixi/runner - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var er=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,s,o,a,u){if(arguments.length>8)throw new Error("max arguments reached");var c=this,d=c.name,p=c.items;this._aliasCount++;for(var v=0,m=p.length;v<m;v++)p[v][d](e,r,n,i,s,o,a,u);return p===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(er.prototype,{dispatch:{value:er.prototype.emit},run:{value:er.prototype.emit}});/*!
 * @pixi/ticker - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */J.TARGET_FPMS=.06;var xi;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(xi||(xi={}));var vv=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),Ht=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new vv(null,null,1/0),this.deltaMS=1/J.TARGET_FPMS,this.elapsedMS=1/J.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=xi.NORMAL),this._addListener(new vv(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=xi.NORMAL),this._addListener(new vv(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*J.TARGET_FPMS;for(var i=this._head,s=i.next;s;)s=s.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,J.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),CM=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,xi.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ht.shared:new Ht,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t.extension=Ze.Application,t}();/*!
 * @pixi/core - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */J.PREFER_ENV=Nn.any?_i.WEBGL:_i.WEBGL2;J.STRICT_TEXTURE_CACHE=!1;var og=[];function Hw(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=og.length-1;i>=0;--i){var s=og[i];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ag=function(t,e){return ag=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ag(t,e)};function rt(t,e){ag(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var lg=function(){return lg=Object.assign||function(e){for(var r=arguments,n,i=1,s=arguments.length;i<s;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},lg.apply(this,arguments)};function RM(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var Tu=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new er("setRealSize"),this.onUpdate=new er("update"),this.onError=new er("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),Bu=function(t){rt(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,a)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var s=r.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===gn.UNPACK);var o=n.realWidth,a=n.realHeight;return i.width===o&&i.height===a?s.texSubImage2D(n.target,0,0,0,o,a,n.format,i.type,this.data):(i.width=o,i.height=a,s.texImage2D(n.target,0,i.internalFormat,o,a,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(Tu),IM={scaleMode:On.NEAREST,format:Z.RGBA,alphaMode:gn.NPM},Me=function(t){rt(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var s=n.alphaMode,o=n.mipmap,a=n.anisotropicLevel,u=n.scaleMode,c=n.width,d=n.height,p=n.wrapMode,v=n.format,m=n.type,g=n.target,b=n.resolution,y=n.resourceOptions;return r&&!(r instanceof Tu)&&(r=Hw(r,y),r.internal=!0),i.resolution=b||J.RESOLUTION,i.width=Math.round((c||0)*i.resolution)/i.resolution,i.height=Math.round((d||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:J.MIPMAP_TEXTURES,i.anisotropicLevel=a!==void 0?a:J.ANISOTROPIC_LEVEL,i._wrapMode=p||J.WRAP_MODE,i._scaleMode=u!==void 0?u:J.SCALE_MODE,i.format=v||Z.RGBA,i.type=m||fe.UNSIGNED_BYTE,i.target=g||to.TEXTURE_2D,i.alphaMode=s!==void 0?s:gn.UNPACK,i.uid=uo(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=c>0&&d>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=Mx(this.realWidth)&&Mx(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Cs[this.cacheId],delete ii[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=J.STRICT_TEXTURE_CACHE);var s=typeof r=="string",o=null;if(s)o=r;else{if(!r._pixiId){var a=n&&n.pixiIdPrefix||"pixiid";r._pixiId=a+"_"+uo()}o=r._pixiId}var u=Cs[o];if(s&&i&&!u)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return u||(u=new e(r,n),u.cacheId=o,e.addToCache(u,o)),u},e.fromBuffer=function(r,n,i,s){r=r||new Float32Array(n*i*4);var o=new Bu(r,{width:n,height:i}),a=r instanceof Float32Array?fe.FLOAT:fe.UNSIGNED_BYTE;return new e(o,Object.assign({},IM,s||{width:n,height:i,type:a}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Cs[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),Cs[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Cs[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Cs[r],n}}else if(r&&r.textureCacheIds){for(var s=0;s<r.textureCacheIds.length;++s)delete Cs[r.textureCacheIds[s]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(Du),Xw=function(t){rt(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height;i=t.call(this,o,a)||this,i.items=[],i.itemDirtyIds=[];for(var u=0;u<r;u++){var c=new Me;i.items.push(c),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)!r[i]||(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof Tu?this.addResourceAt(r[i],i):this.addResourceAt(Hw(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(s){return s.resource}).filter(function(s){return s}),i=n.map(function(s){return s.load()});return this._load=Promise.all(i).then(function(){var s=r.items[0],o=s.realWidth,a=s.realHeight;return r.resize(o,a),Promise.resolve(r)}),this._load},e}(Tu),PM=function(t){rt(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height,u,c;return Array.isArray(r)?(u=r,c=r.length):c=r,i=t.call(this,c,{width:o,height:a})||this,u&&i.initFromArray(u,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=to.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var s=this,o=s.length,a=s.itemDirtyIds,u=s.items,c=r.gl;i.dirtyId<0&&c.texImage3D(c.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var d=0;d<o;d++){var p=u[d];a[d]<p.dirtyId&&(a[d]=p.dirtyId,p.valid&&c.texSubImage3D(c.TEXTURE_2D_ARRAY,0,0,0,d,p.resource.width,p.resource.height,1,n.format,i.type,p.resource.source))}return!0},e}(Xw),fs=function(t){rt(e,t);function e(r){var n=this,i=r,s=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,s,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=_M(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,s){var o=r.gl,a=n.realWidth,u=n.realHeight;if(s=s||this.source,s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===gn.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===a&&i.height===u?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,s):(i.width=a,i.height=u,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,s)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(Tu),OM=function(t){rt(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(fs),NM=function(t){rt(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height,u=s.autoLoad,c=s.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:a})||this;for(var d=0;d<e.SIDES;d++)i.items[d].target=to.TEXTURE_CUBE_MAP_POSITIVE_X+d;return i.linkBaseTexture=c!==!1,r&&i.initFromArray(r,n),u!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=to.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=to.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var s=this.itemDirtyIds,o=0;o<e.SIDES;o++){var a=this.items[o];(s[o]<a.dirtyId||i.dirtyId<n.dirtyId)&&(a.valid&&a.resource?(a.resource.upload(r,a,i),s[o]=a.dirtyId):s[o]<-1&&(r.gl.texImage2D(a.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),s[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(Xw),Vw=function(t){rt(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var s=new Image;fs.crossOrigin(s,r,n.crossorigin),s.src=r,r=s}return i=t.call(this,r)||this,!r.complete&&!!i._width&&!!i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:J.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,s){var o=n.source;n.url=o.src;var a=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?a():(o.onload=a,o.onerror=function(u){s(u),n.onError.emit(u)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,s=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:s?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===null||r.alphaMode===gn.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var s=!0,o=n._glTextures;for(var a in o){var u=o[a];if(u!==i&&u.dirtyId!==n.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(fs),MM=function(t){rt(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,J.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;fs.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){!r._resolve||(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(!!r._resolve){var i=n.width,s=n.height;if(!i||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,a=s*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/s*i,a=r._overrideHeight||r._overrideWidth/i*s),o=Math.round(o),a=Math.round(a);var u=r.source;u.width=o,u.height=a,u._pixiId="canvas_"+uo(),u.getContext("2d").drawImage(n,0,0,i,s,0,0,o,a),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&r.startsWith("data:image/svg+xml")||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(fs),FM=function(t){rt(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];fs.crossOrigin(s,o,n.crossorigin);for(var a=0;a<r.length;++a){var u=document.createElement("source"),c=r[a],d=c.src,p=c.mime;d=d||r[a];var v=d.split("?").shift().toLowerCase(),m=v.slice(v.lastIndexOf(".")+1);p=p||e.MIME_TYPES[m]||"video/"+m,u.src=d,u.type=p,s.appendChild(u)}r=s}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=Ht.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return!r.paused&&!r.ended&&this._isSourceReady()},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState>2},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ht.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ht.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(Ht.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Ht.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ht.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(fs),LM=function(t){rt(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&r instanceof ImageBitmap},e}(fs);og.push(Vw,LM,OM,FM,MM,Bu,NM,PM);var kM=function(t){rt(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var s=r.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===gn.UNPACK);var o=n.realWidth,a=n.realHeight;return i.width===o&&i.height===a?s.texSubImage2D(n.target,0,0,0,o,a,n.format,i.type,this.data):(i.width=o,i.height=a,s.texImage2D(n.target,0,i.internalFormat,o,a,0,n.format,i.type,this.data)),!0},e}(Bu),ug=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new er("disposeFramebuffer"),this.multisample=gt.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new Me(null,{scaleMode:On.NEAREST,resolution:1,mipmap:mn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new Me(new kM(null,{width:this.width,height:this.height}),{scaleMode:On.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:mn.OFF,format:Z.DEPTH_COMPONENT,type:fe.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(e/s,r/s)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),$w=function(t){rt(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];r={width:i,height:s,scaleMode:o,resolution:a}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:gt.NONE,n=t.call(this,null,r)||this,n.mipmap=mn.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new ug(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Me),Ww=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,s=r.height;if(n){var o=e.width/2/i,a=e.height/2/s,u=e.x/i+o,c=e.y/s+a;n=ct.add(n,ct.NW),this.x0=u+o*ct.uX(n),this.y0=c+a*ct.uY(n),n=ct.add(n,2),this.x1=u+o*ct.uX(n),this.y1=c+a*ct.uY(n),n=ct.add(n,2),this.x2=u+o*ct.uX(n),this.y2=c+a*ct.uY(n),n=ct.add(n,2),this.x3=u+o*ct.uX(n),this.y3=c+a*ct.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),Ux=new Ww;function nc(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var de=function(t){rt(e,t);function e(r,n,i,s,o,a){var u=t.call(this)||this;if(u.noFrame=!1,n||(u.noFrame=!0,n=new Fe(0,0,1,1)),r instanceof e&&(r=r.baseTexture),u.baseTexture=r,u._frame=n,u.trim=s,u.valid=!1,u._uvs=Ux,u.uvMatrix=null,u.orig=i||n,u._rotate=Number(o||0),o===!0)u._rotate=2;else if(u._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=a?new tt(a.x,a.y):new tt(0,0),u._updateID=0,u.textureCacheIds=[],r.valid?u.noFrame?r.valid&&u.onBaseTextureUpdated(r):u.frame=n:r.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&r.on("update",u.onBaseTextureUpdated,u),u}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&ii[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===Ux&&(this._uvs=new Ww),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=J.STRICT_TEXTURE_CACHE);var s=typeof r=="string",o=null;if(s)o=r;else if(r instanceof Me){if(!r.cacheId){var a=n&&n.pixiIdPrefix||"pixiid";r.cacheId=a+"-"+uo(),Me.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var a=n&&n.pixiIdPrefix||"pixiid";r._pixiId=a+"_"+uo()}o=r._pixiId}var u=ii[o];if(s&&i&&!u)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!u&&!(r instanceof Me)?(n.resolution||(n.resolution=Bf(r)),u=new e(new Me(r,n)),u.baseTexture.cacheId=o,Me.addToCache(u.baseTexture,o),e.addToCache(u,o)):!u&&r instanceof Me&&(u=new e(r),e.addToCache(u,o)),u},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),s=e.from(r,Object.assign({resourceOptions:i},n),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(function(){return Promise.resolve(s)})},e.fromBuffer=function(r,n,i,s){return new e(Me.fromBuffer(r,n,i,s))},e.fromLoader=function(r,n,i,s){var o=new Me(r,Object.assign({scaleMode:J.SCALE_MODE,resolution:Bf(n)},s)),a=o.resource;a instanceof Vw&&(a.url=n);var u=new e(o);return i||(i=n),Me.addToCache(u.baseTexture,i),e.addToCache(u,i),i!==n&&(Me.addToCache(u.baseTexture,n),e.addToCache(u,n)),u.baseTexture.valid?Promise.resolve(u):new Promise(function(c){u.baseTexture.once("loaded",function(){return c(u)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),ii[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),ii[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=ii[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete ii[r],n}}else if(r&&r.textureCacheIds){for(var s=0;s<r.textureCacheIds.length;++s)ii[r.textureCacheIds[s]]===r&&delete ii[r.textureCacheIds[s]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,s=r.width,o=r.height,a=n+s>this.baseTexture.width,u=i+o>this.baseTexture.height;if(a||u){var c=a&&u?"and":"or",d="X: "+n+" + "+s+" = "+(n+s)+" > "+this.baseTexture.width,p="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(d+" "+c+" "+p))}this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new Me),nc(e._EMPTY),nc(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=J.ADAPTER.createCanvas(16,16),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(Me.from(r)),nc(e._WHITE),nc(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(Du),ho=function(t){rt(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var s=this.baseTexture.resolution,o=Math.round(r*s)/s,a=Math.round(n*s)/s;this.valid=o>0&&a>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=a,i&&this.baseTexture.resize(o,a),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],s=1;s<arguments.length;s++)i[s-1]=n[s];return typeof r=="number"&&(pn("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new $w(r))},e}(de),DM=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=gt.NONE);var i=new $w(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new ho(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=gt.NONE);var s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Df(e),r=Df(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);var o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||gt.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),Gx=function(){function t(e,r,n,i,s,o,a){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=fe.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,s){return new t(e,r,n,i,s)},t}(),BM=0,kt=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=BM++,this.disposeRunner=new er("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===Un.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?Un.ELEMENT_ARRAY_BUFFER:Un.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),UM={Float32Array,Uint32Array,Int32Array,Uint8Array};function GM(t,e){for(var r=0,n=0,i={},s=0;s<t.length;s++)n+=e[s],r+=t[s].length;for(var o=new ArrayBuffer(r*4),a=null,u=0,s=0;s<t.length;s++){var c=e[s],d=t[s],p=Uw(d);i[p]||(i[p]=new UM[p](o)),a=i[p];for(var v=0;v<d.length;v++){var m=(v/c|0)*n+u,g=v%c;a[m+g]=d[v]}u+=c}return new Float32Array(o)}var zx={5126:4,5123:2,5121:1},zM=0,jM={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},Uu=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=zM++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new er("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,s,o,a,u){if(n===void 0&&(n=0),i===void 0&&(i=!1),u===void 0&&(u=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof kt||(r instanceof Array&&(r=new Float32Array(r)),r=new kt(r));var c=e.split("|");if(c.length>1){for(var d=0;d<c.length;d++)this.addAttribute(c[d],r,n,i,s);return this}var p=this.buffers.indexOf(r);return p===-1&&(this.buffers.push(r),p=this.buffers.length-1),this.attributes[e]=new Gx(p,n,i,s,o,a,u),this.instanced=this.instanced||u,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof kt||(e instanceof Array&&(e=new Uint16Array(e)),e=new kt(e)),e.type=Un.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new kt,i;for(i in this.attributes){var s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*zx[s.type]/4),s.buffer=0}for(n.data=GM(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new kt(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new Gx(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Un.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],s=[],o,a=0;a<e.length;a++){o=e[a];for(var u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,s[u]=0}for(var a=0;a<o.buffers.length;a++)n[a]=new jM[Uw(o.buffers[a].data)](i[a]),r.buffers[a]=new kt(n[a]);for(var a=0;a<e.length;a++){o=e[a];for(var u=0;u<o.buffers.length;u++)n[u].set(o.buffers[u].data,s[u]),s[u]+=o.buffers[u].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Un.ELEMENT_ARRAY_BUFFER;for(var c=0,d=0,p=0,v=0,a=0;a<o.buffers.length;a++)if(o.buffers[a]!==o.indexBuffer){v=a;break}for(var a in o.attributes){var m=o.attributes[a];(m.buffer|0)===v&&(d+=m.size*zx[m.type]/4)}for(var a=0;a<e.length;a++){for(var g=e[a].indexBuffer.data,u=0;u<g.length;u++)r.indexBuffer.data[u+p]+=c;c+=e[a].buffers[v].data.length/d,p+=g.length}}return r},t}(),HM=function(t){rt(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(Uu),Yw=function(t){rt(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new kt(r.vertices),r.uvBuffer=new kt(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,s=0;return this.uvs[0]=i,this.uvs[1]=s,this.uvs[2]=i+n.width/r.width,this.uvs[3]=s,this.uvs[4]=i+n.width/r.width,this.uvs[5]=s+n.height/r.height,this.uvs[6]=i,this.uvs[7]=s+n.height/r.height,i=n.x,s=n.y,this.vertices[0]=i,this.vertices[1]=s,this.vertices[2]=i+n.width,this.vertices[3]=s,this.vertices[4]=i+n.width,this.vertices[5]=s+n.height,this.vertices[6]=i,this.vertices[7]=s+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(Uu),XM=0,ro=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=XM++,this.static=!!r,this.ubo=!!n,e instanceof kt?(this.buffer=e,this.buffer.type=Un.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new kt(new Float32Array(1)),this.buffer.type=Un.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r!=null?r:!0,!0)},t}(),VM=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=gt.NONE,this.sourceFrame=new Fe,this.destinationFrame=new Fe,this.bindingSourceFrame=new Fe,this.bindingDestinationFrame=new Fe,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),ic=[new tt,new tt,new tt,new tt],mv=new Bt,$M=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new DM,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new HM,this.quadUv=new Yw,this.tempRect=new Fe,this.activeState={},this.globalUniforms=new ro({outputFrame:new Fe,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,s=this.renderer,o=this.defaultFilterStack,a=this.statePool.pop()||new VM,u=this.renderer.renderTexture,c=r[0].resolution,d=r[0].multisample,p=r[0].padding,v=r[0].autoFit,m=(n=r[0].legacy)!==null&&n!==void 0?n:!0,g=1;g<r.length;g++){var b=r[g];c=Math.min(c,b.resolution),d=Math.min(d,b.multisample),p=this.useMaxPadding?Math.max(p,b.padding):p+b.padding,v=v&&b.autoFit,m=m||((i=b.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=u.current),o.push(a),a.resolution=c,a.multisample=d,a.legacy=m,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(p);var y=this.tempRect.copyFrom(u.sourceFrame);s.projection.transform&&this.transformAABB(mv.copyFrom(s.projection.transform).invert(),y),v?(a.sourceFrame.fit(y),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(y)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,u.current?u.current.resolution:s.resolution,u.sourceFrame,u.destinationFrame,s.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,c,d),a.filters=r,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var E=this.tempRect;E.x=0,E.y=0,E.width=a.sourceFrame.width,E.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(u.sourceFrame),a.bindingDestinationFrame.copyFrom(u.destinationFrame),a.transform=s.projection.transform,s.projection.transform=null,u.bind(a.renderTexture,a.sourceFrame,E),s.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){var u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,hn.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var d=r.renderTexture,p=this.getOptimalFilterTexture(d.width,d.height,r.resolution);p.filterFrame=d.filterFrame;var v=0;for(v=0;v<n.length-1;++v){v===1&&r.multisample>1&&(p=this.getOptimalFilterTexture(d.width,d.height,r.resolution),p.filterFrame=d.filterFrame),n[v].apply(this,d,p,hn.CLEAR,r);var m=d;d=p,p=m}n[v].apply(this,d,c.renderTexture,hn.BLEND,r),v>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(p)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=hn.CLEAR);var n=this.renderer,i=n.renderTexture,s=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var a=s.stateId&1||this.forceClear;(r===hn.CLEAR||r===hn.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(qr.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(qr.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,s=n.destinationFrame,o=r._texture.orig,a=e.set(s.width,0,0,s.height,i.x,i.y),u=r.worldTransform.copyTo(Bt.TEMP_MATRIX);return u.invert(),a.prepend(u),a.scale(1/o.width,1/o.height),a.translate(r.anchor.x,r.anchor.y),a},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=gt.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var s=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||gt.NONE);return s.filterFrame=e.filterFrame,s},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=ic[0],i=ic[1],s=ic[2],o=ic[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);var a=Math.min(n.x,i.x,s.x,o.x),u=Math.min(n.y,i.y,s.y,o.y),c=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=u,r.width=c-a,r.height=d-u},t.prototype.roundFrame=function(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){var o=s.a,a=s.b,u=s.c,c=s.d;if((Math.abs(a)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?mv.copyFrom(s):mv.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}},t}(),_d=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),WM=function(){function t(e){this.renderer=e,this.emptyRenderer=new _d(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var s=e.elements,o=e.ids,a=e.count,u=0,c=0;c<a;c++){var d=s[c],p=d._batchLocation;if(p>=0&&p<i&&r[p]===d){o[c]=p;continue}for(;u<i;){var v=r[u];if(v&&v._batchEnabled===n&&v._batchLocation===u){u++;continue}o[c]=u,d._batchLocation=u,r[u]=d;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),jx=0,YM=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=jx++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=jx++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(J.PREFER_ENV>=_i.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),qM=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=gt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),ZM=new Fe,QM=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new ug(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Fe,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;J.PREFER_ENV===_i.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var u=r.width>>n,c=r.height>>n,d=u/r.width;this.setViewport(r.x*d,r.y*d,u,c)}else{var u=e.width>>n,c=e.height>>n;this.setViewport(0,0,u,c)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,s){s===void 0&&(s=Ff.COLOR|Ff.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(s)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new qM(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,s=i.length;r.drawBuffers||(s=Math.min(s,1));for(var o=0;o<s;o++){var a=i[o],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures,o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var a=[],u=0;u<o;u++){var c=s[u],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0),!(u===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,c.target,d._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+u))}if(a.length>1&&n.drawBuffers(a),e.depthTexture){var p=this.writeDepthTexture;if(p){var v=e.depthTexture;this.renderer.texture.bind(v,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,v._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=gt.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=gt.NONE),n},t.prototype.blit=function(e,r,n){var i=this,s=i.current,o=i.renderer,a=i.gl,u=i.CONTEXT_UID;if(o.context.webGLVersion===2&&!!s){var c=s.glFramebuffers[u];if(!!c){if(!e){if(!c.msaaBuffer)return;var d=s.colorTextures[0];if(!d)return;c.blitFramebuffer||(c.blitFramebuffer=new ug(s.width,s.height),c.blitFramebuffer.addColorTexture(0,d)),e=c.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}r||(r=ZM,r.width=s.width,r.height=s.height),n||(n=r);var p=r.width===n.width&&r.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,c.framebuffer),a.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,p?a.NEAREST:a.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!!n){delete e.glFramebuffers[this.CONTEXT_UID];var s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(!!e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Fe},t.prototype.destroy=function(){this.renderer=null},t}(),gv={5126:4,5123:2,5121:1},KM=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;J.PREFER_ENV===_i.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(s){return n.bindVertexArrayOES(s)},e.deleteVertexArray=function(s){return n.deleteVertexArrayOES(s)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(s,o){return i.vertexAttribDivisorANGLE(s,o)},e.drawElementsInstanced=function(s,o,a,u,c){return i.drawElementsInstancedANGLE(s,o,a,u,c)},e.drawArraysInstanced=function(s,o,a,u){return i.drawArraysInstancedANGLE(s,o,a,u)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var s in i)if(!n[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,s=["g",e.id];for(var o in n)i[o]&&s.push(o,i[o].location);return s.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);var u=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID],d=c[u];if(d)return c[a.id]=d,d;var p=e.buffers,v=e.attributes,m={},g={};for(var b in p)m[b]=0,g[b]=0;for(var b in v)!v[b].size&&a.attributeData[b]?v[b].size=a.attributeData[b].size:v[b].size||console.warn("PIXI Geometry attribute '"+b+"' size cannot be determined (likely the bound shader does not have the attribute)"),m[v[b].buffer]+=v[b].size*gv[v[b].type];for(var b in v){var y=v[b],E=y.size;y.stride===void 0&&(m[y.buffer]===E*gv[y.type]?y.stride=0:y.stride=m[y.buffer]),y.start===void 0&&(y.start=g[y.buffer],g[y.buffer]+=E*gv[y.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(var T=0;T<p.length;T++){var S=p[T];o.bind(S),n&&S._glBuffers[s].refCount++}return this.activateVao(e,a),this._activeVao=d,c[a.id]=d,c[u]=d,d},t.prototype.disposeGeometry=function(e,r){var n;if(!!this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=e.buffers,a=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(a)for(var u=0;u<o.length;u++){var c=o[u]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&a.dispose(o[u],r))}if(!r){for(var d in i)if(d[0]==="g"){var p=i[d];this._activeVao===p&&this.unbind(),s.deleteVertexArray(p)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);var u=null;for(var c in a){var d=a[c],p=o[d.buffer],v=p._glBuffers[i];if(r.attributeData[c]){u!==v&&(s.bind(p),u=v);var m=r.attributeData[c].location;if(n.enableVertexAttribArray(m),n.vertexAttribPointer(m,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(m,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var s=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,u=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,u,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,u,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),JM=function(){function t(e){e===void 0&&(e=null),this.type=Rt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=J.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=Rt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function Hx(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Xx(t,e){var r=t.getShaderSource(e).split(`
`).map(function(c,d){return d+": "+c}),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(function(c){return parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(c){return c&&!s[c]?(s[c]=!0,!0):!1}),a=[""];o.forEach(function(c){r[c-1]="%c"+r[c-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var u=r.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function eF(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||Xx(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||Xx(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function yv(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function qw(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return yv(2*e);case"bvec3":return yv(3*e);case"bvec4":return yv(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Zw={},El=Zw;function tF(){if(El===Zw||El&&El.isContextLost()){var t=J.ADAPTER.createCanvas(),e=void 0;J.PREFER_ENV>=_i.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),El=e}return El}var sc;function rF(){if(!sc){sc=Fr.MEDIUM;var t=tF();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);sc=e.precision?Fr.HIGH:Fr.MEDIUM}}return sc}function Vx(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===Fr.HIGH&&r!==Fr.HIGH&&(n=Fr.MEDIUM),"precision "+n+` float;
`+t}else if(r!==Fr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var nF={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Qw(t){return nF[t]}var oc=null,$x={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Kw(t,e){if(!oc){var r=Object.keys($x);oc={};for(var n=0;n<r.length;++n){var i=r[n];oc[t[i]]=$x[i]}}return oc[e]}var ga=[{test:function(t){return t.type==="float"&&t.size===1&&!t.isArray},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t,e){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0)},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],iF={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},sF={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function oF(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var s=e[i];if(!s){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],a=!1,u=0;u<ga.length;u++)if(ga[u].test(s,o)){n.push(ga[u].code(i,o)),a=!0;break}if(!a){var c=s.size===1&&!s.isArray?iF:sF,d=c[s.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+d+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var aF=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function lF(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function uF(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=aF.replace(/%forloop%/gi,lF(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var Tl;function hF(){if(typeof Tl=="boolean")return Tl;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");Tl=t({a:"b"},"a","b")===!0}catch{Tl=!1}return Tl}var cF=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,fF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,dF=0,ac={},Gu=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=dF++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),ac[n]?(ac[n]++,n+="-"+ac[n]):ac[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=Vx(this.vertexSrc,J.PRECISION_VERTEX,Fr.HIGH),this.fragmentSrc=Vx(this.fragmentSrc,J.PRECISION_FRAGMENT,rF())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return fF},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return cF},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,s=kx[i];return s||(kx[i]=s=new t(e,r,n)),s},t}(),os=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof ro?this.uniformGroup=r:this.uniformGroup=new ro(r):this.uniformGroup=new ro({}),this.disposeRunner=new er("disposeShader")}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=Gu.from(e,r);return new t(i,n)},t}(),_v=0,xv=1,bv=2,Ev=3,Tv=4,wv=5,go=function(){function t(){this.data=0,this.blendMode=ue.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<_v)},set:function(e){!!(this.data&1<<_v)!==e&&(this.data^=1<<_v)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<xv)},set:function(e){!!(this.data&1<<xv)!==e&&(this.data^=1<<xv)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<bv)},set:function(e){!!(this.data&1<<bv)!==e&&(this.data^=1<<bv)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<Ev)},set:function(e){!!(this.data&1<<Ev)!==e&&(this.data^=1<<Ev)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<wv)},set:function(e){!!(this.data&1<<wv)!==e&&(this.data^=1<<wv)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<Tv)},set:function(e){!!(this.data&1<<Tv)!==e&&(this.data^=1<<Tv)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==ue.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),pF=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,vF=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,gs=function(t){rt(e,t);function e(r,n,i){var s=this,o=Gu.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return s=t.call(this,o,i)||this,s.padding=0,s.resolution=J.FILTER_RESOLUTION,s.multisample=J.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new go,s}return e.prototype.apply=function(r,n,i,s,o){r.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return vF},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return pF},enumerable:!1,configurable:!0}),e}(os),mF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,gF=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,Wx=new Bt,ny=function(){function t(e,r){this._texture=e,this.mapCoord=new Bt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,s=r.trim;s&&(Wx.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(Wx));var o=r.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(r._frame.x+u+c)/o.width,a[1]=(r._frame.y+u+c)/o.height,a[2]=(r._frame.x+r._frame.width-u+c)/o.width,a[3]=(r._frame.y+r._frame.height-u+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),yF=function(t){rt(e,t);function e(r,n,i){var s=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),s=t.call(this,r||mF,n||gF,i)||this,s.maskSprite=o,s.maskMatrix=new Bt,s}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,s){var o=this._maskSprite,a=o._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new ny(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,r.applyFilter(this,n,i,s))},e}(gs),_F=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new JM;i.pooled=!0,i.maskObject=r,n=i}var s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(s),n._colorMask=s?s._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Rt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Rt.SCISSOR:this.renderer.scissor.push(n);break;case Rt.STENCIL:this.renderer.stencil.push(n);break;case Rt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Rt.COLOR:this.pushColorMask(n);break}n.type===Rt.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Rt.SCISSOR:this.renderer.scissor.pop(r);break;case Rt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Rt.SPRITE:this.popSpriteMask(r);break;case Rt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===Rt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r?r.isSprite?e.type=Rt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Rt.SCISSOR:e.type=Rt.STENCIL:e.type=Rt.COLOR},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,s=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new yF]));var a=this.renderer,u=a.renderTexture,c,d;if(u.current){var p=u.current;c=e.resolution||p.resolution,d=(r=e.multisample)!==null&&r!==void 0?r:p.multisample}else c=e.resolution||a.resolution,d=(n=e.multisample)!==null&&n!==void 0?n:a.multisample;o[0].resolution=c,o[0].multisample=d,o[0].maskSprite=i;var v=s.filterArea;s.filterArea=i.getBounds(!0),a.filter.push(s,o),s.filterArea=v,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(e){var r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.popColorMask=function(e){var r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.destroy=function(){this.renderer=null},t}(),Jw=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),Yx=new Bt,qx=[],xF=function(t){rt(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=J.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){var n;if(!r._scissorRectLocal){var i=r._scissorRect,s=r.maskObject,o=this.renderer,a=o.renderTexture,u=s.getBounds(!0,(n=qx.pop())!==null&&n!==void 0?n:new Fe);this.roundFrameToPixels(u,a.current?a.current.resolution:o.resolution,a.sourceFrame,a.destinationFrame,o.projection.transform),i&&u.fit(i),r._scissorRectLocal=u}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,s=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,s,o){e.isMatrixRotated(o)||(o=o?Yx.copyFrom(o):Yx.identity(),o.translate(-i.x,-i.y).scale(s.width/i.width,s.height/i.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,r),r.fit(s),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;r&&qx.push(r._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(Jw),bF=function(t){rt(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=J.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,s=r._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++;var o=r._colorMask;o!==0&&(r._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,s,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,o!==0&&(r._colorMask=o,i.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=i?i._colorMask:15;s!==0&&(i._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(i._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(Jw),EF=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Bt,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),Rs=new Fe,wl=new Fe,TF=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Fe,this.destinationFrame=new Fe,this.viewportFrame=new Fe}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Rs.width=e.frame.width,Rs.height=e.frame.height,r=Rs),n||(wl.x=e.frame.x,wl.y=e.frame.y,wl.width=r.width,wl.height=r.height,n=wl),o=s.framebuffer):(a=i.resolution,r||(Rs.width=i.screen.width,Rs.height=i.screen.height,r=Rs),n||(n=Rs,n.width=r.width,n.height=r.height));var u=this.viewportFrame;u.x=n.x*a,u.y=n.y*a,u.width=n.width*a,u.height=n.height*a,e||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,s=n.width!==i.width||n.height!==i.height;if(s){var o=this.viewportFrame,a=o.x,u=o.y,c=o.width,d=o.height;a=Math.round(a),u=Math.round(u),c=Math.round(c),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,u,c,d)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),s&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function wF(t,e,r,n,i){r.buffer.update(i)}var SF={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},eS={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function AF(t){for(var e=t.map(function(u){return{data:u,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,s=0;s<e.length;s++){var o=e[s];if(r=eS[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function CF(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,s){return i.index-s.index}),r}function RF(t,e){if(!t.autoManage)return{size:0,syncFunc:wF};for(var r=CF(t.uniforms,e),n=AF(r),i=n.uboElements,s=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],a=0;a<i.length;a++){for(var u=i[a],c=t.uniforms[u.data.name],d=u.data.name,p=!1,v=0;v<ga.length;v++){var m=ga[v];if(m.codeUbo&&m.test(u.data,c)){o.push("offset = "+u.offset/4+";",ga[v].codeUbo(u.data.name,c)),p=!0;break}}if(!p)if(u.data.size>1){var g=Qw(u.data.type),b=Math.max(eS[u.data.type]/16,1),y=g/b,E=(4-y%4)%4;o.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+u.offset/4+`;

                t = 0;

                for(var i=0; i < `+u.data.size*b+`; i++)
                {
                    for(var j = 0; j < `+y+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+E+`;
                }

                `)}else{var T=SF[u.data.type];o.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+u.offset/4+`;
                `+T+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var IF=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function PF(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var s=e.getActiveAttrib(t,i);if(s.name.indexOf("gl_")!==0){var o=Kw(e,s.type),a={type:o,name:s.name,size:Qw(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}}return r}function OF(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=Kw(e,s.type);r[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:qw(u,s.size)}}return r}function NF(t,e){var r=Hx(t,t.VERTEX_SHADER,e.vertexSrc),n=Hx(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||eF(t,i,r,n),e.attributeData=PF(i,t),e.uniformData=OF(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var s=Object.keys(e.attributeData);s.sort(function(d,p){return d>p?1:-1});for(var o=0;o<s.length;o++)e.attributeData[s[o]].location=o,t.bindAttribLocation(i,o,s[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var a={};for(var o in e.uniformData){var u=e.uniformData[o];a[o]={location:t.getUniformLocation(i,o),value:qw(u.type,u.size)}}var c=new IF(i,a);return c}var MF=0,lc={textureCount:0,uboCount:0},FF=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=MF++}return t.prototype.systemCheck=function(){if(!hF())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(lc.textureCount=0,lc.uboCount=0,this.syncUniformGroup(e.uniformGroup,lc)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=oF(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,lc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),a=this._uboCache[o];if(a||(a=this._uboCache[o]=RF(e,this.shader.program.uniformData)),e.autoManage){var u=new Float32Array(a.size/4);e.buffer.update(u)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,s=[n+"-"];for(var o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=NF(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.disposeShader=function(e){this.shader===e&&(this.shader=null)},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function LF(t,e){return e===void 0&&(e=[]),e[ue.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.ADD]=[t.ONE,t.ONE],e[ue.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.NONE]=[0,0],e[ue.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ue.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ue.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ue.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ue.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ue.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ue.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ue.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ue.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ue.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ue.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var kF=0,DF=1,BF=2,UF=3,GF=4,zF=5,jF=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ue.NONE,this._blendEq=!1,this.map=[],this.map[kF]=this.setBlend,this.map[DF]=this.setOffset,this.map[BF]=this.setCullFace,this.map[UF]=this.setDepthTest,this.map[GF]=this.setFrontFace,this.map[zF]=this.setDepthMask,this.checks=[],this.defaultState=new go,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=LF(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),HF=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=J.GC_MAX_IDLE,this.checkCountMax=J.GC_MAX_CHECK_COUNT,this.mode=J.GC_MODE}return t.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==kf.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var s=r[i];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function XF(t){var e,r,n,i,s,o,a,u,c,d,p,v,m,g,b,y,E,T,S,A,R,I,P;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?P=(e={},e[fe.UNSIGNED_BYTE]=(r={},r[Z.RGBA]=t.RGBA8,r[Z.RGB]=t.RGB8,r[Z.RG]=t.RG8,r[Z.RED]=t.R8,r[Z.RGBA_INTEGER]=t.RGBA8UI,r[Z.RGB_INTEGER]=t.RGB8UI,r[Z.RG_INTEGER]=t.RG8UI,r[Z.RED_INTEGER]=t.R8UI,r[Z.ALPHA]=t.ALPHA,r[Z.LUMINANCE]=t.LUMINANCE,r[Z.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[fe.BYTE]=(n={},n[Z.RGBA]=t.RGBA8_SNORM,n[Z.RGB]=t.RGB8_SNORM,n[Z.RG]=t.RG8_SNORM,n[Z.RED]=t.R8_SNORM,n[Z.RGBA_INTEGER]=t.RGBA8I,n[Z.RGB_INTEGER]=t.RGB8I,n[Z.RG_INTEGER]=t.RG8I,n[Z.RED_INTEGER]=t.R8I,n),e[fe.UNSIGNED_SHORT]=(i={},i[Z.RGBA_INTEGER]=t.RGBA16UI,i[Z.RGB_INTEGER]=t.RGB16UI,i[Z.RG_INTEGER]=t.RG16UI,i[Z.RED_INTEGER]=t.R16UI,i[Z.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[fe.SHORT]=(s={},s[Z.RGBA_INTEGER]=t.RGBA16I,s[Z.RGB_INTEGER]=t.RGB16I,s[Z.RG_INTEGER]=t.RG16I,s[Z.RED_INTEGER]=t.R16I,s),e[fe.UNSIGNED_INT]=(o={},o[Z.RGBA_INTEGER]=t.RGBA32UI,o[Z.RGB_INTEGER]=t.RGB32UI,o[Z.RG_INTEGER]=t.RG32UI,o[Z.RED_INTEGER]=t.R32UI,o[Z.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[fe.INT]=(a={},a[Z.RGBA_INTEGER]=t.RGBA32I,a[Z.RGB_INTEGER]=t.RGB32I,a[Z.RG_INTEGER]=t.RG32I,a[Z.RED_INTEGER]=t.R32I,a),e[fe.FLOAT]=(u={},u[Z.RGBA]=t.RGBA32F,u[Z.RGB]=t.RGB32F,u[Z.RG]=t.RG32F,u[Z.RED]=t.R32F,u[Z.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,u),e[fe.HALF_FLOAT]=(c={},c[Z.RGBA]=t.RGBA16F,c[Z.RGB]=t.RGB16F,c[Z.RG]=t.RG16F,c[Z.RED]=t.R16F,c),e[fe.UNSIGNED_SHORT_5_6_5]=(d={},d[Z.RGB]=t.RGB565,d),e[fe.UNSIGNED_SHORT_4_4_4_4]=(p={},p[Z.RGBA]=t.RGBA4,p),e[fe.UNSIGNED_SHORT_5_5_5_1]=(v={},v[Z.RGBA]=t.RGB5_A1,v),e[fe.UNSIGNED_INT_2_10_10_10_REV]=(m={},m[Z.RGBA]=t.RGB10_A2,m[Z.RGBA_INTEGER]=t.RGB10_A2UI,m),e[fe.UNSIGNED_INT_10F_11F_11F_REV]=(g={},g[Z.RGB]=t.R11F_G11F_B10F,g),e[fe.UNSIGNED_INT_5_9_9_9_REV]=(b={},b[Z.RGB]=t.RGB9_E5,b),e[fe.UNSIGNED_INT_24_8]=(y={},y[Z.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,y),e[fe.FLOAT_32_UNSIGNED_INT_24_8_REV]=(E={},E[Z.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,E),e):P=(T={},T[fe.UNSIGNED_BYTE]=(S={},S[Z.RGBA]=t.RGBA,S[Z.RGB]=t.RGB,S[Z.ALPHA]=t.ALPHA,S[Z.LUMINANCE]=t.LUMINANCE,S[Z.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,S),T[fe.UNSIGNED_SHORT_5_6_5]=(A={},A[Z.RGB]=t.RGB,A),T[fe.UNSIGNED_SHORT_4_4_4_4]=(R={},R[Z.RGBA]=t.RGBA,R),T[fe.UNSIGNED_SHORT_5_5_5_1]=(I={},I[Z.RGBA]=t.RGBA,I),T),P}var Sv=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=fe.UNSIGNED_BYTE,this.internalFormat=Z.RGBA,this.samplerType=0}return t}(),VF=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Me,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=XF(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new Sv(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Sv(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<i.length;s++)i[s]===this.unknownTexture&&this.bind(null,s)}for(var s=0;s<i.length;s++)i[s]===e&&(this.currentLocation!==s&&(n.activeTexture(n.TEXTURE0+s),this.currentLocation=s),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[s]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,s=r.CONTEXT_UID;if(!!i)for(var o=e-1;o>=0;--o){var a=n[o];if(a){var u=a._glTextures[s];u.samplerType!==Lf.FLOAT&&this.renderer.texture.unbind(a)}}},t.prototype.initTexture=function(e){var r=new Sv(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===fe.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(!!r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==Lf.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,s=e.realHeight,o=n.gl;(r.width!==i||r.height!==s||r.dirtyId<0)&&(r.width=i,r.height=s,o.texImage2D(e.target,0,r.internalFormat,i,s,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&ma(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];!r||((e.mipmap===mn.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Bn.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==mn.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===On.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===On.LINEAR){var s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===On.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===On.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),Av=new Bt,$F=function(t){rt(e,t);function e(r,n){r===void 0&&(r=yu.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},J.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new Fe(0,0,n.width,n.height),i.view=n.view||J.ADAPTER.createCanvas(),i.resolution=n.resolution||J.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(pn("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,s=this.view.height/this.resolution;this.screen.width=i,this.screen.height=s,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=s+"px"),this.emit("resize",i,s)},e.prototype.generateTexture=function(r,n,i,s){n===void 0&&(n={}),typeof n=="number"&&(pn("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:s});var o=n.region,a=RM(n,["region"]);s=o||r.getLocalBounds(null,!0),s.width===0&&(s.width=1),s.height===0&&(s.height=1);var u=ho.create(lg({width:s.width,height:s.height},a));return Av.tx=-s.x,Av.ty=-s.y,this.render(r,{renderTexture:u,clear:!1,transform:Av,skipUpdateTransform:!!r.parent}),u},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=yu.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=Fw(r),Sa(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(Du),WF=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),YF=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,s=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,s.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,s=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,s=i.gl,o=i.CONTEXT_UID;n=n||0;var a=e._glBuffers[o]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,r||0,a.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,s=e._glBuffers[i];if(e._updateID!==s.updateID)if(s.updateID=e._updateID,n.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(!!this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new WF(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),tS=function(t){rt(e,t);function e(r){var n=t.call(this,yu.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new er("destroy"),contextChange:new er("contextChange"),reset:new er("reset"),update:new er("update"),postrender:new er("postrender"),prerender:new er("prerender"),resize:new er("resize")},n.runners.contextChange.add(n),n.globalUniforms=new ro({projectionMatrix:new Bt},!0),n.addSystem(_F,"mask").addSystem(YM,"context").addSystem(jF,"state").addSystem(FF,"shader").addSystem(VF,"texture").addSystem(YF,"buffer").addSystem(KM,"geometry").addSystem(QM,"framebuffer").addSystem(xF,"scissor").addSystem(bF,"stencil").addSystem(EF,"projection").addSystem(HF,"textureGC").addSystem($M,"filter").addSystem(TF,"renderTexture").addSystem(WM,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,S2(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(A2())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=gt.HIGH?this.multisample=gt.HIGH:n>=gt.MEDIUM?this.multisample=gt.MEDIUM:n>=gt.LOW?this.multisample=gt.LOW:this.multisample=gt.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var s in this.runners)this.runners[s].add(i);return this},e.prototype.render=function(r,n){var i,s,o,a;if(n&&(n instanceof ho?(pn("6.0.0","Renderer#render arguments changed, use options instead."),i=n,s=arguments[2],o=arguments[3],a=arguments[4]):(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!a){var u=r.enableTempParent();r.updateTransform(),r.disableTempParent(u)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(s!==void 0?s:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,s){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,s);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return pn("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){pn("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),Ei.add({name:r,type:Ze.RendererPlugin,ref:n})},e.__plugins={},e}($F);Ei.handleByMap(Ze.RendererPlugin,tS.__plugins);function qF(t){return tS.create(t)}var ZF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,QF=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,KF=ZF,rS=QF,hg=function(){function t(){this.texArray=null,this.blend=0,this.type=qr.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),cg=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),fg=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),JF=function(t){rt(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=go.for2d(),n.size=J.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;J.PREFER_ENV===_i.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),J.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=uF(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,s=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new hg);for(;n.length<s;)n.push(new cg);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){!r._texture.valid||(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,s=e._textureArrayPool,o=this.renderer.batch,a=this._tempBoundTextures,u=this.renderer.textureGC.count,c=++Me._globalBatch,d=0,p=s[0],v=0;o.copyBoundTextures(a,i);for(var m=0;m<this._bufferSize;++m){var g=n[m];n[m]=null,g._batchEnabled!==c&&(p.count>=i&&(o.boundArray(p,a,c,i),this.buildDrawCalls(p,v,m),v=m,p=s[++d],++c),g._batchEnabled=c,g.touched=u,p.elements[p.count++]=g)}p.count>0&&(o.boundArray(p,a,c,i),this.buildDrawCalls(p,v,this._bufferSize),++d,++c);for(var m=0;m<a.length;m++)a[m]=null;Me._globalBatch=c},e.prototype.buildDrawCalls=function(r,n,i){var s=this,o=s._bufferedElements,a=s._attributeBuffer,u=s._indexBuffer,c=s.vertexSize,d=e._drawCallPool,p=this._dcIndex,v=this._aIndex,m=this._iIndex,g=d[p];g.start=this._iIndex,g.texArray=r;for(var b=n;b<i;++b){var y=o[b],E=y._texture.baseTexture,T=kw[E.alphaMode?1:0][y.blendMode];o[b]=null,n<b&&g.blend!==T&&(g.size=m-g.start,n=b,g=d[++p],g.texArray=r,g.start=m),this.packInterleavedGeometry(y,a,u,v,m),v+=y.vertexData.length/2*c,m+=y.indices.length,g.blend=T}n<i&&(g.size=m-g.start,++p),this._dcIndex=p,this._aIndex=v,this._iIndex=m},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,s=r._indexBuffer;J.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,s=n.state,o=e._drawCallPool,a=null,u=0;u<r;u++){var c=o[u],d=c.texArray,p=c.type,v=c.size,m=c.start,g=c.blend;a!==d&&(a=d,this.bindAndClearTexArray(d)),this.state.blendMode=g,s.set(this.state),i.drawElements(p,v,i.UNSIGNED_SHORT,m*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),J.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=Df(Math.ceil(r/8)),i=Fx(n),s=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new fg(s*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=Df(Math.ceil(r/12)),i=Fx(n),s=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(s)),o},e.prototype.packInterleavedGeometry=function(r,n,i,s,o){for(var a=n.uint32View,u=n.float32View,c=s/this.vertexSize,d=r.uvs,p=r.indices,v=r.vertexData,m=r._texture.baseTexture._batchLocation,g=Math.min(r.worldAlpha,1),b=g<1&&r._texture.baseTexture.alphaMode?ty(r._tintRGB,g):r._tintRGB+(g*255<<24),y=0;y<v.length;y+=2)u[s++]=v[y],u[s++]=v[y+1],u[s++]=d[y],u[s++]=d[y+1],a[s++]=b,u[s++]=m;for(var y=0;y<p.length;y++)i[o++]=c+p[y]},e._drawCallPool=[],e._textureArrayPool=[],e}(_d),eL=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=ro.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Gu(this.vertexSrc,i)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new Bt,default:this.defaultGroupCache[e]};return new os(this.programCache[e],s)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),nS=function(t){rt(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new kt(null,r,!1),n._indexBuffer=new kt(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,fe.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,fe.FLOAT).addAttribute("aColor",n._buffer,4,!0,fe.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,fe.FLOAT).addIndex(n._indexBuffer),n}return e}(Uu),Zx=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,Qx=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,tL=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:Zx,fragment:Qx,geometryClass:nS,vertexSize:6},e),n=r.vertex,i=r.fragment,s=r.vertexSize,o=r.geometryClass;return function(a){rt(u,a);function u(c){var d=a.call(this,c)||this;return d.shaderGenerator=new eL(n,i),d.geometryClass=o,d.vertexSize=s,d}return u}(JF)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Zx},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return Qx},enumerable:!1,configurable:!0}),t}(),iS=tL.create();Object.assign(iS,{extension:{name:"batch",type:Ze.RendererPlugin}});/*!
 * @pixi/accessibility - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var rL={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};Et.mixin(rL);var nL=9,uc=100,iL=0,sL=0,Kx=2,Jx=1,oL=-1e3,aL=-1e3,lL=2,uL=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Nn.tablet||Nn.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=uc+"px",r.style.height=uc+"px",r.style.position="absolute",r.style.top=iL+"px",r.style.left=sL+"px",r.style.zIndex=Kx.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=Jx+"px",r.style.height=Jx+"px",r.style.position="absolute",r.style.top=oL+"px",r.style.left=aL+"px",r.style.zIndex=lL.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(Nn.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,s=r.width,o=r.height,a=this.renderer,u=a.width,c=a.height,d=a.resolution,p=s/u*d,v=o/c*d,m=this.div;m.style.left=n+"px",m.style.top=i+"px",m.style.width=u+"px",m.style.height=c+"px";for(var g=0;g<this.children.length;g++){var b=this.children[g];if(b.renderId!==this.renderId)b._accessibleActive=!1,ma(this.children,g,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,g--;else{m=b._accessibleDiv;var y=b.hitArea,E=b.worldTransform;b.hitArea?(m.style.left=(E.tx+y.x*E.a)*p+"px",m.style.top=(E.ty+y.y*E.d)*v+"px",m.style.width=y.width*E.a*p+"px",m.style.height=y.height*E.d*v+"px"):(y=b.getBounds(),this.capHitArea(y),m.style.left=y.x*p+"px",m.style.top=y.y*v+"px",m.style.width=y.width*p+"px",m.style.height=y.height*v+"px",m.title!==b.accessibleTitle&&b.accessibleTitle!==null&&(m.title=b.accessibleTitle),m.getAttribute("aria-label")!==b.accessibleHint&&b.accessibleHint!==null&&m.setAttribute("aria-label",b.accessibleHint)),(b.accessibleTitle!==m.title||b.tabIndex!==m.tabIndex)&&(m.title=b.accessibleTitle,m.tabIndex=b.tabIndex,this.debug&&this.updateDebugHTML(m))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=uc+"px",r.style.height=uc+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=Kx.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===nL&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t.extension={name:"accessibility",type:[Ze.RendererPlugin,Ze.CanvasRendererPlugin]},t}();/*!
 * @pixi/interaction - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var eb=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new tt,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dg=function(t,e){return dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dg(t,e)};function hL(t,e){dg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var cL=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),Cv=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),t}(),fL=function(){function t(){this._tempPoint=new tt}return t.prototype.recursiveFindHit=function(e,r,n,i,s){var o;if(!r||!r.visible)return!1;var a=e.data.global;s=r.interactive||s;var u=!1,c=s,d=!0;if(r.hitArea)i&&(r.worldTransform.applyInverse(a,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?u=!0:(i=!1,d=!1)),c=!1;else if(r._mask&&i){var p=r._mask.isMaskData?r._mask.maskObject:r._mask;p&&!(!((o=p.containsPoint)===null||o===void 0)&&o.call(p,a))&&(i=!1)}if(d&&r.interactiveChildren&&r.children)for(var v=r.children,m=v.length-1;m>=0;m--){var g=v[m],b=this.recursiveFindHit(e,g,n,i,c);if(b){if(!g.parent)continue;c=!1,b&&(e.target&&(i=!1),u=!0)}}return s&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(a)&&(u=!0),r.interactive&&(u&&!e.target&&(e.target=r),n&&n(e,r,!!u))),u},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),dL={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};Et.mixin(dL);var hc=1,cc={target:null,data:{global:null}},pL=function(t){hL(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new eb,i.mouse.identifier=hc,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[hc]=i.mouse,i.interactionDataPool=[],i.eventData=new cL,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new fL,i._tempDisplayObject=new jw,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return cc.target=null,cc.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(cc,n,null,!0),cc.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Ht.system.add(this.tickerUpdate,this,xi.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){!this.tickerAdded||(Ht.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var s;this.interactionDOMElement.parentElement?s=this.interactionDOMElement.getBoundingClientRect():s={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-s.left)*(this.interactionDOMElement.width/s.width)*o,r.y=(i-s.top)*(this.interactionDOMElement.height/s.height)*o},e.prototype.processInteractive=function(r,n,i,s){var o=this.search.findHit(r,n,i,s),a=this.delayedEvents;if(!a.length)return o;r.stopPropagationHint=!1;var u=a.length;this.delayedEvents=[];for(var c=0;c<u;c++){var d=a[c],p=d.displayObject,v=d.eventString,m=d.eventData;m.stopsPropagatingAt===p&&(m.stopPropagationHint=!0),this.dispatchEvent(p,v,m)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var s=n.length,o=0;o<s;o++){var a=n[o],u=this.getInteractionDataForPointerId(a),c=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(c.data.originalEvent=r,this.processInteractive(c,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",c),a.pointerType==="touch")this.emit("touchstart",c);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var d=a.button===2;this.emit(d?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var s=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new Cv(o)),this.dispatchEvent(n,"pointerdown",r),s.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var a=s.button===2;a?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,a?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){var s=this.normalizeToPointerData(r),o=s.length,a=r.target;r.composedPath&&r.composedPath().length>0&&(a=r.composedPath()[0]);for(var u=a!==this.interactionDOMElement?"outside":"",c=0;c<o;c++){var d=s[c],p=this.getInteractionDataForPointerId(d),v=this.configureInteractionEventForDOMEvent(this.eventData,d,p);if(v.data.originalEvent=r,this.processInteractive(v,this.lastObjectRendered,i,n||!u),this.emit(n?"pointercancel":"pointerup"+u,v),d.pointerType==="mouse"||d.pointerType==="pen"){var m=d.button===2;this.emit(m?"rightup"+u:"mouseup"+u,v)}else d.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+u,v),this.releaseInteractionDataForPointerId(d.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,s=r.data.identifier;n.trackedPointers[s]!==void 0&&(delete n.trackedPointers[s],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var s=r.data,o=r.data.identifier,a=n.trackedPointers[o],u=s.pointerType==="touch",c=s.pointerType==="mouse"||s.pointerType==="pen",d=!1;if(c){var p=s.button===2,v=Cv.FLAGS,m=p?v.RIGHT_DOWN:v.LEFT_DOWN,g=a!==void 0&&a.flags&m;i?(this.dispatchEvent(n,p?"rightup":"mouseup",r),g&&(this.dispatchEvent(n,p?"rightclick":"click",r),d=!0)):g&&this.dispatchEvent(n,p?"rightupoutside":"mouseupoutside",r),a&&(p?a.rightDown=!1:a.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),u&&this.dispatchEvent(n,"touchend",r),a&&((!c||d)&&this.dispatchEvent(n,"pointertap",r),u&&(this.dispatchEvent(n,"tap",r),a.over=!1))):a&&(this.dispatchEvent(n,"pointerupoutside",r),u&&this.dispatchEvent(n,"touchendoutside",r)),a&&a.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,s=0;s<i;s++){var o=n[s],a=this.getInteractionDataForPointerId(o),u=this.configureInteractionEventForDOMEvent(this.eventData,o,a);u.data.originalEvent=r,this.processInteractive(u,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",u),o.pointerType==="touch"&&this.emit("touchmove",u),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",u)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var s=r.data,o=s.pointerType==="touch",a=s.pointerType==="mouse"||s.pointerType==="pen";a&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),a&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,s);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(s.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var s=r.data,o=r.data.identifier,a=s.pointerType==="mouse"||s.pointerType==="pen",u=n.trackedPointers[o];i&&!u&&(u=n.trackedPointers[o]=new Cv(o)),u!==void 0&&(i&&this.mouseOverRenderer?(u.over||(u.over=!0,this.delayDispatchEvent(n,"pointerover",r),a&&this.delayDispatchEvent(n,"mouseover",r)),a&&this.cursor===null&&(this.cursor=n.cursor)):u.over&&(u.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),a&&this.dispatchEvent(n,"mouseout",r),u.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0],s=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,s);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)}},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===hc||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new eb,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,s=r.changedTouches.length;i<s;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var a=r;typeof a.isPrimary>"u"&&(a.isPrimary=!0),typeof a.width>"u"&&(a.width=1),typeof a.height>"u"&&(a.height=1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="mouse"),typeof a.pointerId>"u"&&(a.pointerId=hc),typeof a.pressure>"u"&&(a.pressure=.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),a.isNormalized=!0,n.push(a)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e.extension={name:"interaction",type:[Ze.RendererPlugin,Ze.CanvasRendererPlugin]},e}(Du);/*!
 * @pixi/extract - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var tb=new Fe,rb=4,vL=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e,r){var n=this.renderer,i,s=!1,o,a=!1;e&&(e instanceof ho?o=e:(o=this.renderer.generateTexture(e),a=!0)),o?(i=o.baseTexture.resolution,r=r!=null?r:o.frame,s=!1,n.renderTexture.bind(o)):(i=n.resolution,r||(r=tb,r.width=n.width,r.height=n.height),s=!0,n.renderTexture.bind(null));var u=Math.round(r.width*i),c=Math.round(r.height*i),d=new Dx(u,c,1),p=new Uint8Array(rb*u*c),v=n.gl;v.readPixels(Math.round(r.x*i),Math.round(r.y*i),u,c,v.RGBA,v.UNSIGNED_BYTE,p);var m=d.context.getImageData(0,0,u,c);if(t.arrayPostDivide(p,m.data),d.context.putImageData(m,0,0),s){var g=new Dx(d.width,d.height,1);g.context.scale(1,-1),g.context.drawImage(d.canvas,0,-c),d.destroy(),d=g}return a&&o.destroy(!0),d.canvas},t.prototype.pixels=function(e,r){var n=this.renderer,i,s,o=!1;e&&(e instanceof ho?s=e:(s=this.renderer.generateTexture(e),o=!0)),s?(i=s.baseTexture.resolution,r=r!=null?r:s.frame,n.renderTexture.bind(s)):(i=n.resolution,r||(r=tb,r.width=n.width,r.height=n.height),n.renderTexture.bind(null));var a=Math.round(r.width*i),u=Math.round(r.height*i),c=new Uint8Array(rb*a*u),d=n.gl;return d.readPixels(Math.round(r.x*i),Math.round(r.y*i),a,u,d.RGBA,d.UNSIGNED_BYTE,c),o&&s.destroy(!0),t.arrayPostDivide(c,c),c},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t.extension={name:"extract",type:Ze.RendererPlugin},t}();/*!
 * @pixi/loaders - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var fc=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function nb(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var ui=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof fc))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return nb(this,new fc(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return nb(this,new fc(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof fc))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function sS(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},s=14;s--;)i[r.key[s]]=n[s]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,a,u){a&&(i[r.q.name][a]=u)}),i}var Rv,dc=null,mL=0,ib=200,gL=204,yL=1223,_L=2;function sb(){}function ob(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function Iv(t){return t.toString().replace("object ","")}var _t=function(){function t(e,r,n){if(this._dequeue=sb,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=sb,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new ui,this.onProgress=new ui,this.onComplete=new ui,this.onAfterMiddleware=new ui}return t.setExtensionLoadType=function(e,r){ob(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){ob(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof Rv>"u"&&(Rv=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),Rv&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(Iv(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(Iv(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(Iv(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?ib:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===mL&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=ib:n===yL&&(n=gL);var i=n/100|0;if(i===_L)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(a){this.abort("Error trying to parse loaded json: "+a);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var s=new DOMParser;this.data=s.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(a){this.abort("Error trying to parse loaded xml: "+a);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,dc||(dc=document.createElement("a")),dc.href=e;var n=sS(dc.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,s=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||s!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),s=e.indexOf("#"),o=Math.min(i>-1?i:e.length,s>-1?s:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,avif:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,avif:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(_t||(_t={}));function Is(){}function xL(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var s=t;t=null,s.apply(this,n)}}var bL=function(){function t(e,r){this.data=e,this.callback=r}return t}(),Pv=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=Is,this.unsaturated=Is,this.empty=Is,this.drain=Is,this.error=Is,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,s,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var a=new bL(i,typeof o=="function"?o:Is);s?n._tasks.unshift(a):n._tasks.push(a),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,xL(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],s=0;s<arguments.length;s++)i[s]=n[s];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=Is,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var s=0,o=e.length;function a(u){if(u||s===o){n&&n(u);return}i?setTimeout(function(){r(e[s++],a)},1):r(e[s++],a)}a()},t.queue=function(e,r){return new t(e,r)},t}(),Ov=100,EL=/(#[\w-]+)?$/,zf=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,c){return n._loadResource(u,c)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,c){return n._loadResource(u,c)},this._queue=Pv.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new ui,this.onError=new ui,this.onLoad=new ui,this.onStart=new ui,this.onComplete=new ui;for(var i=0;i<t._plugins.length;++i){var s=t._plugins[i],o=s.pre,a=s.use;o&&this.pre(o),a&&this.use(a)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new _t(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var s=n.parentResource,o=[],a=0;a<s.children.length;++a)s.children[a].isComplete||o.push(s.children[a]);var u=s.progressChunk*(o.length+1),c=u/(o.length+2);s.children.push(this.resources[e]),s.progressChunk=c;for(var a=0;a<o.length;++a)o[a].progressChunk=c;this.resources[e].progressChunk=c}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(pn("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=Ov/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=sS(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=EL.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,Pv.eachSeries(this._beforeMiddleware,function(i,s){i.call(n,e,function(){s(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=Ov,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),Pv.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(Ov,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return pn("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),Ei.add({type:Ze.Loader,ref:e}),t},t._plugins=[],t}();Ei.handleByList(Ze.Loader,zf._plugins);zf.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var s=0;s<e.length;++s)this.add(e[s]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var TL=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?zf.shared:new zf},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.extension=Ze.Application,t}(),wL=function(){function t(){}return t.add=function(){_t.setExtensionLoadType("svg",_t.LOAD_TYPE.XHR),_t.setExtensionXhrType("svg",_t.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===_t.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,s=e.name,o=e.metadata;de.fromLoader(n,i,s,o).then(function(a){e.texture=a,r()}).catch(r)}else r()},t.extension=Ze.Loader,t}(),SL="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function AL(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=t.charCodeAt(r++)&255:n[s]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var s=0;s<i.length;++s)e+=SL.charAt(i[s])}return e}function CL(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===_t.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+AL(t.xhr.responseText),t.type=_t.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=_t.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}var RL=function(){function t(){}return t.extension=Ze.Loader,t.use=CL,t}();Ei.add(wL,RL);/*!
 * @pixi/compressed-textures - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Xe,we;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(we||(we={}));var jf=(Xe={},Xe[we.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,Xe[we.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,Xe[we.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,Xe[we.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,Xe[we.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,Xe[we.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,Xe[we.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,Xe[we.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,Xe[we.COMPRESSED_R11_EAC]=.5,Xe[we.COMPRESSED_SIGNED_R11_EAC]=.5,Xe[we.COMPRESSED_RG11_EAC]=1,Xe[we.COMPRESSED_SIGNED_RG11_EAC]=1,Xe[we.COMPRESSED_RGB8_ETC2]=.5,Xe[we.COMPRESSED_RGBA8_ETC2_EAC]=1,Xe[we.COMPRESSED_SRGB8_ETC2]=.5,Xe[we.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,Xe[we.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Xe[we.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,Xe[we.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,Xe[we.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,Xe[we.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,Xe[we.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,Xe[we.COMPRESSED_RGB_ETC1_WEBGL]=.5,Xe[we.COMPRESSED_RGB_ATC_WEBGL]=.5,Xe[we.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,Xe[we.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,Xe[we.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,Xe);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pg=function(t,e){return pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pg(t,e)};function oS(t,e){pg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function IL(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{c(n.next(d))}catch(p){o(p)}}function u(d){try{c(n.throw(d))}catch(p){o(p)}}function c(d){d.done?s(d.value):i(d.value).then(a,u)}c((n=n.apply(t,e||[])).next())})}function PL(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(d){return u([c,d])}}function u(c){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,i=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){r=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){r.label=c[1];break}if(c[0]===6&&r.label<s[1]){r.label=s[1],s=c;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(c);break}s[2]&&r.ops.pop(),r.trys.pop();continue}c=e.call(t,r)}catch(d){c=[6,d],i=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var OL=function(t){oS(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,s,o;return typeof r=="string"?(s=r,o=new Uint8Array):(s=null,o=r),i=t.call(this,o,n)||this,i.origin=s,i.buffer=o?new fg(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return IL(this,void 0,Promise,function(){var r,n,i;return PL(this,function(s){switch(s.label){case 0:return[4,fetch(this.origin)];case 1:return r=s.sent(),[4,r.blob()];case 2:return n=s.sent(),[4,n.arrayBuffer()];case 3:return i=s.sent(),this.data=new Uint32Array(i),this.buffer=new fg(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(Bu),vg=function(t){oS(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var s=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var a=0,u=this.levels;a<u;a++){var c=this._levelBuffers[a],d=c.levelID,p=c.levelWidth,v=c.levelHeight,m=c.levelBuffer;s.compressedTexImage2D(s.TEXTURE_2D,d,this.format,p,v,0,m)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,s,o,a,u){for(var c=new Array(i),d=r.byteOffset,p=a,v=u,m=p+s-1&~(s-1),g=v+o-1&~(o-1),b=m*g*jf[n],y=0;y<i;y++)c[y]={levelID:y,levelWidth:i>1?p:m,levelHeight:i>1?v:g,levelBuffer:new Uint8Array(r.buffer,d,b)},d+=b,p=p>>1||1,v=v>>1||1,m=p+s-1&~(s-1),g=v+o-1&~(o-1),b=m*g*jf[n];return c},e}(OL),NL=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===_t.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var s=n.textures,o=void 0,a=void 0,u=0,c=s.length;u<c;u++){var d=s[u],p=d.src,v=d.format;if(v||(a=p),t.textureFormats[v]){o=p;break}}if(o=o||a,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var m={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},g=ea.resolve(e.url.replace(i.baseUrl,""),o),b=n.cacheID;i.add(b,g,m,function(y){if(y.error){r(y.error);return}var E=y.texture,T=E===void 0?null:E,S=y.textures,A=S===void 0?{}:S;Object.assign(e,{texture:T,textures:A}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=J.ADAPTER.createCanvas(),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];!n||Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t.extension=Ze.Loader,t}();function aS(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(s){return new de(new Me(s,Object.assign({mipmap:mn.OFF,alphaMode:gn.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(s,o){var a=s.baseTexture,u=t+"-"+(o+1);Me.addToCache(a,u),de.addToCache(s,u),o===0&&(Me.addToCache(a,t),de.addToCache(s,t),n.texture=s),n.textures[u]=s}),n}var Sl,on,Nv=4,pc=124,ML=32,ab=20,FL=542327876,vc={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},LL={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},mc={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},ln;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(ln||(ln={}));var mg;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(mg||(mg={}));var kL=1,DL=2,BL=4,UL=64,GL=512,zL=131072,jL=827611204,HL=861165636,XL=894720068,VL=808540228,$L=4,WL=(Sl={},Sl[jL]=we.COMPRESSED_RGBA_S3TC_DXT1_EXT,Sl[HL]=we.COMPRESSED_RGBA_S3TC_DXT3_EXT,Sl[XL]=we.COMPRESSED_RGBA_S3TC_DXT5_EXT,Sl),YL=(on={},on[ln.DXGI_FORMAT_BC1_TYPELESS]=we.COMPRESSED_RGBA_S3TC_DXT1_EXT,on[ln.DXGI_FORMAT_BC1_UNORM]=we.COMPRESSED_RGBA_S3TC_DXT1_EXT,on[ln.DXGI_FORMAT_BC2_TYPELESS]=we.COMPRESSED_RGBA_S3TC_DXT3_EXT,on[ln.DXGI_FORMAT_BC2_UNORM]=we.COMPRESSED_RGBA_S3TC_DXT3_EXT,on[ln.DXGI_FORMAT_BC3_TYPELESS]=we.COMPRESSED_RGBA_S3TC_DXT5_EXT,on[ln.DXGI_FORMAT_BC3_UNORM]=we.COMPRESSED_RGBA_S3TC_DXT5_EXT,on[ln.DXGI_FORMAT_BC1_UNORM_SRGB]=we.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,on[ln.DXGI_FORMAT_BC2_UNORM_SRGB]=we.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,on[ln.DXGI_FORMAT_BC3_UNORM_SRGB]=we.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,on);function qL(t){var e=new Uint32Array(t),r=e[0];if(r!==FL)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,pc/Uint32Array.BYTES_PER_ELEMENT),i=n[vc.HEIGHT],s=n[vc.WIDTH],o=n[vc.MIPMAP_COUNT],a=new Uint32Array(t,vc.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,ML/Uint32Array.BYTES_PER_ELEMENT),u=a[kL];if(u&BL){var c=a[LL.FOURCC];if(c!==VL){var d=WL[c],p=Nv+pc,v=new Uint8Array(t,p),m=new vg(v,{format:d,width:s,height:i,levels:o});return[m]}var g=Nv+pc,b=new Uint32Array(e.buffer,g,ab/Uint32Array.BYTES_PER_ELEMENT),y=b[mc.DXGI_FORMAT],E=b[mc.RESOURCE_DIMENSION],T=b[mc.MISC_FLAG],S=b[mc.ARRAY_SIZE],A=YL[y];if(A===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+y);if(T===$L)throw new Error("DDSParser does not support cubemap textures");if(E===mg.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var R=new Array,I=Nv+pc+ab;if(S===1)R.push(new Uint8Array(t,I));else{for(var P=jf[A],k=0,N=s,D=i,V=0;V<o;V++){var Q=Math.max(1,N+3&-4),q=Math.max(1,D+3&-4),ae=Q*q*P;k+=ae,N=N>>>1,D=D>>>1}for(var W=I,V=0;V<S;V++)R.push(new Uint8Array(t,W,k)),W+=k}return R.map(function($){return new vg($,{format:A,width:s,height:i,levels:o})})}throw u&UL?new Error("DDSParser does not support uncompressed texture data."):u&GL?new Error("DDSParser does not supported YUV uncompressed texture data."):u&zL?new Error("DDSParser does not support single-channel (lumninance) texture data!"):u&DL?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Di,ei,Al,lb=[171,75,84,88,32,49,49,187,13,10,26,10],ZL=67305985,an={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},gg=64,ub=(Di={},Di[fe.UNSIGNED_BYTE]=1,Di[fe.UNSIGNED_SHORT]=2,Di[fe.INT]=4,Di[fe.UNSIGNED_INT]=4,Di[fe.FLOAT]=4,Di[fe.HALF_FLOAT]=8,Di),QL=(ei={},ei[Z.RGBA]=4,ei[Z.RGB]=3,ei[Z.RG]=2,ei[Z.RED]=1,ei[Z.LUMINANCE]=1,ei[Z.LUMINANCE_ALPHA]=2,ei[Z.ALPHA]=1,ei),KL=(Al={},Al[fe.UNSIGNED_SHORT_4_4_4_4]=2,Al[fe.UNSIGNED_SHORT_5_5_5_1]=2,Al[fe.UNSIGNED_SHORT_5_6_5]=2,Al);function JL(t,e,r){r===void 0&&(r=!1);var n=new DataView(e);if(!ek(t,n))return null;var i=n.getUint32(an.ENDIANNESS,!0)===ZL,s=n.getUint32(an.GL_TYPE,i),o=n.getUint32(an.GL_FORMAT,i),a=n.getUint32(an.GL_INTERNAL_FORMAT,i),u=n.getUint32(an.PIXEL_WIDTH,i),c=n.getUint32(an.PIXEL_HEIGHT,i)||1,d=n.getUint32(an.PIXEL_DEPTH,i)||1,p=n.getUint32(an.NUMBER_OF_ARRAY_ELEMENTS,i)||1,v=n.getUint32(an.NUMBER_OF_FACES,i),m=n.getUint32(an.NUMBER_OF_MIPMAP_LEVELS,i),g=n.getUint32(an.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||d!==1)throw new Error("Only 2D textures are supported");if(v!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");var b=4,y=4,E=u+3&-4,T=c+3&-4,S=new Array(p),A=u*c;s===0&&(A=E*T);var R;if(s!==0?ub[s]?R=ub[s]*QL[o]:R=KL[s]:R=jf[a],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var I=r?rk(n,g,i):null,P=A*R,k=P,N=u,D=c,V=E,Q=T,q=gg+g,ae=0;ae<m;ae++){for(var W=n.getUint32(q,i),$=q+4,se=0;se<p;se++){var Se=S[se];Se||(Se=S[se]=new Array(m)),Se[ae]={levelID:ae,levelWidth:m>1||s!==0?N:V,levelHeight:m>1||s!==0?D:Q,levelBuffer:new Uint8Array(e,$,k)},$+=k}q+=W+4,q=q%4!==0?q+4-q%4:q,N=N>>1||1,D=D>>1||1,V=N+b-1&~(b-1),Q=D+y-1&~(y-1),k=V*Q*R}return s!==0?{uncompressed:S.map(function(pe){var H=pe[0].levelBuffer,M=!1;return s===fe.FLOAT?H=new Float32Array(pe[0].levelBuffer.buffer,pe[0].levelBuffer.byteOffset,pe[0].levelBuffer.byteLength/4):s===fe.UNSIGNED_INT?(M=!0,H=new Uint32Array(pe[0].levelBuffer.buffer,pe[0].levelBuffer.byteOffset,pe[0].levelBuffer.byteLength/4)):s===fe.INT&&(M=!0,H=new Int32Array(pe[0].levelBuffer.buffer,pe[0].levelBuffer.byteOffset,pe[0].levelBuffer.byteLength/4)),{resource:new Bu(H,{width:pe[0].levelWidth,height:pe[0].levelHeight}),type:s,format:M?tk(o):o}}),kvData:I}:{compressed:S.map(function(pe){return new vg(null,{format:a,width:u,height:c,levels:m,levelBuffers:pe})}),kvData:I}}function ek(t,e){for(var r=0;r<lb.length;r++)if(e.getUint8(r)!==lb[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0}function tk(t){switch(t){case Z.RGBA:return Z.RGBA_INTEGER;case Z.RGB:return Z.RGB_INTEGER;case Z.RG:return Z.RG_INTEGER;case Z.RED:return Z.RED_INTEGER;default:return t}}function rk(t,e,r){for(var n=new Map,i=0;i<e;){var s=t.getUint32(gg+i,r),o=gg+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var u=0;u<s&&t.getUint8(o+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var c=new TextDecoder().decode(new Uint8Array(t.buffer,o,u)),d=new DataView(t.buffer,o+u+1,s-u-1);n.set(c,d),i+=4+s+a}return n}_t.setExtensionXhrType("dds",_t.XHR_RESPONSE_TYPE.BUFFER);var nk=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,aS(e.name||e.url,qL(e.data),e.metadata))}catch(n){r(n);return}r()},t.extension=Ze.Loader,t}();_t.setExtensionXhrType("ktx",_t.XHR_RESPONSE_TYPE.BUFFER);var ik=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=JL(n,e.data,this.loadKeyValueData),s=i.compressed,o=i.uncompressed,a=i.kvData;if(s){var u=aS(n,s,e.metadata);if(a&&u.textures)for(var c in u.textures)u.textures[c].baseTexture.ktxKeyValueData=a;Object.assign(e,u)}else if(o){var d={};o.forEach(function(p,v){var m=new de(new Me(p.resource,{mipmap:mn.OFF,alphaMode:gn.NO_PREMULTIPLIED_ALPHA,type:p.type,format:p.format})),g=n+"-"+(v+1);a&&(m.baseTexture.ktxKeyValueData=a),Me.addToCache(m.baseTexture,g),de.addToCache(m,g),v===0&&(d[n]=m,Me.addToCache(m.baseTexture,n),de.addToCache(m,n)),d[g]=m}),Object.assign(e,{textures:d})}}catch(p){r(p);return}r()},t.extension=Ze.Loader,t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var yg=function(t,e){return yg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},yg(t,e)};function lS(t,e){yg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var sk=function(t){lS(e,t);function e(r,n,i,s){r===void 0&&(r=1500),i===void 0&&(i=16384),s===void 0&&(s=!1);var o=t.call(this)||this,a=16384;return i>a&&(i=a),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=ue.NORMAL,o.autoResize=s,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,Sa(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}($t),hb=function(){function t(e,r,n){this.geometry=new Uu,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||fe.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new kt(mM(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new kt(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new kt(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===fe.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===fe.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===fe.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===fe.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),ok=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,ak=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,lk=function(t){lS(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new Bt,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:fe.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=os.from(ak,ok,{}),n.state=go.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,s=r._batchSize,o=this.renderer,a=n.length;if(a!==0){a>i&&!r.autoResize&&(a=i);var u=r._buffers;u||(u=r._buffers=this.generateBuffers(r));var c=n[0]._texture.baseTexture,d=c.alphaMode>0;this.state.blendMode=Dw(r.blendMode,d),o.state.set(this.state);var p=o.gl,v=r.worldTransform.copyTo(this.tempMatrix);v.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=v.toArray(!0),this.shader.uniforms.uColor=vM(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,d),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);for(var m=!1,g=0,b=0;g<a;g+=s,b+=1){var y=a-g;y>s&&(y=s),b>=u.length&&u.push(this._generateOneMoreBuffer(r));var E=u[b];E.uploadDynamic(n,g,y);var T=r._bufferUpdateIDs[b]||0;m=m||E._updateID<T,m&&(E._updateID=r._updateID,E.uploadStatic(n,g,y)),o.geometry.bind(E.geometry),p.drawElements(p.TRIANGLES,y*6,p.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,s=r._batchSize,o=r._properties,a=0;a<i;a+=s)n.push(new hb(this.properties,o,s));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new hb(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,s,o,a){for(var u=0,c=0,d=0,p=0,v=0;v<i;++v){var m=r[n+v],g=m._texture,b=m.scale.x,y=m.scale.y,E=g.trim,T=g.orig;E?(c=E.x-m.anchor.x*T.width,u=c+E.width,p=E.y-m.anchor.y*T.height,d=p+E.height):(u=T.width*(1-m.anchor.x),c=T.width*-m.anchor.x,d=T.height*(1-m.anchor.y),p=T.height*-m.anchor.y),s[a]=c*b,s[a+1]=p*y,s[a+o]=u*b,s[a+o+1]=p*y,s[a+o*2]=u*b,s[a+o*2+1]=d*y,s[a+o*3]=c*b,s[a+o*3+1]=d*y,a+=o*4}},e.prototype.uploadPosition=function(r,n,i,s,o,a){for(var u=0;u<i;u++){var c=r[n+u].position;s[a]=c.x,s[a+1]=c.y,s[a+o]=c.x,s[a+o+1]=c.y,s[a+o*2]=c.x,s[a+o*2+1]=c.y,s[a+o*3]=c.x,s[a+o*3+1]=c.y,a+=o*4}},e.prototype.uploadRotation=function(r,n,i,s,o,a){for(var u=0;u<i;u++){var c=r[n+u].rotation;s[a]=c,s[a+o]=c,s[a+o*2]=c,s[a+o*3]=c,a+=o*4}},e.prototype.uploadUvs=function(r,n,i,s,o,a){for(var u=0;u<i;++u){var c=r[n+u]._texture._uvs;c?(s[a]=c.x0,s[a+1]=c.y0,s[a+o]=c.x1,s[a+o+1]=c.y1,s[a+o*2]=c.x2,s[a+o*2+1]=c.y2,s[a+o*3]=c.x3,s[a+o*3+1]=c.y3,a+=o*4):(s[a]=0,s[a+1]=0,s[a+o]=0,s[a+o+1]=0,s[a+o*2]=0,s[a+o*2+1]=0,s[a+o*3]=0,s[a+o*3+1]=0,a+=o*4)}},e.prototype.uploadTint=function(r,n,i,s,o,a){for(var u=0;u<i;++u){var c=r[n+u],d=c._texture.baseTexture.alphaMode>0,p=c.alpha,v=p<1&&d?ty(c._tintRGB,p):c._tintRGB+(p*255<<24);s[a]=v,s[a+o]=v,s[a+o*2]=v,s[a+o*3]=v,a+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e.extension={name:"particle",type:Ze.RendererPlugin},e}(_d);/*!
 * @pixi/graphics - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var hi;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(hi||(hi={}));var Qi;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(Qi||(Qi={}));var wu={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},uS=function(){function t(){this.color=16777215,this.alpha=1,this.texture=de.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=de.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _g=function(t,e){return _g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},_g(t,e)};function iy(t,e){_g(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function cb(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var s=0,o=0,a=t[i-2],u=t[i-1];o<i;o+=2){var c=t[o],d=t[o+1];s+=(c-a)*(d+u),a=c,u=d}if(!e&&s>0||e&&s<=0)for(var p=i/2,o=p+p%2;o<i;o+=2){var v=i-o-2,m=i-o-1,g=o,b=o+1;r=[t[g],t[v]],t[v]=r[0],t[g]=r[1],n=[t[b],t[m]],t[m]=n[0],t[b]=n[1]}}}var hS={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,s=e.indices;if(r.length>=6){cb(r,!1);for(var o=[],a=0;a<n.length;a++){var u=n[a];cb(u.points,!0),o.push(r.length/2),r=r.concat(u.points)}var c=vd.exports(r,o,2);if(!c)return;for(var d=i.length/2,a=0;a<c.length;a+=3)s.push(c[a]+d),s.push(c[a+1]+d),s.push(c[a+2]+d);for(var a=0;a<r.length;a++)i.push(r[a])}}},Hf={build:function(t){var e=t.points,r,n,i,s,o,a;if(t.type===Xt.CIRC){var u=t.shape;r=u.x,n=u.y,o=a=u.radius,i=s=0}else if(t.type===Xt.ELIP){var c=t.shape;r=c.x,n=c.y,o=c.width,a=c.height,i=s=0}else{var d=t.shape,p=d.width/2,v=d.height/2;r=d.x+p,n=d.y+v,o=a=Math.max(0,Math.min(d.radius,Math.min(p,v))),i=p-o,s=v-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}var m=Math.ceil(2.3*Math.sqrt(o+a)),g=m*8+(i?4:0)+(s?4:0);if(e.length=g,g!==0){if(m===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}var b=0,y=m*4+(i?2:0)+2,E=y,T=g;{var S=i+o,A=s,R=r+S,I=r-S,P=n+A;if(e[b++]=R,e[b++]=P,e[--y]=P,e[--y]=I,s){var k=n-A;e[E++]=I,e[E++]=k,e[--T]=k,e[--T]=R}}for(var N=1;N<m;N++){var D=Math.PI/2*(N/m),S=i+Math.cos(D)*o,A=s+Math.sin(D)*a,R=r+S,I=r-S,P=n+A,k=n-A;e[b++]=R,e[b++]=P,e[--y]=P,e[--y]=I,e[E++]=I,e[E++]=k,e[--T]=k,e[--T]=R}{var S=i,A=s+a,R=r+S,I=r-S,P=n+A,k=n-A;e[b++]=R,e[b++]=P,e[--T]=k,e[--T]=R,i&&(e[b++]=I,e[b++]=P,e[--T]=k,e[--T]=I)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices;if(r.length!==0){var s=n.length/2,o=s,a,u;if(t.type!==Xt.RREC){var c=t.shape;a=c.x,u=c.y}else{var d=t.shape;a=d.x+d.width/2,u=d.y+d.height/2}var p=t.matrix;n.push(t.matrix?p.a*a+p.c*u+p.tx:a,t.matrix?p.b*a+p.d*u+p.ty:u),s++,n.push(r[0],r[1]);for(var v=2;v<r.length;v+=2)n.push(r[v],r[v+1]),i.push(s++,o,s);i.push(o+1,o,s)}}},uk={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Do(t,e,r){var n=e-t;return t+n*r}function gc(t,e,r,n,i,s,o){o===void 0&&(o=[]);for(var a=20,u=o,c=0,d=0,p=0,v=0,m=0,g=0,b=0,y=0;b<=a;++b)y=b/a,c=Do(t,r,y),d=Do(e,n,y),p=Do(r,i,y),v=Do(n,s,y),m=Do(c,p,y),g=Do(d,v,y),!(b===0&&u[u.length-2]===m&&u[u.length-1]===g)&&u.push(m,g);return u}var hk={build:function(t){if(mi.nextRoundedRectBehavior){Hf.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,s=e.width,o=e.height,a=Math.max(0,Math.min(e.radius,Math.min(s,o)/2));r.length=0,a?(gc(n,i+a,n,i,n+a,i,r),gc(n+s-a,i,n+s,i,n+s,i+a,r),gc(n+s,i+o-a,n+s,i+o,n+s-a,i+o,r),gc(n+a,i+o,n,i+o,n,i+o-a,r)):r.push(n,i,n+s,i,n+s,i+o,n,i+o)},triangulate:function(t,e){if(mi.nextRoundedRectBehavior){Hf.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,s=n.length/2,o=vd.exports(r,null,2),a=0,u=o.length;a<u;a+=3)i.push(o[a]+s),i.push(o[a+1]+s),i.push(o[a+2]+s);for(var a=0,u=r.length;a<u;a++)n.push(r[a],r[++a])}};function fb(t,e,r,n,i,s,o,a){var u=t-r*i,c=e-n*i,d=t+r*s,p=e+n*s,v,m;o?(v=n,m=-r):(v=-n,m=r);var g=u+v,b=c+m,y=d+v,E=p+m;return a.push(g,b),a.push(y,E),2}function Ps(t,e,r,n,i,s,o,a){var u=r-t,c=n-e,d=Math.atan2(u,c),p=Math.atan2(i-t,s-e);a&&d<p?d+=Math.PI*2:!a&&d>p&&(p+=Math.PI*2);var v=d,m=p-d,g=Math.abs(m),b=Math.sqrt(u*u+c*c),y=(15*g*Math.sqrt(b)/Math.PI>>0)+1,E=m/y;if(v+=E,a){o.push(t,e),o.push(r,n);for(var T=1,S=v;T<y;T++,S+=E)o.push(t,e),o.push(t+Math.sin(S)*b,e+Math.cos(S)*b);o.push(t,e),o.push(i,s)}else{o.push(r,n),o.push(t,e);for(var T=1,S=v;T<y;T++,S+=E)o.push(t+Math.sin(S)*b,e+Math.cos(S)*b),o.push(t,e);o.push(i,s),o.push(t,e)}return y*2}function ck(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var s=t.lineStyle,o=new tt(n[0],n[1]),a=new tt(n[n.length-2],n[n.length-1]),u=r.type!==Xt.POLY||r.closeStroke,c=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(u){n=n.slice(),c&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));var d=(o.x+a.x)*.5,p=(a.y+o.y)*.5;n.unshift(d,p),n.push(d,p)}var v=e.points,m=n.length/2,g=n.length,b=v.length/2,y=s.width/2,E=y*y,T=s.miterLimit*s.miterLimit,S=n[0],A=n[1],R=n[2],I=n[3],P=0,k=0,N=-(A-I),D=S-R,V=0,Q=0,q=Math.sqrt(N*N+D*D);N/=q,D/=q,N*=y,D*=y;var ae=s.alignment,W=(1-ae)*2,$=ae*2;u||(s.cap===Qi.ROUND?g+=Ps(S-N*(W-$)*.5,A-D*(W-$)*.5,S-N*W,A-D*W,S+N*$,A+D*$,v,!0)+2:s.cap===Qi.SQUARE&&(g+=fb(S,A,N,D,W,$,!0,v))),v.push(S-N*W,A-D*W),v.push(S+N*$,A+D*$);for(var se=1;se<m-1;++se){S=n[(se-1)*2],A=n[(se-1)*2+1],R=n[se*2],I=n[se*2+1],P=n[(se+1)*2],k=n[(se+1)*2+1],N=-(A-I),D=S-R,q=Math.sqrt(N*N+D*D),N/=q,D/=q,N*=y,D*=y,V=-(I-k),Q=R-P,q=Math.sqrt(V*V+Q*Q),V/=q,Q/=q,V*=y,Q*=y;var Se=R-S,pe=A-I,H=R-P,M=k-I,L=Se*H+pe*M,z=pe*H-M*Se,X=z<0;if(Math.abs(z)<.001*Math.abs(L)){v.push(R-N*W,I-D*W),v.push(R+N*$,I+D*$),L>=0&&(s.join===hi.ROUND?g+=Ps(R,I,R-N*W,I-D*W,R-V*W,I-Q*W,v,!1)+4:g+=2,v.push(R-V*$,I-Q*$),v.push(R+V*W,I+Q*W));continue}var oe=(-N+S)*(-D+I)-(-N+R)*(-D+A),ve=(-V+P)*(-Q+I)-(-V+R)*(-Q+k),Te=(Se*ve-H*oe)/z,Pe=(M*oe-pe*ve)/z,Le=(Te-R)*(Te-R)+(Pe-I)*(Pe-I),ze=R+(Te-R)*W,De=I+(Pe-I)*W,ke=R-(Te-R)*$,Re=I-(Pe-I)*$,Ae=Math.min(Se*Se+pe*pe,H*H+M*M),Qe=X?W:$,ir=Ae+Qe*Qe*E,Be=Le<=ir;Be?s.join===hi.BEVEL||Le/E>T?(X?(v.push(ze,De),v.push(R+N*$,I+D*$),v.push(ze,De),v.push(R+V*$,I+Q*$)):(v.push(R-N*W,I-D*W),v.push(ke,Re),v.push(R-V*W,I-Q*W),v.push(ke,Re)),g+=2):s.join===hi.ROUND?X?(v.push(ze,De),v.push(R+N*$,I+D*$),g+=Ps(R,I,R+N*$,I+D*$,R+V*$,I+Q*$,v,!0)+4,v.push(ze,De),v.push(R+V*$,I+Q*$)):(v.push(R-N*W,I-D*W),v.push(ke,Re),g+=Ps(R,I,R-N*W,I-D*W,R-V*W,I-Q*W,v,!1)+4,v.push(R-V*W,I-Q*W),v.push(ke,Re)):(v.push(ze,De),v.push(ke,Re)):(v.push(R-N*W,I-D*W),v.push(R+N*$,I+D*$),s.join===hi.ROUND?X?g+=Ps(R,I,R+N*$,I+D*$,R+V*$,I+Q*$,v,!0)+2:g+=Ps(R,I,R-N*W,I-D*W,R-V*W,I-Q*W,v,!1)+2:s.join===hi.MITER&&Le/E<=T&&(X?(v.push(ke,Re),v.push(ke,Re)):(v.push(ze,De),v.push(ze,De)),g+=2),v.push(R-V*W,I-Q*W),v.push(R+V*$,I+Q*$),g+=2)}S=n[(m-2)*2],A=n[(m-2)*2+1],R=n[(m-1)*2],I=n[(m-1)*2+1],N=-(A-I),D=S-R,q=Math.sqrt(N*N+D*D),N/=q,D/=q,N*=y,D*=y,v.push(R-N*W,I-D*W),v.push(R+N*$,I+D*$),u||(s.cap===Qi.ROUND?g+=Ps(R-N*(W-$)*.5,I-D*(W-$)*.5,R-N*W,I-D*W,R+N*$,I+D*$,v,!1)+2:s.cap===Qi.SQUARE&&(g+=fb(R,I,N,D,W,$,!1,v)));for(var yr=e.indices,Xn=wu.epsilon*wu.epsilon,se=b;se<g+b-2;++se)S=v[se*2],A=v[se*2+1],R=v[(se+1)*2],I=v[(se+1)*2+1],P=v[(se+2)*2],k=v[(se+2)*2+1],!(Math.abs(S*(I-k)+R*(k-A)+P*(A-I))<Xn)&&yr.push(se,se+1,se+2)}}function fk(t,e){var r=0,n=t.shape,i=t.points||n.points,s=n.type!==Xt.POLY||n.closeStroke;if(i.length!==0){var o=e.points,a=e.indices,u=i.length/2,c=o.length/2,d=c;for(o.push(i[0],i[1]),r=1;r<u;r++)o.push(i[r*2],i[r*2+1]),a.push(d,d+1),d++;s&&a.push(d,c)}}function db(t,e){t.lineStyle.native?fk(t,e):ck(t,e)}var pb=function(){function t(){}return t.curveTo=function(e,r,n,i,s,o){var a=o[o.length-2],u=o[o.length-1],c=u-r,d=a-e,p=i-r,v=n-e,m=Math.abs(c*v-d*p);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var g=c*c+d*d,b=p*p+v*v,y=c*p+d*v,E=s*Math.sqrt(g)/m,T=s*Math.sqrt(b)/m,S=E*y/g,A=T*y/b,R=E*v+T*d,I=E*p+T*c,P=d*(T+S),k=c*(T+S),N=v*(E+A),D=p*(E+A),V=Math.atan2(k-I,P-R),Q=Math.atan2(D-I,N-R);return{cx:R+e,cy:I+r,radius:s,startAngle:V,endAngle:Q,anticlockwise:d*p>v*c}},t.arc=function(e,r,n,i,s,o,a,u,c){for(var d=a-o,p=wu._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/Uf)*40),v=d/(p*2),m=v*2,g=Math.cos(v),b=Math.sin(v),y=p-1,E=y%1/y,T=0;T<=y;++T){var S=T+E*T,A=v+o+m*S,R=Math.cos(A),I=-Math.sin(A);c.push((g*R+b*I)*s+n,(g*-I+b*R)*s+i)}},t}(),dk=function(){function t(){}return t.curveLength=function(e,r,n,i,s,o,a,u){for(var c=10,d=0,p=0,v=0,m=0,g=0,b=0,y=0,E=0,T=0,S=0,A=0,R=e,I=r,P=1;P<=c;++P)p=P/c,v=p*p,m=v*p,g=1-p,b=g*g,y=b*g,E=y*e+3*b*p*n+3*g*v*s+m*a,T=y*r+3*b*p*i+3*g*v*o+m*u,S=R-E,A=I-T,R=E,I=T,d+=Math.sqrt(S*S+A*A);return d},t.curveTo=function(e,r,n,i,s,o,a){var u=a[a.length-2],c=a[a.length-1];a.length-=2;var d=wu._segmentsCount(t.curveLength(u,c,e,r,n,i,s,o)),p=0,v=0,m=0,g=0,b=0;a.push(u,c);for(var y=1,E=0;y<=d;++y)E=y/d,p=1-E,v=p*p,m=v*p,g=E*E,b=g*E,a.push(m*u+3*v*E*e+3*p*g*n+b*s,m*c+3*v*E*r+3*p*g*i+b*o)},t}(),pk=function(){function t(){}return t.curveLength=function(e,r,n,i,s,o){var a=e-2*n+s,u=r-2*i+o,c=2*n-2*e,d=2*i-2*r,p=4*(a*a+u*u),v=4*(a*c+u*d),m=c*c+d*d,g=2*Math.sqrt(p+v+m),b=Math.sqrt(p),y=2*p*b,E=2*Math.sqrt(m),T=v/b;return(y*g+b*v*(g-E)+(4*m*p-v*v)*Math.log((2*b+T+g)/(T+E)))/(4*y)},t.curveTo=function(e,r,n,i,s){for(var o=s[s.length-2],a=s[s.length-1],u=wu._segmentsCount(t.curveLength(o,a,e,r,n,i)),c=0,d=0,p=1;p<=u;++p){var v=p/u;c=o+(e-o)*v,d=a+(r-a)*v,s.push(c+(e+(n-e)*v-c)*v,d+(r+(i-r)*v-d)*v)}},t}(),vk=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Os,Mv=(Os={},Os[Xt.POLY]=hS,Os[Xt.CIRC]=Hf,Os[Xt.ELIP]=Hf,Os[Xt.RECT]=uk,Os[Xt.RREC]=hk,Os),vb=[],yc=[],mb=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Bo=new tt,mk=function(t){iy(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new Gf,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),yc.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),vb.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,s){n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=null);var o=new mb(r,n,i,s);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new mb(r,null,null,n),s=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=s.lineStyle,s.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var s=n[i];if(!!s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(r,Bo):Bo.copyFrom(r),s.shape.contains(Bo.x,Bo.y))){var o=!1;if(s.holes)for(var a=0;a<s.holes.length;a++){var u=s.holes[a];if(u.shape.contains(Bo.x,Bo.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,n=this.graphicsData,i=null,s=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],s=i.style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var a=n[o],u=a.fillStyle,c=a.lineStyle,d=Mv[a.type];d.build(a),a.matrix&&this.transformPoints(a.points,a.matrix),(u.visible||c.visible)&&this.processHoles(a.holes);for(var p=0;p<2;p++){var v=p===0?u:c;if(!!v.visible){var m=v.texture.baseTexture,g=this.indices.length,b=this.points.length/2;m.wrapMode=Bn.REPEAT,p===0?this.processFill(a):this.processLine(a);var y=this.points.length/2-b;y!==0&&(i&&!this._compareStyles(s,v)&&(i.end(g,b),i=null),i||(i=vb.pop()||new vk,i.begin(v,g,b),this.batches.push(i),s=v),this.addUvs(this.points,r,v.texture,b,y,v.matrix))}}}var E=this.indices.length,T=this.points.length/2;if(i&&i.end(E,T),this.batches.length===0){this.batchable=!0;return}var S=T>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&S===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=S?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],s=i.fillStyle,o=i.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var s=r[n],o=0;o<s.size;o++){var a=s.start+o;this.indicesUint16[a]=this.indicesUint16[a]-s.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++Me._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),yc.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,s=this.textureIds,o=yc.pop();o||(o=new hg,o.texArray=new cg),o.texArray.count=0,o.start=0,o.size=0,o.type=qr.TRIANGLES;var a=0,u=null,c=0,d=!1,p=qr.TRIANGLES,v=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var m=this.batches[n],g=8,b=m.style,y=b.texture.baseTexture;d!==!!b.native&&(d=!!b.native,p=d?qr.LINES:qr.TRIANGLES,u=null,a=g,r++),u!==y&&(u=y,y._batchEnabled!==r&&(a===g&&(r++,a=0,o.size>0&&(o=yc.pop(),o||(o=new hg,o.texArray=new cg),this.drawCalls.push(o)),o.start=v,o.size=0,o.texArray.count=0,o.type=p),y.touched=1,y._batchEnabled=r,y._batchLocation=a,y.wrapMode=Bn.REPEAT,o.texArray.elements[o.texArray.count++]=y,a++)),o.size+=m.size,v+=m.size,c=y._batchLocation,this.addColors(i,b.color,b.alpha,m.attribSize,m.attribStart),this.addTextureIds(s,c,m.attribSize,m.attribStart)}Me._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,s=this.textureIds,o=new ArrayBuffer(r.length*3*4),a=new Float32Array(o),u=new Uint32Array(o),c=0,d=0;d<r.length/2;d++)a[c++]=r[d*2],a[c++]=r[d*2+1],a[c++]=n[d*2],a[c++]=n[d*2+1],u[c++]=i[d],a[c++]=s[d];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)hS.triangulate(r,this);else{var n=Mv[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){db(r,this);for(var n=0;n<r.holes.length;n++)db(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],s=Mv[i.type];s.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds;r.clear(),r.addVertexData(this.points,0,this.points.length),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var s=r[i*2],o=r[i*2+1];r[i*2]=n.a*s+n.c*o+n.tx,r[i*2+1]=n.b*s+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,s,o){o===void 0&&(o=0);var a=(n>>16)+(n&65280)+((n&255)<<16),u=ty(a,i);r.length=Math.max(r.length,o+s);for(var c=0;c<s;c++)r[o+c]=u},e.prototype.addTextureIds=function(r,n,i,s){s===void 0&&(s=0),r.length=Math.max(r.length,s+i);for(var o=0;o<i;o++)r[s+o]=n},e.prototype.addUvs=function(r,n,i,s,o,a){a===void 0&&(a=null);for(var u=0,c=n.length,d=i.frame;u<o;){var p=r[(s+u)*2],v=r[(s+u)*2+1];if(a){var m=a.a*p+a.c*v+a.tx;v=a.b*p+a.d*v+a.ty,p=m}u++,n.push(p/d.width,v/d.height)}var g=i.baseTexture;(d.width<g.width||d.height<g.height)&&this.adjustUvs(n,i,c,o)},e.prototype.adjustUvs=function(r,n,i,s){for(var o=n.baseTexture,a=1e-6,u=i+s*2,c=n.frame,d=c.width/o.width,p=c.height/o.height,v=c.x/c.width,m=c.y/c.height,g=Math.floor(r[i]+a),b=Math.floor(r[i+1]+a),y=i+2;y<u;y+=2)g=Math.min(g,Math.floor(r[y]+a)),b=Math.min(b,Math.floor(r[y+1]+a));v-=g,m-=b;for(var y=i;y<u;y+=2)r[y]=(r[y]+v)*d,r[y+1]=(r[y+1]+m)*p},e.BATCHABLE_SIZE=100,e}(nS),gk=function(t){iy(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=Qi.BUTT,r.join=hi.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(uS),yk=new Float32Array(3),Fv={},mi=function(t){iy(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new uS,n._lineStyle=new gk,n._matrix=null,n._holeMode=!1,n.state=go.for2d(),n._geometry=r||new mk,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=ue.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,s,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:s,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:de.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Qi.BUTT,join:hi.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Wc,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Wc,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,s=i[i.length-2],o=i[i.length-1];return(s!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,s){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),pk.curveTo(r,n,i,s,o),this},e.prototype.bezierCurveTo=function(r,n,i,s,o,a){return this._initCurve(),dk.curveTo(r,n,i,s,o,a,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,s,o){this._initCurve(r,n);var a=this.currentPath.points,u=pb.curveTo(r,n,i,s,o,a);if(u){var c=u.cx,d=u.cy,p=u.radius,v=u.startAngle,m=u.endAngle,g=u.anticlockwise;this.arc(c,d,p,v,m,g)}return this},e.prototype.arc=function(r,n,i,s,o,a){if(a===void 0&&(a=!1),s===o)return this;!a&&o<=s?o+=Uf:a&&s<=o&&(s+=Uf);var u=o-s;if(u===0)return this;var c=r+Math.cos(s)*i,d=n+Math.sin(s)*i,p=this._geometry.closePointEps,v=this.currentPath?this.currentPath.points:null;if(v){var m=Math.abs(v[v.length-2]-c),g=Math.abs(v[v.length-1]-d);m<p&&g<p||v.push(c,d)}else this.moveTo(c,d),v=this.currentPath.points;return pb.arc(c,d,r,n,i,s,o,a,v),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:de.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:de.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,s){return this.drawShape(new Fe(r,n,i,s))},e.prototype.drawRoundedRect=function(r,n,i,s,o){return this.drawShape(new wM(r,n,i,s,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new EM(r,n,i))},e.prototype.drawEllipse=function(r,n,i,s){return this.drawShape(new TM(r,n,i,s))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var s,o=!0,a=n[0];a.points?(o=a.closeStroke,s=a.points):Array.isArray(n[0])?s=n[0]:s=n;var u=new Wc(s);return u.closeStroke=o,this.drawShape(u),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===Xt.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry;n.updateBatches(),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var s=0;s<i;s++){var o=r.batches[s],a=o.style.color,u=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),c=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),d=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),p={vertexData:u,blendMode:n,indices:d,uvs:c,_batchRGB:Sa(a),_tintRGB:a,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=p}},e.prototype._renderBatched=function(r){if(!!this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var s=this.batches[n];s.worldAlpha=this.worldAlpha*s.alpha,r.plugins[this.pluginName].render(s)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,s=this.tint,o=this.worldAlpha,a=n.uniforms,u=i.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(s>>16&255)/255*o,a.tint[1]=(s>>8&255)/255*o,a.tint[2]=(s&255)/255*o,a.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var c=0,d=u.length;c<d;c++)this._renderDrawCallDirect(r,i.drawCalls[c])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,s=n.type,o=n.size,a=n.start,u=i.count,c=0;c<u;c++)r.texture.bind(i.elements[c],c);r.geometry.draw(s,o,a)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!Fv[i]){for(var s=r.plugins[i].MAX_TEXTURES,o=new Int32Array(s),a=0;a<s;a++)o[a]=a;var u={tint:new Float32Array([1,1,1,1]),translationMatrix:new Bt,default:ro.from({uSamplers:o},!0)},c=r.plugins[i]._shader.program;Fv[i]=new os(c,u)}n=Fv[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(!!r.graphicsData.length){var n=r.bounds,i=n.minX,s=n.minY,o=n.maxX,a=n.maxY;this._bounds.addFrame(this.transform,i,s,o,a)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=Sa(this.tint,yk),n=0;n<this.batches.length;n++){var i=this.batches[n],s=i._batchRGB,o=r[0]*s[0]*255,a=r[1]*s[1]*255,u=r[2]*s[2]*255,c=(o<<16)+(a<<8)+(u|0);i._tintRGB=(c>>16)+(c&65280)+((c&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,a=n.d,u=n.tx,c=n.ty,d=this._geometry.points,p=this.vertexData,v=0,m=0;m<d.length;m+=2){var g=d[m],b=d[m+1];p[v++]=i*g+o*b+u,p[v++]=a*b+s*g+c}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new tt,e}($t);/*!
 * @pixi/sprite - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xg=function(t,e){return xg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},xg(t,e)};function _k(t,e){xg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Cl=new tt,xk=new Uint16Array([0,1,2,0,2,3]),dt=function(t){_k(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new Ks(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=ue.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||de.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=xk,n.pluginName="batch",n.isSprite=!0,n._roundPixels=J.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=ta(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=ta(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,a=n.d,u=n.tx,c=n.ty,d=this.vertexData,p=r.trim,v=r.orig,m=this._anchor,g=0,b=0,y=0,E=0;if(p?(b=p.x-m._x*v.width,g=b+p.width,E=p.y-m._y*v.height,y=E+p.height):(b=-m._x*v.width,g=b+v.width,E=-m._y*v.height,y=E+v.height),d[0]=i*b+o*E+u,d[1]=a*E+s*b+c,d[2]=i*g+o*E+u,d[3]=a*E+s*g+c,d[4]=i*g+o*y+u,d[5]=a*y+s*g+c,d[6]=i*b+o*y+u,d[7]=a*y+s*b+c,this._roundPixels)for(var T=J.RESOLUTION,S=0;S<d.length;++S)d[S]=Math.round((d[S]*T|0)/T)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,s=this._anchor,o=this.transform.worldTransform,a=o.a,u=o.b,c=o.c,d=o.d,p=o.tx,v=o.ty,m=-s._x*i.width,g=m+i.width,b=-s._y*i.height,y=b+i.height;n[0]=a*m+c*b+p,n[1]=d*b+u*m+v,n[2]=a*g+c*b+p,n[3]=d*b+u*g+v,n[4]=a*g+c*y+p,n[5]=d*y+u*g+v,n[6]=a*m+c*y+p,n[7]=d*y+u*m+v},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new Gf),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Fe),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Cl);var n=this._texture.orig.width,i=this._texture.orig.height,s=-n*this.anchor.x,o=0;return Cl.x>=s&&Cl.x<s+n&&(o=-i*this.anchor.y,Cl.y>=o&&Cl.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof de?r:de.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=ta(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=ta(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||de.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}($t);/*!
 * @pixi/text - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var bg=function(t,e){return bg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},bg(t,e)};function bk(t,e){bg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Su;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(Su||(Su={}));var Lv={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Su.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},Ek=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],dr=function(){function t(e){this.styleID=0,this.reset(),Dv(this,e,e)}return t.prototype.clone=function(){var e={};return Dv(e,this,Lv),new t(e)},t.prototype.reset=function(){Dv(this,Lv,Lv)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=kv(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=kv(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){Tk(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=kv(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&Ek.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function gb(t){return typeof t=="number"?Fw(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function kv(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=gb(t[e]);return t}else return gb(t)}function Tk(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Dv(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var _c={willReadFrequently:!0},Hn=function(){function t(e,r,n,i,s,o,a,u,c){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=c}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n==null?r.wordWrap:n;var s=r.toFontString(),o=t.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var a=i.getContext("2d",_c);a.font=s;for(var u=n?t.wordWrap(e,r,i):e,c=u.split(/(?:\r\n|\r|\n)/),d=new Array(c.length),p=0,v=0;v<c.length;v++){var m=a.measureText(c[v]).width+(c[v].length-1)*r.letterSpacing;d[v]=m,p=Math.max(p,m)}var g=p+r.strokeThickness;r.dropShadow&&(g+=r.dropShadowDistance);var b=r.lineHeight||o.fontSize+r.strokeThickness,y=Math.max(b,o.fontSize+r.strokeThickness)+(c.length-1)*(b+r.leading);return r.dropShadow&&(y+=r.dropShadowDistance),new t(e,r,g,y,c,d,b+r.leading,p,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d",_c),s=0,o="",a="",u=Object.create(null),c=r.letterSpacing,d=r.whiteSpace,p=t.collapseSpaces(d),v=t.collapseNewlines(d),m=!p,g=r.wordWrapWidth+c,b=t.tokenize(e),y=0;y<b.length;y++){var E=b[y];if(t.isNewline(E)){if(!v){a+=t.addLine(o),m=!p,o="",s=0;continue}E=" "}if(p){var T=t.isBreakingSpace(E),S=t.isBreakingSpace(o[o.length-1]);if(T&&S)continue}var A=t.getFromCache(E,c,u,i);if(A>g)if(o!==""&&(a+=t.addLine(o),o="",s=0),t.canBreakWords(E,r.breakWords))for(var R=t.wordWrapSplit(E),I=0;I<R.length;I++){for(var P=R[I],k=1;R[I+k];){var N=R[I+k],D=P[P.length-1];if(!t.canBreakChars(D,N,E,I,r.breakWords))P+=N;else break;k++}I+=P.length-1;var V=t.getFromCache(P,c,u,i);V+s>g&&(a+=t.addLine(o),m=!1,o="",s=0),o+=P,s+=V}else{o.length>0&&(a+=t.addLine(o),o="",s=0);var Q=y===b.length-1;a+=t.addLine(E,!Q),m=!1,o="",s=0}else A+s>g&&(m=!1,a+=t.addLine(o),o="",s=0),(o.length>0||!t.isBreakingSpace(E)||m)&&(o+=E,s+=A)}return a+=t.addLine(o,!1),a},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var s=n[e];if(typeof s!="number"){var o=e.length*r;s=i.measureText(e).width+o,n[e]=s}return s},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var s=e[i],o=e[i+1];if(t.isBreakingSpace(s,o)||t.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,s){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var s=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width),a=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=Math.ceil(t.HEIGHT_MULTIPLIER*a);a=a*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);var c=i.getImageData(0,0,o,u).data,d=c.length,p=o*4,v=0,m=0,g=!1;for(v=0;v<a;++v){for(var b=0;b<p;b+=4)if(c[m+b]!==255){g=!0;break}if(!g)m+=p;else break}for(r.ascent=a-v,m=d-p,g=!1,v=u;v>a;--v){for(var b=0;b<p;b+=4)if(c[m+b]!==255){g=!0;break}if(!g)m-=p;else break}return r.descent=v-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d",_c);if(n&&n.measureText)return t.__canvas=r,r;e=J.ADAPTER.createCanvas()}catch{e=J.ADAPTER.createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d",_c)),t.__context},enumerable:!1,configurable:!0}),t}();Hn._fonts={};Hn.METRICS_STRING="|\xC9q\xC5";Hn.BASELINE_SYMBOL="M";Hn.BASELINE_MULTIPLIER=1.4;Hn.HEIGHT_MULTIPLIER=2;Hn._newlines=[10,13];Hn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var wk={texture:!0,children:!1,baseTexture:!0},zu=function(t){bk(e,t);function e(r,n,i){var s=this,o=!1;i||(i=J.ADAPTER.createCanvas(),o=!0),i.width=3,i.height=3;var a=de.from(i);return a.orig=new Fe,a.trim=new Fe,s=t.call(this,a)||this,s._ownCanvas=o,s.canvas=i,s.context=i.getContext("2d",{willReadFrequently:!0}),s._resolution=J.RESOLUTION,s._autoResolution=!0,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=r,s.style=n,s.localStyleID=-1,s}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,s=Hn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,a=s.height,u=s.lines,c=s.lineHeight,d=s.lineWidths,p=s.maxLineWidth,v=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var m,g,b=n.dropShadow?2:1,y=0;y<b;++y){var E=n.dropShadow&&y===0,T=E?Math.ceil(Math.max(1,a)+n.padding*2):0,S=T*this._resolution;if(E){i.fillStyle="black",i.strokeStyle="black";var A=n.dropShadowColor,R=Sa(typeof A=="number"?A:Lw(A)),I=n.dropShadowBlur*this._resolution,P=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+R[0]*255+","+R[1]*255+","+R[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=I,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*P,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*P+S}else i.fillStyle=this._generateFillStyle(n,u,s),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var k=(c-v.fontSize)/2;(!e.nextLineHeightBehavior||c-v.fontSize<0)&&(k=0);for(var N=0;N<u.length;N++)m=n.strokeThickness/2,g=n.strokeThickness/2+N*c+v.ascent+k,n.align==="right"?m+=p-d[N]:n.align==="center"&&(m+=(p-d[N])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(u[N],m+n.padding,g+n.padding-T,!0),n.fill&&this.drawLetterSpacing(u[N],m+n.padding,g+n.padding-T)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,s){s===void 0&&(s=!1);var o=this._style,a=o.letterSpacing,u=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(a===0||u){u&&(this.context.letterSpacing=a,this.context.textLetterSpacing=a),s?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var c=n,d=Array.from?Array.from(r):r.split(""),p=this.context.measureText(r).width,v=0,m=0;m<d.length;++m){var g=d[m];s?this.context.strokeText(g,c,i):this.context.fillText(g,c,i);for(var b="",y=m+1;y<d.length;++y)b+=d[y];v=this.context.measureText(b).width,c+=p-v+a,p=v}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=yM(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,s=this._style,o=s.trim?0:s.padding,a=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),a.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var s=r.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;var o,a=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,c=this.canvas.width/this._resolution-a-u*2,d=this.canvas.height/this._resolution-a-u*2,p=s.slice(),v=r.fillGradientStops.slice();if(!v.length)for(var m=p.length+1,g=1;g<m;++g)v.push(g/m);if(p.unshift(s[0]),v.unshift(0),p.push(s[s.length-1]),v.push(1),r.fillGradientType===Su.LINEAR_VERTICAL){o=this.context.createLinearGradient(c/2,u,c/2,d+u);for(var b=i.fontProperties.fontSize+r.strokeThickness,g=0;g<n.length;g++){var y=i.lineHeight*(g-1)+b,E=i.lineHeight*g,T=E;g>0&&y>E&&(T=(E+y)/2);var S=E+b,A=i.lineHeight*(g+1),R=S;g+1<n.length&&A<S&&(R=(S+A)/2);for(var I=(R-T)/d,P=0;P<p.length;P++){var k=0;typeof v[P]=="number"?k=v[P]:k=P/p.length;var N=Math.min(1,Math.max(0,T/d+k*I));N=Number(N.toFixed(5)),o.addColorStop(N,p[P])}}}else{o=this.context.createLinearGradient(u,d/2,c+u,d/2);for(var D=p.length+1,V=1,g=0;g<p.length;g++){var Q=void 0;typeof v[g]=="number"?Q=v[g]:Q=V/D,o.addColorStop(Q,p[g]),V++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},wk,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=ta(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=ta(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof dr?this._style=r:this._style=new dr(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r==null?"":r),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(dt);/*!
 * @pixi/prepare - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */J.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Eg=function(t,e){return Eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Eg(t,e)};function Sk(t,e){Eg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Ak=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function Ck(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof de){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function Rk(t,e){if(t.baseTexture instanceof Me){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Ik(t,e){if(t._texture&&t._texture instanceof de){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Pk(t,e){return e instanceof zu?(e.updateText(!0),!0):!1}function Ok(t,e){if(e instanceof dr){var r=e.toFontString();return Hn.measureFont(r),!0}return!1}function Nk(t,e){if(t instanceof zu){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function Mk(t,e){return t instanceof dr?(e.indexOf(t)===-1&&e.push(t),!0):!1}var Fk=function(){function t(e){var r=this;this.limiter=new Ak(J.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!r.queue||r.prepareItems()},this.registerFindHook(Nk),this.registerFindHook(Mk),this.registerFindHook(Ck),this.registerFindHook(Rk),this.registerFindHook(Ik),this.registerUploadHook(Pk),this.registerUploadHook(Ok)}return t.prototype.upload=function(e,r){var n=this;return typeof e=="function"&&(r=e,e=null),r&&pn("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){e&&n.add(e);var s=function(){r==null||r(),i()};n.queue.length?(n.completes.push(s),n.ticking||(n.ticking=!0,Ht.system.addOnce(n.tick,n,xi.UTILITY))):s()})},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Ht.system.addOnce(this.tick,this,xi.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var n=0,i=s.length;n<i;n++)s[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof $t)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&Ht.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function cS(t,e){return e instanceof Me?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function Lk(t,e){if(!(e instanceof mi))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var s=n[i].style.texture;s&&cS(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function kk(t,e){return t instanceof mi?(e.push(t),!0):!1}var Dk=function(t){Sk(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(kk),n.registerUploadHook(cS),n.registerUploadHook(Lk),n}return e.extension={name:"prepare",type:Ze.RendererPlugin},e}(Fk);/*!
 * @pixi/spritesheet - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Bk=function(){function t(e,r,n){n===void 0&&(n=null),this.linkedSheets=[],this._texture=e instanceof de?e:null,this.baseTexture=e instanceof Me?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=Bf(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){var r=this;return e&&pn("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(n){r._callback=function(i){e==null||e(i),n(i)},r._batchIndex=0,r._frameKeys.length<=t.BATCH_SIZE?(r._processFrames(0),r._processAnimations(),r._parseComplete()):r._nextBatch()})},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){var a=null,u=null,c=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,d=new Fe(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);s.rotated?a=new Fe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Fe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(u=new Fe(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new de(this.baseTexture,a,d,u,s.rotated?2:0,s.anchor),de.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},t.BATCH_SIZE=1e3,t}(),Uk=function(){function t(){}return t.use=function(e,r){var n,i,s=this,o=e.name+"_image";if(!e.data||e.type!==_t.TYPE.JSON||!e.data.frames||s.resources[o]){r();return}var a=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(a))for(var u=function(g){if(typeof g!="string")return"continue";var b=g.replace(".json",""),y=ea.resolve(e.url.replace(s.baseUrl,""),g);if(s.resources[b]||Object.values(s.resources).some(function(T){return ea.format(ea.parse(T.url))===y}))return"continue";var E={crossOrigin:e.crossOrigin,loadType:_t.LOAD_TYPE.XHR,xhrType:_t.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};s.add(b,y,E)},c=0,d=a;c<d.length;c++){var p=d[c];u(p)}var v={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},m=t.getResourcePath(e,s.baseUrl);s.add(o,m,v,function(b){if(b.error){r(b.error);return}var y=new Bk(b.texture,e.data,e.url);y.parse().then(function(){e.spritesheet=y,e.textures=y.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:ea.resolve(e.url.replace(r,""),e.data.meta.image)},t.extension=Ze.Loader,t}();/*!
 * @pixi/sprite-tiling - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Tg=function(t,e){return Tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Tg(t,e)};function fS(t,e){Tg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Rl=new tt,Gk=function(t){fS(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var s=t.call(this,r)||this;return s.tileTransform=new zw,s._width=n,s._height=i,s.uvMatrix=s.texture.uvMatrix||new ny(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,s)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Fe),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,Rl);var n=this._width,i=this._height,s=-n*this.anchor._x;if(Rl.x>=s&&Rl.x<s+n){var o=-i*this.anchor._y;if(Rl.y>=o&&Rl.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof de?r:de.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(dt),zk=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,yb=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,jk=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Hk=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,Xk=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,xc=new Bt,Vk=function(t){fS(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new Yw,n.state=go.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=os.from(yb,zk,n),this.shader=r.context.webGLVersion>1?os.from(Hk,Xk,n):os.from(yb,jk,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,s=i.vertices;s[0]=s[6]=r._width*-r.anchor.x,s[1]=s[3]=r._height*-r.anchor.y,s[2]=s[4]=r._width*(1-r.anchor.x),s[5]=s[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,a=r.uvRespectAnchor?r.anchor.y:0;s=i.uvs,s[0]=s[6]=-o,s[1]=s[3]=-a,s[2]=s[4]=1-o,s[5]=s[7]=1-a,i.invalidate();var u=r._texture,c=u.baseTexture,d=c.alphaMode>0,p=r.tileTransform.localTransform,v=r.uvMatrix,m=c.isPowerOfTwo&&u.frame.width===c.width&&u.frame.height===c.height;m&&(c._glTextures[n.CONTEXT_UID]?m=c.wrapMode!==Bn.CLAMP:c.wrapMode===Bn.CLAMP&&(c.wrapMode=Bn.REPEAT));var g=m?this.simpleShader:this.shader,b=u.width,y=u.height,E=r._width,T=r._height;xc.set(p.a*b/E,p.b*b/T,p.c*y/E,p.d*y/T,p.tx/E,p.ty/T),xc.invert(),m?xc.prepend(v.mapCoord):(g.uniforms.uMapCoord=v.mapCoord.toArray(!0),g.uniforms.uClampFrame=v.uClampFrame,g.uniforms.uClampOffset=v.uClampOffset),g.uniforms.uTransform=xc.toArray(!0),g.uniforms.uColor=Bw(r.tint,r.worldAlpha,g.uniforms.uColor,d),g.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),g.uniforms.uSampler=u,n.shader.bind(g),n.geometry.bind(i),this.state.blendMode=Dw(r.blendMode,d),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:"tilingSprite",type:Ze.RendererPlugin},e}(_d);/*!
 * @pixi/mesh - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var wg=function(t,e){return wg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},wg(t,e)};function sy(t,e){wg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var $k=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),Bv=new tt,_b=new Wc,Au=function(t){sy(e,t);function e(r,n,i,s){s===void 0&&(s=qr.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||go.for2d(),o.drawMode=s,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=J.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===qr.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var s=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[s]),r.plugins[s].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,s=n._updateID;if(!(s===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,a=o.a,u=o.b,c=o.c,d=o.d,p=o.tx,v=o.ty,m=this.vertexData,g=0;g<m.length/2;g++){var b=i[g*2],y=i[g*2+1];m[g*2]=a*b+c*y+p,m[g*2+1]=u*b+d*y+v}if(this._roundPixels)for(var E=J.RESOLUTION,g=0;g<m.length;++g)m[g]=Math.round((m[g]*E|0)/E);this.vertexDirty=s}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new $k(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,Bv);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=_b.points,s=this.geometry.getIndex().data,o=s.length,a=this.drawMode===4?3:1,u=0;u+2<o;u+=a){var c=s[u]*2,d=s[u+1]*2,p=s[u+2]*2;if(i[0]=n[c],i[1]=n[c+1],i[2]=n[d],i[3]=n[d+1],i[4]=n[p],i[5]=n[p+1],_b.contains(Bv.x,Bv.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}($t),Wk=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,Yk=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,Cu=function(t){sy(e,t);function e(r,n){var i=this,s={uSampler:r,alpha:1,uTextureMatrix:Bt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(s,n.uniforms),i=t.call(this,n.program||Gu.from(Yk,Wk),s)||this,i._colorDirty=!1,i.uvMatrix=new ny(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;Bw(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(os),xd=function(t){sy(e,t);function e(r,n,i){var s=t.call(this)||this,o=new kt(r),a=new kt(n,!0),u=new kt(i,!0,!0);return s.addAttribute("aVertexPosition",o,2,!1,fe.FLOAT).addAttribute("aTextureCoord",a,2,!1,fe.FLOAT).addIndex(u),s._updateId=-1,s}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(Uu);/*!
 * @pixi/text-bitmap - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Sg=function(t,e){return Sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Sg(t,e)};function qk(t,e){Sg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Xf=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),Zk=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var s=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var u in o){var c=o[u].split("="),d=c[0],p=c[1].replace(/"/gm,""),v=parseFloat(p),m=isNaN(v)?p:v;a[d]=m}n[s].push(a)}var g=new Xf;return n.info.forEach(function(b){return g.info.push({face:b.face,size:parseInt(b.size,10)})}),n.common.forEach(function(b){return g.common.push({lineHeight:parseInt(b.lineHeight,10)})}),n.page.forEach(function(b){return g.page.push({id:parseInt(b.id,10),file:b.file})}),n.char.forEach(function(b){return g.char.push({id:parseInt(b.id,10),page:parseInt(b.page,10),x:parseInt(b.x,10),y:parseInt(b.y,10),width:parseInt(b.width,10),height:parseInt(b.height,10),xoffset:parseInt(b.xoffset,10),yoffset:parseInt(b.yoffset,10),xadvance:parseInt(b.xadvance,10)})}),n.kerning.forEach(function(b){return g.kerning.push({first:parseInt(b.first,10),second:parseInt(b.second,10),amount:parseInt(b.amount,10)})}),n.distanceField.forEach(function(b){return g.distanceField.push({distanceRange:parseInt(b.distanceRange,10),fieldType:b.fieldType})}),g},t}(),Ag=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new Xf,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),u=e.getElementsByTagName("distanceField"),c=0;c<n.length;c++)r.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(var c=0;c<i.length;c++)r.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(var c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(var c=0;c<o.length;c++){var d=o[c];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var c=0;c<a.length;c++)r.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(var c=0;c<u.length;c++)r.distanceField.push({fieldType:u[c].getAttribute("fieldType"),distanceRange:parseInt(u[c].getAttribute("distanceRange"),10)});return r},t}(),Qk=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return Ag.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return Ag.parse(r)},t}(),Uv=[Zk,Ag,Qk];function dS(t){for(var e=0;e<Uv.length;e++)if(Uv[e].test(t))return Uv[e];return null}function Kk(t,e,r,n,i,s){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var a,u=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,d=t.width/n-u-c*2,p=t.height/n-u-c*2,v=o.slice(),m=r.fillGradientStops.slice();if(!m.length)for(var g=v.length+1,b=1;b<g;++b)m.push(b/g);if(v.unshift(o[0]),m.unshift(0),v.push(o[o.length-1]),m.push(1),r.fillGradientType===Su.LINEAR_VERTICAL){a=e.createLinearGradient(d/2,c,d/2,p+c);for(var y=0,E=s.fontProperties.fontSize+r.strokeThickness,T=E/p,b=0;b<i.length;b++)for(var S=s.lineHeight*b,A=0;A<v.length;A++){var R=0;typeof m[A]=="number"?R=m[A]:R=A/v.length;var I=S/p+R*T,P=Math.max(y,I);P=Math.min(P,1),a.addColorStop(P,v[A]),y=P}}else{a=e.createLinearGradient(c,p/2,d+c,p/2);for(var k=v.length+1,N=1,b=0;b<v.length;b++){var D=void 0;typeof m[b]=="number"?D=m[b]:D=N/k,a.addColorStop(D,v[b]),N++}}return a}function Jk(t,e,r,n,i,s,o){var a=r.text,u=r.fontProperties;e.translate(n,i),e.scale(s,s);var c=o.strokeThickness/2,d=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=Kk(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){var p=o.dropShadowColor,v=Sa(typeof p=="number"?p:Lw(p)),m=o.dropShadowBlur*s,g=o.dropShadowDistance*s;e.shadowColor="rgba("+v[0]*255+","+v[1]*255+","+v[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,c,d+r.lineHeight-u.descent),o.fill&&e.fillText(a,c,d+r.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function pS(t){return Array.from?Array.from(t):t.split("")}function e3(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(var a=s,u=o;a<=u;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,pS(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function Yc(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var ji=function(){function t(e,r,n){var i,s,o=e.info[0],a=e.common[0],u=e.page[0],c=e.distanceField[0],d=Bf(u.file),p={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=a.lineHeight/d,this.chars={},this.pageTextures=p;for(var v=0;v<e.page.length;v++){var m=e.page[v],g=m.id,b=m.file;p[g]=r instanceof Array?r[v]:r[b],(c==null?void 0:c.fieldType)&&c.fieldType!=="none"&&(p[g].baseTexture.alphaMode=gn.NO_PREMULTIPLIED_ALPHA,p[g].baseTexture.mipmap=mn.OFF)}for(var v=0;v<e.char.length;v++){var y=e.char[v],g=y.id,E=y.page,T=e.char[v],S=T.x,A=T.y,R=T.width,I=T.height,P=T.xoffset,k=T.yoffset,N=T.xadvance;S/=d,A/=d,R/=d,I/=d,P/=d,k/=d,N/=d;var D=new Fe(S+p[E].frame.x/d,A+p[E].frame.y/d,R,I);this.chars[g]={xOffset:P,yOffset:k,xAdvance:N,kerning:{},texture:new de(p[E].baseTexture,D),page:E}}for(var v=0;v<e.kerning.length;v++){var V=e.kerning[v],Q=V.first,q=V.second,ae=V.amount;Q/=d,q/=d,ae/=d,this.chars[q]&&(this.chars[q].kerning[Q]=ae)}this.distanceFieldRange=c==null?void 0:c.distanceRange,this.distanceFieldType=(s=(i=c==null?void 0:c.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&s!==void 0?s:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof Xf)i=e;else{var s=dS(e);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(e)}r instanceof de&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),s=i.chars,o=i.padding,a=i.resolution,u=i.textureWidth,c=i.textureHeight,d=e3(s),p=r instanceof dr?r:new dr(r),v=u,m=new Xf;m.info[0]={face:p.fontFamily,size:p.fontSize},m.common[0]={lineHeight:p.fontSize};for(var g=0,b=0,y,E,T,S=0,A=[],R=0;R<d.length;R++){y||(y=J.ADAPTER.createCanvas(),y.width=u,y.height=c,E=y.getContext("2d"),T=new Me(y,{resolution:a}),A.push(new de(T)),m.page.push({id:A.length-1,file:""}));var I=d[R],P=Hn.measureText(I,p,!1,y),k=P.width,N=Math.ceil(P.height),D=Math.ceil((p.fontStyle==="italic"?2:1)*k);if(b>=c-N*a){if(b===0)throw new Error("[BitmapFont] textureHeight "+c+"px is too small "+("(fontFamily: '"+p.fontFamily+"', fontSize: "+p.fontSize+"px, char: '"+I+"')"));--R,y=null,E=null,T=null,b=0,g=0,S=0;continue}if(S=Math.max(N+P.fontProperties.descent,S),D*a+g>=v){if(g===0)throw new Error("[BitmapFont] textureWidth "+u+"px is too small "+("(fontFamily: '"+p.fontFamily+"', fontSize: "+p.fontSize+"px, char: '"+I+"')"));--R,b+=S*a,b=Math.ceil(b),g=0,S=0;continue}Jk(y,E,P,g,b,a,p);var V=Yc(P.text);m.char.push({id:V,page:A.length-1,x:g/a,y:b/a,width:D,height:N,xoffset:0,yoffset:0,xadvance:Math.ceil(k-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0))}),g+=(D+2*o)*a,g=Math.ceil(g)}for(var R=0,Q=d.length;R<Q;R++)for(var q=d[R],ae=0;ae<Q;ae++){var W=d[ae],$=E.measureText(q).width,se=E.measureText(W).width,Se=E.measureText(q+W).width,pe=Se-($+se);pe&&m.kerning.push({first:Yc(q),second:Yc(W),amount:pe})}var H=new t(m,A,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=H,H},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),t3=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,r3=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,xb=[],bb=[],Eb=[],n3=function(t){qk(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var s=Object.assign({},e.styleDefaults,n),o=s.align,a=s.tint,u=s.maxWidth,c=s.letterSpacing,d=s.fontName,p=s.fontSize;if(!ji.available[d])throw new Error('Missing BitmapFont "'+d+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=a,i._font=void 0,i._fontName=d,i._fontSize=p,i.text=r,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=c,i._anchor=new Ks(function(){i.dirty=!0},i,0,0),i._roundPixels=J.ROUND_PIXELS,i.dirty=!0,i._resolution=J.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=ji.available[this._fontName],i=this.fontSize,s=i/n.size,o=new tt,a=[],u=[],c=[],d=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",p=pS(d),v=this._maxWidth*n.size/i,m=n.distanceFieldType==="none"?xb:bb,g=null,b=0,y=0,E=0,T=-1,S=0,A=0,R=0,I=0,P=0;P<p.length;P++){var k=p[P],N=Yc(k);if(/(?:\s)/.test(k)&&(T=P,S=b,I++),k==="\r"||k===`
`){u.push(b),c.push(-1),y=Math.max(y,b),++E,++A,o.x=0,o.y+=n.lineHeight,g=null,I=0;continue}var D=n.chars[N];if(!!D){g&&D.kerning[g]&&(o.x+=D.kerning[g]);var V=Eb.pop()||{texture:de.EMPTY,line:0,charCode:0,prevSpaces:0,position:new tt};V.texture=D.texture,V.line=E,V.charCode=N,V.position.x=o.x+D.xOffset+this._letterSpacing/2,V.position.y=o.y+D.yOffset,V.prevSpaces=I,a.push(V),b=V.position.x+Math.max(D.xAdvance-D.xOffset,D.texture.orig.width),o.x+=D.xAdvance+this._letterSpacing,R=Math.max(R,D.yOffset+D.texture.height),g=N,T!==-1&&v>0&&o.x>v&&(++A,ma(a,1+T-A,1+P-T),P=T,T=-1,u.push(S),c.push(a.length>0?a[a.length-1].prevSpaces:0),y=Math.max(y,S),E++,o.x=0,o.y+=n.lineHeight,g=null,I=0)}}var Q=p[p.length-1];Q!=="\r"&&Q!==`
`&&(/(?:\s)/.test(Q)&&(b=S),u.push(b),y=Math.max(y,b),c.push(-1));for(var q=[],P=0;P<=E;P++){var ae=0;this._align==="right"?ae=y-u[P]:this._align==="center"?ae=(y-u[P])/2:this._align==="justify"&&(ae=c[P]<0?0:(y-u[P])/c[P]),q.push(ae)}var W=a.length,$={},se=[],Se=this._activePagesMeshData;m.push.apply(m,Se);for(var P=0;P<W;P++){var pe=a[P].texture,H=pe.baseTexture.uid;if(!$[H]){var M=m.pop();if(!M){var L=new xd,z=void 0,X=void 0;n.distanceFieldType==="none"?(z=new Cu(de.EMPTY),X=ue.NORMAL):(z=new Cu(de.EMPTY,{program:Gu.from(r3,t3),uniforms:{uFWidth:0}}),X=ue.NORMAL_NPM);var oe=new Au(L,z);oe.blendMode=X,M={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:oe,vertices:null,uvs:null,indices:null}}M.index=0,M.indexCount=0,M.vertexCount=0,M.uvsCount=0,M.total=0;var ve=this._textureCache;ve[H]=ve[H]||new de(pe.baseTexture),M.mesh.texture=ve[H],M.mesh.tint=this._tint,se.push(M),$[H]=M}$[H].total++}for(var P=0;P<Se.length;P++)se.indexOf(Se[P])===-1&&this.removeChild(Se[P].mesh);for(var P=0;P<se.length;P++)se[P].mesh.parent!==this&&this.addChild(se[P].mesh);this._activePagesMeshData=se;for(var P in $){var M=$[P],Te=M.total;if(!(((r=M.indices)===null||r===void 0?void 0:r.length)>6*Te)||M.vertices.length<Au.BATCHABLE_SIZE*2)M.vertices=new Float32Array(4*2*Te),M.uvs=new Float32Array(4*2*Te),M.indices=new Uint16Array(6*Te);else for(var Pe=M.total,Le=M.vertices,ze=Pe*4*2;ze<Le.length;ze++)Le[ze]=0;M.mesh.size=6*Te}for(var P=0;P<W;P++){var k=a[P],De=k.position.x+q[k.line]*(this._align==="justify"?k.prevSpaces:1);this._roundPixels&&(De=Math.round(De));var ke=De*s,Re=k.position.y*s,pe=k.texture,Ae=$[pe.baseTexture.uid],Qe=pe.frame,ir=pe._uvs,Be=Ae.index++;Ae.indices[Be*6+0]=0+Be*4,Ae.indices[Be*6+1]=1+Be*4,Ae.indices[Be*6+2]=2+Be*4,Ae.indices[Be*6+3]=0+Be*4,Ae.indices[Be*6+4]=2+Be*4,Ae.indices[Be*6+5]=3+Be*4,Ae.vertices[Be*8+0]=ke,Ae.vertices[Be*8+1]=Re,Ae.vertices[Be*8+2]=ke+Qe.width*s,Ae.vertices[Be*8+3]=Re,Ae.vertices[Be*8+4]=ke+Qe.width*s,Ae.vertices[Be*8+5]=Re+Qe.height*s,Ae.vertices[Be*8+6]=ke,Ae.vertices[Be*8+7]=Re+Qe.height*s,Ae.uvs[Be*8+0]=ir.x0,Ae.uvs[Be*8+1]=ir.y0,Ae.uvs[Be*8+2]=ir.x1,Ae.uvs[Be*8+3]=ir.y1,Ae.uvs[Be*8+4]=ir.x2,Ae.uvs[Be*8+5]=ir.y2,Ae.uvs[Be*8+6]=ir.x3,Ae.uvs[Be*8+7]=ir.y3}this._textWidth=y*s,this._textHeight=(o.y+n.lineHeight)*s;for(var P in $){var M=$[P];if(this.anchor.x!==0||this.anchor.y!==0)for(var yr=0,Xn=this._textWidth*this.anchor.x,xo=this._textHeight*this.anchor.y,$u=0;$u<M.total;$u++)M.vertices[yr++]-=Xn,M.vertices[yr++]-=xo,M.vertices[yr++]-=Xn,M.vertices[yr++]-=xo,M.vertices[yr++]-=Xn,M.vertices[yr++]-=xo,M.vertices[yr++]-=Xn,M.vertices[yr++]-=xo;this._maxLineHeight=R*s;var wi=M.mesh.geometry.getBuffer("aVertexPosition"),Wu=M.mesh.geometry.getBuffer("aTextureCoord"),Yu=M.mesh.geometry.getIndex();wi.data=M.vertices,Wu.data=M.uvs,Yu.data=M.indices,wi.update(),Wu.update(),Yu.update()}for(var P=0;P<a.length;P++)Eb.push(a[P]);this._font=n,this.dirty=!1},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=ji.available[this._fontName],i=n.distanceFieldRange,s=n.distanceFieldType,o=n.size;if(s!=="none")for(var a=this.worldTransform,u=a.a,c=a.b,d=a.c,p=a.d,v=Math.sqrt(u*u+c*c),m=Math.sqrt(d*d+p*p),g=(Math.abs(v)+Math.abs(m))/2,b=this.fontSize/o,y=0,E=this._activePagesMeshData;y<E.length;y++){var T=E[y];T.mesh.shader.uniforms.uFWidth=g*i*b*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){var r=ji.available[this._fontName];if(!r)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==r&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!ji.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){var r;return(r=this._fontSize)!==null&&r!==void 0?r:ji.available[this._fontName].size},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r==null?"":r),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache,i=ji.available[this._fontName],s=i.distanceFieldType==="none"?xb:bb;s.push.apply(s,this._activePagesMeshData);for(var o=0,a=this._activePagesMeshData;o<a.length;o++){var u=a[o];this.removeChild(u.mesh)}this._activePagesMeshData=[],s.filter(function(p){return n[p.mesh.texture.baseTexture.uid]}).forEach(function(p){p.mesh.texture=de.EMPTY});for(var c in n){var d=n[c];d.destroy(),delete n[c]}this._font=null,this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}($t),i3=function(){function t(){}return t.add=function(){_t.setExtensionXhrType("fnt",_t.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=dS(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),s=n.parse(e.data),o={},a=function(b){o[b.metadata.pageFile]=b.texture,Object.keys(o).length===s.page.length&&(e.bitmapFont=ji.install(s,o,!0),r())},u=0;u<s.page.length;++u){var c=s.page[u].file,d=i+c,p=!1;for(var v in this.resources){var m=this.resources[v];if(m.url===d){m.metadata.pageFile=c,m.texture?a(m):m.onAfterMiddleware.add(a),p=!0;break}}if(!p){var g={crossOrigin:e.crossOrigin,loadType:_t.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:c},e.metadata.imageMetadata),parentResource:e};this.add(d,g,a)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t.extension=Ze.Loader,t}();/*!
 * @pixi/filter-alpha - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cg=function(t,e){return Cg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Cg(t,e)};function s3(t,e){Cg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var o3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(t){s3(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,KF,o3,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e})(gs);/*!
 * @pixi/filter-blur - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Rg=function(t,e){return Rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Rg(t,e)};function vS(t,e){Rg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var a3=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function l3(t,e){var r=Math.ceil(t/2),n=a3,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",o-(r-1)+".0"),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var u3={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},h3=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function c3(t){for(var e=u3[t],r=e.length,n=h3,i="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,a=0;a<t;a++){var u=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var Tb=function(t){vS(e,t);function e(r,n,i,s,o){n===void 0&&(n=8),i===void 0&&(i=4),s===void 0&&(s=J.FILTER_RESOLUTION),o===void 0&&(o=5);var a=this,u=l3(o,r),c=c3(o);return a=t.call(this,u,c)||this,a.horizontal=r,a.resolution=s,a._quality=0,a.quality=i,a.blur=n,a}return e.prototype.apply=function(r,n,i,s){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,s);else{var o=r.getFilterTexture(),a=r.renderer,u=n,c=o;this.state.blend=!1,r.applyFilter(this,u,c,hn.CLEAR);for(var d=1;d<this.passes-1;d++){r.bindAndClear(u,hn.BLIT),this.uniforms.uSampler=c;var p=c;c=u,u=p,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,c,i,s),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(gs);(function(t){vS(e,t);function e(r,n,i,s){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=J.FILTER_RESOLUTION),s===void 0&&(s=5);var o=t.call(this)||this;return o.blurXFilter=new Tb(!0,r,n,i,s),o.blurYFilter=new Tb(!1,r,n,i,s),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,s){var o=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(o&&a){var u=r.getFilterTexture();this.blurXFilter.apply(r,n,u,hn.CLEAR),this.blurYFilter.apply(r,u,i,s),r.returnFilterTexture(u)}else a?this.blurYFilter.apply(r,n,i,s):this.blurXFilter.apply(r,n,i,s)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e})(gs);/*!
 * @pixi/filter-color-matrix - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ig=function(t,e){return Ig=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ig(t,e)};function f3(t,e){Ig(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var d3=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,wb=function(t){f3(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,rS,d3,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,s=r>>8&255,o=r&255,a=[i/255,0,0,0,0,0,s/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),s=Math.sin(r),o=Math.sqrt,a=1/3,u=o(a),c=i+(1-i)*a,d=a*(1-i)-u*s,p=a*(1-i)+u*s,v=a*(1-i)+u*s,m=i+a*(1-i),g=a*(1-i)-u*s,b=a*(1-i)-u*s,y=a*(1-i)+u*s,E=i+a*(1-i),T=[c,d,p,0,0,v,m,g,0,0,b,y,E,0,0,0,0,0,1,0];this._loadMatrix(T,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,s=-.5*(i-1),o=[i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,s=(i-1)*-.5,o=[i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,s,o){r=r||.2,n=n||.15,i=i||16770432,s=s||3375104;var a=(i>>16&255)/255,u=(i>>8&255)/255,c=(i&255)/255,d=(s>>16&255)/255,p=(s>>8&255)/255,v=(s&255)/255,m=[.3,.59,.11,0,0,a,u,c,r,0,d,p,v,n,0,a-d,u-p,c-v,0,0];this._loadMatrix(m,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(gs);wb.prototype.grayscale=wb.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Pg=function(t,e){return Pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Pg(t,e)};function p3(t,e){Pg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var v3=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,m3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(t){p3(e,t);function e(r,n){var i=this,s=new Bt;return r.renderable=!1,i=t.call(this,m3,v3,{mapSampler:r._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=s,n==null&&(n=20),i.scale=new tt(n,n),i}return e.prototype.apply=function(r,n,i,s){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,a=Math.sqrt(o.a*o.a+o.b*o.b),u=Math.sqrt(o.c*o.c+o.d*o.d);a!==0&&u!==0&&(this.uniforms.rotation[0]=o.a/a,this.uniforms.rotation[1]=o.b/a,this.uniforms.rotation[2]=o.c/u,this.uniforms.rotation[3]=o.d/u),r.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e})(gs);/*!
 * @pixi/filter-fxaa - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Og=function(t,e){return Og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Og(t,e)};function g3(t,e){Og(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var y3=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,_3=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(t){g3(e,t);function e(){return t.call(this,y3,_3)||this}return e})(gs);/*!
 * @pixi/filter-noise - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ng=function(t,e){return Ng=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ng(t,e)};function x3(t,e){Ng(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var b3=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(t){x3(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,rS,b3,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e})(gs);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var mS=new Bt;Et.prototype._cacheAsBitmap=!1;Et.prototype._cacheData=null;Et.prototype._cacheAsBitmapResolution=null;Et.prototype._cacheAsBitmapMultisample=gt.NONE;var E3=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(Et.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new E3),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});Et.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};Et.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var s=this.filters[0].padding;i.pad(s)}i.ceil(J.RESOLUTION);var o=e.renderTexture.current,a=e.renderTexture.sourceFrame.clone(),u=e.renderTexture.destinationFrame.clone(),c=e.projection.transform,d=ho.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),p="cacheAsBitmap_"+uo();this._cacheData.textureCacheId=p,Me.addToCache(d.baseTexture,p),de.addToCache(d,p);var v=this.transform.localTransform.copyTo(mS).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:d,clear:!0,transform:v,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=c,e.renderTexture.bind(o,a,u),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var m=new dt(d);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(i.x/i.width),m.anchor.y=-(i.y/i.height),m.alpha=n,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=m.containsPoint.bind(m)}};Et.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};Et.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,s=e._projTransform;r.ceil(J.RESOLUTION);var o=ho.create({width:r.width,height:r.height}),a="cacheAsBitmap_"+uo();this._cacheData.textureCacheId=a,Me.addToCache(o.baseTexture,a),de.addToCache(o,a);var u=mS;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=r.x,u.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:u,skipUpdateTransform:!1}),e.context=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var c=new dt(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(r.x/r.width),c.anchor.y=-(r.y/r.height),c.alpha=n,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)}};Et.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};Et.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};Et.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Me.removeFromCache(this._cacheData.textureCacheId),de.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};Et.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Et.prototype.name=null;$t.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var s=this.children[n];if(!!s.getChildByName){var o=s.getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Et.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new tt),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/app - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var T3=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!r._resizeTo||(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(!!r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var s=r._resizeTo,o=s.clientWidth,a=s.clientHeight;n=o,i=a}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=Ze.Application,t}(),bd=function(){function t(e){var r=this;this.stage=new $t,e=Object.assign({forceCanvas:!1},e),this.renderer=qF(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){pn("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),Ei.add({type:Ze.Application,ref:e})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(s){s.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}();Ei.handleByList(Ze.Application,bd._plugins);Ei.add(T3);/*!
 * @pixi/mesh-extras - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Mg=function(t,e){return Mg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Mg(t,e)};function Ma(t,e){Mg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var w3=function(t){Ma(e,t);function e(r,n,i,s){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),s===void 0&&(s=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=s,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],s=[],o=this.segWidth-1,a=this.segHeight-1,u=this.width/o,c=this.height/a,d=0;d<r;d++){var p=d%this.segWidth,v=d/this.segWidth|0;n.push(p*u,v*c),i.push(p/o,v/a)}for(var m=o*a,d=0;d<m;d++){var g=d%o,b=d/o|0,y=b*this.segWidth+g,E=b*this.segWidth+g+1,T=(b+1)*this.segWidth+g,S=(b+1)*this.segWidth+g+1;s.push(y,E,T,E,S,T)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(xd),S3=function(t){Ma(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var s=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return s.points=n,s._width=r,s.textureScale=i,s.build(),s}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(!!r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),s=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),s.data=new Uint16Array((r.length-1)*6));var o=i.data,a=s.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var u=0,c=r[0],d=this._width*this.textureScale,p=r.length,v=0;v<p;v++){var m=v*4;if(this.textureScale>0){var g=c.x-r[v].x,b=c.y-r[v].y,y=Math.sqrt(g*g+b*b);c=r[v],u+=y/d}else u=v/(p-1);o[m]=u,o[m+1]=0,o[m+2]=u,o[m+3]=1}for(var E=0,v=0;v<p-1;v++){var m=v*2;a[E++]=m,a[E++]=m+1,a[E++]=m+2,a[E++]=m+2,a[E++]=m+1,a[E++]=m+3}i.update(),s.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,s=0,o=0,a=this.buffers[0].data,u=r.length,c=0;c<u;c++){var d=r[c],p=c*4;c<r.length-1?i=r[c+1]:i=d,o=-(i.x-n.x),s=i.y-n.y;var v=Math.sqrt(s*s+o*o),m=this.textureScale>0?this.textureScale*this._width/2:this._width/2;s/=v,o/=v,s*=m,o*=m,a[p]=d.x+s,a[p+1]=d.y+o,a[p+2]=d.x-s,a[p+3]=d.y-o,n=d}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(xd),A3=function(t){Ma(e,t);function e(r,n,i){i===void 0&&(i=0);var s=this,o=new S3(r.height,n,i),a=new Cu(r);return i>0&&(r.baseTexture.wrapMode=Bn.REPEAT),s=t.call(this,o,a)||this,s.autoUpdate=!0,s}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(Au),C3=function(t){Ma(e,t);function e(r,n,i){var s=this,o=new w3(r.width,r.height,n,i),a=new Cu(de.WHITE);return s=t.call(this,o,a)||this,s.texture=r,s.autoResize=!0,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,s=n.height;this.autoResize&&(r.width!==i||r.height!==s)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(Au),R3=function(t){Ma(e,t);function e(r,n,i,s,o){r===void 0&&(r=de.EMPTY);var a=this,u=new xd(n,i,s);u.getBuffer("aVertexPosition").static=!1;var c=new Cu(r);return a=t.call(this,u,c,null,o)||this,a.autoUpdate=!0,a}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(Au),bc=10,I3=function(t){Ma(e,t);function e(r,n,i,s,o){n===void 0&&(n=bc),i===void 0&&(i=bc),s===void 0&&(s=bc),o===void 0&&(o=bc);var a=t.call(this,de.WHITE,4,4)||this;return a._origWidth=r.orig.width,a._origHeight=r.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=n,a._rightWidth=s,a._topHeight=i,a._bottomHeight=o,a.texture=r,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,s=this._height>i?1:this._height/i,o=Math.min(n,s);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,s=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=s*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(C3);/*!
 * @pixi/sprite-animated - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Fg=function(t,e){return Fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Fg(t,e)};function P3(t,e){Fg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Sb=function(t){P3(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof de?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ht.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ht.shared.add(this.update,this,xi.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(!!this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=n/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(de.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(de.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof de)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(Ht.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ht.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(dt);/*!
 * pixi.js - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */Ei.add(uL,vL,pL,lk,Dk,iS,Vk,i3,NL,nk,ik,Uk,CM,TL);function Ab(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Sr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ab(Object(r),!0).forEach(function(n){jt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ab(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ds(t){return(ds=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function O3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function N3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function jt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ed(){return(Ed=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Lg(t){return(Lg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function oy(t,e){return(oy=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r})(t,e)}function gS(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function yS(t,e,r){return(yS=gS()?Reflect.construct:function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&oy(a,s.prototype),a}).apply(null,arguments)}function Hi(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var u,c,d={},p=Object.keys(o);for(c=0;c<p.length;c++)u=p[c],a.indexOf(u)>=0||(d[u]=o[u]);return d}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function si(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function M3(t,e){return!e||typeof e!="object"&&typeof e!="function"?si(t):e}function bi(t){return function(e){if(Array.isArray(e))return Gv(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(!!e){if(typeof e=="string")return Gv(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gv(e,r)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Mt(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var F3=function(t){return t==null};function Dl(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=bi(t);else{if(t===null||ds(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!F3(r)&&!isNaN(r)}).map(Number)}function Cb(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function zv(t){return t instanceof tt||t instanceof Ks}var Vf=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function jv(t,e,r){if(zv(t[e])&&zv(r))t[e].copyFrom(r);else if(zv(t[e])){var n=Dl(r);Mt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),ds(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Uo,_S=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},xS=function(t){return function(){return!t.apply(void 0,arguments)}},L3=(jt(Uo={},"children",!0),jt(Uo,"parent",!0),jt(Uo,"worldAlpha",!0),jt(Uo,"worldTransform",!0),jt(Uo,"worldVisible",!0),Uo),kg={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Tn=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var u,c;a==null||(u=a.__reactpixi)===null||u===void 0||(c=u.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,u){if(r.hasOwnProperty(a))return Mt(u.typeofs.some(function(c){return ds(r[a])===c})||u.instanceofs.some(function(c){return r[a]instanceof c}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return Mt(r.texture instanceof de,"".concat(t," texture needs to be typeof `PIXI.Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,de]});Mt(!!s,"".concat(t," could not get texture from props"));var o=de.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},k3=xS(_S([].concat(bi(Object.keys(L3)),bi(Vf))));function Sn(t,e,r){var n=!1;if(Mt(Et.prototype.isPrototypeOf(t),"instance needs to be typeof `PIXI.DisplayObject`, got `%s`",ds(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<Vf.length;o++){var a=Vf[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var u=Object.keys(r||{});if(!r.overwriteProps){for(var c=u.filter(k3),d=0;d<c.length;d++){var p=c[d],v=r[p];r[p]!==e[p]&&(n=!0),v!==void 0?jv(t,p,v):p in kg?(console.warn("setting default value: ".concat(p,", from: ").concat(t[p]," to: ").concat(v," for"),t),n=!0,jv(t,p,kg[p])):console.warn("ignoring prop: ".concat(p,", from ").concat(t[p]," to ").concat(v," for"),t)}return n}for(var m=0;m<u.length;m++){var g=u[m];e[g]!==r[g]&&(n=!0,jv(t,g,r[g]))}}var D3=["draw","geometry"],B3=["image","texture"],U3=["image","texture"],G3=["textures","isPlaying","initialFrame"],z3=["tileScale","tilePosition","image","texture"],j3=["image","texture"],H3=["image","texture"],X3=Object.freeze({__proto__:null,BitmapText:function(t,e){var r=e.text,n=e.style;return new n3(r,n)},Container:function(){return new $t},Graphics:function(t,e){var r=e.geometry;Mt(!r||r instanceof mi,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new mi(r.geometry):new mi;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var u=Sn(i,s,Hi(o,D3));return s.draw!==a&&typeof a=="function"&&(u=!0,a.call(n,n)),u},n},NineSlicePlane:function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,u=e.bottomHeight,c=u===void 0?10:u,d=Tn("NineSlicePlane",t,e),p=new I3(d,n,s,a,c);return p.applyProps=function(v,m,g){var b=g.image,y=g.texture,E=Sn(v,m,Hi(g,B3));return(b||y)&&(y!==m.texture&&(E=!0),v.texture=Tn("NineSlicePlane",t,g)),E},p},ParticleContainer:function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,u=Sr(Sr({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),c=Sr(Sr({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),d=new sk(n,u,s,a);return d.willUnmount=function(p,v,m){p.destroy(c)},d},Sprite:function(t,e){var r=new dt(Tn("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,u=Sn(n,i,Hi(s,U3));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(u=!0),n.texture=Tn("Sprite",t,s)),u},r},Text:function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new zu(n,s);return o?(a.updateText(),new dt(a.texture)):a},TilingSprite:function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=Tn("TilingSprite",t,e),a=new Gk(o,n,s);return a.applyProps=function(u,c,d){var p=d.tileScale,v=d.tilePosition,m=d.image,g=d.texture,b=Sn(u,c,Hi(d,z3));if(v){var y,E=Dl(v);(y=u.tilePosition).set.apply(y,bi(E)),b=!Cb(Dl(c.tilePosition),E)||b}if(p){var T,S=Dl(p);(T=u.tileScale).set.apply(T,bi(S)),b=!Cb(Dl(c.tileScale),S)||b}return(m||g)&&(g!==c.texture&&(b=!0),u.texture=Tn("Sprite",t,d)),b},a},SimpleMesh:function(t,e){var r=Tn("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?qr.TRIANGLES:o,u=new R3(r,n,i,s,a);return u.applyProps=function(c,d,p){var v=p.image,m=p.texture,g=Sn(c,d,Hi(p,j3));return(v||m)&&(m!==d.texture&&(g=!0),c.texture=Tn("Mesh",t,p)),g},u},SimpleRope:function(t,e){var r=Tn("SimpleRope",t,e),n=e.points,i=new A3(r,n);return i.applyProps=function(s,o,a){var u=a.image,c=a.texture,d=Hi(a,H3);Mt(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var p=Sn(s,o,d);return(u||c)&&(c!==o.texture&&(p=!0),s.texture=Tn("SimpleRope",t,a)),p},i},AnimatedSprite:function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(c){return c.map(function(d){return Mt(d instanceof de||(d==null?void 0:d.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time: number }`"),d})},u=n?Sb.fromImages(n):new Sb(a(r));return u[s?"gotoAndPlay":"gotoAndStop"](o||0),u.applyProps=function(c,d,p){var v=p.textures,m=p.isPlaying,g=p.initialFrame,b=Sn(c,d,Hi(p,G3));if(v&&d.textures!==v&&(c.textures=a(v),b=!0),m!==d.isPlaying||g!==d.initialFrame){var y=typeof g=="number"?g:u.currentFrame||0;u[m?"gotoAndPlay":"gotoAndStop"](y),b=!0}return b},u}}),Dr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},V3=Object.keys(Dr).reduce(function(t,e){return Sr(Sr({},t),{},jt({},e,X3[e]))},{}),bS={};function $3(t,e){return Mt(!!t,"Expect type to be defined, got `%s`",t),Mt(!Dr[t],"Component `%s` could not be created, already exists in default components.",t),bS[t]=e,t}var W3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tn(t,e){return t(e={exports:{}},e.exports),e.exports;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/}var Rb=Object.getOwnPropertySymbols,Y3=Object.prototype.hasOwnProperty,q3=Object.prototype.propertyIsEnumerable;function Z3(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var Q3=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if(Object.getOwnPropertyNames(e).map(function(i){return e[i]}).join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(i){n[i]=i}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(t,e){for(var r,n,i=Z3(t),s=1;s<arguments.length;s++){for(var o in r=Object(arguments[s]))Y3.call(r,o)&&(i[o]=r[o]);if(Rb){n=Rb(r);for(var a=0;a<n.length;a++)q3.call(r,n[a])&&(i[n[a]]=r[n[a]])}}return i},Ct=tn(function(t,e){var r,n,i,s;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}if(typeof window>"u"||typeof MessageChannel!="function"){var c=null,d=null,p=function(){if(c!==null)try{var L=e.unstable_now();c(!0,L),c=null}catch(z){throw setTimeout(p,0),z}};r=function(L){c!==null?setTimeout(r,0,L):(c=L,setTimeout(p,0))},n=function(L,z){d=setTimeout(L,z)},i=function(){clearTimeout(d)},e.unstable_shouldYield=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var v=window.setTimeout,m=window.clearTimeout;if(typeof console<"u"){var g=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof g!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var b=!1,y=null,E=-1,T=5,S=0;e.unstable_shouldYield=function(){return e.unstable_now()>=S},s=function(){},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5};var A=new MessageChannel,R=A.port2;A.port1.onmessage=function(){if(y!==null){var L=e.unstable_now();S=L+T;try{y(!0,L)?R.postMessage(null):(b=!1,y=null)}catch(z){throw R.postMessage(null),z}}else b=!1},r=function(L){y=L,b||(b=!0,R.postMessage(null))},n=function(L,z){E=v(function(){L(e.unstable_now())},z)},i=function(){m(E),E=-1}}function I(L,z){var X=L.length;L.push(z);e:for(;;){var oe=X-1>>>1,ve=L[oe];if(!(ve!==void 0&&0<N(ve,z)))break e;L[oe]=z,L[X]=ve,X=oe}}function P(L){return(L=L[0])===void 0?null:L}function k(L){var z=L[0];if(z!==void 0){var X=L.pop();if(X!==z){L[0]=X;e:for(var oe=0,ve=L.length;oe<ve;){var Te=2*(oe+1)-1,Pe=L[Te],Le=Te+1,ze=L[Le];if(Pe!==void 0&&0>N(Pe,X))ze!==void 0&&0>N(ze,Pe)?(L[oe]=ze,L[Le]=X,oe=Le):(L[oe]=Pe,L[Te]=X,oe=Te);else{if(!(ze!==void 0&&0>N(ze,X)))break e;L[oe]=ze,L[Le]=X,oe=Le}}}return z}return null}function N(L,z){var X=L.sortIndex-z.sortIndex;return X!==0?X:L.id-z.id}var D=[],V=[],Q=1,q=null,ae=3,W=!1,$=!1,se=!1;function Se(L){for(var z=P(V);z!==null;){if(z.callback===null)k(V);else{if(!(z.startTime<=L))break;k(V),z.sortIndex=z.expirationTime,I(D,z)}z=P(V)}}function pe(L){if(se=!1,Se(L),!$)if(P(D)!==null)$=!0,r(H);else{var z=P(V);z!==null&&n(pe,z.startTime-L)}}function H(L,z){$=!1,se&&(se=!1,i()),W=!0;var X=ae;try{for(Se(z),q=P(D);q!==null&&(!(q.expirationTime>z)||L&&!e.unstable_shouldYield());){var oe=q.callback;if(typeof oe=="function"){q.callback=null,ae=q.priorityLevel;var ve=oe(q.expirationTime<=z);z=e.unstable_now(),typeof ve=="function"?q.callback=ve:q===P(D)&&k(D),Se(z)}else k(D);q=P(D)}if(q!==null)var Te=!0;else{var Pe=P(V);Pe!==null&&n(pe,Pe.startTime-z),Te=!1}return Te}finally{q=null,ae=X,W=!1}}var M=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){$||W||($=!0,r(H))},e.unstable_getCurrentPriorityLevel=function(){return ae},e.unstable_getFirstCallbackNode=function(){return P(D)},e.unstable_next=function(L){switch(ae){case 1:case 2:case 3:var z=3;break;default:z=ae}var X=ae;ae=z;try{return L()}finally{ae=X}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=M,e.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var X=ae;ae=L;try{return z()}finally{ae=X}},e.unstable_scheduleCallback=function(L,z,X){var oe=e.unstable_now();switch(typeof X=="object"&&X!==null?X=typeof(X=X.delay)=="number"&&0<X?oe+X:oe:X=oe,L){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return L={id:Q++,callback:z,priorityLevel:L,startTime:X,expirationTime:ve=X+ve,sortIndex:-1},X>oe?(L.sortIndex=X,I(V,L),P(D)===null&&L===P(V)&&(se?i():se=!0,n(pe,X-oe))):(L.sortIndex=ve,I(D,L),$||W||($=!0,r(H))),L},e.unstable_wrapCallback=function(L){var z=ae;return function(){var X=ae;ae=z;try{return L.apply(this,arguments)}finally{ae=X}}}});Ct.unstable_now,Ct.unstable_shouldYield,Ct.unstable_forceFrameRate,Ct.unstable_IdlePriority,Ct.unstable_ImmediatePriority,Ct.unstable_LowPriority,Ct.unstable_NormalPriority,Ct.unstable_Profiling,Ct.unstable_UserBlockingPriority,Ct.unstable_cancelCallback,Ct.unstable_continueExecution,Ct.unstable_getCurrentPriorityLevel,Ct.unstable_getFirstCallbackNode,Ct.unstable_next,Ct.unstable_pauseExecution,Ct.unstable_requestPaint,Ct.unstable_runWithPriority,Ct.unstable_scheduleCallback,Ct.unstable_wrapCallback;var Lt=tn(function(t,e){});Lt.unstable_now,Lt.unstable_shouldYield,Lt.unstable_forceFrameRate,Lt.unstable_IdlePriority,Lt.unstable_ImmediatePriority,Lt.unstable_LowPriority,Lt.unstable_NormalPriority,Lt.unstable_Profiling,Lt.unstable_UserBlockingPriority,Lt.unstable_cancelCallback,Lt.unstable_continueExecution,Lt.unstable_getCurrentPriorityLevel,Lt.unstable_getFirstCallbackNode,Lt.unstable_next,Lt.unstable_pauseExecution,Lt.unstable_requestPaint,Lt.unstable_runWithPriority,Lt.unstable_scheduleCallback,Lt.unstable_wrapCallback;var Dg=tn(function(t){t.exports=Ct});Dg.unstable_scheduleCallback,Dg.unstable_cancelCallback;var K3=tn(function(t){/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.exports=function(e){var r={},n=Q3,i=Ln,s=Dg;function o(l){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+l,f=1;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=60103,c=60106,d=60107,p=60108,v=60114,m=60109,g=60110,b=60112,y=60113,E=60120,T=60115,S=60116,A=60121,R=60129,I=60130,P=60131;if(typeof Symbol=="function"&&Symbol.for){var k=Symbol.for;u=k("react.element"),c=k("react.portal"),d=k("react.fragment"),p=k("react.strict_mode"),v=k("react.profiler"),m=k("react.provider"),g=k("react.context"),b=k("react.forward_ref"),y=k("react.suspense"),E=k("react.suspense_list"),T=k("react.memo"),S=k("react.lazy"),A=k("react.block"),k("react.scope"),R=k("react.debug_trace_mode"),I=k("react.offscreen"),P=k("react.legacy_hidden")}var N=typeof Symbol=="function"&&Symbol.iterator;function D(l){return l===null||typeof l!="object"?null:typeof(l=N&&l[N]||l["@@iterator"])=="function"?l:null}function V(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case d:return"Fragment";case c:return"Portal";case v:return"Profiler";case p:return"StrictMode";case y:return"Suspense";case E:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case g:return(l.displayName||"Context")+".Consumer";case m:return(l._context.displayName||"Context")+".Provider";case b:var h=l.render;return h=h.displayName||h.name||"",l.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case T:return V(l.type);case A:return V(l._render);case S:h=l._payload,l=l._init;try{return V(l(h))}catch{}}return null}function Q(l){var h=l,f=l;if(l.alternate)for(;h.return;)h=h.return;else{l=h;do(1026&(h=l).flags)!=0&&(f=h.return),l=h.return;while(l)}return h.tag===3?f:null}function q(l){if(Q(l)!==l)throw Error(o(188))}function ae(l){var h=l.alternate;if(!h){if((h=Q(l))===null)throw Error(o(188));return h!==l?null:l}for(var f=l,_=h;;){var x=f.return;if(x===null)break;var w=x.alternate;if(w===null){if((_=x.return)!==null){f=_;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===f)return q(x),l;if(w===_)return q(x),h;w=w.sibling}throw Error(o(188))}if(f.return!==_.return)f=x,_=w;else{for(var C=!1,O=x.child;O;){if(O===f){C=!0,f=x,_=w;break}if(O===_){C=!0,_=x,f=w;break}O=O.sibling}if(!C){for(O=w.child;O;){if(O===f){C=!0,f=w,_=x;break}if(O===_){C=!0,_=w,f=x;break}O=O.sibling}if(!C)throw Error(o(189))}}if(f.alternate!==_)throw Error(o(190))}if(f.tag!==3)throw Error(o(188));return f.stateNode.current===f?l:h}function W(l){if(!(l=ae(l)))return null;for(var h=l;;){if(h.tag===5||h.tag===6)return h;if(h.child)h.child.return=h,h=h.child;else{if(h===l)break;for(;!h.sibling;){if(!h.return||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}}return null}function $(l,h){for(var f=l.alternate;h!==null;){if(h===l||h===f)return!0;h=h.return}return!1}var se,Se=e.getPublicInstance,pe=e.getRootHostContext,H=e.getChildHostContext,M=e.prepareForCommit,L=e.resetAfterCommit,z=e.createInstance,X=e.appendInitialChild,oe=e.finalizeInitialChildren,ve=e.prepareUpdate,Te=e.shouldSetTextContent,Pe=e.createTextInstance,Le=e.scheduleTimeout,ze=e.cancelTimeout,De=e.noTimeout,ke=e.isPrimaryRenderer,Re=e.supportsMutation,Ae=e.supportsPersistence,Qe=e.supportsHydration,ir=e.getInstanceFromNode,Be=e.makeOpaqueHydratingObject,yr=e.makeClientId,Xn=e.beforeActiveInstanceBlur,xo=e.afterActiveInstanceBlur,$u=e.preparePortalMount,wi=e.supportsTestSelectors,Wu=e.findFiberRoot,Yu=e.getBoundingRect,lC=e.getTextContent,Ba=e.isHiddenSubtree,uC=e.matchAccessibilityRole,hC=e.setFocusIfFocusable,cC=e.setupIntersectionObserver,fC=e.appendChild,dC=e.appendChildToContainer,pC=e.commitTextUpdate,vC=e.commitMount,mC=e.commitUpdate,gC=e.insertBefore,yC=e.insertInContainerBefore,_C=e.removeChild,xC=e.removeChildFromContainer,_y=e.resetTextContent,bC=e.hideInstance,EC=e.hideTextInstance,TC=e.unhideInstance,wC=e.unhideTextInstance,Fd=e.clearContainer,SC=e.cloneInstance,xy=e.createContainerChildSet,by=e.appendChildToContainerChildSet,AC=e.finalizeContainerChildren,Ey=e.replaceContainerChildren,Ty=e.cloneHiddenInstance,wy=e.cloneHiddenTextInstance,CC=e.canHydrateInstance,RC=e.canHydrateTextInstance,IC=e.isSuspenseInstancePending,PC=e.isSuspenseInstanceFallback,Ld=e.getNextHydratableSibling,Sy=e.getFirstHydratableChild,OC=e.hydrateInstance,NC=e.hydrateTextInstance,MC=e.getNextHydratableInstanceAfterSuspenseInstance,Ay=e.commitHydratedContainer,FC=e.commitHydratedSuspenseInstance;function Ua(l){if(se===void 0)try{throw Error()}catch(f){var h=f.stack.trim().match(/\n( *(at )?)/);se=h&&h[1]||""}return`
`+se+l}var kd=!1;function qu(l,h){if(!l||kd)return"";kd=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(U){var _=U}Reflect.construct(l,[],h)}else{try{h.call()}catch(U){_=U}l.call(h.prototype)}else{try{throw Error()}catch(U){_=U}l()}}catch(U){if(U&&_&&typeof U.stack=="string"){for(var x=U.stack.split(`
`),w=_.stack.split(`
`),C=x.length-1,O=w.length-1;1<=C&&0<=O&&x[C]!==w[O];)O--;for(;1<=C&&0<=O;C--,O--)if(x[C]!==w[O]){if(C!==1||O!==1)do if(C--,0>--O||x[C]!==w[O])return`
`+x[C].replace(" at new "," at ");while(1<=C&&0<=O);break}}}finally{kd=!1,Error.prepareStackTrace=f}return(l=l?l.displayName||l.name:"")?Ua(l):""}var Dd=[],bo=-1;function Si(l){return{current:l}}function lt(l){0>bo||(l.current=Dd[bo],Dd[bo]=null,bo--)}function vt(l,h){bo++,Dd[bo]=l.current,l.current=h}var Ai={},sr=Si(Ai),_r=Si(!1),_s=Ai;function Eo(l,h){var f=l.type.contextTypes;if(!f)return Ai;var _=l.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===h)return _.__reactInternalMemoizedMaskedChildContext;var x,w={};for(x in f)w[x]=h[x];return _&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=h,l.__reactInternalMemoizedMaskedChildContext=w),w}function xr(l){return(l=l.childContextTypes)!=null}function Zu(){lt(_r),lt(sr)}function Cy(l,h,f){if(sr.current!==Ai)throw Error(o(168));vt(sr,h),vt(_r,f)}function Ry(l,h,f){var _=l.stateNode;if(l=h.childContextTypes,typeof _.getChildContext!="function")return f;for(var x in _=_.getChildContext())if(!(x in l))throw Error(o(108,V(h)||"Unknown",x));return n({},f,_)}function Qu(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||Ai,_s=sr.current,vt(sr,l),vt(_r,_r.current),!0}function Iy(l,h,f){var _=l.stateNode;if(!_)throw Error(o(169));f?(l=Ry(l,h,_s),_.__reactInternalMemoizedMergedChildContext=l,lt(_r),lt(sr),vt(sr,l)):lt(_r),vt(_r,f)}var Bd=null,xs=null;(0,s.unstable_now)();var Ku=0,Ke=8;function bs(l){if((1&l)!=0)return Ke=15,1;if((2&l)!=0)return Ke=14,2;if((4&l)!=0)return Ke=13,4;var h=24&l;return h!==0?(Ke=12,h):(32&l)!=0?(Ke=11,32):(h=192&l)!==0?(Ke=10,h):(256&l)!=0?(Ke=9,256):(h=3584&l)!==0?(Ke=8,h):(4096&l)!=0?(Ke=7,4096):(h=4186112&l)!==0?(Ke=6,h):(h=62914560&l)!==0?(Ke=5,h):67108864&l?(Ke=4,67108864):(134217728&l)!=0?(Ke=3,134217728):(h=805306368&l)!==0?(Ke=2,h):(1073741824&l)!=0?(Ke=1,1073741824):(Ke=8,l)}function Ga(l,h){var f=l.pendingLanes;if(f===0)return Ke=0;var _=0,x=0,w=l.expiredLanes,C=l.suspendedLanes,O=l.pingedLanes;if(w!==0)_=w,x=Ke=15;else if((w=134217727&f)!==0){var U=w&~C;U!==0?(_=bs(U),x=Ke):(O&=w)!==0&&(_=bs(O),x=Ke)}else(w=f&~C)!==0?(_=bs(w),x=Ke):O!==0&&(_=bs(O),x=Ke);if(_===0)return 0;if(_=f&((0>(_=31-Ci(_))?0:1<<_)<<1)-1,h!==0&&h!==_&&(h&C)==0){if(bs(h),x<=Ke)return h;Ke=x}if((h=l.entangledLanes)!==0)for(l=l.entanglements,h&=_;0<h;)x=1<<(f=31-Ci(h)),_|=l[f],h&=~x;return _}function Py(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function Ju(l,h){switch(l){case 15:return 1;case 14:return 2;case 12:return(l=To(24&~h))===0?Ju(10,h):l;case 10:return(l=To(192&~h))===0?Ju(8,h):l;case 8:return(l=To(3584&~h))===0&&(l=To(4186112&~h))===0&&(l=512),l;case 2:return(h=To(805306368&~h))===0&&(h=268435456),h}throw Error(o(358,l))}function To(l){return l&-l}function Ud(l){for(var h=[],f=0;31>f;f++)h.push(l);return h}function eh(l,h,f){l.pendingLanes|=h;var _=h-1;l.suspendedLanes&=_,l.pingedLanes&=_,(l=l.eventTimes)[h=31-Ci(h)]=f}var Ci=Math.clz32?Math.clz32:function(l){return l===0?32:31-(LC(l)/kC|0)|0},LC=Math.log,kC=Math.LN2,DC=s.unstable_runWithPriority,Gd=s.unstable_scheduleCallback,zd=s.unstable_cancelCallback,BC=s.unstable_shouldYield,Oy=s.unstable_requestPaint,jd=s.unstable_now,UC=s.unstable_getCurrentPriorityLevel,th=s.unstable_ImmediatePriority,Ny=s.unstable_UserBlockingPriority,My=s.unstable_NormalPriority,Fy=s.unstable_LowPriority,Ly=s.unstable_IdlePriority,Hd={},GC=Oy!==void 0?Oy:function(){},Vn=null,rh=null,Xd=!1,ky=jd(),Yt=1e4>ky?jd:function(){return jd()-ky};function wo(){switch(UC()){case th:return 99;case Ny:return 98;case My:return 97;case Fy:return 96;case Ly:return 95;default:throw Error(o(332))}}function Dy(l){switch(l){case 99:return th;case 98:return Ny;case 97:return My;case 96:return Fy;case 95:return Ly;default:throw Error(o(332))}}function $n(l,h){return l=Dy(l),DC(l,h)}function za(l,h,f){return l=Dy(l),Gd(l,h,f)}function Br(){if(rh!==null){var l=rh;rh=null,zd(l)}By()}function By(){if(!Xd&&Vn!==null){Xd=!0;var l=0;try{var h=Vn;$n(99,function(){for(;l<h.length;l++){var f=h[l];do f=f(!0);while(f!==null)}}),Vn=null}catch(f){throw Vn!==null&&(Vn=Vn.slice(l+1)),Gd(th,Br),f}finally{Xd=!1}}}var zC=a.ReactCurrentBatchConfig,Ur=typeof Object.is=="function"?Object.is:function(l,h){return l===h&&(l!==0||1/l==1/h)||l!=l&&h!=h},jC=Object.prototype.hasOwnProperty;function nh(l,h){if(Ur(l,h))return!0;if(typeof l!="object"||l===null||typeof h!="object"||h===null)return!1;var f=Object.keys(l),_=Object.keys(h);if(f.length!==_.length)return!1;for(_=0;_<f.length;_++)if(!jC.call(h,f[_])||!Ur(l[f[_]],h[f[_]]))return!1;return!0}function HC(l){switch(l.tag){case 5:return Ua(l.type);case 16:return Ua("Lazy");case 13:return Ua("Suspense");case 19:return Ua("SuspenseList");case 0:case 2:case 15:return l=qu(l.type,!1);case 11:return l=qu(l.type.render,!1);case 22:return l=qu(l.type._render,!1);case 1:return l=qu(l.type,!0);default:return""}}function nn(l,h){if(l&&l.defaultProps){for(var f in h=n({},h),l=l.defaultProps)h[f]===void 0&&(h[f]=l[f]);return h}return h}var ih=Si(null),sh=null,So=null,oh=null;function Vd(){oh=So=sh=null}function Uy(l,h){l=l.type._context,ke?(vt(ih,l._currentValue),l._currentValue=h):(vt(ih,l._currentValue2),l._currentValue2=h)}function $d(l){var h=ih.current;lt(ih),l=l.type._context,ke?l._currentValue=h:l._currentValue2=h}function Gy(l,h){for(;l!==null;){var f=l.alternate;if((l.childLanes&h)===h){if(f===null||(f.childLanes&h)===h)break;f.childLanes|=h}else l.childLanes|=h,f!==null&&(f.childLanes|=h);l=l.return}}function Ao(l,h){sh=l,oh=So=null,(l=l.dependencies)!==null&&l.firstContext!==null&&((l.lanes&h)!=0&&(sn=!0),l.firstContext=null)}function Gr(l,h){if(oh!==l&&h!==!1&&h!==0)if(typeof h=="number"&&h!==1073741823||(oh=l,h=1073741823),h={context:l,observedBits:h,next:null},So===null){if(sh===null)throw Error(o(308));So=h,sh.dependencies={lanes:0,firstContext:h,responders:null}}else So=So.next=h;return ke?l._currentValue:l._currentValue2}var Ri=!1;function Wd(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function zy(l,h){l=l.updateQueue,h.updateQueue===l&&(h.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ii(l,h){return{eventTime:l,lane:h,tag:0,payload:null,callback:null,next:null}}function Pi(l,h){if((l=l.updateQueue)!==null){var f=(l=l.shared).pending;f===null?h.next=h:(h.next=f.next,f.next=h),l.pending=h}}function jy(l,h){var f=l.updateQueue,_=l.alternate;if(_!==null&&f===(_=_.updateQueue)){var x=null,w=null;if((f=f.firstBaseUpdate)!==null){do{var C={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};w===null?x=w=C:w=w.next=C,f=f.next}while(f!==null);w===null?x=w=h:w=w.next=h}else x=w=h;return f={baseState:_.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:_.shared,effects:_.effects},void(l.updateQueue=f)}(l=f.lastBaseUpdate)===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=h}function ja(l,h,f,_){var x=l.updateQueue;Ri=!1;var w=x.firstBaseUpdate,C=x.lastBaseUpdate,O=x.shared.pending;if(O!==null){x.shared.pending=null;var U=O,K=U.next;U.next=null,C===null?w=K:C.next=K,C=U;var le=l.alternate;if(le!==null){var ge=(le=le.updateQueue).lastBaseUpdate;ge!==C&&(ge===null?le.firstBaseUpdate=K:ge.next=K,le.lastBaseUpdate=U)}}if(w!==null){for(ge=x.baseState,C=0,le=K=U=null;;){O=w.lane;var ee=w.eventTime;if((_&O)===O){le!==null&&(le=le.next={eventTime:ee,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var nt=l,ht=w;switch(O=h,ee=f,ht.tag){case 1:if(typeof(nt=ht.payload)=="function"){ge=nt.call(ee,ge,O);break e}ge=nt;break e;case 3:nt.flags=-4097&nt.flags|64;case 0:if((O=typeof(nt=ht.payload)=="function"?nt.call(ee,ge,O):nt)==null)break e;ge=n({},ge,O);break e;case 2:Ri=!0}}w.callback!==null&&(l.flags|=32,(O=x.effects)===null?x.effects=[w]:O.push(w))}else ee={eventTime:ee,lane:O,tag:w.tag,payload:w.payload,callback:w.callback,next:null},le===null?(K=le=ee,U=ge):le=le.next=ee,C|=O;if((w=w.next)===null){if((O=x.shared.pending)===null)break;w=O.next,O.next=null,x.lastBaseUpdate=O,x.shared.pending=null}}le===null&&(U=ge),x.baseState=U,x.firstBaseUpdate=K,x.lastBaseUpdate=le,rl|=C,l.lanes=C,l.memoizedState=ge}}function Hy(l,h,f){if(l=h.effects,h.effects=null,l!==null)for(h=0;h<l.length;h++){var _=l[h],x=_.callback;if(x!==null){if(_.callback=null,_=f,typeof x!="function")throw Error(o(191,x));x.call(_)}}}var Xy=new i.Component().refs;function ah(l,h,f,_){f=(f=f(_,h=l.memoizedState))==null?h:n({},h,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var lh={isMounted:function(l){return!!(l=l._reactInternals)&&Q(l)===l},enqueueSetState:function(l,h,f){l=l._reactInternals;var _=Er(),x=Mi(l),w=Ii(_,x);w.payload=h,f!=null&&(w.callback=f),Pi(l,w),Qn(l,x,_)},enqueueReplaceState:function(l,h,f){l=l._reactInternals;var _=Er(),x=Mi(l),w=Ii(_,x);w.tag=1,w.payload=h,f!=null&&(w.callback=f),Pi(l,w),Qn(l,x,_)},enqueueForceUpdate:function(l,h){l=l._reactInternals;var f=Er(),_=Mi(l),x=Ii(f,_);x.tag=2,h!=null&&(x.callback=h),Pi(l,x),Qn(l,_,f)}};function Vy(l,h,f,_,x,w,C){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(_,w,C):!h.prototype||!h.prototype.isPureReactComponent||!nh(f,_)||!nh(x,w)}function $y(l,h,f){var _=!1,x=Ai,w=h.contextType;return typeof w=="object"&&w!==null?w=Gr(w):(x=xr(h)?_s:sr.current,w=(_=(_=h.contextTypes)!=null)?Eo(l,x):Ai),h=new h(f,w),l.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=lh,l.stateNode=h,h._reactInternals=l,_&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=x,l.__reactInternalMemoizedMaskedChildContext=w),h}function Wy(l,h,f,_){l=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(f,_),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(f,_),h.state!==l&&lh.enqueueReplaceState(h,h.state,null)}function Yd(l,h,f,_){var x=l.stateNode;x.props=f,x.state=l.memoizedState,x.refs=Xy,Wd(l);var w=h.contextType;typeof w=="object"&&w!==null?x.context=Gr(w):(w=xr(h)?_s:sr.current,x.context=Eo(l,w)),ja(l,f,x,_),x.state=l.memoizedState,typeof(w=h.getDerivedStateFromProps)=="function"&&(ah(l,h,w,f),x.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(h=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),h!==x.state&&lh.enqueueReplaceState(x,x.state,null),ja(l,f,x,_),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4)}var uh=Array.isArray;function Ha(l,h,f){if((l=f.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(f._owner){if(f=f._owner){if(f.tag!==1)throw Error(o(309));var _=f.stateNode}if(!_)throw Error(o(147,l));var x=""+l;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===x?h.ref:((h=function(w){var C=_.refs;C===Xy&&(C=_.refs={}),w===null?delete C[x]:C[x]=w})._stringRef=x,h)}if(typeof l!="string")throw Error(o(284));if(!f._owner)throw Error(o(290,l))}return l}function hh(l,h){if(l.type!=="textarea")throw Error(o(31,Object.prototype.toString.call(h)==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":h))}function Yy(l){function h(B,F){if(l){var G=B.lastEffect;G!==null?(G.nextEffect=F,B.lastEffect=F):B.firstEffect=B.lastEffect=F,F.nextEffect=null,F.flags=8}}function f(B,F){if(!l)return null;for(;F!==null;)h(B,F),F=F.sibling;return null}function _(B,F){for(B=new Map;F!==null;)F.key!==null?B.set(F.key,F):B.set(F.index,F),F=F.sibling;return B}function x(B,F){return(B=Li(B,F)).index=0,B.sibling=null,B}function w(B,F,G){return B.index=G,l?(G=B.alternate)!==null?(G=G.index)<F?(B.flags=2,F):G:(B.flags=2,F):F}function C(B){return l&&B.alternate===null&&(B.flags=2),B}function O(B,F,G,te){return F===null||F.tag!==6?((F=kp(G,B.mode,te)).return=B,F):((F=x(F,G)).return=B,F)}function U(B,F,G,te){return F!==null&&F.elementType===G.type?((te=x(F,G.props)).ref=Ha(B,F,G),te.return=B,te):((te=Dh(G.type,G.key,G.props,null,B.mode,te)).ref=Ha(B,F,G),te.return=B,te)}function K(B,F,G,te){return F===null||F.tag!==4||F.stateNode.containerInfo!==G.containerInfo||F.stateNode.implementation!==G.implementation?((F=Dp(G,B.mode,te)).return=B,F):((F=x(F,G.children||[])).return=B,F)}function le(B,F,G,te,ce){return F===null||F.tag!==7?((F=Fo(G,B.mode,te,ce)).return=B,F):((F=x(F,G)).return=B,F)}function ge(B,F,G){if(typeof F=="string"||typeof F=="number")return(F=kp(""+F,B.mode,G)).return=B,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case u:return(G=Dh(F.type,F.key,F.props,null,B.mode,G)).ref=Ha(B,null,F),G.return=B,G;case c:return(F=Dp(F,B.mode,G)).return=B,F}if(uh(F)||D(F))return(F=Fo(F,B.mode,G,null)).return=B,F;hh(B,F)}return null}function ee(B,F,G,te){var ce=F!==null?F.key:null;if(typeof G=="string"||typeof G=="number")return ce!==null?null:O(B,F,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return G.key===ce?G.type===d?le(B,F,G.props.children,te,ce):U(B,F,G,te):null;case c:return G.key===ce?K(B,F,G,te):null}if(uh(G)||D(G))return ce!==null?null:le(B,F,G,te,null);hh(B,G)}return null}function nt(B,F,G,te,ce){if(typeof te=="string"||typeof te=="number")return O(F,B=B.get(G)||null,""+te,ce);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case u:return B=B.get(te.key===null?G:te.key)||null,te.type===d?le(F,B,te.props.children,ce,te.key):U(F,B,te,ce);case c:return K(F,B=B.get(te.key===null?G:te.key)||null,te,ce)}if(uh(te)||D(te))return le(F,B=B.get(G)||null,te,ce,null);hh(F,te)}return null}function ht(B,F,G,te){for(var ce=null,Je=null,be=F,We=F=0,Qt=null;be!==null&&We<G.length;We++){be.index>We?(Qt=be,be=null):Qt=be.sibling;var je=ee(B,be,G[We],te);if(je===null){be===null&&(be=Qt);break}l&&be&&je.alternate===null&&h(B,be),F=w(je,F,We),Je===null?ce=je:Je.sibling=je,Je=je,be=Qt}if(We===G.length)return f(B,be),ce;if(be===null){for(;We<G.length;We++)(be=ge(B,G[We],te))!==null&&(F=w(be,F,We),Je===null?ce=be:Je.sibling=be,Je=be);return ce}for(be=_(B,be);We<G.length;We++)(Qt=nt(be,B,We,G[We],te))!==null&&(l&&Qt.alternate!==null&&be.delete(Qt.key===null?We:Qt.key),F=w(Qt,F,We),Je===null?ce=Qt:Je.sibling=Qt,Je=Qt);return l&&be.forEach(function(ki){return h(B,ki)}),ce}function Xr(B,F,G,te){var ce=D(G);if(typeof ce!="function")throw Error(o(150));if((G=ce.call(G))==null)throw Error(o(151));for(var Je=ce=null,be=F,We=F=0,Qt=null,je=G.next();be!==null&&!je.done;We++,je=G.next()){be.index>We?(Qt=be,be=null):Qt=be.sibling;var ki=ee(B,be,je.value,te);if(ki===null){be===null&&(be=Qt);break}l&&be&&ki.alternate===null&&h(B,be),F=w(ki,F,We),Je===null?ce=ki:Je.sibling=ki,Je=ki,be=Qt}if(je.done)return f(B,be),ce;if(be===null){for(;!je.done;We++,je=G.next())(je=ge(B,je.value,te))!==null&&(F=w(je,F,We),Je===null?ce=je:Je.sibling=je,Je=je);return ce}for(be=_(B,be);!je.done;We++,je=G.next())(je=nt(be,B,We,je.value,te))!==null&&(l&&je.alternate!==null&&be.delete(je.key===null?We:je.key),F=w(je,F,We),Je===null?ce=je:Je.sibling=je,Je=je);return l&&be.forEach(function(gR){return h(B,gR)}),ce}return function(B,F,G,te){var ce=typeof G=="object"&&G!==null&&G.type===d&&G.key===null;ce&&(G=G.props.children);var Je=typeof G=="object"&&G!==null;if(Je)switch(G.$$typeof){case u:e:{for(Je=G.key,ce=F;ce!==null;){if(ce.key===Je){switch(ce.tag){case 7:if(G.type===d){f(B,ce.sibling),(F=x(ce,G.props.children)).return=B,B=F;break e}break;default:if(ce.elementType===G.type){f(B,ce.sibling),(F=x(ce,G.props)).ref=Ha(B,ce,G),F.return=B,B=F;break e}}f(B,ce);break}h(B,ce),ce=ce.sibling}G.type===d?((F=Fo(G.props.children,B.mode,te,G.key)).return=B,B=F):((te=Dh(G.type,G.key,G.props,null,B.mode,te)).ref=Ha(B,F,G),te.return=B,B=te)}return C(B);case c:e:{for(ce=G.key;F!==null;){if(F.key===ce){if(F.tag===4&&F.stateNode.containerInfo===G.containerInfo&&F.stateNode.implementation===G.implementation){f(B,F.sibling),(F=x(F,G.children||[])).return=B,B=F;break e}f(B,F);break}h(B,F),F=F.sibling}(F=Dp(G,B.mode,te)).return=B,B=F}return C(B)}if(typeof G=="string"||typeof G=="number")return G=""+G,F!==null&&F.tag===6?(f(B,F.sibling),(F=x(F,G)).return=B,B=F):(f(B,F),(F=kp(G,B.mode,te)).return=B,B=F),C(B);if(uh(G))return ht(B,F,G,te);if(D(G))return Xr(B,F,G,te);if(Je&&hh(B,G),G===void 0&&!ce)switch(B.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,V(B.type)||"Component"))}return f(B,F)}}var ch=Yy(!0),qy=Yy(!1),Xa={},zr=Si(Xa),Va=Si(Xa),Co=Si(Xa);function yn(l){if(l===Xa)throw Error(o(174));return l}function qd(l,h){vt(Co,h),vt(Va,l),vt(zr,Xa),l=pe(h),lt(zr),vt(zr,l)}function Ro(){lt(zr),lt(Va),lt(Co)}function Zy(l){var h=yn(Co.current),f=yn(zr.current);f!==(h=H(f,l.type,h))&&(vt(Va,l),vt(zr,h))}function Zd(l){Va.current===l&&(lt(zr),lt(Va))}var Tt=Si(0);function fh(l){for(var h=l;h!==null;){if(h.tag===13){var f=h.memoizedState;if(f!==null&&((f=f.dehydrated)===null||IC(f)||PC(f)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((64&h.flags)!=0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Wn=null,Es=null,_n=!1;function Qy(l,h){var f=Hr(5,null,null,0);f.elementType="DELETED",f.type="DELETED",f.stateNode=h,f.return=l,f.flags=8,l.lastEffect!==null?(l.lastEffect.nextEffect=f,l.lastEffect=f):l.firstEffect=l.lastEffect=f}function Ky(l,h){switch(l.tag){case 5:return(h=CC(h,l.type,l.pendingProps))!==null&&(l.stateNode=h,!0);case 6:return(h=RC(h,l.pendingProps))!==null&&(l.stateNode=h,!0);case 13:default:return!1}}function Qd(l){if(_n){var h=Es;if(h){var f=h;if(!Ky(l,h)){if(!(h=Ld(f))||!Ky(l,h))return l.flags=-1025&l.flags|2,_n=!1,void(Wn=l);Qy(Wn,f)}Wn=l,Es=Sy(h)}else l.flags=-1025&l.flags|2,_n=!1,Wn=l}}function Jy(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;Wn=l}function dh(l){if(!Qe||l!==Wn)return!1;if(!_n)return Jy(l),_n=!0,!1;var h=l.type;if(l.tag!==5||h!=="head"&&h!=="body"&&!Te(h,l.memoizedProps))for(h=Es;h;)Qy(l,h),h=Ld(h);if(Jy(l),l.tag===13){if(!Qe)throw Error(o(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(o(317));Es=MC(l)}else Es=Wn?Ld(l.stateNode):null;return!0}function Kd(){Qe&&(Es=Wn=null,_n=!1)}var Io=[];function Jd(){for(var l=0;l<Io.length;l++){var h=Io[l];ke?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}Io.length=0}var $a=a.ReactCurrentDispatcher,jr=a.ReactCurrentBatchConfig,Wa=0,wt=null,cr=null,qt=null,ph=!1,Ya=!1;function br(){throw Error(o(321))}function ep(l,h){if(h===null)return!1;for(var f=0;f<h.length&&f<l.length;f++)if(!Ur(l[f],h[f]))return!1;return!0}function tp(l,h,f,_,x,w){if(Wa=w,wt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,$a.current=l===null||l.memoizedState===null?VC:$C,l=f(_,x),Ya){w=0;do{if(Ya=!1,!(25>w))throw Error(o(301));w+=1,qt=cr=null,h.updateQueue=null,$a.current=WC,l=f(_,x)}while(Ya)}if($a.current=yh,h=cr!==null&&cr.next!==null,Wa=0,qt=cr=wt=null,ph=!1,h)throw Error(o(300));return l}function Ts(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?wt.memoizedState=qt=l:qt=qt.next=l,qt}function ws(){if(cr===null){var l=wt.alternate;l=l!==null?l.memoizedState:null}else l=cr.next;var h=qt===null?wt.memoizedState:qt.next;if(h!==null)qt=h,cr=l;else{if(l===null)throw Error(o(310));l={memoizedState:(cr=l).memoizedState,baseState:cr.baseState,baseQueue:cr.baseQueue,queue:cr.queue,next:null},qt===null?wt.memoizedState=qt=l:qt=qt.next=l}return qt}function xn(l,h){return typeof h=="function"?h(l):h}function qa(l){var h=ws(),f=h.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=l;var _=cr,x=_.baseQueue,w=f.pending;if(w!==null){if(x!==null){var C=x.next;x.next=w.next,w.next=C}_.baseQueue=x=w,f.pending=null}if(x!==null){x=x.next,_=_.baseState;var O=C=w=null,U=x;do{var K=U.lane;if((Wa&K)===K)O!==null&&(O=O.next={lane:0,action:U.action,eagerReducer:U.eagerReducer,eagerState:U.eagerState,next:null}),_=U.eagerReducer===l?U.eagerState:l(_,U.action);else{var le={lane:K,action:U.action,eagerReducer:U.eagerReducer,eagerState:U.eagerState,next:null};O===null?(C=O=le,w=_):O=O.next=le,wt.lanes|=K,rl|=K}U=U.next}while(U!==null&&U!==x);O===null?w=_:O.next=C,Ur(_,h.memoizedState)||(sn=!0),h.memoizedState=_,h.baseState=w,h.baseQueue=O,f.lastRenderedState=_}return[h.memoizedState,f.dispatch]}function Za(l){var h=ws(),f=h.queue;if(f===null)throw Error(o(311));f.lastRenderedReducer=l;var _=f.dispatch,x=f.pending,w=h.memoizedState;if(x!==null){f.pending=null;var C=x=x.next;do w=l(w,C.action),C=C.next;while(C!==x);Ur(w,h.memoizedState)||(sn=!0),h.memoizedState=w,h.baseQueue===null&&(h.baseState=w),f.lastRenderedState=w}return[w,_]}function e_(l,h,f){var _=h._getVersion;_=_(h._source);var x=ke?h._workInProgressVersionPrimary:h._workInProgressVersionSecondary;if(x!==null?l=x===_:(l=l.mutableReadLanes,(l=(Wa&l)===l)&&(ke?h._workInProgressVersionPrimary=_:h._workInProgressVersionSecondary=_,Io.push(h))),l)return f(h._source);throw Io.push(h),Error(o(350))}function t_(l,h,f,_){var x=fr;if(x===null)throw Error(o(349));var w=h._getVersion,C=w(h._source),O=$a.current,U=O.useState(function(){return e_(x,h,f)}),K=U[1],le=U[0];U=qt;var ge=l.memoizedState,ee=ge.refs,nt=ee.getSnapshot,ht=ge.source;ge=ge.subscribe;var Xr=wt;return l.memoizedState={refs:ee,source:h,subscribe:_},O.useEffect(function(){ee.getSnapshot=f,ee.setSnapshot=K;var B=w(h._source);if(!Ur(C,B)){B=f(h._source),Ur(le,B)||(K(B),B=Mi(Xr),x.mutableReadLanes|=B&x.pendingLanes),B=x.mutableReadLanes,x.entangledLanes|=B;for(var F=x.entanglements,G=B;0<G;){var te=31-Ci(G),ce=1<<te;F[te]|=B,G&=~ce}}},[f,h,_]),O.useEffect(function(){return _(h._source,function(){var B=ee.getSnapshot,F=ee.setSnapshot;try{F(B(h._source));var G=Mi(Xr);x.mutableReadLanes|=G&x.pendingLanes}catch(te){F(function(){throw te})}})},[h,_]),Ur(nt,f)&&Ur(ht,h)&&Ur(ge,_)||((l={pending:null,dispatch:null,lastRenderedReducer:xn,lastRenderedState:le}).dispatch=K=sp.bind(null,wt,l),U.queue=l,U.baseQueue=null,le=e_(x,h,f),U.memoizedState=U.baseState=le),le}function r_(l,h,f){return t_(ws(),l,h,f)}function Qa(l){var h=Ts();return typeof l=="function"&&(l=l()),h.memoizedState=h.baseState=l,l=(l=h.queue={pending:null,dispatch:null,lastRenderedReducer:xn,lastRenderedState:l}).dispatch=sp.bind(null,wt,l),[h.memoizedState,l]}function vh(l,h,f,_){return l={tag:l,create:h,destroy:f,deps:_,next:null},(h=wt.updateQueue)===null?(h={lastEffect:null},wt.updateQueue=h,h.lastEffect=l.next=l):(f=h.lastEffect)===null?h.lastEffect=l.next=l:(_=f.next,f.next=l,l.next=_,h.lastEffect=l),l}function n_(l){return l={current:l},Ts().memoizedState=l}function mh(){return ws().memoizedState}function rp(l,h,f,_){var x=Ts();wt.flags|=l,x.memoizedState=vh(1|h,f,void 0,_===void 0?null:_)}function np(l,h,f,_){var x=ws();_=_===void 0?null:_;var w=void 0;if(cr!==null){var C=cr.memoizedState;if(w=C.destroy,_!==null&&ep(_,C.deps))return void vh(h,f,w,_)}wt.flags|=l,x.memoizedState=vh(1|h,f,w,_)}function i_(l,h){return rp(516,4,l,h)}function gh(l,h){return np(516,4,l,h)}function s_(l,h){return np(4,2,l,h)}function o_(l,h){return typeof h=="function"?(l=l(),h(l),function(){h(null)}):h!=null?(l=l(),h.current=l,function(){h.current=null}):void 0}function a_(l,h,f){return f=f!=null?f.concat([l]):null,np(4,2,o_.bind(null,h,l),f)}function ip(){}function l_(l,h){var f=ws();h=h===void 0?null:h;var _=f.memoizedState;return _!==null&&h!==null&&ep(h,_[1])?_[0]:(f.memoizedState=[l,h],l)}function u_(l,h){var f=ws();h=h===void 0?null:h;var _=f.memoizedState;return _!==null&&h!==null&&ep(h,_[1])?_[0]:(l=l(),f.memoizedState=[l,h],l)}function XC(l,h){var f=wo();$n(98>f?98:f,function(){l(!0)}),$n(97<f?97:f,function(){var _=jr.transition;jr.transition=1;try{l(!1),h()}finally{jr.transition=_}})}function sp(l,h,f){var _=Er(),x=Mi(l),w={lane:x,action:f,eagerReducer:null,eagerState:null,next:null},C=h.pending;if(C===null?w.next=w:(w.next=C.next,C.next=w),h.pending=w,C=l.alternate,l===wt||C!==null&&C===wt)Ya=ph=!0;else{if(l.lanes===0&&(C===null||C.lanes===0)&&(C=h.lastRenderedReducer)!==null)try{var O=h.lastRenderedState,U=C(O,f);if(w.eagerReducer=C,w.eagerState=U,Ur(U,O))return}catch{}Qn(l,x,_)}}var yh={readContext:Gr,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useOpaqueIdentifier:br,unstable_isNewReconciler:!1},VC={readContext:Gr,useCallback:function(l,h){return Ts().memoizedState=[l,h===void 0?null:h],l},useContext:Gr,useEffect:i_,useImperativeHandle:function(l,h,f){return f=f!=null?f.concat([l]):null,rp(4,2,o_.bind(null,h,l),f)},useLayoutEffect:function(l,h){return rp(4,2,l,h)},useMemo:function(l,h){var f=Ts();return h=h===void 0?null:h,l=l(),f.memoizedState=[l,h],l},useReducer:function(l,h,f){var _=Ts();return h=f!==void 0?f(h):h,_.memoizedState=_.baseState=h,l=(l=_.queue={pending:null,dispatch:null,lastRenderedReducer:l,lastRenderedState:h}).dispatch=sp.bind(null,wt,l),[_.memoizedState,l]},useRef:n_,useState:Qa,useDebugValue:ip,useDeferredValue:function(l){var h=Qa(l),f=h[0],_=h[1];return i_(function(){var x=jr.transition;jr.transition=1;try{_(l)}finally{jr.transition=x}},[l]),f},useTransition:function(){var l=Qa(!1),h=l[0];return n_(l=XC.bind(null,l[1])),[l,h]},useMutableSource:function(l,h,f){var _=Ts();return _.memoizedState={refs:{getSnapshot:h,setSnapshot:null},source:l,subscribe:f},t_(_,l,h,f)},useOpaqueIdentifier:function(){if(_n){var l=!1,h=Be(function(){throw l||(l=!0,f(yr())),Error(o(355))}),f=Qa(h)[1];return(2&wt.mode)==0&&(wt.flags|=516,vh(5,function(){f(yr())},void 0,null)),h}return Qa(h=yr()),h},unstable_isNewReconciler:!1},$C={readContext:Gr,useCallback:l_,useContext:Gr,useEffect:gh,useImperativeHandle:a_,useLayoutEffect:s_,useMemo:u_,useReducer:qa,useRef:mh,useState:function(){return qa(xn)},useDebugValue:ip,useDeferredValue:function(l){var h=qa(xn),f=h[0],_=h[1];return gh(function(){var x=jr.transition;jr.transition=1;try{_(l)}finally{jr.transition=x}},[l]),f},useTransition:function(){var l=qa(xn)[0];return[mh().current,l]},useMutableSource:r_,useOpaqueIdentifier:function(){return qa(xn)[0]},unstable_isNewReconciler:!1},WC={readContext:Gr,useCallback:l_,useContext:Gr,useEffect:gh,useImperativeHandle:a_,useLayoutEffect:s_,useMemo:u_,useReducer:Za,useRef:mh,useState:function(){return Za(xn)},useDebugValue:ip,useDeferredValue:function(l){var h=Za(xn),f=h[0],_=h[1];return gh(function(){var x=jr.transition;jr.transition=1;try{_(l)}finally{jr.transition=x}},[l]),f},useTransition:function(){var l=Za(xn)[0];return[mh().current,l]},useMutableSource:r_,useOpaqueIdentifier:function(){return Za(xn)[0]},unstable_isNewReconciler:!1},YC=a.ReactCurrentOwner,sn=!1;function Ir(l,h,f,_){h.child=l===null?qy(h,null,f,_):ch(h,l.child,f,_)}function h_(l,h,f,_,x){f=f.render;var w=h.ref;return Ao(h,x),_=tp(l,h,f,_,w,x),l===null||sn?(h.flags|=1,Ir(l,h,_,x),h.child):(h.updateQueue=l.updateQueue,h.flags&=-517,l.lanes&=~x,Yn(l,h,x))}function c_(l,h,f,_,x,w){if(l===null){var C=f.type;return typeof C!="function"||Fp(C)||C.defaultProps!==void 0||f.compare!==null||f.defaultProps!==void 0?((l=Dh(f.type,null,_,h,h.mode,w)).ref=h.ref,l.return=h,h.child=l):(h.tag=15,h.type=C,f_(l,h,C,_,x,w))}return C=l.child,(x&w)==0&&(x=C.memoizedProps,(f=(f=f.compare)!==null?f:nh)(x,_)&&l.ref===h.ref)?Yn(l,h,w):(h.flags|=1,(l=Li(C,_)).ref=h.ref,l.return=h,h.child=l)}function f_(l,h,f,_,x,w){if(l!==null&&nh(l.memoizedProps,_)&&l.ref===h.ref){if(sn=!1,(w&x)==0)return h.lanes=l.lanes,Yn(l,h,w);(16384&l.flags)!=0&&(sn=!0)}return op(l,h,f,_,w)}function d_(l,h,f){var _=h.pendingProps,x=_.children,w=l!==null?l.memoizedState:null;if(_.mode==="hidden"||_.mode==="unstable-defer-without-hiding")if((4&h.mode)==0)h.memoizedState={baseLanes:0},Fh(h,f);else{if((1073741824&f)==0)return l=w!==null?w.baseLanes|f:f,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:l},Fh(h,l),null;h.memoizedState={baseLanes:0},Fh(h,w!==null?w.baseLanes:f)}else w!==null?(_=w.baseLanes|f,h.memoizedState=null):_=f,Fh(h,_);return Ir(l,h,x,f),h.child}function p_(l,h){var f=h.ref;(l===null&&f!==null||l!==null&&l.ref!==f)&&(h.flags|=128)}function op(l,h,f,_,x){var w=xr(f)?_s:sr.current;return w=Eo(h,w),Ao(h,x),f=tp(l,h,f,_,w,x),l===null||sn?(h.flags|=1,Ir(l,h,f,x),h.child):(h.updateQueue=l.updateQueue,h.flags&=-517,l.lanes&=~x,Yn(l,h,x))}function v_(l,h,f,_,x){if(xr(f)){var w=!0;Qu(h)}else w=!1;if(Ao(h,x),h.stateNode===null)l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2),$y(h,f,_),Yd(h,f,_,x),_=!0;else if(l===null){var C=h.stateNode,O=h.memoizedProps;C.props=O;var U=C.context,K=f.contextType;typeof K=="object"&&K!==null?K=Gr(K):K=Eo(h,K=xr(f)?_s:sr.current);var le=f.getDerivedStateFromProps,ge=typeof le=="function"||typeof C.getSnapshotBeforeUpdate=="function";ge||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==_||U!==K)&&Wy(h,C,_,K),Ri=!1;var ee=h.memoizedState;C.state=ee,ja(h,_,C,x),U=h.memoizedState,O!==_||ee!==U||_r.current||Ri?(typeof le=="function"&&(ah(h,f,le,_),U=h.memoizedState),(O=Ri||Vy(h,f,O,_,ee,U,K))?(ge||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(h.flags|=4)):(typeof C.componentDidMount=="function"&&(h.flags|=4),h.memoizedProps=_,h.memoizedState=U),C.props=_,C.state=U,C.context=K,_=O):(typeof C.componentDidMount=="function"&&(h.flags|=4),_=!1)}else{C=h.stateNode,zy(l,h),O=h.memoizedProps,K=h.type===h.elementType?O:nn(h.type,O),C.props=K,ge=h.pendingProps,ee=C.context,typeof(U=f.contextType)=="object"&&U!==null?U=Gr(U):U=Eo(h,U=xr(f)?_s:sr.current);var nt=f.getDerivedStateFromProps;(le=typeof nt=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==ge||ee!==U)&&Wy(h,C,_,U),Ri=!1,ee=h.memoizedState,C.state=ee,ja(h,_,C,x);var ht=h.memoizedState;O!==ge||ee!==ht||_r.current||Ri?(typeof nt=="function"&&(ah(h,f,nt,_),ht=h.memoizedState),(K=Ri||Vy(h,f,K,_,ee,ht,U))?(le||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(_,ht,U),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(_,ht,U)),typeof C.componentDidUpdate=="function"&&(h.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(h.flags|=256)):(typeof C.componentDidUpdate!="function"||O===l.memoizedProps&&ee===l.memoizedState||(h.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&ee===l.memoizedState||(h.flags|=256),h.memoizedProps=_,h.memoizedState=ht),C.props=_,C.state=ht,C.context=U,_=K):(typeof C.componentDidUpdate!="function"||O===l.memoizedProps&&ee===l.memoizedState||(h.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&ee===l.memoizedState||(h.flags|=256),_=!1)}return ap(l,h,f,_,w,x)}function ap(l,h,f,_,x,w){p_(l,h);var C=(64&h.flags)!=0;if(!_&&!C)return x&&Iy(h,f,!1),Yn(l,h,w);_=h.stateNode,YC.current=h;var O=C&&typeof f.getDerivedStateFromError!="function"?null:_.render();return h.flags|=1,l!==null&&C?(h.child=ch(h,l.child,null,w),h.child=ch(h,null,O,w)):Ir(l,h,O,w),h.memoizedState=_.state,x&&Iy(h,f,!0),h.child}function m_(l){var h=l.stateNode;h.pendingContext?Cy(0,h.pendingContext,h.pendingContext!==h.context):h.context&&Cy(0,h.context,!1),qd(l,h.containerInfo)}var Ka,Ja,_h,xh,lp={dehydrated:null,retryLane:0};function g_(l,h,f){var _,x=h.pendingProps,w=Tt.current,C=!1;return(_=(64&h.flags)!=0)||(_=(l===null||l.memoizedState!==null)&&(2&w)!=0),_?(C=!0,h.flags&=-65):l!==null&&l.memoizedState===null||x.fallback===void 0||x.unstable_avoidThisFallback===!0||(w|=1),vt(Tt,1&w),l===null?(x.fallback!==void 0&&Qd(h),l=x.children,w=x.fallback,C?(l=y_(h,l,w,f),h.child.memoizedState={baseLanes:f},h.memoizedState=lp,l):typeof x.unstable_expectedLoadTime=="number"?(l=y_(h,l,w,f),h.child.memoizedState={baseLanes:f},h.memoizedState=lp,h.lanes=33554432,l):((f=Lp({mode:"visible",children:l},h.mode,f,null)).return=h,h.child=f)):(l.memoizedState,C?(x=ZC(l,h,x.children,x.fallback,f),C=h.child,w=l.child.memoizedState,C.memoizedState=w===null?{baseLanes:f}:{baseLanes:w.baseLanes|f},C.childLanes=l.childLanes&~f,h.memoizedState=lp,x):(f=qC(l,h,x.children,f),h.memoizedState=null,f))}function y_(l,h,f,_){var x=l.mode,w=l.child;return h={mode:"hidden",children:h},(2&x)==0&&w!==null?(w.childLanes=0,w.pendingProps=h):w=Lp(h,x,0,null),f=Fo(f,x,_,null),w.return=l,f.return=l,w.sibling=f,l.child=w,f}function qC(l,h,f,_){var x=l.child;return l=x.sibling,f=Li(x,{mode:"visible",children:f}),(2&h.mode)==0&&(f.lanes=_),f.return=h,f.sibling=null,l!==null&&(l.nextEffect=null,l.flags=8,h.firstEffect=h.lastEffect=l),h.child=f}function ZC(l,h,f,_,x){var w=h.mode,C=l.child;l=C.sibling;var O={mode:"hidden",children:f};return(2&w)==0&&h.child!==C?((f=h.child).childLanes=0,f.pendingProps=O,(C=f.lastEffect)!==null?(h.firstEffect=f.firstEffect,h.lastEffect=C,C.nextEffect=null):h.firstEffect=h.lastEffect=null):f=Li(C,O),l!==null?_=Li(l,_):(_=Fo(_,w,x,null)).flags|=2,_.return=h,f.return=h,f.sibling=_,h.child=f,_}function __(l,h){l.lanes|=h;var f=l.alternate;f!==null&&(f.lanes|=h),Gy(l.return,h)}function up(l,h,f,_,x,w){var C=l.memoizedState;C===null?l.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:_,tail:f,tailMode:x,lastEffect:w}:(C.isBackwards=h,C.rendering=null,C.renderingStartTime=0,C.last=_,C.tail=f,C.tailMode=x,C.lastEffect=w)}function x_(l,h,f){var _=h.pendingProps,x=_.revealOrder,w=_.tail;if(Ir(l,h,_.children,f),(2&(_=Tt.current))!=0)_=1&_|2,h.flags|=64;else{if(l!==null&&(64&l.flags)!=0)e:for(l=h.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&__(l,f);else if(l.tag===19)__(l,f);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===h)break e;for(;l.sibling===null;){if(l.return===null||l.return===h)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}_&=1}if(vt(Tt,_),(2&h.mode)==0)h.memoizedState=null;else switch(x){case"forwards":for(f=h.child,x=null;f!==null;)(l=f.alternate)!==null&&fh(l)===null&&(x=f),f=f.sibling;(f=x)===null?(x=h.child,h.child=null):(x=f.sibling,f.sibling=null),up(h,!1,x,f,w,h.lastEffect);break;case"backwards":for(f=null,x=h.child,h.child=null;x!==null;){if((l=x.alternate)!==null&&fh(l)===null){h.child=x;break}l=x.sibling,x.sibling=f,f=x,x=l}up(h,!0,f,null,w,h.lastEffect);break;case"together":up(h,!1,null,null,void 0,h.lastEffect);break;default:h.memoizedState=null}return h.child}function Yn(l,h,f){if(l!==null&&(h.dependencies=l.dependencies),rl|=h.lanes,(f&h.childLanes)!=0){if(l!==null&&h.child!==l.child)throw Error(o(153));if(h.child!==null){for(f=Li(l=h.child,l.pendingProps),h.child=f,f.return=h;l.sibling!==null;)l=l.sibling,(f=f.sibling=Li(l,l.pendingProps)).return=h;f.sibling=null}return h.child}return null}function bn(l){l.flags|=4}if(Re)Ka=function(l,h){for(var f=h.child;f!==null;){if(f.tag===5||f.tag===6)X(l,f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Ja=function(){},_h=function(l,h,f,_,x){if((l=l.memoizedProps)!==_){var w=h.stateNode,C=yn(zr.current);f=ve(w,f,l,_,x,C),(h.updateQueue=f)&&bn(h)}},xh=function(l,h,f,_){f!==_&&bn(h)};else if(Ae){Ka=function(l,h,f,_){for(var x=h.child;x!==null;){if(x.tag===5){var w=x.stateNode;f&&_&&(w=Ty(w,x.type,x.memoizedProps,x)),X(l,w)}else if(x.tag===6)w=x.stateNode,f&&_&&(w=wy(w,x.memoizedProps,x)),X(l,w);else if(x.tag!==4){if(x.tag===13&&(4&x.flags)!=0&&(w=x.memoizedState!==null)){var C=x.child;if(C!==null&&(C.child!==null&&(C.child.return=C,Ka(l,C,!0,w)),(w=C.sibling)!==null)){w.return=x,x=w;continue}}if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};var b_=function(l,h,f,_){for(var x=h.child;x!==null;){if(x.tag===5){var w=x.stateNode;f&&_&&(w=Ty(w,x.type,x.memoizedProps,x)),by(l,w)}else if(x.tag===6)w=x.stateNode,f&&_&&(w=wy(w,x.memoizedProps,x)),by(l,w);else if(x.tag!==4){if(x.tag===13&&(4&x.flags)!=0&&(w=x.memoizedState!==null)){var C=x.child;if(C!==null&&(C.child!==null&&(C.child.return=C,b_(l,C,!0,w)),(w=C.sibling)!==null)){w.return=x,x=w;continue}}if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};Ja=function(l){var h=l.stateNode;if(l.firstEffect!==null){var f=h.containerInfo,_=xy(f);b_(_,l,!1,!1),h.pendingChildren=_,bn(l),AC(f,_)}},_h=function(l,h,f,_,x){var w=l.stateNode,C=l.memoizedProps;if((l=h.firstEffect===null)&&C===_)h.stateNode=w;else{var O=h.stateNode,U=yn(zr.current),K=null;C!==_&&(K=ve(O,f,C,_,x,U)),l&&K===null?h.stateNode=w:(w=SC(w,K,f,C,_,h,l,O),oe(w,f,_,x,U)&&bn(h),h.stateNode=w,l?bn(h):Ka(w,h,!1,!1))}},xh=function(l,h,f,_){f!==_?(l=yn(Co.current),f=yn(zr.current),h.stateNode=Pe(_,l,f,h),bn(h)):h.stateNode=l.stateNode}}else Ja=function(){},_h=function(){},xh=function(){};function el(l,h){if(!_n)switch(l.tailMode){case"hidden":h=l.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var _=null;f!==null;)f.alternate!==null&&(_=f),f=f.sibling;_===null?h||l.tail===null?l.tail=null:l.tail.sibling=null:_.sibling=null}}function QC(l,h,f){var _=h.pendingProps;switch(h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return xr(h.type)&&Zu(),null;case 3:return Ro(),lt(_r),lt(sr),Jd(),(_=h.stateNode).pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),l!==null&&l.child!==null||(dh(h)?bn(h):_.hydrate||(h.flags|=256)),Ja(h),null;case 5:Zd(h);var x=yn(Co.current);if(f=h.type,l!==null&&h.stateNode!=null)_h(l,h,f,_,x),l.ref!==h.ref&&(h.flags|=128);else{if(!_){if(h.stateNode===null)throw Error(o(166));return null}if(l=yn(zr.current),dh(h)){if(!Qe)throw Error(o(175));l=OC(h.stateNode,h.type,h.memoizedProps,x,l,h),h.updateQueue=l,l!==null&&bn(h)}else{var w=z(f,_,x,l,h);Ka(w,h,!1,!1),h.stateNode=w,oe(w,f,_,x,l)&&bn(h)}h.ref!==null&&(h.flags|=128)}return null;case 6:if(l&&h.stateNode!=null)xh(l,h,l.memoizedProps,_);else{if(typeof _!="string"&&h.stateNode===null)throw Error(o(166));if(l=yn(Co.current),x=yn(zr.current),dh(h)){if(!Qe)throw Error(o(176));NC(h.stateNode,h.memoizedProps,h)&&bn(h)}else h.stateNode=Pe(_,l,x,h)}return null;case 13:return lt(Tt),_=h.memoizedState,(64&h.flags)!=0?(h.lanes=f,h):(_=_!==null,x=!1,l===null?h.memoizedProps.fallback!==void 0&&dh(h):x=l.memoizedState!==null,_&&!x&&(2&h.mode)!=0&&(l===null&&h.memoizedProps.unstable_avoidThisFallback!==!0||(1&Tt.current)!=0?Zt===0&&(Zt=3):(Zt!==0&&Zt!==3||(Zt=4),fr===null||(134217727&rl)==0&&(134217727&Oo)==0||No(fr,or))),Ae&&_&&(h.flags|=4),Re&&(_||x)&&(h.flags|=4),null);case 4:return Ro(),Ja(h),l===null&&$u(h.stateNode.containerInfo),null;case 10:return $d(h),null;case 17:return xr(h.type)&&Zu(),null;case 19:if(lt(Tt),(_=h.memoizedState)===null)return null;if(x=(64&h.flags)!=0,(w=_.rendering)===null)if(x)el(_,!1);else{if(Zt!==0||l!==null&&(64&l.flags)!=0)for(l=h.child;l!==null;){if((w=fh(l))!==null){for(h.flags|=64,el(_,!1),(l=w.updateQueue)!==null&&(h.updateQueue=l,h.flags|=4),_.lastEffect===null&&(h.firstEffect=null),h.lastEffect=_.lastEffect,l=f,_=h.child;_!==null;)f=l,(x=_).flags&=2,x.nextEffect=null,x.firstEffect=null,x.lastEffect=null,(w=x.alternate)===null?(x.childLanes=0,x.lanes=f,x.child=null,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=w.childLanes,x.lanes=w.lanes,x.child=w.child,x.memoizedProps=w.memoizedProps,x.memoizedState=w.memoizedState,x.updateQueue=w.updateQueue,x.type=w.type,f=w.dependencies,x.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),_=_.sibling;return vt(Tt,1&Tt.current|2),h.child}l=l.sibling}_.tail!==null&&Yt()>Sp&&(h.flags|=64,x=!0,el(_,!1),h.lanes=33554432)}else{if(!x)if((l=fh(w))!==null){if(h.flags|=64,x=!0,(l=l.updateQueue)!==null&&(h.updateQueue=l,h.flags|=4),el(_,!0),_.tail===null&&_.tailMode==="hidden"&&!w.alternate&&!_n)return(h=h.lastEffect=_.lastEffect)!==null&&(h.nextEffect=null),null}else 2*Yt()-_.renderingStartTime>Sp&&f!==1073741824&&(h.flags|=64,x=!0,el(_,!1),h.lanes=33554432);_.isBackwards?(w.sibling=h.child,h.child=w):((l=_.last)!==null?l.sibling=w:h.child=w,_.last=w)}return _.tail!==null?(l=_.tail,_.rendering=l,_.tail=l.sibling,_.lastEffect=h.lastEffect,_.renderingStartTime=Yt(),l.sibling=null,h=Tt.current,vt(Tt,x?1&h|2:1&h),l):null;case 23:case 24:return Op(),l!==null&&l.memoizedState!==null!=(h.memoizedState!==null)&&_.mode!=="unstable-defer-without-hiding"&&(h.flags|=4),null}throw Error(o(156,h.tag))}function KC(l){switch(l.tag){case 1:xr(l.type)&&Zu();var h=l.flags;return 4096&h?(l.flags=-4097&h|64,l):null;case 3:if(Ro(),lt(_r),lt(sr),Jd(),(64&(h=l.flags))!=0)throw Error(o(285));return l.flags=-4097&h|64,l;case 5:return Zd(l),null;case 13:return lt(Tt),4096&(h=l.flags)?(l.flags=-4097&h|64,l):null;case 19:return lt(Tt),null;case 4:return Ro(),null;case 10:return $d(l),null;case 23:case 24:return Op(),null;default:return null}}function hp(l,h){try{var f="",_=h;do f+=HC(_),_=_.return;while(_);var x=f}catch(w){x=`
Error generating stack: `+w.message+`
`+w.stack}return{value:l,source:h,stack:x}}function cp(l,h){try{console.error(h.value)}catch(f){setTimeout(function(){throw f})}}var JC=typeof WeakMap=="function"?WeakMap:Map;function E_(l,h,f){(f=Ii(-1,f)).tag=3,f.payload={element:null};var _=h.value;return f.callback=function(){Ph||(Ph=!0,Ap=_),cp(0,h)},f}function T_(l,h,f){(f=Ii(-1,f)).tag=3;var _=l.type.getDerivedStateFromError;if(typeof _=="function"){var x=h.value;f.payload=function(){return cp(0,h),_(x)}}var w=l.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(f.callback=function(){typeof _!="function"&&(En===null?En=new Set([this]):En.add(this),cp(0,h));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})}),f}var eR=typeof WeakSet=="function"?WeakSet:Set;function w_(l){var h=l.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(f){Fi(l,f)}else h.current=null}function tR(l,h){switch(h.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&h.flags&&l!==null){var f=l.memoizedProps,_=l.memoizedState;h=(l=h.stateNode).getSnapshotBeforeUpdate(h.elementType===h.type?f:nn(h.type,f),_),l.__reactInternalSnapshotBeforeUpdate=h}return;case 3:return void(Re&&256&h.flags&&Fd(h.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function S_(l,h){if((h=(h=h.updateQueue)!==null?h.lastEffect:null)!==null){var f=h=h.next;do{if((f.tag&l)===l){var _=f.destroy;f.destroy=void 0,_!==void 0&&_()}f=f.next}while(f!==h)}}function rR(l,h,f){switch(f.tag){case 0:case 11:case 15:case 22:if((h=(h=f.updateQueue)!==null?h.lastEffect:null)!==null){l=h=h.next;do{if((3&l.tag)==3){var _=l.create;l.destroy=_()}l=l.next}while(l!==h)}if((h=(h=f.updateQueue)!==null?h.lastEffect:null)!==null){l=h=h.next;do{var x=l;_=x.next,(4&(x=x.tag))!=0&&(1&x)!=0&&(H_(f,l),uR(f,l)),l=_}while(l!==h)}return;case 1:return l=f.stateNode,4&f.flags&&(h===null?l.componentDidMount():(_=f.elementType===f.type?h.memoizedProps:nn(f.type,h.memoizedProps),l.componentDidUpdate(_,h.memoizedState,l.__reactInternalSnapshotBeforeUpdate))),void((h=f.updateQueue)!==null&&Hy(f,h,l));case 3:if((h=f.updateQueue)!==null){if(l=null,f.child!==null)switch(f.child.tag){case 5:l=Se(f.child.stateNode);break;case 1:l=f.child.stateNode}Hy(f,h,l)}return;case 5:return l=f.stateNode,void(h===null&&4&f.flags&&vC(l,f.type,f.memoizedProps,f));case 6:case 4:case 12:return;case 13:return void(Qe&&f.memoizedState===null&&(f=f.alternate,f!==null&&(f=f.memoizedState,f!==null&&(f=f.dehydrated,f!==null&&FC(f)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function A_(l,h){if(Re)for(var f=l;;){if(f.tag===5){var _=f.stateNode;h?bC(_):TC(f.stateNode,f.memoizedProps)}else if(f.tag===6)_=f.stateNode,h?EC(_):wC(_,f.memoizedProps);else if((f.tag!==23&&f.tag!==24||f.memoizedState===null||f===l)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===l)break;for(;f.sibling===null;){if(f.return===null||f.return===l)return;f=f.return}f.sibling.return=f.return,f=f.sibling}}function C_(l,h){if(xs&&typeof xs.onCommitFiberUnmount=="function")try{xs.onCommitFiberUnmount(Bd,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:case 22:if((l=h.updateQueue)!==null&&(l=l.lastEffect)!==null){var f=l=l.next;do{var _=f,x=_.destroy;if(_=_.tag,x!==void 0)if((4&_)!=0)H_(h,f);else{_=h;try{x()}catch(w){Fi(_,w)}}f=f.next}while(f!==l)}break;case 1:if(w_(h),typeof(l=h.stateNode).componentWillUnmount=="function")try{l.props=h.memoizedProps,l.state=h.memoizedState,l.componentWillUnmount()}catch(w){Fi(h,w)}break;case 5:w_(h);break;case 4:Re?N_(l,h):Ae&&Ae&&(h=h.stateNode.containerInfo,l=xy(h),Ey(h,l))}}function R_(l,h){for(var f=h;;)if(C_(l,f),f.child===null||Re&&f.tag===4){if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return;f=f.return}f.sibling.return=f.return,f=f.sibling}else f.child.return=f,f=f.child}function I_(l){l.alternate=null,l.child=null,l.dependencies=null,l.firstEffect=null,l.lastEffect=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.return=null,l.updateQueue=null}function P_(l){return l.tag===5||l.tag===3||l.tag===4}function O_(l){if(Re){e:{for(var h=l.return;h!==null;){if(P_(h))break e;h=h.return}throw Error(o(160))}var f=h;switch(h=f.stateNode,f.tag){case 5:var _=!1;break;case 3:case 4:h=h.containerInfo,_=!0;break;default:throw Error(o(161))}16&f.flags&&(_y(h),f.flags&=-17);e:t:for(f=l;;){for(;f.sibling===null;){if(f.return===null||P_(f.return)){f=null;break e}f=f.return}for(f.sibling.return=f.return,f=f.sibling;f.tag!==5&&f.tag!==6&&f.tag!==18;){if(2&f.flags||f.child===null||f.tag===4)continue t;f.child.return=f,f=f.child}if(!(2&f.flags)){f=f.stateNode;break e}}_?fp(l,f,h):dp(l,f,h)}}function fp(l,h,f){var _=l.tag,x=_===5||_===6;if(x)l=x?l.stateNode:l.stateNode.instance,h?yC(f,l,h):dC(f,l);else if(_!==4&&(l=l.child)!==null)for(fp(l,h,f),l=l.sibling;l!==null;)fp(l,h,f),l=l.sibling}function dp(l,h,f){var _=l.tag,x=_===5||_===6;if(x)l=x?l.stateNode:l.stateNode.instance,h?gC(f,l,h):fC(f,l);else if(_!==4&&(l=l.child)!==null)for(dp(l,h,f),l=l.sibling;l!==null;)dp(l,h,f),l=l.sibling}function N_(l,h){for(var f,_,x=h,w=!1;;){if(!w){w=x.return;e:for(;;){if(w===null)throw Error(o(160));switch(f=w.stateNode,w.tag){case 5:_=!1;break e;case 3:case 4:f=f.containerInfo,_=!0;break e}w=w.return}w=!0}if(x.tag===5||x.tag===6)R_(l,x),_?xC(f,x.stateNode):_C(f,x.stateNode);else if(x.tag===4){if(x.child!==null){f=x.stateNode.containerInfo,_=!0,x.child.return=x,x=x.child;continue}}else if(C_(l,x),x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;(x=x.return).tag===4&&(w=!1)}x.sibling.return=x.return,x=x.sibling}}function pp(l,h){if(Re){switch(h.tag){case 0:case 11:case 14:case 15:case 22:return void S_(3,h);case 1:return;case 5:var f=h.stateNode;if(f!=null){var _=h.memoizedProps;l=l!==null?l.memoizedProps:_;var x=h.type,w=h.updateQueue;h.updateQueue=null,w!==null&&mC(f,w,x,l,_,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));return f=h.memoizedProps,void pC(h.stateNode,l!==null?l.memoizedProps:f,f);case 3:return void(Qe&&(h=h.stateNode,h.hydrate&&(h.hydrate=!1,Ay(h.containerInfo))));case 12:return;case 13:return M_(h),void bh(h);case 19:return void bh(h);case 17:return;case 23:case 24:return void A_(h,h.memoizedState!==null)}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:case 22:return void S_(3,h);case 12:return;case 13:return M_(h),void bh(h);case 19:return void bh(h);case 3:Qe&&(f=h.stateNode).hydrate&&(f.hydrate=!1,Ay(f.containerInfo));break;case 23:case 24:return}e:if(Ae){switch(h.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:h=h.stateNode,Ey(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function M_(l){l.memoizedState!==null&&(wp=Yt(),Re&&A_(l.child,!0))}function bh(l){var h=l.updateQueue;if(h!==null){l.updateQueue=null;var f=l.stateNode;f===null&&(f=l.stateNode=new eR),h.forEach(function(_){var x=fR.bind(null,l,_);f.has(_)||(f.add(_),_.then(x,x))})}}function nR(l,h){return l!==null&&((l=l.memoizedState)===null||l.dehydrated!==null)&&(h=h.memoizedState)!==null&&h.dehydrated===null}var Eh=0,Th=1,wh=2,Sh=3,Ah=4;if(typeof Symbol=="function"&&Symbol.for){var tl=Symbol.for;Eh=tl("selector.component"),Th=tl("selector.has_pseudo_class"),wh=tl("selector.role"),Sh=tl("selector.test_id"),Ah=tl("selector.text")}function vp(l){var h=ir(l);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if((l=Wu(l))===null)throw Error(o(362));return l.stateNode.current}function mp(l,h){switch(h.$$typeof){case Eh:if(l.type===h.value)return!0;break;case Th:e:{h=h.value,l=[l,0];for(var f=0;f<l.length;){var _=l[f++],x=l[f++],w=h[x];if(_.tag!==5||!Ba(_)){for(;w!=null&&mp(_,w);)w=h[++x];if(x===h.length){h=!0;break e}for(_=_.child;_!==null;)l.push(_,x),_=_.sibling}}h=!1}return h;case wh:if(l.tag===5&&uC(l.stateNode,h.value))return!0;break;case Ah:if((l.tag===5||l.tag===6)&&(l=lC(l))!==null&&0<=l.indexOf(h.value))return!0;break;case Sh:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===h.value.toLowerCase())return!0;break;default:throw Error(o(365,h))}return!1}function gp(l){switch(l.$$typeof){case Eh:return"<"+(V(l.value)||"Unknown")+">";case Th:return":has("+(gp(l)||"")+")";case wh:return'[role="'+l.value+'"]';case Ah:return'"'+l.value+'"';case Sh:return'[data-testname="'+l.value+'"]';default:throw Error(o(365,l))}}function F_(l,h){var f=[];l=[l,0];for(var _=0;_<l.length;){var x=l[_++],w=l[_++],C=h[w];if(x.tag!==5||!Ba(x)){for(;C!=null&&mp(x,C);)C=h[++w];if(w===h.length)f.push(x);else for(x=x.child;x!==null;)l.push(x,w),x=x.sibling}}return f}function yp(l,h){if(!wi)throw Error(o(363));l=F_(l=vp(l),h),h=[],l=Array.from(l);for(var f=0;f<l.length;){var _=l[f++];if(_.tag===5)Ba(_)||h.push(_.stateNode);else for(_=_.child;_!==null;)l.push(_),_=_.sibling}return h}var Ch=null,iR=Math.ceil,Rh=a.ReactCurrentDispatcher,_p=a.ReactCurrentOwner,xp=a.IsSomeRendererActing,xe=0,fr=null,Ft=null,or=0,Ss=0,bp=Si(0),Zt=0,Ih=null,Po=0,rl=0,Oo=0,Ep=0,Tp=null,wp=0,Sp=1/0;function Oi(){Sp=Yt()+500}var L_,ne=null,Ph=!1,Ap=null,En=null,Ni=!1,nl=null,il=90,Cp=[],Rp=[],qn=null,sl=0,Ip=null,Oh=-1,Zn=0,Nh=0,ol=null,al=!1;function Er(){return(48&xe)!=0?Yt():Oh!==-1?Oh:Oh=Yt()}function Mi(l){if((2&(l=l.mode))==0)return 1;if((4&l)==0)return wo()===99?1:2;if(Zn===0&&(Zn=Po),zC.transition!==0){Nh!==0&&(Nh=Tp!==null?Tp.pendingLanes:0),l=Zn;var h=4186112&~Nh;return(h&=-h)===0&&(h=(l=4186112&~l)&-l)===0&&(h=8192),h}return l=wo(),(4&xe)!=0&&l===98?l=Ju(12,Zn):l=Ju(l=function(f){switch(f){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(l),Zn),l}function Qn(l,h,f){if(50<sl)throw sl=0,Ip=null,Error(o(185));if((l=Mh(l,h))===null)return null;eh(l,h,f),l===fr&&(Oo|=h,Zt===4&&No(l,or));var _=wo();h===1?(8&xe)!=0&&(48&xe)==0?Pp(l):(Pr(l,f),xe===0&&(Oi(),Br())):((4&xe)==0||_!==98&&_!==99||(qn===null?qn=new Set([l]):qn.add(l)),Pr(l,f)),Tp=l}function Mh(l,h){l.lanes|=h;var f=l.alternate;for(f!==null&&(f.lanes|=h),f=l,l=l.return;l!==null;)l.childLanes|=h,(f=l.alternate)!==null&&(f.childLanes|=h),f=l,l=l.return;return f.tag===3?f.stateNode:null}function Pr(l,h){for(var f=l.callbackNode,_=l.suspendedLanes,x=l.pingedLanes,w=l.expirationTimes,C=l.pendingLanes;0<C;){var O=31-Ci(C),U=1<<O,K=w[O];if(K===-1){if((U&_)==0||(U&x)!=0){K=h,bs(U);var le=Ke;w[O]=10<=le?K+250:6<=le?K+5e3:-1}}else K<=h&&(l.expiredLanes|=U);C&=~U}if(_=Ga(l,l===fr?or:0),h=Ke,_===0)f!==null&&(f!==Hd&&zd(f),l.callbackNode=null,l.callbackPriority=0);else{if(f!==null){if(l.callbackPriority===h)return;f!==Hd&&zd(f)}h===15?(f=Pp.bind(null,l),Vn===null?(Vn=[f],rh=Gd(th,By)):Vn.push(f),f=Hd):h===14?f=za(99,Pp.bind(null,l)):f=za(f=function(ge){switch(ge){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,ge))}}(h),k_.bind(null,l)),l.callbackPriority=h,l.callbackNode=f}}function k_(l){if(Oh=-1,Nh=Zn=0,(48&xe)!=0)throw Error(o(327));var h=l.callbackNode;if(Kn()&&l.callbackNode!==h)return null;var f=Ga(l,l===fr?or:0);if(f===0)return null;var _=f,x=xe;xe|=16;var w=G_();for(fr===l&&or===_||(Oi(),Mo(l,_));;)try{oR();break}catch(O){U_(l,O)}if(Vd(),Rh.current=w,xe=x,Ft!==null?_=0:(fr=null,or=0,_=Zt),(Po&Oo)!=0)Mo(l,0);else if(_!==0){if(_===2&&(xe|=64,l.hydrate&&(l.hydrate=!1,Fd(l.containerInfo)),(f=Py(l))!==0&&(_=ll(l,f))),_===1)throw h=Ih,Mo(l,0),No(l,f),Pr(l,Yt()),h;switch(l.finishedWork=l.current.alternate,l.finishedLanes=f,_){case 0:case 1:throw Error(o(345));case 2:As(l);break;case 3:if(No(l,f),(62914560&f)===f&&10<(_=wp+500-Yt())){if(Ga(l,0)!==0)break;if(((x=l.suspendedLanes)&f)!==f){Er(),l.pingedLanes|=l.suspendedLanes&x;break}l.timeoutHandle=Le(As.bind(null,l),_);break}As(l);break;case 4:if(No(l,f),(4186112&f)===f)break;for(_=l.eventTimes,x=-1;0<f;){var C=31-Ci(f);w=1<<C,(C=_[C])>x&&(x=C),f&=~w}if(f=x,10<(f=(120>(f=Yt()-f)?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*iR(f/1960))-f)){l.timeoutHandle=Le(As.bind(null,l),f);break}As(l);break;case 5:As(l);break;default:throw Error(o(329))}}return Pr(l,Yt()),l.callbackNode===h?k_.bind(null,l):null}function No(l,h){for(h&=~Ep,h&=~Oo,l.suspendedLanes|=h,l.pingedLanes&=~h,l=l.expirationTimes;0<h;){var f=31-Ci(h),_=1<<f;l[f]=-1,h&=~_}}function Pp(l){if((48&xe)!=0)throw Error(o(327));if(Kn(),l===fr&&(l.expiredLanes&or)!=0){var h=or,f=ll(l,h);(Po&Oo)!=0&&(f=ll(l,h=Ga(l,h)))}else f=ll(l,h=Ga(l,0));if(l.tag!==0&&f===2&&(xe|=64,l.hydrate&&(l.hydrate=!1,Fd(l.containerInfo)),(h=Py(l))!==0&&(f=ll(l,h))),f===1)throw f=Ih,Mo(l,0),No(l,h),Pr(l,Yt()),f;return l.finishedWork=l.current.alternate,l.finishedLanes=h,As(l),Pr(l,Yt()),null}function D_(l,h){var f=xe;xe|=1;try{return l(h)}finally{(xe=f)===0&&(Oi(),Br())}}function B_(l,h){var f=xe;if((48&f)!=0)return l(h);xe|=1;try{if(l)return $n(99,l.bind(null,h))}finally{xe=f,Br()}}function Fh(l,h){vt(bp,Ss),Ss|=h,Po|=h}function Op(){Ss=bp.current,lt(bp)}function Mo(l,h){l.finishedWork=null,l.finishedLanes=0;var f=l.timeoutHandle;if(f!==De&&(l.timeoutHandle=De,ze(f)),Ft!==null)for(f=Ft.return;f!==null;){var _=f;switch(_.tag){case 1:(_=_.type.childContextTypes)!=null&&Zu();break;case 3:Ro(),lt(_r),lt(sr),Jd();break;case 5:Zd(_);break;case 4:Ro();break;case 13:case 19:lt(Tt);break;case 10:$d(_);break;case 23:case 24:Op()}f=f.return}fr=l,Ft=Li(l.current,null),or=Ss=Po=h,Zt=0,Ih=null,Ep=Oo=rl=0}function U_(l,h){for(;;){var f=Ft;try{if(Vd(),$a.current=yh,ph){for(var _=wt.memoizedState;_!==null;){var x=_.queue;x!==null&&(x.pending=null),_=_.next}ph=!1}if(Wa=0,qt=cr=wt=null,Ya=!1,_p.current=null,f===null||f.return===null){Zt=1,Ih=h,Ft=null;break}e:{var w=l,C=f.return,O=f,U=h;if(h=or,O.flags|=2048,O.firstEffect=O.lastEffect=null,U!==null&&typeof U=="object"&&typeof U.then=="function"){var K=U;if((2&O.mode)==0){var le=O.alternate;le?(O.updateQueue=le.updateQueue,O.memoizedState=le.memoizedState,O.lanes=le.lanes):(O.updateQueue=null,O.memoizedState=null)}var ge=(1&Tt.current)!=0,ee=C;do{var nt;if(nt=ee.tag===13){var ht=ee.memoizedState;if(ht!==null)nt=ht.dehydrated!==null;else{var Xr=ee.memoizedProps;nt=Xr.fallback!==void 0&&(Xr.unstable_avoidThisFallback!==!0||!ge)}}if(nt){var B=ee.updateQueue;if(B===null){var F=new Set;F.add(K),ee.updateQueue=F}else B.add(K);if((2&ee.mode)==0){if(ee.flags|=64,O.flags|=16384,O.flags&=-2981,O.tag===1)if(O.alternate===null)O.tag=17;else{var G=Ii(-1,1);G.tag=2,Pi(O,G)}O.lanes|=1;break e}U=void 0,O=h;var te=w.pingCache;if(te===null?(te=w.pingCache=new JC,U=new Set,te.set(K,U)):(U=te.get(K))===void 0&&(U=new Set,te.set(K,U)),!U.has(O)){U.add(O);var ce=cR.bind(null,w,K,O);K.then(ce,ce)}ee.flags|=4096,ee.lanes=h;break e}ee=ee.return}while(ee!==null);U=Error((V(O.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Zt!==5&&(Zt=2),U=hp(U,O),ee=C;do{switch(ee.tag){case 3:w=U,ee.flags|=4096,h&=-h,ee.lanes|=h,jy(ee,E_(0,w,h));break e;case 1:w=U;var Je=ee.type,be=ee.stateNode;if((64&ee.flags)==0&&(typeof Je.getDerivedStateFromError=="function"||be!==null&&typeof be.componentDidCatch=="function"&&(En===null||!En.has(be)))){ee.flags|=4096,h&=-h,ee.lanes|=h,jy(ee,T_(ee,w,h));break e}}ee=ee.return}while(ee!==null)}j_(f)}catch(We){h=We,Ft===f&&f!==null&&(Ft=f=f.return);continue}break}}function G_(){var l=Rh.current;return Rh.current=yh,l===null?yh:l}function ll(l,h){var f=xe;xe|=16;var _=G_();for(fr===l&&or===h||Mo(l,h);;)try{sR();break}catch(x){U_(l,x)}if(Vd(),xe=f,Rh.current=_,Ft!==null)throw Error(o(261));return fr=null,or=0,Zt}function sR(){for(;Ft!==null;)z_(Ft)}function oR(){for(;Ft!==null&&!BC();)z_(Ft)}function z_(l){var h=L_(l.alternate,l,Ss);l.memoizedProps=l.pendingProps,h===null?j_(l):Ft=h,_p.current=null}function j_(l){var h=l;do{var f=h.alternate;if(l=h.return,(2048&h.flags)==0){if((f=QC(f,h,Ss))!==null)return void(Ft=f);if((f=h).tag!==24&&f.tag!==23||f.memoizedState===null||(1073741824&Ss)!=0||(4&f.mode)==0){for(var _=0,x=f.child;x!==null;)_|=x.lanes|x.childLanes,x=x.sibling;f.childLanes=_}l!==null&&(2048&l.flags)==0&&(l.firstEffect===null&&(l.firstEffect=h.firstEffect),h.lastEffect!==null&&(l.lastEffect!==null&&(l.lastEffect.nextEffect=h.firstEffect),l.lastEffect=h.lastEffect),1<h.flags&&(l.lastEffect!==null?l.lastEffect.nextEffect=h:l.firstEffect=h,l.lastEffect=h))}else{if((f=KC(h))!==null)return f.flags&=2047,void(Ft=f);l!==null&&(l.firstEffect=l.lastEffect=null,l.flags|=2048)}if((h=h.sibling)!==null)return void(Ft=h);Ft=h=l}while(h!==null);Zt===0&&(Zt=5)}function As(l){var h=wo();return $n(99,aR.bind(null,l,h)),null}function aR(l,h){do Kn();while(nl!==null);if((48&xe)!=0)throw Error(o(327));var f=l.finishedWork;if(f===null)return null;if(l.finishedWork=null,l.finishedLanes=0,f===l.current)throw Error(o(177));l.callbackNode=null;var _=f.lanes|f.childLanes,x=_,w=l.pendingLanes&~x;l.pendingLanes=x,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=x,l.mutableReadLanes&=x,l.entangledLanes&=x,x=l.entanglements;for(var C=l.eventTimes,O=l.expirationTimes;0<w;){var U=31-Ci(w),K=1<<U;x[U]=0,C[U]=-1,O[U]=-1,w&=~K}if(qn!==null&&(24&_)==0&&qn.has(l)&&qn.delete(l),l===fr&&(Ft=fr=null,or=0),1<f.flags?f.lastEffect!==null?(f.lastEffect.nextEffect=f,_=f.firstEffect):_=f:_=f.firstEffect,_!==null){x=xe,xe|=32,_p.current=null,ol=M(l.containerInfo),al=!1,ne=_;do try{lR()}catch(F){if(ne===null)throw Error(o(330));Fi(ne,F),ne=ne.nextEffect}while(ne!==null);ol=null,ne=_;do try{for(C=l;ne!==null;){var le=ne.flags;if(16&le&&Re&&_y(ne.stateNode),128&le){var ge=ne.alternate;if(ge!==null){var ee=ge.ref;ee!==null&&(typeof ee=="function"?ee(null):ee.current=null)}}switch(1038&le){case 2:O_(ne),ne.flags&=-3;break;case 6:O_(ne),ne.flags&=-3,pp(ne.alternate,ne);break;case 1024:ne.flags&=-1025;break;case 1028:ne.flags&=-1025,pp(ne.alternate,ne);break;case 4:pp(ne.alternate,ne);break;case 8:O=C,w=ne,Re?N_(O,w):R_(O,w);var nt=w.alternate;I_(w),nt!==null&&I_(nt)}ne=ne.nextEffect}}catch(F){if(ne===null)throw Error(o(330));Fi(ne,F),ne=ne.nextEffect}while(ne!==null);al&&xo(),L(l.containerInfo),l.current=f,ne=_;do try{for(le=l;ne!==null;){var ht=ne.flags;if(36&ht&&rR(le,ne.alternate,ne),128&ht){ge=void 0;var Xr=ne.ref;if(Xr!==null){var B=ne.stateNode;switch(ne.tag){case 5:ge=Se(B);break;default:ge=B}typeof Xr=="function"?Xr(ge):Xr.current=ge}}ne=ne.nextEffect}}catch(F){if(ne===null)throw Error(o(330));Fi(ne,F),ne=ne.nextEffect}while(ne!==null);ne=null,GC(),xe=x}else l.current=f;if(Ni)Ni=!1,nl=l,il=h;else for(ne=_;ne!==null;)h=ne.nextEffect,ne.nextEffect=null,8&ne.flags&&((ht=ne).sibling=null,ht.stateNode=null),ne=h;if((_=l.pendingLanes)===0&&(En=null),_===1?l===Ip?sl++:(sl=0,Ip=l):sl=0,f=f.stateNode,xs&&typeof xs.onCommitFiberRoot=="function")try{xs.onCommitFiberRoot(Bd,f,void 0,(64&f.current.flags)==64)}catch{}if(Pr(l,Yt()),Ph)throw Ph=!1,l=Ap,Ap=null,l;return(8&xe)!=0||Br(),null}function lR(){for(;ne!==null;){var l=ne.alternate;al||ol===null||((8&ne.flags)!=0?$(ne,ol)&&(al=!0,Xn()):ne.tag===13&&nR(l,ne)&&$(ne,ol)&&(al=!0,Xn()));var h=ne.flags;(256&h)!=0&&tR(l,ne),(512&h)==0||Ni||(Ni=!0,za(97,function(){return Kn(),null})),ne=ne.nextEffect}}function Kn(){if(il!==90){var l=97<il?97:il;return il=90,$n(l,hR)}return!1}function uR(l,h){Cp.push(h,l),Ni||(Ni=!0,za(97,function(){return Kn(),null}))}function H_(l,h){Rp.push(h,l),Ni||(Ni=!0,za(97,function(){return Kn(),null}))}function hR(){if(nl===null)return!1;var l=nl;if(nl=null,(48&xe)!=0)throw Error(o(331));var h=xe;xe|=32;var f=Rp;Rp=[];for(var _=0;_<f.length;_+=2){var x=f[_],w=f[_+1],C=x.destroy;if(x.destroy=void 0,typeof C=="function")try{C()}catch(U){if(w===null)throw Error(o(330));Fi(w,U)}}for(f=Cp,Cp=[],_=0;_<f.length;_+=2){x=f[_],w=f[_+1];try{var O=x.create;x.destroy=O()}catch(U){if(w===null)throw Error(o(330));Fi(w,U)}}for(O=l.current.firstEffect;O!==null;)l=O.nextEffect,O.nextEffect=null,8&O.flags&&(O.sibling=null,O.stateNode=null),O=l;return xe=h,Br(),!0}function X_(l,h,f){Pi(l,h=E_(0,h=hp(f,h),1)),h=Er(),(l=Mh(l,1))!==null&&(eh(l,1,h),Pr(l,h))}function Fi(l,h){if(l.tag===3)X_(l,l,h);else for(var f=l.return;f!==null;){if(f.tag===3){X_(f,l,h);break}if(f.tag===1){var _=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(En===null||!En.has(_))){var x=T_(f,l=hp(h,l),1);if(Pi(f,x),x=Er(),(f=Mh(f,1))!==null)eh(f,1,x),Pr(f,x);else if(typeof _.componentDidCatch=="function"&&(En===null||!En.has(_)))try{_.componentDidCatch(h,l)}catch{}break}}f=f.return}}function cR(l,h,f){var _=l.pingCache;_!==null&&_.delete(h),h=Er(),l.pingedLanes|=l.suspendedLanes&f,fr===l&&(or&f)===f&&(Zt===4||Zt===3&&(62914560&or)===or&&500>Yt()-wp?Mo(l,0):Ep|=f),Pr(l,h)}function fR(l,h){var f=l.stateNode;f!==null&&f.delete(h),(h=0)==0&&((2&(h=l.mode))==0?h=1:(4&h)==0?h=wo()===99?1:2:(Zn===0&&(Zn=Po),(h=To(62914560&~Zn))===0&&(h=4194304))),f=Er(),(l=Mh(l,h))!==null&&(eh(l,h,f),Pr(l,f))}L_=function(l,h,f){var _=h.lanes;if(l!==null)if(l.memoizedProps!==h.pendingProps||_r.current)sn=!0;else{if((f&_)==0){switch(sn=!1,h.tag){case 3:m_(h),Kd();break;case 5:Zy(h);break;case 1:xr(h.type)&&Qu(h);break;case 4:qd(h,h.stateNode.containerInfo);break;case 10:Uy(h,h.memoizedProps.value);break;case 13:if(h.memoizedState!==null)return(f&h.child.childLanes)!=0?g_(l,h,f):(vt(Tt,1&Tt.current),(h=Yn(l,h,f))!==null?h.sibling:null);vt(Tt,1&Tt.current);break;case 19:if(_=(f&h.childLanes)!=0,(64&l.flags)!=0){if(_)return x_(l,h,f);h.flags|=64}var x=h.memoizedState;if(x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),vt(Tt,Tt.current),_)break;return null;case 23:case 24:return h.lanes=0,d_(l,h,f)}return Yn(l,h,f)}sn=(16384&l.flags)!=0}else sn=!1;switch(h.lanes=0,h.tag){case 2:if(_=h.type,l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2),l=h.pendingProps,x=Eo(h,sr.current),Ao(h,f),x=tp(null,h,_,l,x,f),h.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0){if(h.tag=1,h.memoizedState=null,h.updateQueue=null,xr(_)){var w=!0;Qu(h)}else w=!1;h.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Wd(h);var C=_.getDerivedStateFromProps;typeof C=="function"&&ah(h,_,C,l),x.updater=lh,h.stateNode=x,x._reactInternals=h,Yd(h,_,l,f),h=ap(null,h,_,!0,w,f)}else h.tag=0,Ir(null,h,x,f),h=h.child;return h;case 16:x=h.elementType;e:{switch(l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2),l=h.pendingProps,x=(w=x._init)(x._payload),h.type=x,w=h.tag=function(le){if(typeof le=="function")return Fp(le)?1:0;if(le!=null){if((le=le.$$typeof)===b)return 11;if(le===T)return 14}return 2}(x),l=nn(x,l),w){case 0:h=op(null,h,x,l,f);break e;case 1:h=v_(null,h,x,l,f);break e;case 11:h=h_(null,h,x,l,f);break e;case 14:h=c_(null,h,x,nn(x.type,l),_,f);break e}throw Error(o(306,x,""))}return h;case 0:return _=h.type,x=h.pendingProps,op(l,h,_,x=h.elementType===_?x:nn(_,x),f);case 1:return _=h.type,x=h.pendingProps,v_(l,h,_,x=h.elementType===_?x:nn(_,x),f);case 3:if(m_(h),_=h.updateQueue,l===null||_===null)throw Error(o(282));if(_=h.pendingProps,x=(x=h.memoizedState)!==null?x.element:null,zy(l,h),ja(h,_,null,f),(_=h.memoizedState.element)===x)Kd(),h=Yn(l,h,f);else{if((w=(x=h.stateNode).hydrate)&&(Qe?(Es=Sy(h.stateNode.containerInfo),Wn=h,w=_n=!0):w=!1),w){if(Qe&&(l=x.mutableSourceEagerHydrationData)!=null)for(x=0;x<l.length;x+=2)w=l[x],C=l[x+1],ke?w._workInProgressVersionPrimary=C:w._workInProgressVersionSecondary=C,Io.push(w);for(f=qy(h,null,_,f),h.child=f;f;)f.flags=-3&f.flags|1024,f=f.sibling}else Ir(l,h,_,f),Kd();h=h.child}return h;case 5:return Zy(h),l===null&&Qd(h),_=h.type,x=h.pendingProps,w=l!==null?l.memoizedProps:null,C=x.children,Te(_,x)?C=null:w!==null&&Te(_,w)&&(h.flags|=16),p_(l,h),Ir(l,h,C,f),h.child;case 6:return l===null&&Qd(h),null;case 13:return g_(l,h,f);case 4:return qd(h,h.stateNode.containerInfo),_=h.pendingProps,l===null?h.child=ch(h,null,_,f):Ir(l,h,_,f),h.child;case 11:return _=h.type,x=h.pendingProps,h_(l,h,_,x=h.elementType===_?x:nn(_,x),f);case 7:return Ir(l,h,h.pendingProps,f),h.child;case 8:case 12:return Ir(l,h,h.pendingProps.children,f),h.child;case 10:e:{if(_=h.type._context,x=h.pendingProps,C=h.memoizedProps,Uy(h,w=x.value),C!==null){var O=C.value;if((w=Ur(O,w)?0:0|(typeof _._calculateChangedBits=="function"?_._calculateChangedBits(O,w):1073741823))===0){if(C.children===x.children&&!_r.current){h=Yn(l,h,f);break e}}else for((O=h.child)!==null&&(O.return=h);O!==null;){var U=O.dependencies;if(U!==null){C=O.child;for(var K=U.firstContext;K!==null;){if(K.context===_&&(K.observedBits&w)!=0){O.tag===1&&((K=Ii(-1,f&-f)).tag=2,Pi(O,K)),O.lanes|=f,(K=O.alternate)!==null&&(K.lanes|=f),Gy(O.return,f),U.lanes|=f;break}K=K.next}}else C=O.tag===10&&O.type===h.type?null:O.child;if(C!==null)C.return=O;else for(C=O;C!==null;){if(C===h){C=null;break}if((O=C.sibling)!==null){O.return=C.return,C=O;break}C=C.return}O=C}}Ir(l,h,x.children,f),h=h.child}return h;case 9:return x=h.type,_=(w=h.pendingProps).children,Ao(h,f),_=_(x=Gr(x,w.unstable_observedBits)),h.flags|=1,Ir(l,h,_,f),h.child;case 14:return w=nn(x=h.type,h.pendingProps),c_(l,h,x,w=nn(x.type,w),_,f);case 15:return f_(l,h,h.type,h.pendingProps,_,f);case 17:return _=h.type,x=h.pendingProps,x=h.elementType===_?x:nn(_,x),l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,xr(_)?(l=!0,Qu(h)):l=!1,Ao(h,f),$y(h,_,x),Yd(h,_,x,f),ap(null,h,_,!0,l,f);case 19:return x_(l,h,f);case 23:case 24:return d_(l,h,f)}throw Error(o(156,h.tag))};var Lh={current:!1},Np=s.unstable_flushAllWithoutAsserting,V_=typeof Np=="function";function Mp(){if(Np!==void 0)return Np();for(var l=!1;Kn();)l=!0;return l}function $_(l){try{Mp(),function(h){if(Ch===null)try{var f=("require"+Math.random()).slice(0,7);Ch=(t&&t[f]).call(t,"timers").setImmediate}catch{Ch=function(x){var w=new MessageChannel;w.port1.onmessage=x,w.port2.postMessage(void 0)}}Ch(h)}(function(){Mp()?$_(l):l()})}catch(h){l(h)}}var kh=0,W_=!1;function dR(l,h,f,_){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(l,h,f,_){return new dR(l,h,f,_)}function Fp(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Li(l,h){var f=l.alternate;return f===null?((f=Hr(l.tag,h,l.key,l.mode)).elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=h,f.type=l.type,f.flags=0,f.nextEffect=null,f.firstEffect=null,f.lastEffect=null),f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,h=l.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f}function Dh(l,h,f,_,x,w){var C=2;if(_=l,typeof l=="function")Fp(l)&&(C=1);else if(typeof l=="string")C=5;else e:switch(l){case d:return Fo(f.children,x,w,h);case R:C=8,x|=16;break;case p:C=8,x|=1;break;case v:return(l=Hr(12,f,h,8|x)).elementType=v,l.type=v,l.lanes=w,l;case y:return(l=Hr(13,f,h,x)).type=y,l.elementType=y,l.lanes=w,l;case E:return(l=Hr(19,f,h,x)).elementType=E,l.lanes=w,l;case I:return Lp(f,x,w,h);case P:return(l=Hr(24,f,h,x)).elementType=P,l.lanes=w,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case m:C=10;break e;case g:C=9;break e;case b:C=11;break e;case T:C=14;break e;case S:C=16,_=null;break e;case A:C=22;break e}throw Error(o(130,l==null?l:typeof l,""))}return(h=Hr(C,f,h,x)).elementType=l,h.type=_,h.lanes=w,h}function Fo(l,h,f,_){return(l=Hr(7,l,_,h)).lanes=f,l}function Lp(l,h,f,_){return(l=Hr(23,l,_,h)).elementType=I,l.lanes=f,l}function kp(l,h,f){return(l=Hr(6,l,null,h)).lanes=f,l}function Dp(l,h,f){return(h=Hr(4,l.children!==null?l.children:[],l.key,h)).lanes=f,h.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},h}function pR(l,h,f){this.tag=h,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=De,this.pendingContext=this.context=null,this.hydrate=f,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ud(0),this.expirationTimes=Ud(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ud(0),Qe&&(this.mutableSourceEagerHydrationData=null)}function Y_(l){var h=l._reactInternals;if(h===void 0)throw typeof l.render=="function"?Error(o(188)):Error(o(268,Object.keys(l)));return(l=W(h))===null?null:l.stateNode}function q_(l,h){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<h?f:h}}function Bh(l,h){q_(l,h),(l=l.alternate)&&q_(l,h)}function vR(l){return(l=W(l))===null?null:l.stateNode}function mR(){return null}return r.IsThisRendererActing=Lh,r.act=function(l){function h(){kh--,xp.current=f,Lh.current=_}W_===!1&&(W_=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),kh++;var f=xp.current,_=Lh.current;xp.current=!0,Lh.current=!0;try{var x=D_(l)}catch(w){throw h(),w}if(x!==null&&typeof x=="object"&&typeof x.then=="function")return{then:function(w,C){x.then(function(){1<kh||V_===!0&&f===!0?(h(),w()):$_(function(O){h(),O?C(O):w()})},function(O){h(),C(O)})}};try{kh!==1||V_!==!1&&f!==!1||Mp(),h()}catch(w){throw h(),w}return{then:function(w){w()}}},r.attemptContinuousHydration=function(l){l.tag===13&&(Qn(l,67108864,Er()),Bh(l,67108864))},r.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var h=Er(),f=Mi(l);Qn(l,f,h),Bh(l,f)}},r.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var h=l.stateNode;if(h.hydrate){var f=bs(h.pendingLanes);h.expiredLanes|=f&h.pendingLanes,Pr(h,Yt()),(48&xe)==0&&(Oi(),Br())}break;case 13:var _=Er();B_(function(){return Qn(l,1,_)}),Bh(l,4)}},r.attemptUserBlockingHydration=function(l){l.tag===13&&(Qn(l,4,Er()),Bh(l,4))},r.batchedEventUpdates=function(l,h){var f=xe;xe|=2;try{return l(h)}finally{(xe=f)===0&&(Oi(),Br())}},r.batchedUpdates=D_,r.createComponentSelector=function(l){return{$$typeof:Eh,value:l}},r.createContainer=function(l,h,f){return l=new pR(l,h,f),h=Hr(3,null,null,h===2?7:h===1?3:0),l.current=h,h.stateNode=l,Wd(h),l},r.createHasPsuedoClassSelector=function(l){return{$$typeof:Th,value:l}},r.createPortal=function(l,h,f){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:_==null?null:""+_,children:l,containerInfo:h,implementation:f}},r.createRoleSelector=function(l){return{$$typeof:wh,value:l}},r.createTestNameSelector=function(l){return{$$typeof:Sh,value:l}},r.createTextSelector=function(l){return{$$typeof:Ah,value:l}},r.deferredUpdates=function(l){return $n(97,l)},r.discreteUpdates=function(l,h,f,_,x){var w=xe;xe|=4;try{return $n(98,l.bind(null,h,f,_,x))}finally{(xe=w)===0&&(Oi(),Br())}},r.findAllNodes=yp,r.findBoundingRects=function(l,h){if(!wi)throw Error(o(363));h=yp(l,h),l=[];for(var f=0;f<h.length;f++)l.push(Yu(h[f]));for(h=l.length-1;0<h;h--)for(var _=(f=l[h]).x,x=_+f.width,w=f.y,C=w+f.height,O=h-1;0<=O;O--)if(h!==O){var U=l[O],K=U.x,le=K+U.width,ge=U.y,ee=ge+U.height;if(_>=K&&w>=ge&&x<=le&&C<=ee){l.splice(h,1);break}if(!(_!==K||f.width!==U.width||ee<w||ge>C)){ge>w&&(U.height+=ge-w,U.y=w),ee<C&&(U.height=C-ge),l.splice(h,1);break}if(!(w!==ge||f.height!==U.height||le<_||K>x)){K>_&&(U.width+=K-_,U.x=_),le<x&&(U.width=x-K),l.splice(h,1);break}}return l},r.findHostInstance=Y_,r.findHostInstanceWithNoPortals=function(l){return(l=function(h){if(!(h=ae(h)))return null;for(var f=h;;){if(f.tag===5||f.tag===6)return f;if(f.child&&f.tag!==4)f.child.return=f,f=f.child;else{if(f===h)break;for(;!f.sibling;){if(!f.return||f.return===h)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}}return null}(l))===null?null:l.tag===20?l.stateNode.instance:l.stateNode},r.findHostInstanceWithWarning=function(l){return Y_(l)},r.flushControlled=function(l){var h=xe;xe|=1;try{$n(99,l)}finally{(xe=h)===0&&(Oi(),Br())}},r.flushDiscreteUpdates=function(){(49&xe)==0&&(function(){if(qn!==null){var l=qn;qn=null,l.forEach(function(h){h.expiredLanes|=24&h.pendingLanes,Pr(h,Yt())})}Br()}(),Kn())},r.flushPassiveEffects=Kn,r.flushSync=B_,r.focusWithin=function(l,h){if(!wi)throw Error(o(363));for(h=F_(l=vp(l),h),h=Array.from(h),l=0;l<h.length;){var f=h[l++];if(!Ba(f)){if(f.tag===5&&hC(f.stateNode))return!0;for(f=f.child;f!==null;)h.push(f),f=f.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return Ku},r.getFindAllNodesFailureDescription=function(l,h){if(!wi)throw Error(o(363));var f=0,_=[];l=[vp(l),0];for(var x=0;x<l.length;){var w=l[x++],C=l[x++],O=h[C];if((w.tag!==5||!Ba(w))&&(mp(w,O)&&(_.push(gp(O)),++C>f&&(f=C)),C<h.length))for(w=w.child;w!==null;)l.push(w,C),w=w.sibling}if(f<h.length){for(l=[];f<h.length;f++)l.push(gp(h[f]));return`findAllNodes was able to match part of the selector:
  `+_.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},r.getPublicRootInstance=function(l){if(!(l=l.current).child)return null;switch(l.child.tag){case 5:return Se(l.child.stateNode);default:return l.child.stateNode}},r.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:vR,findFiberByHostInstance:l.findFiberByHostInstance||mR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!h.isDisabled&&h.supportsFiber)try{Bd=h.inject(l),xs=h}catch{}l=!0}return l},r.observeVisibleRects=function(l,h,f,_){if(!wi)throw Error(o(363));l=yp(l,h);var x=cC(l,f,_).disconnect;return{disconnect:function(){x()}}},r.registerMutableSourceForHydration=function(l,h){var f=h._getVersion;f=f(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,f]:l.mutableSourceEagerHydrationData.push(h,f)},r.runWithPriority=function(l,h){var f=Ku;try{return Ku=l,h()}finally{Ku=f}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(l,h){var f=xe;xe&=-2,xe|=8;try{return l(h)}finally{(xe=f)===0&&(Oi(),Br())}},r.updateContainer=function(l,h,f,_){var x=h.current,w=Er(),C=Mi(x);e:if(f){t:{if(Q(f=f._reactInternals)!==f||f.tag!==1)throw Error(o(170));var O=f;do{switch(O.tag){case 3:O=O.stateNode.context;break t;case 1:if(xr(O.type)){O=O.stateNode.__reactInternalMemoizedMergedChildContext;break t}}O=O.return}while(O!==null);throw Error(o(171))}if(f.tag===1){var U=f.type;if(xr(U)){f=Ry(f,U,O);break e}}f=O}else f=Ai;return h.context===null?h.context=f:h.pendingContext=f,(h=Ii(w,C)).payload={element:l},(_=_===void 0?null:_)!==null&&(h.callback=_),Pi(x,h),Qn(x,C,w),C},r}}),J3=0,eD={__interactionsRef:null,__subscriberRef:null,unstable_clear:function(t){return t()},unstable_getCurrent:function(){return null},unstable_getThreadID:function(){return++J3},unstable_subscribe:function(){},unstable_trace:function(t,e,r){return r()},unstable_unsubscribe:function(){},unstable_wrap:function(t){return t}},ti=tn(function(t,e){});/** @license React v0.20.2
 * scheduler-tracing.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ti.__interactionsRef,ti.__subscriberRef,ti.unstable_clear,ti.unstable_getCurrent,ti.unstable_getThreadID,ti.unstable_subscribe,ti.unstable_trace,ti.unstable_unsubscribe,ti.unstable_wrap,tn(function(t){t.exports=eD}),tn(function(t){});var tD=tn(function(t){t.exports=K3}),ES={name:"@inlet/react-pixi",version:"6.8.0",description:"Write PixiJS applications using React declarative style.",main:"index.js","umd:main":"umd.js",module:"module.js","jsnext:main":"module.js",author:"Patrick Brouwer <patrick@inlet.nl>",license:"MIT",scripts:{"docz:dev":"rimraf ./docs && docz dev","docz:build":"rimraf ./docs && yarn build:prod && docz build",eslint:"eslint .","build:watch":"cross-env FORMAT=umd NODE_ENV=development rollup -c --watch","build:dev":"cross-env NODE_ENV=development rollup -c","build:prod":"cross-env NODE_ENV=production rollup -c",build:"rimraf ./dist && npm run build:dev && npm run build:prod",test:"jest --silent","test:watch":"jest --silent --watch",prepack:'if-env CI=true && echo "skip build" || (npm run test && npm run eslint && npm run build)'},repository:{type:"git",url:"git+https://github.com/inlet/react-pixi.git"},files:["dist/","animated/","legacy/","LICENSE","index.d.ts","index.js","umd.js","module.js"],typings:"./index.d.ts",devDependencies:{"@babel/cli":"7.14.8","@babel/core":"7.14.8","@babel/plugin-proposal-class-properties":"7.14.5","@babel/plugin-proposal-decorators":"7.14.5","@babel/plugin-proposal-do-expressions":"7.14.5","@babel/plugin-proposal-export-default-from":"7.14.5","@babel/plugin-proposal-export-namespace-from":"7.14.5","@babel/plugin-proposal-function-bind":"7.14.5","@babel/plugin-proposal-function-sent":"7.14.5","@babel/plugin-proposal-json-strings":"7.14.5","@babel/plugin-proposal-logical-assignment-operators":"7.14.5","@babel/plugin-proposal-nullish-coalescing-operator":"7.14.5","@babel/plugin-proposal-numeric-separator":"7.14.5","@babel/plugin-proposal-optional-chaining":"7.14.5","@babel/plugin-proposal-pipeline-operator":"7.14.8","@babel/plugin-proposal-throw-expressions":"7.14.5","@babel/plugin-syntax-dynamic-import":"7.8.3","@babel/plugin-syntax-import-meta":"7.10.4","@babel/plugin-transform-runtime":"7.14.5","@babel/preset-env":"7.14.9","@babel/preset-react":"7.14.5","@babel/runtime":"7.14.8","@rollup/plugin-alias":"3.1.5","@testing-library/react":"12.0.0","@types/jest":"26.0.24","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.26.3","babel-core":"7.0.0-beta.3","babel-eslint":"10.1.0","babel-jest":"26.6.3","babel-plugin-module-resolver":"4.1.0",canvas:"2.8.0","cross-env":"7.0.3",docz:"2.3.1",eslint:"7.32.0","eslint-config-prettier":"8.3.0","eslint-plugin-prettier":"3.4.0","eslint-plugin-react":"7.24.0","if-env":"1.0.4",jest:"26.6.3","jest-webgl-canvas-mock":"0.2.3","lodash.isnil":"4.0.0","lodash.times":"4.3.2","performance-now":"2.1.0","pixi.js":"6.1.0",prettier:"2.3.2","prop-types":"15.7.2",react:"17.0.2","react-dom":"17.0.2","react-reconciler":"0.26.2","react-spring":"9.2.4","react-test-renderer":"17.0.2",rimraf:"3.0.2",rollup:"2.55.1","rollup-plugin-babel":"4.4.0","rollup-plugin-commonjs":"10.1.0","rollup-plugin-filesize":"9.1.1","rollup-plugin-json":"4.0.0","rollup-plugin-node-globals":"1.4.0","rollup-plugin-node-resolve":"5.2.0","rollup-plugin-replace":"2.2.0","rollup-plugin-terser":"7.0.2",typescript:"4.3.5"},peerDependencies:{"pixi.js":"^6.0.0","prop-types":"^15.7.2",react:"^17.0.1","react-dom":"^17.0.1"},jest:{collectCoverage:!1,roots:["./test"],setupFiles:["jest-webgl-canvas-mock","<rootDir>/test/bootstrap.js","<rootDir>/test/__mocks__/matchMediaMock.js"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{}},Bg=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function TS(){throw new Error("setTimeout has not been defined")}function wS(){throw new Error("clearTimeout has not been defined")}var Xi=TS,Vi=wS;function SS(t){if(Xi===setTimeout)return setTimeout(t,0);if((Xi===TS||!Xi)&&setTimeout)return Xi=setTimeout,setTimeout(t,0);try{return Xi(t,0)}catch{try{return Xi.call(null,t,0)}catch{return Xi.call(this,t,0)}}}typeof Bg.setTimeout=="function"&&(Xi=setTimeout),typeof Bg.clearTimeout=="function"&&(Vi=clearTimeout);var Js,pi=[],ya=!1,qc=-1;function rD(){ya&&Js&&(ya=!1,Js.length?pi=Js.concat(pi):qc=-1,pi.length&&AS())}function AS(){if(!ya){var t=SS(rD);ya=!0;for(var e=pi.length;e;){for(Js=pi,pi=[];++qc<e;)Js&&Js[qc].run();qc=-1,e=pi.length}Js=null,ya=!1,function(r){if(Vi===clearTimeout)return clearTimeout(r);if((Vi===wS||!Vi)&&clearTimeout)return Vi=clearTimeout,clearTimeout(r);try{Vi(r)}catch{try{return Vi.call(null,r)}catch{return Vi.call(this,r)}}}(t)}}function CS(t,e){this.fun=t,this.array=e}CS.prototype.run=function(){this.fun.apply(null,this.array)};function yo(){}var nD=yo,iD=yo,sD=yo,oD=yo,aD=yo,lD=yo,uD=yo,$o=Bg.performance||{},hD=$o.now||$o.mozNow||$o.msNow||$o.oNow||$o.webkitNow||function(){return new Date().getTime()},cD=new Date,Ec={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];pi.push(new CS(t,e)),pi.length!==1||ya||SS(AS)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:nD,addListener:iD,once:sD,off:oD,removeListener:aD,removeAllListeners:lD,emit:uD,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*hD.call($o),r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r-=t[0],(n-=t[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-cD)/1e3}},fD=tn(function(t){(function(){var e,r,n,i,s,o;typeof performance<"u"&&performance!==null&&performance.now?t.exports=function(){return performance.now()}:Ec!=null&&Ec.hrtime?(t.exports=function(){return(e()-s)/1e6},r=Ec.hrtime,i=(e=function(){var a;return 1e9*(a=r())[0]+a[1]})(),o=1e9*Ec.uptime(),s=i-o):Date.now?(t.exports=function(){return Date.now()-n},n=Date.now()):(t.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(W3)}),Ib={};function Hv(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount.call(e,e,t))}function Ug(t,e){var r,n,i;typeof e.willUnmount=="function"&&e.willUnmount.call(e,e,t),(e==null||(r=e.config)===null||r===void 0?void 0:r.destroyChildren)!==!1&&(n=e.children)!==null&&n!==void 0&&n.length&&bi(e.children).forEach(function(s){Ug(e,s)}),t.removeChild(e),(e==null||(i=e.config)===null||i===void 0?void 0:i.destroy)!==!1&&e.destroy()}function Pb(t,e,r){Mt(e!==r,"react-pixi: PixiFiber cannot insert node before itself");var n=t.children.indexOf(e)!==-1,i=t.getChildIndex(r);n?t.setChildIndex(e,i):t.addChildAt(e,i)}var Ob=null,fn=tD({getRootHostContext:function(){return Ib},getChildHostContext:function(){return Ib},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=V3[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=bS[t];o&&((e=o.create(n)).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&((typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Sn)(e,{},n),e.__reactpixi={root:i}),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return Ob=function(o,a,u,c,d){var p=null;for(var v in u)!c.hasOwnProperty(v)&&u.hasOwnProperty(v)&&u[v]!=null&&(v==="children"||(p||(p=[]),p.push(v,null)));for(var m in c){var g=c[m],b=u!=null?u[m]:void 0;!c.hasOwnProperty(m)||g===b||g==null&&b==null||m==="children"||(p||(p=[]),p.push(m,g))}return p}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){Mt(!1,'react-pixi: Error trying to add text node "'+t+'"',"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:fD,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Hv.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Hv.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Hv.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ug.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Ug.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:Pb,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Pb.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=Sn),(a(t,n,i)||Ob)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},preparePortalMount:function(t){}}),dD=ES.devDependencies["react-dom"].replace(/[^0-9.]/g,""),pD=ES.name;fn.injectIntoDevTools({bundleType:0,version:dD,rendererPackageName:pD,findHostInstanceByFiber:fn.findHostInstance});var ru=new Map;function vD(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};Mt($t.prototype.isPrototypeOf(e),"Invalid argument `container`, expected instance of `PIXI.Container`.");var n=ru.get(e);return n||(n=fn.createContainer(e),ru.set(e,n)),fn.updateContainer(t,n,void 0,r),fn.getPublicRootInstance(n)}function mD(t){ru.has(t)&&fn.updateContainer(null,ru.get(t),void 0,function(){ru.delete(t)})}/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wt=typeof Symbol=="function"&&Symbol.for,Gg=Wt?Symbol.for("react.element"):60103,zg=Wt?Symbol.for("react.portal"):60106,Zc=Wt?Symbol.for("react.fragment"):60107,Qc=Wt?Symbol.for("react.strict_mode"):60108,Kc=Wt?Symbol.for("react.profiler"):60114,Jc=Wt?Symbol.for("react.provider"):60109,ef=Wt?Symbol.for("react.context"):60110,jg=Wt?Symbol.for("react.async_mode"):60111,$f=Wt?Symbol.for("react.concurrent_mode"):60111,tf=Wt?Symbol.for("react.forward_ref"):60112,rf=Wt?Symbol.for("react.suspense"):60113,gD=Wt?Symbol.for("react.suspense_list"):60120,nf=Wt?Symbol.for("react.memo"):60115,sf=Wt?Symbol.for("react.lazy"):60116,yD=Wt?Symbol.for("react.block"):60121,_D=Wt?Symbol.for("react.fundamental"):60117,xD=Wt?Symbol.for("react.responder"):60118,bD=Wt?Symbol.for("react.scope"):60119;function Or(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Gg:switch(t=t.type){case jg:case $f:case Zc:case Kc:case Qc:case rf:return t;default:switch(t=t&&t.$$typeof){case ef:case tf:case sf:case nf:case Jc:return t;default:return e}}case zg:return e}}}function Nb(t){return Or(t)===$f}var ED={AsyncMode:jg,ConcurrentMode:$f,ContextConsumer:ef,ContextProvider:Jc,Element:Gg,ForwardRef:tf,Fragment:Zc,Lazy:sf,Memo:nf,Portal:zg,Profiler:Kc,StrictMode:Qc,Suspense:rf,isAsyncMode:function(t){return Nb(t)||Or(t)===jg},isConcurrentMode:Nb,isContextConsumer:function(t){return Or(t)===ef},isContextProvider:function(t){return Or(t)===Jc},isElement:function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gg},isForwardRef:function(t){return Or(t)===tf},isFragment:function(t){return Or(t)===Zc},isLazy:function(t){return Or(t)===sf},isMemo:function(t){return Or(t)===nf},isPortal:function(t){return Or(t)===zg},isProfiler:function(t){return Or(t)===Kc},isStrictMode:function(t){return Or(t)===Qc},isSuspense:function(t){return Or(t)===rf},isValidElementType:function(t){return typeof t=="string"||typeof t=="function"||t===Zc||t===$f||t===Kc||t===Qc||t===rf||t===gD||typeof t=="object"&&t!==null&&(t.$$typeof===sf||t.$$typeof===nf||t.$$typeof===Jc||t.$$typeof===ef||t.$$typeof===tf||t.$$typeof===_D||t.$$typeof===xD||t.$$typeof===bD||t.$$typeof===yD)},typeOf:Or},Ye=tn(function(t,e){});Ye.AsyncMode,Ye.ConcurrentMode,Ye.ContextConsumer,Ye.ContextProvider,Ye.Element,Ye.ForwardRef,Ye.Fragment,Ye.Lazy,Ye.Memo,Ye.Portal,Ye.Profiler,Ye.StrictMode,Ye.Suspense,Ye.isAsyncMode,Ye.isConcurrentMode,Ye.isContextConsumer,Ye.isContextProvider,Ye.isElement,Ye.isForwardRef,Ye.isFragment,Ye.isLazy,Ye.isMemo,Ye.isPortal,Ye.isProfiler,Ye.isStrictMode,Ye.isSuspense,Ye.isValidElementType,Ye.typeOf,tn(function(t){t.exports=ED});function RS(){}function IS(){}Function.call.bind(Object.prototype.hasOwnProperty),IS.resetWarningCache=RS;var st=tn(function(t){t.exports=function(){function e(i,s,o,a,u,c){if(c!=="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}function r(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:IS,resetWarningCache:RS};return n.PropTypes=n,n}()}),Td=Ln.createContext(null),PS=Td.Provider,OS=Td.Consumer,TD=function(t){var e=Ln.forwardRef(function(r,n){return Ln.createElement(OS,null,function(i){return Ln.createElement(t,Ed({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e},Mb=function(){},NS={width:st.number,height:st.number,onMount:st.func,onUnmount:st.func,raf:st.bool,renderOnComponentChange:st.bool,children:st.node,options:st.shape({autoStart:st.bool,width:st.number,height:st.number,useContextAlpha:st.bool,backgroundAlpha:st.number,autoDensity:st.bool,antialias:st.bool,preserveDrawingBuffer:st.bool,resolution:st.number,forceCanvas:st.bool,backgroundColor:st.number,clearBeforeRender:st.bool,powerPreference:st.string,sharedTicker:st.bool,sharedLoader:st.bool,resizeTo:function(t,e){var r=t[e];r&&Mt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(ds(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&Mt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(ds(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},wD={width:800,height:600,onMount:Mb,onUnmount:Mb,raf:!0,renderOnComponentChange:!0},Hg=function(t){(function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),u&&oy(a,u)})(o,Ln.Component);var e,r,n,i,s=(e=o,r=gS(),function(){var a,u=Lg(e);if(r){var c=Lg(this).constructor;a=Reflect.construct(u,arguments,c)}else a=u.apply(this,arguments);return M3(this,a)});function o(){var a;O3(this,o);for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return jt(si(a=s.call.apply(s,[this].concat(c))),"_canvas",null),jt(si(a),"_mediaQuery",null),jt(si(a),"_ticker",null),jt(si(a),"_needsUpdate",!0),jt(si(a),"app",null),jt(si(a),"updateSize",function(){var p=a.props,v=p.width,m=p.height,g=p.options;g!=null&&g.resolution||(a.app.renderer.resolution=window.devicePixelRatio,a.resetInteractionManager()),a.app.renderer.resize(v,m)}),jt(si(a),"needsRenderUpdate",function(){a._needsUpdate=!0}),jt(si(a),"renderStage",function(){var p=a.props,v=p.renderOnComponentChange;!p.raf&&v&&a._needsUpdate&&(a._needsUpdate=!1,a.app.renderer.render(a.app.stage))}),a}return n=o,(i=[{key:"componentDidMount",value:function(){var a=this.props,u=a.onMount,c=a.width,d=a.height,p=a.options,v=a.raf,m=a.renderOnComponentChange;this.app=new bd(Sr(Sr({width:c,height:d,view:this._canvas},p),{},{autoDensity:(p==null?void 0:p.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[v?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=fn.createContainer(this.app.stage),fn.updateContainer(this.getChildren(),this.mountNode,this),u(this.app),p!=null&&p.autoDensity&&window.matchMedia&&(p==null?void 0:p.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),m&&!v&&(this._ticker=new Ht,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(a,u,c){var d,p=this.props,v=p.width,m=p.height,g=p.raf,b=p.renderOnComponentChange,y=p.options;(y==null?void 0:y.resolution)!==void 0&&(a==null?void 0:a.options.resolution)!==(y==null?void 0:y.resolution)&&(this.app.renderer.resolution=y.resolution,this.resetInteractionManager()),a.height===m&&a.width===v&&((d=a.options)===null||d===void 0?void 0:d.resolution)===(y==null?void 0:y.resolution)||this.updateSize(),a.raf!==g&&this.app.ticker[g?"start":"stop"](),fn.updateContainer(this.getChildren(),this.mountNode,this),a.width===v&&a.height===m&&a.raf===g&&a.renderOnComponentChange===b&&a.options===y||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){"interaction"in this.app.renderer.plugins&&(this.app.renderer.plugins.interaction.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var a=this.props.children;return Ln.createElement(PS,{value:this.app},a)}},{key:"componentDidCatch",value:function(a,u){console.error("Error occurred in `Stage`."),console.error(a),console.error(u)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),fn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var a,u,c=this,d=this.props.options;return d&&d.view?(Mt(d.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Ln.createElement("canvas",Ed({},(a=this.props,u=[].concat(bi(Object.keys(NS)),bi(Object.keys(kg))),Object.keys(a).filter(function(p){return!u.includes(p)}).reduce(function(p,v){return Sr(Sr({},p),{},jt({},v,a[v]))},{})),{ref:function(p){return c._canvas=p}}))}}])&&N3(n.prototype,i),o}();function MS(){var t=me.exports.useContext(Td);return Mt(t instanceof bd,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function SD(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=MS();Mt(typeof t=="function","`useTick` needs a callback function."),Mt(r instanceof bd,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=me.exports.useRef(null);me.exports.useEffect(function(){n.current=t},[t]),me.exports.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}Hg.propTypes=NS,Hg.defaultProps=wD;var AD=["children","apply"],CD=function(t,e){Mt(ds(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=Hi(i,AD),u=me.exports.useRef(me.exports.useMemo(function(){return r.map(function(p){var v,m=(a==null||(v=a[p])===null||v===void 0?void 0:v.construct)||[];return yS(e[p],bi(m))})},[r])),c=me.exports.useMemo(function(){return r.reduce(function(p,v,m){return Sr(Sr({},p),{},jt({},v,u.current[m]))},{})},[r]),d=me.exports.useMemo(function(){return Object.keys(a).filter(xS(_S(r))).reduce(function(p,v){return Sr(Sr({},p),{},jt({},v,a[v]))},{})},[a,r]);return r.forEach(function(p,v){return Object.assign(u.current[v],a[p])}),o&&function(){for(var p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];return v.every(function(g){return typeof g=="function"})}(o)&&o.call(t,c),Ln.createElement(t,Ed({},d,{filters:u.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:st.node,apply:st.func},n},RD=Dr.BitmapText,ID=Dr.Container,PD=Dr.Graphics,OD=Dr.NineSlicePlane,ND=Dr.ParticleContainer,MD=Dr.Sprite,FD=Dr.AnimatedSprite,LD=Dr.Text,kD=Dr.TilingSprite,DD=Dr.SimpleMesh,BD=Dr.SimpleRope;const UD=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:FD,AppConsumer:OS,AppContext:Td,AppProvider:PS,BitmapText:RD,Container:ID,Graphics:PD,NineSlicePlane:OD,ParticleContainer:ND,PixiComponent:$3,PixiFiber:fn,SimpleMesh:DD,SimpleRope:BD,Sprite:MD,Stage:Hg,Text:LD,TilingSprite:kD,applyDefaultProps:Sn,eventHandlers:Vf,render:vD,unmountComponentAtNode:mD,useApp:MS,useTick:SD,withFilters:CD,withPixiApp:TD},Symbol.toStringTag,{value:"Module"})),GD=bR(UD);(function(t){t.exports=GD})(Ce);function zD(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function jD(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}const FS=[16736609,4051711,16736609,4051711];let ye=zD(),xt=jD();const Fb="4",Lb="5",kb="6",Db="+",Bb="u",Ub="i",Nr=ye/4*.13,Wf=30,Vr=Nr*4,Ve=Vr*4,ju=2.3*xt,HD=xt/ju*1e3,Fa=50,ci=30,Bl=Fa/ju*1e3,LS="/assets/hit.8215ca3f.png";function St(t,e,r){const[n,i]=e,[s,o]=r;return t<n?s:t>i?o:s===o?s:(t-n)/(i-n)*(o-s)+s}function Mn(t,e,r){const[n,i]=e,[s,o]=r;let a=(t-n)/(i-n);return a=1-(1-a)**3,t<n?s:t>i?o:s===o?s:a*(o-s)+s}const kS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAAAhCAYAAADgdfgNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAV+SURBVHgB7VxLktw2DH1wzcr3yFFyg2xywmxyi2xyg2xyh1RlkV0Eu3tE6gEERErUzkTZI4nE5wEEQKqnbcFF0u+ERYu+0xcsWnSTVvIsuk0fmKBf/8OiH4x++3rcr86z6Dat5Fl0m1byLLpNK3kW3aaVPItu09Tb1uvjQnnfvP9AXg/y+fw54HjluAIHj2M1c/ys+7NE87tukH4lOJH+lz6J/Cl+bIegst0v+zUiPfBUOyBM7L9RHNhx8UPRo9a3140QvxIGCbAxHmO0rIfHGOB50VTyvILLMWw+e3bPZd7wacgaD3reZAFZv7qrOPnQRIDP3P6PPiW++/uQNxlv9NCNRvyKPMczDLRG4lU6mUc6j6kCBEYv0qz8GY3qvYthRG6Gx49H8R/VNUJnch+jv6sSkbbzR1WAY9d6y9FYtIVEz0ie0y2oY+OM92we6OPN5M5s3eV50Zbw8UlhVFcPg7flaW7b0j6waAfodO3ucUIH7I0E7EpQ78hdlbmLJ5p7qtOcdp5y8wvi3zX8jq8YNZRR1Daf2ppG9Yy09ys67/Jc8fuqb9kc0HalkS2uZ3/4VV13MmP0N5RxV77fAnnfgiNdfmwL8GRYNLCR2Y6eI/7I7pkfG2KbQD8OWUxG/d46vF7XhsHOM0u9BBodGwlWT18vOD3besI7Oq6Yszmqq2cHJ7ZHeTL+ubctXCPfNu9sXVdlevxX3lKiLeAJHNkb1Iyu3vbzxFFirvP0XmkcjVR2cbyng+/lRE8vGFe6VK8DSHDv+bNkjHhHcfXsaIAzstmLvafh5Cmv6nzuUTkg9D6XuJLVV7tRbxvpYXjq8O6T+UoSnGF8Cl9k19vo2z7SqybP2VtVCkJsoLKK42oY+cwk44vasF8oSeT5imQukkUHX9ZJIsxe1uuMrpndEcqOCGcx8rQ5GaapbeufP//uVkRWSbg4ftXOyN7fOxdgYG4UT4YJEzzZ2J1uP8z780/19iP65HiU/v3jL/P87kQJAt3RCd1j5z+VQ/8sUXXu9NaJvHtJIFvsvy8BHm+H5zP8UVcq/E0siJFjwvayYjP2mD+Ir574BuQ+VR5KnumvZBi/dweLw68rLyo7JjjAeZBFh1loSapj50OkSw5d4virPmnUmUVr5PWYZ9nyHNaAt6FWH7NIsH/5YhAc2Gu89glh/iQJC16QHPsTJQ6kjdUj3+fxQCpYtQnig94Ev8jvyrJKrzL7VcoP4ilJwEnKFQ9tg2GSlpSbouAgquVlO6aa1SYyXw8H4g5b3aL4MInzt/oJSiCeg0uOYkCDjiQ2Bp6mkkcd6AKkdALuGk2HcositKhVFz/DLl5j26wWwg5QvvOihPUo24PHdDuXRJWnAiCfnA7+/pHpNqDxHay6cc/n/WsZDsz1SACKGdpOzslRZWF9V8LnE2iu83hnCDTEBrMsugfACdM7t5Tq4CTQQI8R8ZWqbfuPKt9Uq7RbAZw9DexKkNDcDcsCCuyilmvN7Z1B1HYQTuZaoOqKin0nXBIUDBd11b3/qB2QaP7M4zNYW7CfjG11ejBNa4VrwWRPXHVxA6ptPvIYbdcDyRbc4nAVnYVRicm0d2eHdUdzZqtzSWrOiGoTy+dvLQqxiWeSoGBHq9cUOuk2MXSFOP2VDLM+XNW8mnxLFRKmcwkgVxUokSjYiMXt2wzQtGtQhYErGaGLVhE/0yPskKlioE0c08HQJnPU+TJsqjF2X3xljHEU217ncS6AVUD0SOepW5KzU7sHgqSSoKKBZrvixOHqKrxVlHFo678CzVZitjRpA22CS75AXTsXu9jsS9FndKqbF5e8rhuB7IaHXUGzPfuYVh8dG1znARXe+3GLE9eZGKP1v2QsKrT+6c2i27SSZ9Ft+gaXmH08BWwJkgAAAABJRU5ErkJggg==",DS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAAAhCAYAAADgdfgNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASqSURBVHgB7VxLttQ4DJXeqa30jnrSK+gB62HACpiwGwZMYAcMWMETjzpxSrq+smNXquAcfCexZf2syFISiqf2BllYeIO+YYT/RRYWJrGSZ2EalzD7770s/GX4+E5msSrPwjRW8ixMYyXPwjRW8ixMYyXPwjTi25awb0S20d+upjc2A5HCdhukaqrlRORmZDO020SBbcH7d53bZlMdu5M10BXUgo3Uxxbs5ncVJ8JX+eSCnMUb6SJV2DK37sWlUlrhRWgg6bjwKFdmns8ir/nMssR2SZIXqaPm5HbTLug7u8I62DWvM/E/21+ASjgt/kO+oY7Ci+toB/Uk+mkshOzlvgyC5CGVpRCyeFX3XG+nvQkl42IfbrAcHR8IhrV8cfLBh5YMIVtPt3RunuY86FeZV/4ye+eiblvMiEm/PFqHP2tb1tCJcyYvRFevNUhHj2/RPX+ZXlzr7TGzw/Ca8Jm0YzyAo//eyStPJesyAEsuLeVsXeJGvW4MuJFy7enZCQs2cA++BWalPkGoAAZzfzoyv/we8Q5n7QyzwLdWtOn3VJZabcLP51E/8zRbjibjzjorm2kpJWW+Re/q8XzYUrPWo43T2mjtR/TstJYPrfatiS9+3eKaSLy3qklyAf79wOmf/r9e6srjk9kbZWMPFgNyuHbaK5FH/l67MOU+KRHyrVRE0nboT26WRJroUmhTvpUUvCY2s2sWf2nw0Uok3WQf/XnOJV3JAk3fiiQpuUjfxmYJDfgNomYYXWxjOCdvZSZSty+Ja7bJWpKZRvZ/pSct0RpxCft2vGn8nb3rnNnZ/A8wLnMH+DMPoqo2B0ouazt7DDVeM36mM5TonhzayPQl8ujfHgfmB9FN/WjEpeJNEPgTO3A2q5hV+x7HJfeqOGFwchBwsqs5YcUr8miDYG5Q/FL0z9wNlgZMmp8UjPH6auVPs5D24u7iXmmcPnWygTeLM+NHNqimO63Yt35yHsSlsosO9R4uw0Mb4SMVu4usEjC7wk60Rj2pD+h7CywOGKtCxiRIKlSoNlubLFdgrROqF5eMFu2Gle1nqHOv6jQYLsOrUijxtLHDYBIrjcJa55CFOdoWsC8Wy7aX99dgy51UldynzD947NlpWPmUyKJOfxAOVeWDfmbx006ObG9VGULyfP3+zWkv1nHeyiCR/d+TdrBjDfrL80+wibzZGsso8G33ifDQtUzXEaRljqxle8tikdnKxn2//5F5hOT58uOzUL88RuL4O3D0G0aQkefu6Q+KLUueo/+LIv9Jhg3Sg/Vk/AhUbXIi+kcOOKMpGd9j79kJfCfO/z0PexZ6JGb1480XMr7OtfFcQ8ZFpmX3CO3ROOG+5MkzuyGD6yieGUjmK/qNlax6jCEOFxm6JsdoI9DOGvPjoZWHnbamAyeVmGeV7rPstNpkr4WyGztTmayzxvx4aOX5hdbrqKcrLpyAUXUj/PHjhkzh3u2W9r5XqY1+RmXSk+9FAp48oxt5RLUY0TnyxRTfaPDmHcXoi0NP3ib1UN02LzuAmDzhc/kDoZ35KEaC5aslq6IZaDvRY7ZmMVNBsBWemZQovv5KxkLB+isZC0/DSp6FafwEvaQ6IeBIPooAAAAASUVORK5CYII=",BS="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAbCAYAAAAgVez8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF7SURBVHgB7VhbboMwEDQo58lJeoSesz89RD96gPYiCQXVm4yHnXVQXophpAjsfc2w6yDRDSPSitCnlWET3Do2wa1jE9w6dsXqMP66fD/ke3tLd7THfgqeHd/8Xl6vjpcPuSVRY7JBW0vBRyJydIgx2C+yezlUXoxln4iLtx8KHlKdmNfdGoFIWBS31K/SfRrpQSd6aZxVz8+w2Zd2OoqL8tU4XnLeF0Cf4UfgCZM0H+l7kLjH+V2US430ozv8BBSCh0NqEvhHXQj+/vxIt682lrvmG8M18Tl2//522ioE//58/TtNsCJWEK9oDwqFeyqfqq9stvb8sm2fzoJ7SWq6xzVekSjHK6gYs3kCmA8/MC8WOTo1e7ewOVsi++H6EgEeOdUVrGv7bON6ys7ipWAUxom9DmMnMAdekYwa9UgI51X3LJ79MnazQkhYFeYHwDm8fUUkmhSvXuSH/oJ/L0lFxaNR9sYf480vemjsi+savHOOabfv0o1jdYL/AJO97E2TuzzNAAAAAElFTkSuQmCC";let ri=new $t;function XD(t){const e=Ce.exports.useApp();let r=t.endTime-t.startTime;const[n,i]=me.exports.useState(Math.round(r*t.game.notespeed/1e3)),[s,o]=me.exports.useState(-n),[a,u]=me.exports.useState(1),[c,d]=me.exports.useState(.5),[p,v]=me.exports.useState(-1),[m,g]=me.exports.useState(0),[b,y]=me.exports.useState(""),[E,T]=me.exports.useState(ye/2-Ve/2+.5*Ve);let S=FS[t.keys-1],A=t.keys==2?dt.from(kS):t.keys==3?dt.from(DS):dt.from(BS),R=dt.from(LS),I=new dt(de.WHITE);return ri.getChildByName("note"+t.i+t.keys)==null?(I.name="hold"+t.i+t.keys,t.keys==2||t.keys==3?(A.anchor.set(t.keys==2?1:0,1),R.anchor.set(t.keys==2?1:0,1),I.anchor.set(t.keys==2?1:0,0),A.width=Nr*2,R.width=Nr*2,I.width=Nr*2-10,I.tint=S,R.tint=S):(A.anchor.set(.5,1),R.anchor.set(.5,1),A.width=Nr,R.width=Nr,I.width=Nr,I.tint=16777215,R.tint=16777215),R.y=xt-Fa,R.blendMode=ue.ADD_NPM,R.name="hits"+t.i+t.keys,R.height=Wf*3,R.alpha=0,A.name="note"+t.i+t.keys,A.height=Wf,ri.addChild(I),ri.addChild(A),ri.addChild(R)):(A=ri.getChildByName("note"+t.i+t.keys),I=ri.getChildByName("hold"+t.i+t.keys),R=ri.getChildByName("hits"+t.i+t.keys)),I.y=s,A.y=s+n,I.height=n,I.alpha=c,t.game.mode=="play"&&(R.alpha=m),A.alpha=a,t.keys==2||t.keys==3?(A.x=E,I.x=E,t.game.mode=="play"&&(R.x=E)):(t.game.mode=="play"&&(R.x=E-ye/2+t.x),A.x=E-ye/2+t.x,I.x=E-ye/2+t.x),Ce.exports.useTick(()=>{if(t.game.isPlaying){i(Math.round(r*t.game.notespeed/1e3));const k=t.game.currenttime;if(t.game.beatmap.cursor.length>0){let N=-1;for(let D=0;D<t.game.beatmap.cursor.length;D++){const V=t.game.beatmap.cursor[D];if(t.startTime<V.startTime)break;N++}N>-1&&T(ye/2-Ve/2+t.game.beatmap.cursor[N].x*Ve)}t.game.hitlist.length>0&&t.game.hitlist.forEach(N=>{N.startsWith(t.startTime.toString()+t.keys.toString())&&(!N.endsWith("miss")&&p==-1&&b==""?(y("true"),v(k)):N.endsWith("miss")&&y("false"))}),o(St(k,[t.startTime-t.game.NOTE_TRAVEL_DURATION()+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION(),t.startTime+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()+n/t.game.notespeed*1e3],[-n,xt])),u(St(k,[t.startTime,t.startTime+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[1,0])),b==""&&p==-1||g(St(k,[p,p+500],[1,0])),b=="true"?(u(0),d(1)):b=="false"&&d(.2)}}),ri.getChildByName("container"+t.i)==null&&e.stage.addChild(ri),null}let Bi=new $t;function VD(t){const e=Ce.exports.useApp();Bi.name="container"+t.i;let[r,n]=me.exports.useState(!1);const[i,s]=me.exports.useState(0),[o,a]=me.exports.useState(1),[u,c]=me.exports.useState(-1),[d,p]=me.exports.useState(0);let v=FS[t.keys-1];const[m,g]=me.exports.useState(ye/2-Ve/2+.5*Ve);t.game.beatmap.cursor.sort((E,T)=>E.startTime-T.startTime);let b=t.keys==2?dt.from(kS):t.keys==3?dt.from(DS):dt.from(BS),y=dt.from(LS);return Bi.getChildByName("note"+t.i+t.keys)==null?(t.keys==2||t.keys==3?(b.anchor.set(t.keys==2?1:0,1),y.anchor.set(t.keys==2?1:0,0),b.width=Nr*2,y.width=Nr*2,y.tint=v):(b.anchor.set(.5,1),y.anchor.set(1,0),b.width=Nr,y.width=Nr,y.tint=16777215),y.y=xt-Fa,y.blendMode=ue.ADD_NPM,y.alpha=0,y.name="hits"+t.i+t.keys,y.height=Wf*3,b.name="note"+t.i+t.keys,b.height=Wf,Bi.addChild(b),Bi.addChild(y)):(b=Bi.getChildByName("note"+t.i+t.keys),t.game.mode=="play"&&(y=Bi.getChildByName("hits"+t.i+t.keys))),y.alpha=d,b.alpha=o,b.y=i,t.keys==2||t.keys==3?(b.x=m,y.x=m):(y.x=m-ye/2+t.x,b.x=m-ye/2+t.x),Ce.exports.useTick(()=>{let E=t.game.isPlaying;const T=t.game.currenttime;if(E){if(T>t.startTime+Bl,t.game.beatmap.cursor.length>0){let S=-1;for(let A=0;A<t.game.beatmap.cursor.length;A++){const R=t.game.beatmap.cursor[A];if(t.startTime<R.startTime)break;S++}S>-1&&g(ye/2-Ve/2+t.game.beatmap.cursor[S].x*Ve)}t.game.hitlist.length>0&&t.game.hitlist.forEach(S=>{S.startsWith(t.startTime.toString()+t.keys.toString())&&!S.endsWith("miss")&&u==-1&&(n(!0),c(T))}),!r||u==-1?(s(St(T,[t.startTime-t.game.NOTE_TRAVEL_DURATION()+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION(),t.startTime+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[0,xt])),a(St(T,[t.startTime,t.startTime+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[1,0]))):(p(St(T,[u,u+100],[1,0])),a(0))}}),Bi.getChildByName("container"+t.i)==null&&e.stage.addChild(Bi),null}var wd={exports:{}},Sd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $D=me.exports,WD=Symbol.for("react.element"),YD=Symbol.for("react.fragment"),qD=Object.prototype.hasOwnProperty,ZD=$D.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QD={key:!0,ref:!0,__self:!0,__source:!0};function US(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)qD.call(e,n)&&!QD.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:WD,type:t,key:s,ref:o,props:i,_owner:ZD.current}}Sd.Fragment=YD;Sd.jsx=US;Sd.jsxs=US;(function(t){t.exports=Sd})(wd);const Ad=wd.exports.Fragment,Oe=wd.exports.jsx,Vs=wd.exports.jsxs,Xg=200-10*8,Gb=80-6*8,zb=140-8*8,KD=Xg;function JD(t){if(t.hitObjects.length==0)return null;t.game.playStartTime;let e=t.game.isPlaying;t.game.effectvolume;const[r,n]=me.exports.useState(0),i=me.exports.useMemo(()=>t.hitObjects[r],[r]),[s,o]=me.exports.useState(-1),a=new Audio;a.src="../";let u=t.hitObjects.filter(d=>d.type=="hold"&&d.column==t.i).sort((d,p)=>d.startTime-p.startTime);Ce.exports.useTick(()=>{if(e=t.game.isPlaying,e){t.game.effectvolume,t.game.playStartTime;const d=t.game.currenttime;if(t.game.mode=="play"){if(t.game.key[t.i-1][0]=="1"&&i!=null){const v=i.startTime>=d-Xg&&i.startTime<=d+Xg?i:void 0;if(v){const m=Math.abs(v.startTime-d);n(r+1),(async()=>{m<=Gb?await t.game.hit("perfect",v.startTime,t.i):Gb<m&&m<=zb?await t.game.hit("great",v.startTime,t.i):zb<m&&m<=KD&&await t.game.hit("ok",v.startTime,t.i)})()}}let p=u.filter(v=>v.endTime!=null&&v.endTime>=d)[0];p!=null&&(s<p.startTime?o(p.startTime+100):d>=s&&s!=-1&&(o(s+100),t.game.key[t.i-1][1]=="0"&&(async()=>t.game.miss(p.startTime,t.i))())),i!=null&&d>i.startTime+150&&((async()=>t.game.miss(d,t.i))(),n(r+1))}}});let c=(ye-Vr)/2+Nr*(t.i-1)+Nr/2;return Oe(Ad,{children:Oe(Ce.exports.Container,{position:[0,0],children:t.hitObjects.map((d,p)=>d.type=="note"?Oe(VD,{x:c,startTime:d.startTime,keys:t.i,i:p,game:t.game},p):Oe(XD,{x:c,startTime:d.startTime,endTime:d.endTime,timingPoint:t.timingPoints.filter(v=>v.time<=d.startTime).sort((v,m)=>m.time-v.time)[0],keys:t.i,i:p,game:t.game},p))})})}const jb=50;function eB(t){const[e,r]=me.exports.useState(.5);me.exports.useState(-1);const[n,i]=me.exports.useState(0);t.game.playStartTime;const s=me.exports.useMemo(()=>t.cursors[n],[n]);return Ce.exports.useTick(()=>{if(t.game.playStartTime,t.game.isPlaying){const u=t.game.currenttime;for(let c=0;c<t.cursors.length;c++){const d=t.cursors[c],p=t.cursors[c+1]!=null?t.cursors[c+1].startTime:t.game.audio.duration*1e3;u>=d.startTime&&p>=u&&d.type=="normal"&&r(d.x)}if(t.game.mode=="play"){if((e>s.x&&t.game.key[4][0]=="1"||e<s.x&&t.game.key[4][1]=="1")&&s!=null){const c=s.startTime<=u+jb?s:void 0;if(c){var a=async()=>{i(n+1),await t.game.hit("perfect",c.startTime,5)};a()}}s!=null&&u>s.startTime+jb&&(t.game.miss(s.startTime,5),i(n+1))}}}),null}const Hb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAACbCAYAAADIrH28AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAKJkAACiZAbqDAN8AAAJFaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pg0KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPg0KICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPg0KICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4NCiAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjI2NDwvdGlmZjpZUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjI2NDwvdGlmZjpYUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPg0KICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4NCiAgICA8L3JkZjpEZXNjcmlwdGlvbj4NCiAgPC9yZGY6UkRGPg0KPC94OnhtcG1ldGE+DQo8P3hwYWNrZXQgZW5kPSJyIj8+Q7eE2wAAAXVJREFUeF7t0LENgzAARUGT9MyRdbL/MI4tQZ9X0dxJXyCMmzeeNuc81t5r59pn7bt22+/72z7b/xzXtce8rid/EiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsGeMH18EoJV9yQH4AAAAASUVORK5CYII=",tB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAS0AAAAyCAYAAAAJFI0UAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAKJkAACiZAbqDAN8AAAJFaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pg0KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPg0KICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPg0KICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4NCiAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjI2NDwvdGlmZjpZUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjI2NDwvdGlmZjpYUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPg0KICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4NCiAgICA8L3JkZjpEZXNjcmlwdGlvbj4NCiAgPC9yZGY6UkRGPg0KPC94OnhtcG1ldGE+DQo8P3hwYWNrZXQgZW5kPSJyIj8+Q7eE2wAADDJJREFUeF7t3euOI8txAOGztmVZtn75/d/QgCHJlu+2zA+agHLrNDnXhYSZDKBQWVlZ3RxiOrbYJGe//eHGT8tbefTczbni2c+G/7u1Of+/tyZX/n+e+tp/31pz/3Vr6v/t1qC2tf9xa/95a+arK/fvt6ZWHr+7Ncc1rofaxr996sOxrJvIwfEn5/inb9++/Sy3LI9Yab2de8/bmSeOMDcb9NUQSP2cT0Igj9YkIiSWahOPPIzJxJpZS3R6Y3HrIK72X24tGXVOAkPnCHXPCgsrreW1rLRez73n68yfsqrXzOm/jbg+YZHLnEskYi3RaMlLHqTRrmvKyhq9NWJNXbXySSth/f6px5SWuPyUVjUrreWHsNJ6HVfP1ZkzLjdjiEmjfFICgSSkWUcgs0ZeTSISk4hYU08ijadcxMkKdkrqNRBUspriQjJ6Tlj3JLTSWj6EldbLuPcclT97kMnsIa6pbY5ciKT18jNnTA52ZsZiTZ5c1Hbx640TkVhtY8fsJaE+OdXjX5/6U1rPCSumiO5KaYW1vIWV1mPuPTfl9WdNudmSkzgZwRinoIyrJQp90tGrVWcuoampHiSiTg4EYWxe/0hYxY+EhTkfVyL6WW6FtbyVldY1956TmRc3rk9OQRizJvmIq5UTawnGvItan3imWCDuwherqS6Jmf+bW3MMnDssWNux5w4LjjOFhVNaj4R1V0wrreWtrLS+595zMfPixrM/41rCqC+fvBLEWWeeyMzLaeLkRjyYstKDTIxbB/XnxxWSlXr3s5CUkpH5U1j1aO5KQpdiWmEt72Gl9SfuPQ8z3+4I8s3pm9OXJ5EkA725+kSEJAZ5MrC2Zo2mjoDECUMM6+yWEpVjT2khOSWs+XIQhHQKa0rqXcLCSmt5DyutP3L1HMyceI5JBOWNm9cnpeI5Vpug9FrSMUcUerLRt15MGOIrmUAuSekT1RRWsoL1jTvWFBbmec6aOCX0UEorreU9/NVT/5Uhj5OZSzaYMYmIE8qUSxS3LknJJ5cr7s25P4XOFfLGU1hJx/lm/4unPmGd/N1TP/nl6DU1V3Uv4vbv5K+0p+GyvIqvLq0ENJm5ZDMxnsKaVH/ONfZ8JzJx0pATz52SHPFY99dPvU+l91WbkP/Nrdm9WHtPePjbWztFldwSUqg9d1T3OAX0rJB2t7W8ld1pfQ+5xIxPfF5qksQgJhL9GROKOr38fP7JJKm1jqzIQ2xnZPwPt2aXI7bD0icJYxLSnMMxa+jDo2HX5XjOofXyD+qe2009mt+d1PJD+Or3tM6f/d5Yf8Y1gsHc4RSbJ5xkhQQil0DMGc+dFjo22UyhOGZr5xp5tOua8rIbix5Dx5gvFeU6VzuteS6Yn49n7sjmDurubmp3WstbWWl9z9W43OxnTBSNk0Y7JZgjDr18gjFuPSk0DxIo7rNTHbP1LvrOkXDmvGNobsI3r9eSUHkvOzHnMMXUX3JwzPKn3HAlo0tBrbiWt7DS+p6r50Ku/NkTiTjBwHgK64xJRW/NXD8F0ctPMiCSRCTueNZ0vERjrCUW9QlFzTxOrbXzc1ryMGc8jzEFZW4+7jl3CmnFtXwIK62fc+aMZ26Ok5XxvRjJItGUJwc5YzXlE1NCMC5Wn3Bi1pNA0opqnUObu68+DkFIiQvWq5niSnDJaZ6j+J64Hspp5bW8lL0R/zbaCc0b8p5LY008x26QN3bj/Ap5rRoi6jhumP/61hxHM3YTXN88rOk4f39r3g0UVxuO4Ua5nLrmuiF/0sccmhdr893GkL9ib8wvH8J+uHS5Yv5OFOs1O712hyTZ7s0uTLM7s2uyg2vX556ZXZz7c+6NNS/XXF8xapfY7g7twr7bje3u7GviX+lleS12g8lMPPuJXd7sJ73UXJZXsdJanuOU0SNJ+X1KZs/9bnmZueJaXs1Ka/lornZVk3nPbMb37oUty3estJaXcrWzCnOae124+r16TmbL8iJWWssVjwQViWriXcmTKavepZzvZKId19x5LcslK63lLVxJbebEZHX1+3Ultth7XMuzrLSWl9IN9kdc7b5AYHZX914iJqvdaS3PstJaXsuVlM7fI+N2Wvd+x0hsfqj1ir05v/yMldbyUq5khfL9Lhm3oypnPHdZ8yXi1afql+UuK63ltcyXiVNk4jn2u+XdxHuyOm/GR18PupLZfhVoWWktr+IUE/wOlbsSF8gqeU1xzZeFu+NaXsRKa3krCWqKavZ+t7T50rB+ykp8b9cVlzusP+zfmf+SfLYvTF/9LDPXF32hn1/81YxnjS//Gjcv37q+DDzxLpi5evSlYjlxa3whuD/wN1FrN9IXjrugPRbNl4td6I7Xn5Lpz8KYn1grp3b+6RjjmD9DNbP2ivOLyi/64vJ+wXn5CD7jX3mYP88Z1xJTcUJCF76+OTsGF3r1xOLC7uJPBImqix7VOI7muOYJi5ymGKp1fHVJJ4hMTbnqr+TX3Hws6HzNn9LSrmT1UuHcrVtpLR/BZ99pNdbXQC6a8YzJgDDKl4O8RjzmXNjG/RE9qD0l4U+xWNPaLlzjSCAw75hTWHMeM+98xsVxyinKz9rzMVfzSDKvEtAKa/koPrO0ivVnrE1ZJRVx/ZXIupjtbFpvrYZTWvKkoX7+xxJIdtZMQZW3rrmTak9Rzb9LhR5vPBIVzvoPkdYKa/lIvoK0kIBQrBWTSwIyJiljcqiOCMy72LsIW6MuCSQMeY1EzJ9CIKf5Tppjqus+FaacJp2reVRjrnPJzfNOUc34ZK65J5xXi2jltXwEn+ndQ3K5onzvbJ1c5T0vvQOW1DSiIQr5+dyJvZPlbXvvkCWLefET1Gz+zDEI8vwPWMVz7MZ777jZtc1559JI6BTW5JGk4nzMy/IXx7zwvgJTbKfkSCqBmSOTZEVEUxyeN7ssePkmr0Zt9BUUeXFvzzuuRip68nGMmv88tZeEMw/n+cenNvPoc06dt8caL/kclLWzwePejxYsfzF8ppeH58/RWF+caIzF9SAccfnuLckbJxjjdjoz12eQjK2V+2eJJ84dTP+P4BWOi3+6NceLdlST5ttZzd0Wyp/nb2f2Elo7X97ty8Plz8JXuxGfoBKTNkWlJSky0Luw9e2OUJxc9NZpjpW01DiOY3hJWL05uIjncaO6BDjvc521iWfWhPtpYd2jl36PJHau87hXWsufha9yI15cS1A4x2RCGMZJyIVcrl1N61zMCca4HBIX5q6qenMdrxzE1jan1xLgJIElm+quUNNjq+aU0ZTWjM86TAG9WEYrruW9fDVpkQrm+IxJQ5zA4CI37mKvforFuOYiJ56wVjt3Qx0/KSQ396PmejhHzePo3KekyKY5zPlE5HwzP6VUzZQWTnGd8nmRjFZay3v5zNJCY30xqZzj2eTJhGSMoScC+aSmrnlzSU5OSyxyXahqkFQSQ3lUax0cp9i6GjrHFNBkflJ+1nTeJHkKKdRNec26K/k8K6SV1vJePpu0MH+eM26sTzzFiQFieTJJKNUYt7Z54ymiOdarsTZxdMx2Xh0X3dBPOPNxJTDHnMefQio/c441x5gymi9fT4FVp78nt0S00lp+OJ9dWmisnzGxQF8MUihXa62YFBpPEVWbyOS7yOW7+JuDOMlE8nJs669E0UvH1jbuuFfi6vzzfP5353CeWd95p9xmfPW4CGnFtfxQvpK0kGwwZYRkYSxOQnMM4yR0zs+eHEhAmx+HMAeiKUYS6LNXaqfokHAILWHqy+u1KR/M3JTXmcPVS8Y5P+NTXFNGd8W00lrew2eUFs6fqbF+xlNEmBJqvhzKJ41zLmn0oV3zXprpowtdjYs3Iem1PqTa8Zp3vpiykE806qPHguRkLD7FdYqo+s4z50PulBZWXMsP5atLazbUJ4qklDCqbZxYoDbZQK+usbopr+bmPKYgksdZY6zOuMeiV98Y5ltzvnMp7+Vh88krEXVu3JNX4ymvKxmtvJYP47NKC+fPNcdTHvLJKeZYnzQSQrnWusBbI9/XgRKTsbnG0He8+o5TzczPdUTTOHnFlE7rzVczJSXWdwwxpozK4UpeM27+VeLCymt5KZ9ZWjh/tjkWNy6+Gs98ojAW12sJiXQmLvp5T8saNcmpNVMw5fTR8WdLQFMc8gTQ8eAxGKuvJaMZO87ckRlPcb1HWlhxLe/kp5/+H9JUwpIefAH5AAAAAElFTkSuQmCC",rB="/assets/cursorhitleft.0797ffa9.png";let Gt=new $t;function nB(t){const e=t.game.beatmap.cursor.sort((u,c)=>u.startTime-c.startTime),[r,n]=me.exports.useState(0),[i,s]=me.exports.useState(.5),[o,a]=me.exports.useState(.5);return Ce.exports.useTick(()=>{const u=t.game.currenttime,c=t.game.isPlaying;if(e.length>0){let d=-1;for(let p=0;p<e.length;p++){const v=e[p];if(t.time<v.startTime)break;d++}d>-1&&s(e[d].x)}c&&(u<=t.time+Bl?n(St(u,[t.time-HD+Bl,t.time+Bl],[0,xt])):a(St(u,[t.time,t.time+Bl],[1,0])))}),Oe(Ad,{children:Oe(Ce.exports.Sprite,{texture:de.WHITE,width:Vr,height:2,anchor:[.5,1],alpha:o,x:St(i,[0,1],[ye/2-Ve/2,ye/2+Ve/2]),y:r})})}function Xb(t){Ce.exports.useApp(),Gt=t.container,t.game.effectvolume,t.beatmap.cursor=t.beatmap.cursor.sort((H,M)=>H.startTime-M.startTime),t.x;let e=t.beatmap.cursor[t.i+1]?t.beatmap.cursor[t.i+1].startTime:Number.isNaN(t.game.audio.duration)?1e6:t.game.audio.duration*1e3,r=t.beatmap.cursor[t.i]?t.beatmap.cursor[t.i].startTime:0,n=t.beatmap.cursor[t.i]!=null?t.beatmap.cursor[t.i].x:.5,i=.5;const s=t.type=="normal"?t.x:i;let o=e-r,a=ju;const[u,c]=me.exports.useState(Math.round(o*a/1e3)),[d,p]=me.exports.useState(-u);let v=0;for(let H=1;H<t.i+1;H++)if(t.beatmap.cursor[t.i-H].type=="normal"||t.beatmap.cursor[t.i-H]!=null){i=t.beatmap.cursor[t.i-H].x;break}const m=i>n?4051711:16736609,[g,b]=me.exports.useState(!0),[y,E]=me.exports.useState(-1);me.exports.useState(0);const[T,S]=me.exports.useState(0);let[A,R]=me.exports.useState(!1);const[I,P]=me.exports.useState(""),k=i>n?-(Vr/2+Vr*.3/2):Vr/2+Vr*.3/2;let N=St(t.x,[0,1],[ye/2-Ve/2,ye/2+Ve/2]);N+=t.type=="normal"?k:0;let D=dt.from(i>n?rB:tB),V=new mi,Q=new mi;Q.lineStyle(2,16777215,1),Q.beginFill(0),Q.drawRect(0,0,Vr*1.3,u),Q.endFill();let q=Q;V.lineStyle(4,16777215,1),V.beginFill(m),V.drawRect(0,0,Math.abs(i-n)*Ve,26),V.endFill();let ae=V,W=new dt(de.WHITE),$=new dt(de.WHITE),se=new dt(de.WHITE),Se=dt.from(Hb),pe=dt.from(Hb);if(Gt.getChildByName("switchline"+t.i)==null){W.x=St(s,[0,1],[ye/2-Ve/2,ye/2+Ve/2]),$.width=10,$.anchor.set(.5),$.height=10,$.rotation=45*3.14/180,$.name="point"+t.i,se.width=10,se.anchor.set(.5),se.height=10,se.rotation=45*3.14/180,se.name="point2"+t.i,$.alpha=se.alpha=0,W.anchor.set(.5,1),W.width=3,W.alpha=1,W.height=u,W.name="line1"+t.i,Se.anchor.set(.5,1),Se.width=100,Se.name="line2"+t.i,Se.alpha=0,pe.anchor.set(.5,1),pe.width=100,pe.name="line3"+t.i,pe.alpha=0,Se.x=St(s,[0,1],[ye/2-Ve/2+Vr/2,ye/2+Ve/2+Vr/2]),pe.x=St(s,[0,1],[ye/2-Ve/2-Vr/2,ye/2+Ve/2-Vr/2]),D.alpha=0,D.x=N,D.name=t.i+"cursorf",q.name=t.i+"rowbg",q.x=St(s,[0,1],[ye/2-Ve/2-q.width/2,ye/2+Ve/2-q.width/2]),q.alpha=1,ae.name="switchline"+t.i;const H=i>n?0:-ae.width;ae.x=St(t.x,[0,1],[ye/2-Ve/2+H,ye/2+Ve/2+H]),Gt.addChild(D),Gt.addChild(q),Gt.addChild(W),Gt.addChild(Se),Gt.addChild(ae),Gt.addChild(pe),Gt.addChild($),Gt.addChild(se)}else ae=Gt.getChildByName("switchline"+t.i),q=Gt.getChildByName(t.i+"rowbg"),$=Gt.getChildByName("point"+t.i),se=Gt.getChildByName("point2"+t.i),W=Gt.getChildByName("line1"+t.i),Se=Gt.getChildByName("line2"+t.i),pe=Gt.getChildByName("line3"+t.i),D=Gt.getChildByName(t.i+"cursorf");return D.y=xt-Fa,D.width=300,D.height=50,D.blendMode=ue.ADD_NPM,D.anchor.set(i>n?1:0,.5),D.tint=m,se.x=St(s,[0,1],[ye/2-Ve/2,ye/2+Ve/2]),$.x=St(s,[0,1],[ye/2-Ve/2,ye/2+Ve/2]),Se.height=u,W.height=u,pe.height=u,ae.y=d+u-ae.height,q.y=d+u-q.height,W.y=d+u,Se.y=d+u,pe.y=d+u,$.y=d+u,se.y=d,Ce.exports.useTick(()=>{v=t.game.currenttime;let H=t.game.isPlaying;A&&y!=-1&&v&&(D.alpha=St(v,[y,y+300],[1,0]),D.x=Mn(v,[y,y+300],[N,i>n?N-50:N+50])),(H&&g&&v>=r-t.game.NOTE_TRAVEL_DURATION()+ +t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()||t.game.mode=="editor")&&(t.game.hitlist.length>0&&t.game.hitlist.forEach(M=>{M.startsWith(r.toString()+"5")&&!M.endsWith("miss")&&y==-1&&(R(!0),P(M.split(",")[1]),E(v))}),(v>e+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()||v<r-t.game.NOTE_TRAVEL_DURATION()+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION())&&t.game.mode=="play"&&b(!1),p(St(v,[r-t.game.NOTE_TRAVEL_DURATION()+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION(),e+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[-u,xt])),S(St(v,[e,e+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[1,0])),ae.alpha=.7,q.alpha=T)}),null}const iB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJsAAABMCAYAAAB6WsUbAAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQEGAAMAAAABAAIAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAAEIAAAAAQAAAQgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAJugAwAEAAAAAQAAAEwAAAAAbO4rpwAAAAlwSFlzAAAomgAAKJoBFzohsgAAAg9pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj4yNjQ8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjI2NDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UGhvdG9tZXRyaWNJbnRlcnByZXRhdGlvbj4yPC90aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpkJRyaAAABLUlEQVR4Ae3XwQ2DMAAEQZPwi5QC6IB20jzdxHBN3MdDAyuPTjIew0eAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECEdjmnBsKAg2B/Ym8GiENAhnbBwOBhkDGdjRCGgQythMDgYZAHgizEdIg4HFgAzWBXKO/Wk1oaYGM7VpawOFrAvln+9ZqQksLZGzvpQUcviaQa/RfqwkRIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAEC4wbREA+fh+htyQAAAABJRU5ErkJggg==",sB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJsAAAAnCAYAAAAYaTqCAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAKJkAACiZAbqDAN8AAAJFaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pg0KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPg0KICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPg0KICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4NCiAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjI2NDwvdGlmZjpZUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjI2NDwvdGlmZjpYUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPg0KICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4NCiAgICA8L3JkZjpEZXNjcmlwdGlvbj4NCiAgPC9yZGY6UkRGPg0KPC94OnhtcG1ldGE+DQo8P3hwYWNrZXQgZW5kPSJyIj8+Q7eE2wAAAFlJREFUeF7t0sERgDAMA8EE/tRBO/RfjDNm1IJ/ux9dAVoAAAAAAAAAAAAAAAAAAAAAAAAA/HZV7TSM6rPdaRjVZ3vSMKrP9qZhVJ/tS8OoPlulYdSVhWFrHcymE4EpG58LAAAAAElFTkSuQmCC";var _o=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(_o||{}),Vg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Vg||{}),_e=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(_e||{}),Yf=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Yf||{}),re=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(re||{}),_a=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(_a||{}),Ue=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Ue||{}),$g=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))($g||{}),Fn=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Fn||{}),ay=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(ay||{}),co=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(co||{}),ys=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(ys||{}),Cn=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Cn||{}),ly=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(ly||{}),Zr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Zr||{}),zt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(zt||{}),Pt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Pt||{}),Gn=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Gn||{});const oB={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var t;return(t=document.baseURI)!=null?t:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};var Xv=/iPhone/i,Vb=/iPod/i,$b=/iPad/i,Wb=/\biOS-universal(?:.+)Mac\b/i,Vv=/\bAndroid(?:.+)Mobile\b/i,Yb=/Android/i,Go=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Tc=/Silk/i,ni=/Windows Phone/i,qb=/\bWindows(?:.+)ARM\b/i,Zb=/BlackBerry/i,Qb=/BB10/i,Kb=/Opera Mini/i,Jb=/\b(CriOS|Chrome)(?:.+)Mobile/i,eE=/Mobile(?:.+)Firefox\b/i,tE=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function aB(t){return function(e){return e.test(t)}}function lB(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=aB(r),s={apple:{phone:i(Xv)&&!i(ni),ipod:i(Vb),tablet:!i(Xv)&&(i($b)||tE(e))&&!i(ni),universal:i(Wb),device:(i(Xv)||i(Vb)||i($b)||i(Wb)||tE(e))&&!i(ni)},amazon:{phone:i(Go),tablet:!i(Go)&&i(Tc),device:i(Go)||i(Tc)},android:{phone:!i(ni)&&i(Go)||!i(ni)&&i(Vv),tablet:!i(ni)&&!i(Go)&&!i(Vv)&&(i(Tc)||i(Yb)),device:!i(ni)&&(i(Go)||i(Tc)||i(Vv)||i(Yb))||i(/\bokhttp\b/i)},windows:{phone:i(ni),tablet:i(qb),device:i(ni)||i(qb)},other:{blackberry:i(Zb),blackberry10:i(Qb),opera:i(Kb),firefox:i(eE),chrome:i(Jb),device:i(Zb)||i(Qb)||i(Kb)||i(eE)||i(Jb)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const ra=lB(globalThis.navigator);function uB(){return!ra.apple.device}function hB(t){let e=!0;if(ra.tablet||ra.phone){if(ra.apple.device){const r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(ra.android.device){const r=navigator.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}const he={ADAPTER:oB,MIPMAP_TEXTURES:co.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Pt.NONE,SPRITE_MAX_TEXTURES:hB(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,premultipliedAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1,hello:!1},GC_MODE:ly.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:ay.CLAMP,SCALE_MODE:Fn.LINEAR,PRECISION_VERTEX:Zr.HIGH,PRECISION_FRAGMENT:ra.apple.device?Zr.HIGH:Zr.MEDIUM,CAN_UPLOAD_SAME_BUFFER:uB(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};he.PREFER_ENV=_o.WEBGL2;he.STRICT_TEXTURE_CACHE=!1;var Ne=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Ne||{});const Wg=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},rE=(t,e)=>{var r;return(r=Wg(t).priority)!=null?r:e},$e={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Wg).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(Wg).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>rE(s,r)-rE(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}},cB=Math.PI*2,qf=Math.PI/180;var GS=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(GS||{});class Ot{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Ot(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const wc=[new Ot,new Ot,new Ot,new Ot];class Nt{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=GS.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Nt(0,0,0,0)}clone(){return new Nt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const k=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=k)return!1;const D=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>D}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=wc[0].set(e.left,e.top),u=wc[1].set(e.left,e.bottom),c=wc[2].set(e.right,e.top),d=wc[3].set(e.right,e.bottom);if(c.x<=a.x||u.y<=a.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(a,a),r.apply(u,u),r.apply(c,c),r.apply(d,d),Math.max(a.x,u.x,c.x,d.x)<=n||Math.min(a.x,u.x,c.x,d.x)>=i||Math.max(a.y,u.y,c.y,d.y)<=s||Math.min(a.y,u.y,c.y,d.y)>=o))return!1;const v=p*(u.y-a.y),m=p*(a.x-u.x),g=v*n+m*s,b=v*i+m*s,y=v*n+m*o,E=v*i+m*o;if(Math.max(g,b,y,E)<=v*a.x+m*a.y||Math.min(g,b,y,E)>=v*d.x+m*d.y)return!1;const T=p*(a.y-c.y),S=p*(c.x-a.x),A=T*n+S*s,R=T*i+S*s,I=T*n+S*o,P=T*i+S*o;return!(Math.max(A,R,I,P)<=T*a.x+S*a.y||Math.min(A,R,I,P)>=T*d.x+S*d.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class na{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new na(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}class rr{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Ot;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Ot;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,u,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),c=Math.abs(a+u);return c<1e-5||Math.abs(cB-c)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new rr;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new rr}static get TEMP_MATRIX(){return new rr}}const Us=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Gs=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],zs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],js=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Yg=[],zS=[],Sc=Math.sign;function fB(){for(let t=0;t<16;t++){const e=[];Yg.push(e);for(let r=0;r<16;r++){const n=Sc(Us[t]*Us[r]+zs[t]*Gs[r]),i=Sc(Gs[t]*Us[r]+js[t]*Gs[r]),s=Sc(Us[t]*zs[r]+zs[t]*js[r]),o=Sc(Gs[t]*zs[r]+js[t]*js[r]);for(let a=0;a<16;a++)if(Us[a]===n&&Gs[a]===i&&zs[a]===s&&js[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new rr;e.set(Us[t],Gs[t],zs[t],js[t],0,0),zS.push(e)}}fB();const ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Us[t],uY:t=>Gs[t],vX:t=>zs[t],vY:t=>js[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Yg[t][e],sub:(t,e)=>Yg[t][ft.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?ft.S:ft.N:Math.abs(e)*2<=Math.abs(t)?t>0?ft.E:ft.W:e>0?t>0?ft.SE:ft.SW:t>0?ft.NE:ft.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=zS[ft.inv(e)];i.tx=r,i.ty=n,t.append(i)}},jS=class{constructor(){this.worldTransform=new rr,this.localTransform=new rr,this.position=new na(this.onChange,this,0,0),this.scale=new na(this.onChange,this,1,1),this.pivot=new na(this.onChange,this,0,0),this.skew=new na(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let HS=jS;HS.IDENTITY=new jS;class vn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,u){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:d}=this;this._aliasCount++;for(let p=0,v=d.length;p<v;p++)d[p][c](e,r,n,i,s,o,a,u);return d===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(vn.prototype,{dispatch:{value:vn.prototype.emit},run:{value:vn.prototype.emit}});he.TARGET_FPMS=.06;var Zf=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Zf||{});class $v{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}class Jt{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new $v(null,null,1/0),this.deltaMS=1/he.TARGET_FPMS,this.elapsedMS=1/he.TARGET_FPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Zf.NORMAL){return this._addListener(new $v(e,r,n))}addOnce(e,r,n=Zf.NORMAL){return this._addListener(new $v(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*he.TARGET_FPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,he.TARGET_FPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Jt._shared){const e=Jt._shared=new Jt;e.autoStart=!0,e._protected=!0}return Jt._shared}static get system(){if(!Jt._system){const e=Jt._system=new Jt;e.autoStart=!0,e._protected=!0}return Jt._system}}class XS{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Zf.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Jt.shared:new Jt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}XS.extension=Ne.Application;$e.add(XS);var VS={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,p||u,v),g=r?r+c:c;return u._events[g]?u._events[g].fn?u._events[g]=[u._events[g],m]:u._events[g].push(m):(u._events[g]=m,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var c=[],d,p;if(this._eventsCount===0)return c;for(p in d=this._events)e.call(d,p)&&c.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(d)):c},a.prototype.listeners=function(c){var d=r?r+c:c,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,m=p.length,g=new Array(m);v<m;v++)g[v]=p[v].fn;return g},a.prototype.listenerCount=function(c){var d=r?r+c:c,p=this._events[d];return p?p.fn?1:p.length:0},a.prototype.emit=function(c,d,p,v,m,g){var b=r?r+c:c;if(!this._events[b])return!1;var y=this._events[b],E=arguments.length,T,S;if(y.fn){switch(y.once&&this.removeListener(c,y.fn,void 0,!0),E){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,p),!0;case 4:return y.fn.call(y.context,d,p,v),!0;case 5:return y.fn.call(y.context,d,p,v,m),!0;case 6:return y.fn.call(y.context,d,p,v,m,g),!0}for(S=1,T=new Array(E-1);S<E;S++)T[S-1]=arguments[S];y.fn.apply(y.context,T)}else{var A=y.length,R;for(S=0;S<A;S++)switch(y[S].once&&this.removeListener(c,y[S].fn,void 0,!0),E){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,d);break;case 3:y[S].fn.call(y[S].context,d,p);break;case 4:y[S].fn.call(y[S].context,d,p,v);break;default:if(!T)for(R=1,T=new Array(E-1);R<E;R++)T[R-1]=arguments[R];y[S].fn.apply(y[S].context,T)}}return!0},a.prototype.on=function(c,d,p){return s(this,c,d,p,!1)},a.prototype.once=function(c,d,p){return s(this,c,d,p,!0)},a.prototype.removeListener=function(c,d,p,v){var m=r?r+c:c;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!v||g.once)&&(!p||g.context===p)&&o(this,m);else{for(var b=0,y=[],E=g.length;b<E;b++)(g[b].fn!==d||v&&!g[b].once||p&&g[b].context!==p)&&y.push(g[b]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},a.prototype.removeAllListeners=function(c){var d;return c?(d=r?r+c:c,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(VS);const uy=VS.exports,dB={parse:Ow,format:Mw,resolve:Nw};he.RETINA_PREFIX=/@([0-9\.]+)x/;he.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;const nE={};function $r(t,e,r=3){if(nE[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),nE[e]=!0}let Wv;function pB(){return typeof Wv>"u"&&(Wv=function(){const e={stencil:!0,failIfMajorPerformanceCaveat:he.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!he.ADAPTER.getWebGLRenderingContext())return!1;const r=he.ADAPTER.createCanvas();let n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const i=!!(n&&n.getContextAttributes().stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Wv}var vB="#f0f8ff",mB="#faebd7",gB="#00ffff",yB="#7fffd4",_B="#f0ffff",xB="#f5f5dc",bB="#ffe4c4",EB="#000000",TB="#ffebcd",wB="#0000ff",SB="#8a2be2",AB="#a52a2a",CB="#deb887",RB="#5f9ea0",IB="#7fff00",PB="#d2691e",OB="#ff7f50",NB="#6495ed",MB="#fff8dc",FB="#dc143c",LB="#00ffff",kB="#00008b",DB="#008b8b",BB="#b8860b",UB="#a9a9a9",GB="#006400",zB="#a9a9a9",jB="#bdb76b",HB="#8b008b",XB="#556b2f",VB="#ff8c00",$B="#9932cc",WB="#8b0000",YB="#e9967a",qB="#8fbc8f",ZB="#483d8b",QB="#2f4f4f",KB="#2f4f4f",JB="#00ced1",eU="#9400d3",tU="#ff1493",rU="#00bfff",nU="#696969",iU="#696969",sU="#1e90ff",oU="#b22222",aU="#fffaf0",lU="#228b22",uU="#ff00ff",hU="#dcdcdc",cU="#f8f8ff",fU="#daa520",dU="#ffd700",pU="#808080",vU="#008000",mU="#adff2f",gU="#808080",yU="#f0fff0",_U="#ff69b4",xU="#cd5c5c",bU="#4b0082",EU="#fffff0",TU="#f0e68c",wU="#fff0f5",SU="#e6e6fa",AU="#7cfc00",CU="#fffacd",RU="#add8e6",IU="#f08080",PU="#e0ffff",OU="#fafad2",NU="#d3d3d3",MU="#90ee90",FU="#d3d3d3",LU="#ffb6c1",kU="#ffa07a",DU="#20b2aa",BU="#87cefa",UU="#778899",GU="#778899",zU="#b0c4de",jU="#ffffe0",HU="#00ff00",XU="#32cd32",VU="#faf0e6",$U="#ff00ff",WU="#800000",YU="#66cdaa",qU="#0000cd",ZU="#ba55d3",QU="#9370db",KU="#3cb371",JU="#7b68ee",e4="#00fa9a",t4="#48d1cc",r4="#c71585",n4="#191970",i4="#f5fffa",s4="#ffe4e1",o4="#ffe4b5",a4="#ffdead",l4="#000080",u4="#fdf5e6",h4="#808000",c4="#6b8e23",f4="#ffa500",d4="#ff4500",p4="#da70d6",v4="#eee8aa",m4="#98fb98",g4="#afeeee",y4="#db7093",_4="#ffefd5",x4="#ffdab9",b4="#cd853f",E4="#ffc0cb",T4="#dda0dd",w4="#b0e0e6",S4="#800080",A4="#663399",C4="#ff0000",R4="#bc8f8f",I4="#4169e1",P4="#8b4513",O4="#fa8072",N4="#f4a460",M4="#2e8b57",F4="#fff5ee",L4="#a0522d",k4="#c0c0c0",D4="#87ceeb",B4="#6a5acd",U4="#708090",G4="#708090",z4="#fffafa",j4="#00ff7f",H4="#4682b4",X4="#d2b48c",V4="#008080",$4="#d8bfd8",W4="#ff6347",Y4="#40e0d0",q4="#ee82ee",Z4="#f5deb3",Q4="#ffffff",K4="#f5f5f5",J4="#ffff00",eG="#9acd32",tG={aliceblue:vB,antiquewhite:mB,aqua:gB,aquamarine:yB,azure:_B,beige:xB,bisque:bB,black:EB,blanchedalmond:TB,blue:wB,blueviolet:SB,brown:AB,burlywood:CB,cadetblue:RB,chartreuse:IB,chocolate:PB,coral:OB,cornflowerblue:NB,cornsilk:MB,crimson:FB,cyan:LB,darkblue:kB,darkcyan:DB,darkgoldenrod:BB,darkgray:UB,darkgreen:GB,darkgrey:zB,darkkhaki:jB,darkmagenta:HB,darkolivegreen:XB,darkorange:VB,darkorchid:$B,darkred:WB,darksalmon:YB,darkseagreen:qB,darkslateblue:ZB,darkslategray:QB,darkslategrey:KB,darkturquoise:JB,darkviolet:eU,deeppink:tU,deepskyblue:rU,dimgray:nU,dimgrey:iU,dodgerblue:sU,firebrick:oU,floralwhite:aU,forestgreen:lU,fuchsia:uU,gainsboro:hU,ghostwhite:cU,goldenrod:fU,gold:dU,gray:pU,green:vU,greenyellow:mU,grey:gU,honeydew:yU,hotpink:_U,indianred:xU,indigo:bU,ivory:EU,khaki:TU,lavenderblush:wU,lavender:SU,lawngreen:AU,lemonchiffon:CU,lightblue:RU,lightcoral:IU,lightcyan:PU,lightgoldenrodyellow:OU,lightgray:NU,lightgreen:MU,lightgrey:FU,lightpink:LU,lightsalmon:kU,lightseagreen:DU,lightskyblue:BU,lightslategray:UU,lightslategrey:GU,lightsteelblue:zU,lightyellow:jU,lime:HU,limegreen:XU,linen:VU,magenta:$U,maroon:WU,mediumaquamarine:YU,mediumblue:qU,mediumorchid:ZU,mediumpurple:QU,mediumseagreen:KU,mediumslateblue:JU,mediumspringgreen:e4,mediumturquoise:t4,mediumvioletred:r4,midnightblue:n4,mintcream:i4,mistyrose:s4,moccasin:o4,navajowhite:a4,navy:l4,oldlace:u4,olive:h4,olivedrab:c4,orange:f4,orangered:d4,orchid:p4,palegoldenrod:v4,palegreen:m4,paleturquoise:g4,palevioletred:y4,papayawhip:_4,peachpuff:x4,peru:b4,pink:E4,plum:T4,powderblue:w4,purple:S4,rebeccapurple:A4,red:C4,rosybrown:R4,royalblue:I4,saddlebrown:P4,salmon:O4,sandybrown:N4,seagreen:M4,seashell:F4,sienna:L4,silver:k4,skyblue:D4,slateblue:B4,slategray:U4,slategrey:G4,snow:z4,springgreen:j4,steelblue:H4,tan:X4,teal:V4,thistle:$4,tomato:W4,turquoise:Y4,violet:q4,wheat:Z4,white:Q4,whitesmoke:K4,yellow:J4,yellowgreen:eG};function Cd(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function rG(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function nG(t){if(typeof t=="string"&&(t=tG[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,r,n]=t;t=e+e+r+r+n+n}return parseInt(t,16)}function hy(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function iG(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[_e.NORMAL_NPM]=_e.NORMAL,t[_e.ADD_NPM]=_e.ADD,t[_e.SCREEN_NPM]=_e.SCREEN,e[_e.NORMAL]=_e.NORMAL_NPM,e[_e.ADD]=_e.ADD_NPM,e[_e.SCREEN]=_e.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const sG=iG();function oG(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function $S(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Qf(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function iE(t){return!(t&t-1)&&!!t}function sE(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function aG(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}let lG=0;function Ru(){return++lG}const oE={},wn=Object.create(null),Ui=Object.create(null);let Ac;function uG(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,Ac||(Ac=document.createElement("a")),Ac.href=t;const r=dB.parse(Ac.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function aE(t,e=1){const r=he.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e}const qg=[];function WS(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=qg.length-1;n>=0;--n){const i=qg[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Iu{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new vn("setRealSize"),this.onUpdate=new vn("update"),this.onError=new vn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class cy extends Iu{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===ys.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const hG={scaleMode:Fn.NEAREST,format:re.RGBA,alphaMode:ys.NPM},Ul=class extends uy{constructor(t=null,e=null){super(),e=e||{};const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:u,format:c,type:d,target:p,resolution:v,resourceOptions:m}=e;t&&!(t instanceof Iu)&&(t=WS(t,m),t.internal=!0),this.resolution=v||he.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=n!=null?n:he.MIPMAP_TEXTURES,this.anisotropicLevel=i!=null?i:he.ANISOTROPIC_LEVEL,this._wrapMode=u||he.WRAP_MODE,this._scaleMode=s!=null?s:he.SCALE_MODE,this.format=c||re.RGBA,this.type=d||Ue.UNSIGNED_BYTE,this.target=p||_a.TEXTURE_2D,this.alphaMode=r!=null?r:ys.UNPACK,this.uid=Ru(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=iE(this.realWidth)&&iE(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ui[this.cacheId],delete wn[this.cacheId],this.cacheId=null),this.dispose(),Ul.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=he.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${Ru()}`}i=t._pixiId}let s=Ui[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new Ul(t,e),s.cacheId=i,Ul.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new cy(t,{width:e,height:r}),s=t instanceof Float32Array?Ue.FLOAT:Ue.UNSIGNED_BYTE;return new Ul(i,Object.assign({},hG,n||{width:e,height:r,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Ui[e]&&Ui[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Ui[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Ui[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Ui[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Ui[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let It=Ul;It._globalBatch=0;class YS extends Iu{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new It;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)!e[n]||(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Iu?this.addResourceAt(e[n],n):this.addResourceAt(WS(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class cG extends YS{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=_a.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let u=0;u<i;u++){const c=o[u];s[u]<c.dirtyId&&(s[u]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,u,c.resource.width,c.resource.height,1,r.format,n.type,c.resource.source))}return!0}}class ps extends Iu{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=uG(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===ys.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class fG extends ps{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Gl=class extends YS{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Gl.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<Gl.SIDES;o++)this.items[o].target=_a.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=_a.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=_a.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<Gl.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Gl.SIDES}};let qS=Gl;qS.SIDES=6;class ZS extends ps{constructor(e,r){var n;if(r=r||{},typeof e=="string"){const i=new Image;ps.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}super(e),!e.complete&&!!this._width&&!!this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=((n=r.createBitmap)!=null?n:he.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ys.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}const of=class extends ps{constructor(t,e){e=e||{},super(he.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},of.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;ps.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{!this._resolve||(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${Ru()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=of.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&of.SVG_XML.test(t)}};let fy=of;fy.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;fy.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Zg=class extends ps{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];ps.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const u=o.split("?").shift().toLowerCase(),c=u.slice(u.lastIndexOf(".")+1);a=a||Zg.MIME_TYPES[c]||`video/${c}`,s.src=o,s.type=a,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Jt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Jt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Jt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Jt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Jt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Jt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Zg.TYPES.includes(e)}};let dy=Zg;dy.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];dy.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};class ia extends ps{constructor(e,r){var i;var n=(...s)=>{super(...s)};r=r||{},typeof e=="string"?(n(ia.EMPTY),this.url=e):(n(e),this.url=null),this.crossOrigin=(i=r.crossOrigin)!=null?i:!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await he.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===ys.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){var e;return ia._EMPTY=(e=ia._EMPTY)!=null?e:he.ADAPTER.createCanvas(0,0),ia._EMPTY}}qg.push(ia,ZS,fG,dy,fy,cy,qS,cG);class dG extends cy{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===ys.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class Qg{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new vn("disposeFramebuffer"),this.multisample=Pt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new It(null,{scaleMode:Fn.NEAREST,resolution:1,mipmap:co.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new It(new dG(null,{width:this.width,height:this.height}),{scaleMode:Fn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:co.OFF,format:re.DEPTH_COMPONENT,type:Ue.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class QS extends It{constructor(e={}){var r;if(typeof e=="number"){const n=arguments[0],i=arguments[1],s=arguments[2],o=arguments[3];e={width:n,height:i,scaleMode:s,resolution:o}}e.width=e.width||100,e.height=e.height||100,(r=e.multisample)!=null||(e.multisample=Pt.NONE),super(null,e),this.mipmap=co.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Qg(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class KS{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,u=e.x/i+o,c=e.y/s+a;n=ft.add(n,ft.NW),this.x0=u+o*ft.uX(n),this.y0=c+a*ft.uY(n),n=ft.add(n,2),this.x1=u+o*ft.uX(n),this.y1=c+a*ft.uY(n),n=ft.add(n,2),this.x2=u+o*ft.uX(n),this.y2=c+a*ft.uY(n),n=ft.add(n,2),this.x3=u+o*ft.uX(n),this.y3=c+a*ft.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const lE=new KS;function Cc(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class qe extends uy{constructor(e,r,n,i,s,o){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Nt(0,0,1,1)),e instanceof qe&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=lE,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Ot(o.x,o.y):new Ot(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;(r==null?void 0:r.url)&&wn[r.url]&&qe.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,qe.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new qe(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===lE&&(this._uvs=new KS),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=he.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof It){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Ru()}`,It.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Ru()}`}s=e._pixiId}let o=wn[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof It)?(r.resolution||(r.resolution=aE(e)),o=new qe(new It(e,r)),o.baseTexture.cacheId=s,It.addToCache(o.baseTexture,s),qe.addToCache(o,s)):!o&&e instanceof It&&(o=new qe(e),qe.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=qe.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new qe(It.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new It(e,Object.assign({scaleMode:he.SCALE_MODE,resolution:aE(r)},i)),{resource:o}=s;o instanceof ZS&&(o.url=r);const a=new qe(s);return n||(n=r),It.addToCache(a.baseTexture,n),qe.addToCache(a,n),n!==r&&(It.addToCache(a.baseTexture,r),qe.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(u=>{a.baseTexture.once("loaded",()=>u(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),wn[r]&&wn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),wn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=wn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete wn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)wn[e.textureCacheIds[r]]===e&&delete wn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const u=o&&a?"and":"or",c=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,d=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${u} ${d}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return qe._EMPTY||(qe._EMPTY=new qe(new It),Cc(qe._EMPTY),Cc(qe._EMPTY.baseTexture)),qe._EMPTY}static get WHITE(){if(!qe._WHITE){const e=he.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),qe._WHITE=new qe(It.from(e)),Cc(qe._WHITE),Cc(qe._WHITE.baseTexture)}return qe._WHITE}}class Rd extends qe{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Rd(new QS(e))}}class JS{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Pt.NONE){const i=new QS(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Rd(i)}getOptimalTexture(e,r,n=1,i=Pt.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Qf(e),r=Qf(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Pt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}JS.SCREEN_KEY=-1;class Kf{constructor(e,r=0,n=!1,i=Ue.FLOAT,s,o,a){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a}destroy(){this.buffer=null}static from(e,r,n,i,s){return new Kf(e,r,n,i,s)}}let pG=0;class pr{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=pG++,this.disposeRunner=new vn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Gn.ELEMENT_ARRAY_BUFFER:Gn.ARRAY_BUFFER}get index(){return this.type===Gn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new pr(e)}}const vG={Float32Array,Uint32Array,Int32Array,Uint8Array};function mG(t,e){let r=0,n=0;const i={};for(let u=0;u<t.length;u++)n+=e[u],r+=t[u].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let u=0;u<t.length;u++){const c=e[u],d=t[u],p=$S(d);i[p]||(i[p]=new vG[p](s)),o=i[p];for(let v=0;v<d.length;v++){const m=(v/c|0)*n+a,g=v%c;o[m+g]=d[v]}a+=c}return new Float32Array(s)}const uE={5126:4,5123:2,5121:1};let gG=0;const yG={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Aa{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=gG++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new vn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,u=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof pr||(r instanceof Array&&(r=new Float32Array(r)),r=new pr(r));const c=e.split("|");if(c.length>1){for(let p=0;p<c.length;p++)this.addAttribute(c[p],r,n,i,s);return this}let d=this.buffers.indexOf(r);return d===-1&&(this.buffers.push(r),d=this.buffers.length-1),this.attributes[e]=new Kf(d,n,i,s,o,a,u),this.instanced=this.instanced||u,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof pr||(e instanceof Array&&(e=new Uint16Array(e)),e=new pr(e)),e.type=Gn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new pr;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*uE[s.type]/4),s.buffer=0}for(n.data=mG(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Aa;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new pr(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new Kf(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Gn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Aa,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,s[u]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new yG[$S(o.buffers[a].data)](i[a]),r.buffers[a]=new pr(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)n[u].set(o.buffers[u].data,s[u]),s[u]+=o.buffers[u].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Gn.ELEMENT_ARRAY_BUFFER;let a=0,u=0,c=0,d=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){d=p;break}for(const p in o.attributes){const v=o.attributes[p];(v.buffer|0)===d&&(u+=v.size*uE[v.type]/4)}for(let p=0;p<e.length;p++){const v=e[p].indexBuffer.data;for(let m=0;m<v.length;m++)r.indexBuffer.data[m+c]+=a;a+=e[p].buffers[d].data.length/u,c+=v.length}}return r}}class _G extends Aa{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class xG extends Aa{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new pr(this.vertices),this.uvBuffer=new pr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}let bG=0;class zn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=bG++,this.static=!!r,this.ubo=!!n,e instanceof pr?(this.buffer=e,this.buffer.type=Gn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new pr(new Float32Array(1)),this.buffer.type=Gn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new zn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new zn(e,r,n)}static uboFrom(e,r){return new zn(e,r!=null?r:!0,!0)}}class EG{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Pt.NONE,this.sourceFrame=new Nt,this.destinationFrame=new Nt,this.bindingSourceFrame=new Nt,this.bindingDestinationFrame=new Nt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Rc=[new Ot,new Ot,new Ot,new Ot],Yv=new rr;class eA{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new JS,this.statePool=[],this.quad=new _G,this.quadUv=new xG,this.tempRect=new Nt,this.activeState={},this.globalUniforms=new zn({outputFrame:new Nt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){var g,b;const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new EG,o=this.renderer.renderTexture;let a=r[0].resolution,u=r[0].multisample,c=r[0].padding,d=r[0].autoFit,p=(g=r[0].legacy)!=null?g:!0;for(let y=1;y<r.length;y++){const E=r[y];a=Math.min(a,E.resolution),u=Math.min(u,E.multisample),c=this.useMaxPadding?Math.max(c,E.padding):c+E.padding,d=d&&E.autoFit,p=p||((b=E.legacy)!=null?b:!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=u,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);const v=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Yv.copyFrom(n.projection.transform).invert(),v),d?(s.sourceFrame.fit(v),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(v)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,m),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const u=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,u.renderTexture,Cn.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let c=r.renderTexture,d=this.getOptimalFilterTexture(c.width,c.height,r.resolution);d.filterFrame=c.filterFrame;let p=0;for(p=0;p<n.length-1;++p){p===1&&r.multisample>1&&(d=this.getOptimalFilterTexture(c.width,c.height,r.resolution),d.filterFrame=c.filterFrame),n[p].apply(this,c,d,Cn.CLEAR,r);const v=c;c=d,d=v}n[p].apply(this,c,u.renderTexture,Cn.BLEND,r),p>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(d)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Cn.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Cn.CLEAR||r===Cn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Yf.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Yf.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(rr.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Pt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Pt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Rc[0],i=Rc[1],s=Rc[2],o=Rc[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),u=Math.min(n.y,i.y,s.y,o.y),c=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=u,r.width=c-a,r.height=d-u}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:u,d:c}=s;if((Math.abs(a)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?Yv.copyFrom(s):Yv.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}eA.extension={type:Ne.RendererSystem,name:"filter"};$e.add(eA);class tA{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}class rA{constructor(e){this.renderer=e,this.emptyRenderer=new tA(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let u=0;for(let c=0;c<a;c++){const d=s[c],p=d._batchLocation;if(p>=0&&p<i&&r[p]===d){o[c]=p;continue}for(;u<i;){const v=r[u];if(v&&v._batchEnabled===n&&v._batchLocation===u){u++;continue}o[c]=u,d._batchLocation=u,r[u]=d;break}}}destroy(){this.renderer=null}}rA.extension={type:Ne.RendererSystem,name:"batch"};$e.add(rA);let hE=0;class nA{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=hE++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=hE++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(he.PREFER_ENV>=_o.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}nA.extension={type:Ne.RendererSystem,name:"context"};$e.add(nA);class TG{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Pt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const wG=new Nt;class iA{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Qg(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Nt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;he.PREFER_ENV===_o.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,u=o/r.width;this.setViewport(r.x*u,r.y*u,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Vg.COLOR|Vg.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new TG(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let u=0;u<o;u++){const c=s[u],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0),u===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,c.target,d._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+u))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Pt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Pt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const u=i.glFramebuffers[a];if(!u)return;if(!e){if(!u.msaaBuffer)return;const d=i.colorTextures[0];if(!d)return;u.blitFramebuffer||(u.blitFramebuffer=new Qg(i.width,i.height),u.blitFramebuffer.addColorTexture(0,d)),e=u.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=wG,r.width=i.width,r.height=i.height),n||(n=r);const c=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Nt}destroy(){this.renderer=null}}iA.extension={type:Ne.RendererSystem,name:"framebuffer"};$e.add(iA);const qv={5126:4,5123:2,5121:1};class sA{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;he.PREFER_ENV===_o.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,u)=>n.drawElementsInstancedANGLE(i,s,o,a,u),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const u=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let d=c[u];if(d)return c[a.id]=d,d;const p=e.buffers,v=e.attributes,m={},g={};for(const b in p)m[b]=0,g[b]=0;for(const b in v)!v[b].size&&a.attributeData[b]?v[b].size=a.attributeData[b].size:v[b].size||console.warn(`PIXI Geometry attribute '${b}' size cannot be determined (likely the bound shader does not have the attribute)`),m[v[b].buffer]+=v[b].size*qv[v[b].type];for(const b in v){const y=v[b],E=y.size;y.stride===void 0&&(m[y.buffer]===E*qv[y.type]?y.stride=0:y.stride=m[y.buffer]),y.start===void 0&&(y.start=g[y.buffer],g[y.buffer]+=E*qv[y.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(let b=0;b<p.length;b++){const y=p[b];o.bind(y),n&&y._glBuffers[s].refCount++}return this.activateVao(e,a),c[a.id]=d,c[u]=d,i.bindVertexArray(null),o.unbind(Gn.ARRAY_BUFFER),d}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let u=0;u<s.length;u++){const c=s[u]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(s[u],r))}if(!r){for(const u in n)if(u[0]==="g"){const c=n[u];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let u=null;for(const c in a){const d=a[c],p=o[d.buffer],v=p._glBuffers[i];if(r.attributeData[c]){u!==v&&(s.bind(p),u=v);const m=r.attributeData[c].location;if(n.enableVertexAttribArray(m),n.vertexAttribPointer(m,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(m,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,u=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,u,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,u,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}sA.extension={type:Ne.RendererSystem,name:"geometry"};$e.add(sA);class SG{constructor(e=null){this.type=zt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=he.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=zt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}function cE(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function fE(t,e){const r=t.getShaderSource(e).split(`
`).map((c,d)=>`${d}: ${c}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),a=[""];o.forEach(c=>{r[c-1]=`%c${r[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=r.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function AG(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||fE(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||fE(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function Zv(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function oA(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Zv(2*e);case"bvec3":return Zv(3*e);case"bvec4":return Zv(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const aA={};let zo=aA;function CG(){if(zo===aA||(zo==null?void 0:zo.isContextLost())){const t=he.ADAPTER.createCanvas();let e;he.PREFER_ENV>=_o.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),zo=e}return zo}let Ic;function RG(){if(!Ic){Ic=Zr.MEDIUM;const t=CG();t&&t.getShaderPrecisionFormat&&(Ic=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Zr.HIGH:Zr.MEDIUM)}return Ic}function dE(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Zr.HIGH&&r!==Zr.HIGH&&(n=Zr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Zr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}const IG={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function lA(t){return IG[t]}let Pc=null;const pE={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function uA(t,e){if(!Pc){const r=Object.keys(pE);Pc={};for(let n=0;n<r.length;++n){const i=r[n];Pc[t[i]]=pE[i]}}return Pc[e]}const xa=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],PG={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},OG={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function NG(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let u=0;u<xa.length;u++)if(xa[u].test(s,o)){r.push(xa[u].code(i,o)),a=!0;break}if(!a){const c=(s.size===1&&!s.isArray?PG:OG)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const MG=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function FG(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function LG(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=MG.replace(/%forloop%/gi,FG(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}let Il;function kG(){if(typeof Il=="boolean")return Il;try{Il=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Il=!1}return Il}var DG=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,BG=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;let UG=0;const Oc={};class no{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=UG++,this.vertexSrc=e||no.defaultVertexSrc,this.fragmentSrc=r||no.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Oc[n]?(Oc[n]++,n+=`-${Oc[n]}`):Oc[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=dE(this.vertexSrc,he.PRECISION_VERTEX,Zr.HIGH),this.fragmentSrc=dE(this.fragmentSrc,he.PRECISION_FRAGMENT,RG())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return BG}static get defaultFragmentSrc(){return DG}static from(e,r,n){const i=e+r;let s=oE[i];return s||(oE[i]=s=new no(e,r,n)),s}}class Id{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof zn?this.uniformGroup=r:this.uniformGroup=new zn(r):this.uniformGroup=new zn({}),this.disposeRunner=new vn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=no.from(e,r);return new Id(i,n)}}const Qv=0,Kv=1,Jv=2,em=3,tm=4,rm=5;class Hu{constructor(){this.data=0,this.blendMode=_e.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Qv)}set blend(e){!!(this.data&1<<Qv)!==e&&(this.data^=1<<Qv)}get offsets(){return!!(this.data&1<<Kv)}set offsets(e){!!(this.data&1<<Kv)!==e&&(this.data^=1<<Kv)}get culling(){return!!(this.data&1<<Jv)}set culling(e){!!(this.data&1<<Jv)!==e&&(this.data^=1<<Jv)}get depthTest(){return!!(this.data&1<<em)}set depthTest(e){!!(this.data&1<<em)!==e&&(this.data^=1<<em)}get depthMask(){return!!(this.data&1<<rm)}set depthMask(e){!!(this.data&1<<rm)!==e&&(this.data^=1<<rm)}get clockwiseFrontFace(){return!!(this.data&1<<tm)}set clockwiseFrontFace(e){!!(this.data&1<<tm)!==e&&(this.data^=1<<tm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==_e.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Hu;return e.depthTest=!1,e.blend=!0,e}}var GG=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,zG=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;class at extends Id{constructor(e,r,n){const i=no.from(e||at.defaultVertexSrc,r||at.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=he.FILTER_RESOLUTION,this.multisample=he.FILTER_MULTISAMPLE,this.enabled=!0,this.autoFit=!0,this.state=new Hu}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return zG}static get defaultFragmentSrc(){return GG}}var jG=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,HG=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`;const vE=new rr;class XG{constructor(e,r){this._texture=e,this.mapCoord=new rr,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(vE.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(vE));const o=r.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(r._frame.x+u+c)/o.width,a[1]=(r._frame.y+u+c)/o.height,a[2]=(r._frame.x+r._frame.width-u+c)/o.width,a[3]=(r._frame.y+r._frame.height-u+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}class VG extends at{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||jG,r||HG,n),this.maskSprite=i,this.maskMatrix=new rr}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;!o.valid||(o.uvMatrix||(o.uvMatrix=new XG(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class hA{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new SG;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==zt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case zt.SCISSOR:this.renderer.scissor.push(n);break;case zt.STENCIL:this.renderer.stencil.push(n);break;case zt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case zt.COLOR:this.pushColorMask(n);break}n.type===zt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case zt.SCISSOR:this.renderer.scissor.pop(r);break;case zt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case zt.SPRITE:this.popSpriteMask(r);break;case zt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===zt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=zt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=zt.SCISSOR:e.type=zt.STENCIL:e.type=zt.COLOR}pushSpriteMask(e){var d,p;const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new VG]));const s=this.renderer,o=s.renderTexture;let a,u;if(o.current){const v=o.current;a=e.resolution||v.resolution,u=(d=e.multisample)!=null?d:v.multisample}else a=e.resolution||s.resolution,u=(p=e.multisample)!=null?p:s.multisample;i[0].resolution=a,i[0].multisample=u,i[0].maskSprite=r;const c=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=c,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}hA.extension={type:Ne.RendererSystem,name:"mask"};$e.add(hA);class cA{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const mE=new rr,gE=[],af=class extends cA{constructor(t){super(t),this.glConst=he.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){var o;if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,(o=gE.pop())!=null?o:new Nt);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||af.isMatrixRotated(e.worldTransform)||af.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){af.isMatrixRotated(i)||(i=i?mE.copyFrom(i):mE.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&gE.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let fA=af;fA.extension={type:Ne.RendererSystem,name:"scissor"};$e.add(fA);class dA extends cA{constructor(e){super(e),this.glConst=he.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}dA.extension={type:Ne.RendererSystem,name:"stencil"};$e.add(dA);class pA{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new rr,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}pA.extension={type:Ne.RendererSystem,name:"projection"};$e.add(pA);const Ns=new Nt,Pl=new Nt;class vA{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Nt,this.destinationFrame=new Nt,this.viewportFrame=new Nt}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Ns.width=e.frame.width,Ns.height=e.frame.height,r=Ns),n||(Pl.x=e.frame.x,Pl.y=e.frame.y,Pl.width=r.width,Pl.height=r.height,n=Pl),o=s.framebuffer):(a=i.resolution,r||(Ns.width=i._view.screen.width,Ns.height=i._view.screen.height,r=Ns),n||(n=Ns,n.width=r.width,n.height=r.height));const u=this.viewportFrame;u.x=n.x*a,u.y=n.y*a,u.width=n.width*a,u.height=n.height*a,e||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=n.width!==i.width||n.height!==i.height;if(s){let{x:o,y:a,width:u,height:c}=this.viewportFrame;o=Math.round(o),a=Math.round(a),u=Math.round(u),c=Math.round(c),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,u,c)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}vA.extension={type:Ne.RendererSystem,name:"renderTexture"};$e.add(vA);function $G(t,e,r,n,i){r.buffer.update(i)}const WG={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},mA={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function YG(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=mA[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function qG(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function ZG(t,e){if(!t.autoManage)return{size:0,syncFunc:$G};const r=qG(t.uniforms,e),{uboElements:n,size:i}=YG(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],u=t.uniforms[a.data.name],c=a.data.name;let d=!1;for(let p=0;p<xa.length;p++){const v=xa[p];if(v.codeUbo&&v.test(a.data,u)){s.push(`offset = ${a.offset/4};`,xa[p].codeUbo(a.data.name,u)),d=!0;break}}if(!d)if(a.data.size>1){const p=lA(a.data.type),v=Math.max(mA[a.data.type]/16,1),m=p/v,g=(4-m%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*v}; i++)
                {
                    for(var j = 0; j < ${m}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${g};
                }

                `)}else{const p=WG[a.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${p};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}class QG{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function KG(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=uA(e,s.type),a={type:o,name:s.name,size:lA(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function JG(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=uA(e,s.type);r[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:oA(u,s.size)}}return r}function e5(t,e){var u;const r=cE(t,t.VERTEX_SHADER,e.vertexSrc),n=cE(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(u=e.extra)==null?void 0:u.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||AG(t,i,r,n),e.attributeData=KG(i,t),e.uniformData=JG(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((d,p)=>d>p?1:-1);for(let d=0;d<c.length;d++)e.attributeData[c[d]].location=d,t.bindAttribLocation(i,d,c[d]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const c in e.uniformData){const d=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:oA(d.type,d.size)}}return new QG(i,o)}let t5=0;const Nc={textureCount:0,uboCount:0};class gA{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=t5++}systemCheck(){if(!kG())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Nc.textureCount=0,Nc.uboCount=0,this.syncUniformGroup(e.uniformGroup,Nc)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=NG(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Nc,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=ZG(e,this.shader.program.uniformData)),e.autoManage){const u=new Float32Array(a.size/4);e.buffer.update(u)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=e5(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}gA.extension={type:Ne.RendererSystem,name:"shader"};$e.add(gA);function r5(t,e=[]){return e[_e.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD]=[t.ONE,t.ONE],e[_e.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.NONE]=[0,0],e[_e.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[_e.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[_e.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[_e.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[_e.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[_e.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[_e.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[_e.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[_e.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[_e.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const n5=0,i5=1,s5=2,o5=3,a5=4,l5=5,Kg=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=_e.NONE,this._blendEq=!1,this.map=[],this.map[n5]=this.setBlend,this.map[i5]=this.setOffset,this.map[s5]=this.setCullFace,this.map[o5]=this.setDepthTest,this.map[a5]=this.setFrontFace,this.map[l5]=this.setDepthMask,this.checks=[],this.defaultState=new Hu,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=r5(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Kg.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Kg.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let yA=Kg;yA.extension={type:Ne.RendererSystem,name:"state"};$e.add(yA);class _A{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=he.GC_MAX_IDLE,this.checkCountMax=he.GC_MAX_CHECK_COUNT,this.mode=he.GC_MODE}postrender(){!this.renderer.objectRenderer.renderingToScreen||(this.count++,this.mode!==ly.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}}_A.extension={type:Ne.RendererSystem,name:"textureGC"};$e.add(_A);function u5(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[Ue.UNSIGNED_BYTE]:{[re.RGBA]:t.RGBA8,[re.RGB]:t.RGB8,[re.RG]:t.RG8,[re.RED]:t.R8,[re.RGBA_INTEGER]:t.RGBA8UI,[re.RGB_INTEGER]:t.RGB8UI,[re.RG_INTEGER]:t.RG8UI,[re.RED_INTEGER]:t.R8UI,[re.ALPHA]:t.ALPHA,[re.LUMINANCE]:t.LUMINANCE,[re.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Ue.BYTE]:{[re.RGBA]:t.RGBA8_SNORM,[re.RGB]:t.RGB8_SNORM,[re.RG]:t.RG8_SNORM,[re.RED]:t.R8_SNORM,[re.RGBA_INTEGER]:t.RGBA8I,[re.RGB_INTEGER]:t.RGB8I,[re.RG_INTEGER]:t.RG8I,[re.RED_INTEGER]:t.R8I},[Ue.UNSIGNED_SHORT]:{[re.RGBA_INTEGER]:t.RGBA16UI,[re.RGB_INTEGER]:t.RGB16UI,[re.RG_INTEGER]:t.RG16UI,[re.RED_INTEGER]:t.R16UI,[re.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[Ue.SHORT]:{[re.RGBA_INTEGER]:t.RGBA16I,[re.RGB_INTEGER]:t.RGB16I,[re.RG_INTEGER]:t.RG16I,[re.RED_INTEGER]:t.R16I},[Ue.UNSIGNED_INT]:{[re.RGBA_INTEGER]:t.RGBA32UI,[re.RGB_INTEGER]:t.RGB32UI,[re.RG_INTEGER]:t.RG32UI,[re.RED_INTEGER]:t.R32UI,[re.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[Ue.INT]:{[re.RGBA_INTEGER]:t.RGBA32I,[re.RGB_INTEGER]:t.RGB32I,[re.RG_INTEGER]:t.RG32I,[re.RED_INTEGER]:t.R32I},[Ue.FLOAT]:{[re.RGBA]:t.RGBA32F,[re.RGB]:t.RGB32F,[re.RG]:t.RG32F,[re.RED]:t.R32F,[re.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[Ue.HALF_FLOAT]:{[re.RGBA]:t.RGBA16F,[re.RGB]:t.RGB16F,[re.RG]:t.RG16F,[re.RED]:t.R16F},[Ue.UNSIGNED_SHORT_5_6_5]:{[re.RGB]:t.RGB565},[Ue.UNSIGNED_SHORT_4_4_4_4]:{[re.RGBA]:t.RGBA4},[Ue.UNSIGNED_SHORT_5_5_5_1]:{[re.RGBA]:t.RGB5_A1},[Ue.UNSIGNED_INT_2_10_10_10_REV]:{[re.RGBA]:t.RGB10_A2,[re.RGBA_INTEGER]:t.RGB10_A2UI},[Ue.UNSIGNED_INT_10F_11F_11F_REV]:{[re.RGB]:t.R11F_G11F_B10F},[Ue.UNSIGNED_INT_5_9_9_9_REV]:{[re.RGB]:t.RGB9_E5},[Ue.UNSIGNED_INT_24_8]:{[re.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[Ue.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[re.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[Ue.UNSIGNED_BYTE]:{[re.RGBA]:t.RGBA,[re.RGB]:t.RGB,[re.ALPHA]:t.ALPHA,[re.LUMINANCE]:t.LUMINANCE,[re.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Ue.UNSIGNED_SHORT_5_6_5]:{[re.RGB]:t.RGB},[Ue.UNSIGNED_SHORT_4_4_4_4]:{[re.RGBA]:t.RGBA},[Ue.UNSIGNED_SHORT_5_5_5_1]:{[re.RGBA]:t.RGBA}},e}class nm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ue.UNSIGNED_BYTE,this.internalFormat=re.RGBA,this.samplerType=0}}class xA{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new It,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=u5(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new nm(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new nm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(!!n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==$g.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new nm(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])==null?void 0:n[e.format])!=null?i:e.format,this.webGLVersion===2&&e.type===Ue.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)!=null&&i.upload(n,e,r))r.samplerType!==$g.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&aG(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];!r||((e.mipmap===co.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=ay.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==co.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Fn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Fn.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Fn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Fn.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}xA.extension={type:Ne.RendererSystem,name:"texture"};$e.add(xA);const h5=new HS;class bA{constructor(e){this.renderer=e,this._tempMatrix=new rr}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=Rd.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=h5,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}bA.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"textureGenerator"};$e.add(bA);class EA{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?nG(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=rG(e),Cd(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}EA.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"background"};$e.add(EA);class TA{constructor(e){this.renderer=e}init(e){this.screen=new Nt(0,0,e.width,e.height),this.element=e.view||he.ADAPTER.createCanvas(),this.resolution=e.resolution||he.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}TA.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"_view"};$e.add(TA);class wA{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return $r("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return $r("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return $r("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}wA.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"_plugin"};$e.add(wA);class c5 extends uy{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){var i;this.addRunners(...e.runners);const r=((i=e.priority)!=null?i:[]).filter(s=>e.systems[s]),n=[...r,...Object.keys(e.systems).filter(s=>!r.includes(s))];for(const s of n)this.addSystem(e.systems[s],s)}addRunners(...e){e.forEach(r=>{this.runners[r]=new vn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}class SA{constructor(e){this.renderer=e}run(e){const r=this.renderer;r.emitWithCustomOptions(r.runners.init,e),e.hello&&console.log(`PixiJS 7.0.5 - ${r.rendererLogId} - https://pixijs.com`),r.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}SA.extension={type:[Ne.RendererSystem,Ne.CanvasRendererSystem],name:"startup"};$e.add(SA);class AA{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];!a||(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const u=a._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&s.dispose(a,r))}!n||(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}AA.extension={type:Ne.RendererSystem,name:"transformFeedback"};$e.add(AA);const f5=[];$e.handleByList(Ne.Renderer,f5);var d5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`;const p5=d5,Jg=class extends c5{constructor(t){var n;super(),t=Object.assign({},he.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new zn({projectionMatrix:new rr},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Jg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&($r("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const r={hello:t.hello,_plugin:Jg.__plugins,background:{alpha:t.backgroundAlpha,color:(n=t.background)!=null?n:t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.startup.run(r)}static test(t){return t!=null&&t.forceCanvas?!1:pB()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return $r("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return $r("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return $r("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return $r("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){$r("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return $r("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){$r("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return $r("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let La=Jg;La.extension={type:Ne.Renderer,priority:1};La.__plugins={};La.__systems={};$e.handleByMap(Ne.RendererPlugin,La.__plugins);$e.handleByMap(Ne.RendererSystem,La.__systems);$e.add(La);class v5{constructor(){this.texArray=null,this.blend=0,this.type=Yf.TRIANGLES,this.start=0,this.size=0,this.data=null}}class m5{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}class g5{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}class y5{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=zn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new no(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new rr,default:this.defaultGroupCache[e]};return new Id(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class _5 extends Aa{constructor(e=!1){super(),this._buffer=new pr(null,e,!1),this._indexBuffer=new pr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Ue.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Ue.FLOAT).addAttribute("aColor",this._buffer,4,!0,Ue.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Ue.FLOAT).addIndex(this._indexBuffer)}}var x5=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,b5=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`;const Hs=class extends tA{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=_5,this.vertexSize=6,this.state=Hu.for2d(),this.size=he.SPRITE_BATCH_SIZE*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultVertexSrc(){return x5}static get defaultFragmentTemplate(){return b5}setShaderGenerator({vertex:t=Hs.defaultVertexSrc,fragment:e=Hs.defaultFragmentTemplate}={}){this.shaderGenerator=new y5(t,e)}contextChange(){const t=this.renderer.gl;he.PREFER_ENV===_o.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),he.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=LG(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Hs,r=this.size/4,n=Math.floor(r/this.MAX_TEXTURES)+1;for(;t.length<r;)t.push(new v5);for(;e.length<n;)e.push(new m5);for(let i=0;i<this.MAX_TEXTURES;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){!t._texture.valid||(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,MAX_TEXTURES:e}=this,r=Hs._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++It._globalBatch,a=0,u=r[0],c=0;n.copyBoundTextures(i,e);for(let d=0;d<this._bufferSize;++d){const p=t[d];t[d]=null,p._batchEnabled!==o&&(u.count>=e&&(n.boundArray(u,i,o,e),this.buildDrawCalls(u,c,d),c=d,u=r[++a],++o),p._batchEnabled=o,p.touched=s,u.elements[u.count++]=p)}u.count>0&&(n.boundArray(u,i,o,e),this.buildDrawCalls(u,c,this._bufferSize),++a,++o);for(let d=0;d<i.length;d++)i[d]=null;It._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Hs._drawCallPool;let u=this._dcIndex,c=this._aIndex,d=this._iIndex,p=a[u];p.start=this._iIndex,p.texArray=t;for(let v=e;v<r;++v){const m=n[v],g=m._texture.baseTexture,b=sG[g.alphaMode?1:0][m.blendMode];n[v]=null,e<v&&p.blend!==b&&(p.size=d-p.start,e=v,p=a[++u],p.texArray=t,p.start=d),this.packInterleavedGeometry(m,i,s,c,d),c+=m.vertexData.length/2*o,d+=m.indices.length,p.blend=b}e<r&&(p.size=d-p.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=d}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;he.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=Hs._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:u,start:c,blend:d}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=d,r.set(this.state),e.drawElements(a,u,e.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),he.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Qf(Math.ceil(t/8)),r=sE(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new g5(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=Qf(Math.ceil(t/12)),r=sE(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,a=n/this.vertexSize,u=t.uvs,c=t.indices,d=t.vertexData,p=t._texture.baseTexture._batchLocation,v=Math.min(t.worldAlpha,1),m=v<1&&t._texture.baseTexture.alphaMode?oG(t._tintRGB,v):t._tintRGB+(v*255<<24);for(let g=0;g<d.length;g+=2)o[n++]=d[g],o[n++]=d[g+1],o[n++]=u[g],o[n++]=u[g+1],s[n++]=m,o[n++]=p;for(let g=0;g<c.length;g++)r[i++]=a+c[g]}};let Pd=Hs;Pd.extension={name:"batch",type:Ne.RendererPlugin};Pd._drawCallPool=[];Pd._textureArrayPool=[];$e.add(Pd);class E5{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class CA{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new E5(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}CA.extension={type:Ne.RendererSystem,name:"buffer"};$e.add(CA);class RA{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Pt.HIGH?this.multisample=Pt.HIGH:r>=Pt.MEDIUM?this.multisample=Pt.MEDIUM:r>=Pt.LOW?this.multisample=Pt.LOW:this.multisample=Pt.NONE}destroy(){}}RA.extension={type:Ne.RendererSystem,name:"_multisample"};$e.add(RA);class IA{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s!=null?s:n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}IA.extension={type:Ne.RendererSystem,name:"objectRenderer"};$e.add(IA);var T5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,w5=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,S5=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`;class Jf extends at{constructor(e=4,r=3,n=!1){super(T5,n?S5:w5),this._kernels=[],this._blur=4,this._quality=3,this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new Ot,this.pixelSize=1,this._clamp=n,Array.isArray(e)?this.kernels=e:(this._blur=e,this.quality=r)}apply(e,r,n,i){const s=this._pixelSize.x/r._frame.width,o=this._pixelSize.y/r._frame.height;let a;if(this._quality===1||this._blur===0)a=this._kernels[0]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,r,n,i);else{const u=e.getFilterTexture();let c=r,d=u,p;const v=this._quality-1;for(let m=0;m<v;m++)a=this._kernels[m]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,c,d,1),p=c,c=d,d=p;a=this._kernels[v]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,c,n,i),e.returnFilterTexture(u)}}_updatePadding(){this.padding=Math.ceil(this._kernels.reduce((e,r)=>e+r+.5,0))}_generateKernels(){const e=this._blur,r=this._quality,n=[e];if(e>0){let i=e;const s=e/r;for(let o=1;o<r;o++)i-=s,n.push(i)}this._kernels=n,this._updatePadding()}get kernels(){return this._kernels}set kernels(e){Array.isArray(e)&&e.length>0?(this._kernels=e,this._quality=e.length,this._blur=Math.max(...e)):(this._kernels=[0],this._quality=1)}get clamp(){return this._clamp}set pixelSize(e){typeof e=="number"?(this._pixelSize.x=e,this._pixelSize.y=e):Array.isArray(e)?(this._pixelSize.x=e[0],this._pixelSize.y=e[1]):e instanceof Ot?(this._pixelSize.x=e.x,this._pixelSize.y=e.y):(this._pixelSize.x=1,this._pixelSize.y=1)}get pixelSize(){return this._pixelSize}get quality(){return this._quality}set quality(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()}get blur(){return this._blur}set blur(e){this._blur=e,this._generateKernels()}}var PA=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,A5=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`;class C5 extends at{constructor(e=.5){super(PA,A5),this.threshold=e}get threshold(){return this.uniforms.threshold}set threshold(e){this.uniforms.threshold=e}}var R5=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;const OA=class extends at{constructor(t){super(PA,R5),this.bloomScale=1,this.brightness=1,this._resolution=he.FILTER_RESOLUTION,typeof t=="number"&&(t={threshold:t});const e=Object.assign(OA.defaults,t);this.bloomScale=e.bloomScale,this.brightness=e.brightness;const{kernels:r,blur:n,quality:i,pixelSize:s,resolution:o}=e;this._extractFilter=new C5(e.threshold),this._extractFilter.resolution=o,this._blurFilter=r?new Jf(r):new Jf(n,i),this.pixelSize=s,this.resolution=o}apply(t,e,r,n,i){const s=t.getFilterTexture();this._extractFilter.apply(t,e,s,1,i);const o=t.getFilterTexture();this._blurFilter.apply(t,s,o,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=o,t.applyFilter(this,e,r,n),t.returnFilterTexture(o),t.returnFilterTexture(s)}get resolution(){return this._resolution}set resolution(t){this._resolution=t,this._extractFilter&&(this._extractFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)}get threshold(){return this._extractFilter.threshold}set threshold(t){this._extractFilter.threshold=t}get kernels(){return this._blurFilter.kernels}set kernels(t){this._blurFilter.kernels=t}get blur(){return this._blurFilter.blur}set blur(t){this._blurFilter.blur=t}get quality(){return this._blurFilter.quality}set quality(t){this._blurFilter.quality=t}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(t){this._blurFilter.pixelSize=t}};let I5=OA;I5.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:he.FILTER_RESOLUTION};var P5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class O5 extends at{constructor(e=1){super(p5,P5,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const N5=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function M5(t,e){const r=Math.ceil(t/2);let n=N5,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const F5={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},L5=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function k5(t){const e=F5[t],r=e.length;let n=L5,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let u=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class ed extends at{constructor(e,r=8,n=4,i=he.FILTER_RESOLUTION,s=5){const o=M5(s,e),a=k5(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,u=s;this.state.blend=!1,e.applyFilter(this,a,u,Cn.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,Cn.BLIT),this.uniforms.uSampler=u;const d=u;u=a,a=d,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,u,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class D5 extends at{constructor(e=8,r=4,n=he.FILTER_RESOLUTION,i=5){super(),this.blurXFilter=new ed(!0,e,r,n,i),this.blurYFilter=new ed(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,Cn.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}class B5 extends at{constructor(e=2,r=4,n=he.FILTER_RESOLUTION,i=5){super();let s,o;typeof e=="number"?(s=e,o=e):e instanceof Ot?(s=e.x,o=e.y):Array.isArray(e)&&(s=e[0],o=e[1]),this.blurXFilter=new ed(!0,s,r,n,i),this.blurYFilter=new ed(!1,o,r,n,i),this.blurYFilter.blendMode=_e.SCREEN,this.defaultFilter=new O5}apply(e,r,n,i){const s=e.getFilterTexture();this.defaultFilter.apply(e,r,n,i),this.blurXFilter.apply(e,r,s,1),this.blurYFilter.apply(e,s,n,0),e.returnFilterTexture(s)}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e}}var U5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,G5=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;const NA=class extends at{constructor(t){super(U5,G5),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,NA.defaults,t)}apply(t,e,r,n){const{width:i,height:s}=e.filterFrame;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,t.applyFilter(this,e,r,n)}get radius(){return this.uniforms.radius}set radius(t){this.uniforms.radius=t}get strength(){return this.uniforms.strength}set strength(t){this.uniforms.strength=t}get center(){return this.uniforms.center}set center(t){this.uniforms.center=t}};let z5=NA;z5.defaults={center:[.5,.5],radius:100,strength:1};var j5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,H5=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;const MA=class extends at{constructor(t){super(j5,H5),this.time=0,this.seed=0,this.uniforms.dimensions=new Float32Array(2),Object.assign(this,MA.defaults,t)}apply(t,e,r,n){const{width:i,height:s}=e.filterFrame;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,this.uniforms.seed=this.seed,this.uniforms.time=this.time,t.applyFilter(this,e,r,n)}set curvature(t){this.uniforms.curvature=t}get curvature(){return this.uniforms.curvature}set lineWidth(t){this.uniforms.lineWidth=t}get lineWidth(){return this.uniforms.lineWidth}set lineContrast(t){this.uniforms.lineContrast=t}get lineContrast(){return this.uniforms.lineContrast}set verticalLine(t){this.uniforms.verticalLine=t}get verticalLine(){return this.uniforms.verticalLine}set noise(t){this.uniforms.noise=t}get noise(){return this.uniforms.noise}set noiseSize(t){this.uniforms.noiseSize=t}get noiseSize(){return this.uniforms.noiseSize}set vignetting(t){this.uniforms.vignetting=t}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(t){this.uniforms.vignettingAlpha=t}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(t){this.uniforms.vignettingBlur=t}get vignettingBlur(){return this.uniforms.vignettingBlur}};let X5=MA;X5.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0};var V5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,$5=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`,W5=Object.defineProperty,yE=Object.getOwnPropertySymbols,Y5=Object.prototype.hasOwnProperty,q5=Object.prototype.propertyIsEnumerable,_E=(t,e,r)=>e in t?W5(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xE=(t,e)=>{for(var r in e||(e={}))Y5.call(e,r)&&_E(t,r,e[r]);if(yE)for(var r of yE(e))q5.call(e,r)&&_E(t,r,e[r]);return t};const e0=class extends at{constructor(t){super(),this.angle=45,this._distance=5,this._resolution=he.FILTER_RESOLUTION;const e=t?xE(xE({},e0.defaults),t):e0.defaults,{kernels:r,blur:n,quality:i,pixelSize:s,resolution:o}=e;this._tintFilter=new at(V5,$5),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=new Ot,this._tintFilter.resolution=o,this._blurFilter=r?new Jf(r):new Jf(n,i),this.pixelSize=s,this.resolution=o;const{shadowOnly:a,rotation:u,distance:c,alpha:d,color:p}=e;this.shadowOnly=a,this.rotation=u,this.distance=c,this.alpha=d,this.color=p,this._updatePadding()}apply(t,e,r,n){const i=t.getFilterTexture();this._tintFilter.apply(t,e,i,1),this._blurFilter.apply(t,i,r,n),this.shadowOnly!==!0&&t.applyFilter(this,e,r,0),t.returnFilterTexture(i)}_updatePadding(){this.padding=this.distance+this.blur*2}_updateShift(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))}get resolution(){return this._resolution}set resolution(t){this._resolution=t,this._tintFilter&&(this._tintFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)}get distance(){return this._distance}set distance(t){this._distance=t,this._updatePadding(),this._updateShift()}get rotation(){return this.angle/qf}set rotation(t){this.angle=t*qf,this._updateShift()}get alpha(){return this._tintFilter.uniforms.alpha}set alpha(t){this._tintFilter.uniforms.alpha=t}get color(){return hy(this._tintFilter.uniforms.color)}set color(t){Cd(t,this._tintFilter.uniforms.color)}get kernels(){return this._blurFilter.kernels}set kernels(t){this._blurFilter.kernels=t}get blur(){return this._blurFilter.blur}set blur(t){this._blurFilter.blur=t,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(t){this._blurFilter.quality=t}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(t){this._blurFilter.pixelSize=t}};let Z5=e0;Z5.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:he.FILTER_RESOLUTION};var Q5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,K5=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`;const t0=class extends at{constructor(t){super(Q5,K5),this.offset=100,this.fillMode=t0.TRANSPARENT,this.average=!1,this.seed=0,this.minSize=8,this.sampleSize=512,this._slices=0,this._offsets=new Float32Array(1),this._sizes=new Float32Array(1),this._direction=-1,this.uniforms.dimensions=new Float32Array(2),this._canvas=document.createElement("canvas"),this._canvas.width=4,this._canvas.height=this.sampleSize,this.texture=qe.from(this._canvas,{scaleMode:Fn.NEAREST}),Object.assign(this,t0.defaults,t)}apply(t,e,r,n){const{width:i,height:s}=e.filterFrame;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,this.uniforms.aspect=s/i,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,t.applyFilter(this,e,r,n)}_randomizeSizes(){const t=this._sizes,e=this._slices-1,r=this.sampleSize,n=Math.min(this.minSize/r,.9/this._slices);if(this.average){const i=this._slices;let s=1;for(let o=0;o<e;o++){const a=s/(i-o),u=Math.max(a*(1-Math.random()*.6),n);t[o]=u,s-=u}t[e]=s}else{let i=1;const s=Math.sqrt(1/this._slices);for(let o=0;o<e;o++){const a=Math.max(s*i*Math.random(),n);t[o]=a,i-=a}t[e]=i}this.shuffle()}shuffle(){const t=this._sizes,e=this._slices-1;for(let r=e;r>0;r--){const n=Math.random()*r>>0,i=t[r];t[r]=t[n],t[n]=i}}_randomizeOffsets(){for(let t=0;t<this._slices;t++)this._offsets[t]=Math.random()*(Math.random()<.5?-1:1)}refresh(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()}redraw(){const t=this.sampleSize,e=this.texture,r=this._canvas.getContext("2d");r.clearRect(0,0,8,t);let n,i=0;for(let s=0;s<this._slices;s++){n=Math.floor(this._offsets[s]*256);const o=this._sizes[s]*t,a=n>0?n:0,u=n<0?-n:0;r.fillStyle=`rgba(${a}, ${u}, 0, 1)`,r.fillRect(0,i>>0,t,o+1>>0),i+=o}e.baseTexture.update(),this.uniforms.displacementMap=e}set sizes(t){const e=Math.min(this._slices,t.length);for(let r=0;r<e;r++)this._sizes[r]=t[r]}get sizes(){return this._sizes}set offsets(t){const e=Math.min(this._slices,t.length);for(let r=0;r<e;r++)this._offsets[r]=t[r]}get offsets(){return this._offsets}get slices(){return this._slices}set slices(t){this._slices!==t&&(this._slices=t,this.uniforms.slices=t,this._sizes=this.uniforms.slicesWidth=new Float32Array(t),this._offsets=this.uniforms.slicesOffset=new Float32Array(t),this.refresh())}get direction(){return this._direction}set direction(t){if(this._direction===t)return;this._direction=t;const e=t*qf;this.uniforms.sinDir=Math.sin(e),this.uniforms.cosDir=Math.cos(e)}get red(){return this.uniforms.red}set red(t){this.uniforms.red=t}get green(){return this.uniforms.green}set green(t){this.uniforms.green=t}get blue(){return this.uniforms.blue}set blue(t){this.uniforms.blue=t}destroy(){var t;(t=this.texture)==null||t.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null}};let jo=t0;jo.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},jo.TRANSPARENT=0,jo.ORIGINAL=1,jo.LOOP=2,jo.CLAMP=3,jo.MIRROR=4;var J5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,e6=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;
uniform float alpha;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    if (knockout) {
      float resultAlpha = (outerGlowAlpha + innerGlowAlpha) * alpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      vec4 outerGlowColor = outerGlowStrength * glowColor.rgba * alpha;
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;const FA=class extends at{constructor(t){const e=Object.assign({},FA.defaults,t),{outerStrength:r,innerStrength:n,color:i,knockout:s,quality:o,alpha:a}=e,u=Math.round(e.distance);super(J5,e6.replace(/__ANGLE_STEP_SIZE__/gi,`${(1/o/u).toFixed(7)}`).replace(/__DIST__/gi,`${u.toFixed(0)}.0`)),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.uniforms.alpha=1,Object.assign(this,{color:i,outerStrength:r,innerStrength:n,padding:u,knockout:s,alpha:a})}get color(){return hy(this.uniforms.glowColor)}set color(t){Cd(t,this.uniforms.glowColor)}get outerStrength(){return this.uniforms.outerStrength}set outerStrength(t){this.uniforms.outerStrength=t}get innerStrength(){return this.uniforms.innerStrength}set innerStrength(t){this.uniforms.innerStrength=t}get knockout(){return this.uniforms.knockout}set knockout(t){this.uniforms.knockout=t}get alpha(){return this.uniforms.alpha}set alpha(t){this.uniforms.alpha=t}};let t6=FA;t6.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1,alpha:1};var r6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,n6=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,i6=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`;const LA=class extends at{constructor(t){super(r6,i6.replace("${perlin}",n6)),this.parallel=!0,this.time=0,this._angle=0,this.uniforms.dimensions=new Float32Array(2);const e=Object.assign(LA.defaults,t);this._angleLight=new Ot,this.angle=e.angle,this.gain=e.gain,this.lacunarity=e.lacunarity,this.alpha=e.alpha,this.parallel=e.parallel,this.center=e.center,this.time=e.time}apply(t,e,r,n){const{width:i,height:s}=e.filterFrame;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,this.uniforms.aspect=s/i,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,t.applyFilter(this,e,r,n)}get angle(){return this._angle}set angle(t){this._angle=t;const e=t*qf;this._angleLight.x=Math.cos(e),this._angleLight.y=Math.sin(e)}get gain(){return this.uniforms.gain}set gain(t){this.uniforms.gain=t}get lacunarity(){return this.uniforms.lacunarity}set lacunarity(t){this.uniforms.lacunarity=t}get alpha(){return this.uniforms.alpha}set alpha(t){this.uniforms.alpha=t}};let s6=LA;s6.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1};var o6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,a6=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`;const kA=class extends at{constructor(t,e=0){super(o6,a6),this.seed=0,this.uniforms.dimensions=new Float32Array(2),typeof t=="number"?(this.seed=t,t=void 0):this.seed=e,Object.assign(this,kA.defaults,t)}apply(t,e,r,n){var i,s;this.uniforms.dimensions[0]=(i=e.filterFrame)==null?void 0:i.width,this.uniforms.dimensions[1]=(s=e.filterFrame)==null?void 0:s.height,this.uniforms.seed=this.seed,t.applyFilter(this,e,r,n)}set sepia(t){this.uniforms.sepia=t}get sepia(){return this.uniforms.sepia}set noise(t){this.uniforms.noise=t}get noise(){return this.uniforms.noise}set noiseSize(t){this.uniforms.noiseSize=t}get noiseSize(){return this.uniforms.noiseSize}set scratch(t){this.uniforms.scratch=t}get scratch(){return this.uniforms.scratch}set scratchDensity(t){this.uniforms.scratchDensity=t}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(t){this.uniforms.scratchWidth=t}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(t){this.uniforms.vignetting=t}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(t){this.uniforms.vignettingAlpha=t}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(t){this.uniforms.vignettingBlur=t}get vignettingBlur(){return this.uniforms.vignettingBlur}};let l6=kA;l6.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};var u6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,h6=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float alpha;
uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a * alpha);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;const lf=class extends at{constructor(t=1,e=0,r=.1,n=1){super(u6,h6.replace(/\$\{angleStep\}/,lf.getAngleStep(r))),this._thickness=1,this._alpha=1,this.uniforms.thickness=new Float32Array([0,0]),this.uniforms.outlineColor=new Float32Array([0,0,0,1]),this.uniforms.alpha=n,Object.assign(this,{thickness:t,color:e,quality:r,alpha:n})}static getAngleStep(t){const e=Math.max(t*lf.MAX_SAMPLES,lf.MIN_SAMPLES);return(Math.PI*2/e).toFixed(7)}apply(t,e,r,n){this.uniforms.thickness[0]=this._thickness/e._frame.width,this.uniforms.thickness[1]=this._thickness/e._frame.height,this.uniforms.alpha=this._alpha,t.applyFilter(this,e,r,n)}get alpha(){return this._alpha}set alpha(t){this._alpha=t}get color(){return hy(this.uniforms.outlineColor)}set color(t){Cd(t,this.uniforms.outlineColor)}get thickness(){return this._thickness}set thickness(t){this._thickness=t,this.padding=t}};let bE=lf;bE.MIN_SAMPLES=1,bE.MAX_SAMPLES=100;var c6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,f6=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`;const DA=class extends at{constructor(t){super(c6,f6),this.time=0,this.uniforms.amplitude=new Float32Array(2),this.uniforms.waveLength=new Float32Array(2),this.uniforms.alpha=new Float32Array(2),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,DA.defaults,t)}apply(t,e,r,n){var i,s;this.uniforms.dimensions[0]=(i=e.filterFrame)==null?void 0:i.width,this.uniforms.dimensions[1]=(s=e.filterFrame)==null?void 0:s.height,this.uniforms.time=this.time,t.applyFilter(this,e,r,n)}set mirror(t){this.uniforms.mirror=t}get mirror(){return this.uniforms.mirror}set boundary(t){this.uniforms.boundary=t}get boundary(){return this.uniforms.boundary}set amplitude(t){this.uniforms.amplitude[0]=t[0],this.uniforms.amplitude[1]=t[1]}get amplitude(){return this.uniforms.amplitude}set waveLength(t){this.uniforms.waveLength[0]=t[0],this.uniforms.waveLength[1]=t[1]}get waveLength(){return this.uniforms.waveLength}set alpha(t){this.uniforms.alpha[0]=t[0],this.uniforms.alpha[1]=t[1]}get alpha(){return this.uniforms.alpha}};let d6=DA;d6.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0};var p6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,v6=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`;class m6 extends at{constructor(e=[-10,0],r=[0,10],n=[0,0]){super(p6,v6),this.red=e,this.green=r,this.blue=n}get red(){return this.uniforms.red}set red(e){this.uniforms.red=e}get green(){return this.uniforms.green}set green(e){this.uniforms.green=e}get blue(){return this.uniforms.blue}set blue(e){this.uniforms.blue=e}}var g6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,y6=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`;const BA=class extends at{constructor(t=[0,0],e,r=0){super(g6,y6),this.center=t,Object.assign(this,BA.defaults,e),this.time=r}apply(t,e,r,n){this.uniforms.time=this.time,t.applyFilter(this,e,r,n)}get center(){return this.uniforms.center}set center(t){this.uniforms.center=t}get amplitude(){return this.uniforms.amplitude}set amplitude(t){this.uniforms.amplitude=t}get wavelength(){return this.uniforms.wavelength}set wavelength(t){this.uniforms.wavelength=t}get brightness(){return this.uniforms.brightness}set brightness(t){this.uniforms.brightness=t}get speed(){return this.uniforms.speed}set speed(t){this.uniforms.speed=t}get radius(){return this.uniforms.radius}set radius(t){this.uniforms.radius=t}};let _6=BA;_6.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1};var x6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,b6=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;const UA=class extends at{constructor(t){super(x6,b6),Object.assign(this,UA.defaults,t)}get offset(){return this.uniforms.offset}set offset(t){this.uniforms.offset=t}get radius(){return this.uniforms.radius}set radius(t){this.uniforms.radius=t}get angle(){return this.uniforms.angle}set angle(t){this.uniforms.angle=t}};let E6=UA;E6.defaults={radius:200,angle:4,padding:20,offset:new Ot};var T6=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,w6=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,EE=Object.getOwnPropertySymbols,S6=Object.prototype.hasOwnProperty,A6=Object.prototype.propertyIsEnumerable,C6=(t,e)=>{var r={};for(var n in t)S6.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&EE)for(var n of EE(t))e.indexOf(n)<0&&A6.call(t,n)&&(r[n]=t[n]);return r};const GA=class extends at{constructor(t){const e=Object.assign(GA.defaults,t),{maxKernelSize:r}=e,n=C6(e,["maxKernelSize"]);super(T6,w6.replace("${maxKernelSize}",r.toFixed(1))),Object.assign(this,n)}get center(){return this.uniforms.uCenter}set center(t){this.uniforms.uCenter=t}get strength(){return this.uniforms.uStrength}set strength(t){this.uniforms.uStrength=t}get innerRadius(){return this.uniforms.uInnerRadius}set innerRadius(t){this.uniforms.uInnerRadius=t}get radius(){return this.uniforms.uRadius}set radius(t){(t<0||t===1/0)&&(t=-1),this.uniforms.uRadius=t}};let R6=GA;R6.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32};const Ho=new m6,I6=new B5,TE=new D5(0),im=new $t;let Xs=0;function P6(t){Xs=t}function O6(t){const e=Ce.exports.useApp();let r=!1;r==!1&&(e.stage.filters=[Ho,TE],I6.blur=5,Ho.blue=[2,0],Ho.green=[0,0],Ho.red=[-2,0],r=!0);const n=dt.from(t.beatmap.bgPath);e.stage.getChildByName("bgimage")==null&&e.stage.addChild(n),e.stage.addChild(im);const[i,s]=me.exports.useState(0);n.alpha=0,n.name="bgimage",t.game;const o=t.game.beatmap.timingPoints.sort((u,c)=>u.time-c.time);let a=o[0];return Ce.exports.useTick(()=>{var p;if(n.height>1){const v=n.height*(ye/n.width);n.height=v,n.width=ye,n.x=ye/2,n.y=xt/2,n.anchor.set(.5,.5),n.alpha=.2}if(t.game.isPlaying){if(t.game.mode=="play"){var u=Date.now()-t.game.playStartTime;a=o.filter(v=>v.time<=u)[0],t.game.currenttime=u}var c=t.game.beatmap.speedChanges,d=c!=null?((p=c.filter(v=>v.startTime<=t.game.currenttime).sort((v,m)=>v.startTime-m.startTime).reverse()[0])==null?void 0:p.speed)*xt:t.game.notespeed;d>=0&&(t.game.notespeed=ju)}}),Ce.exports.useTick(()=>{t.game.mode=="play"&&s(1),Ho.blue=[Mn(t.game.currenttime,[Xs,Xs+1e3],[10,2]),0],Ho.red=[-Mn(t.game.currenttime,[Xs,Xs+1e3],[10,2]),0],TE.blurX=Mn(t.game.currenttime,[Xs,Xs+1e3],[1.5,0])}),Oe(Ad,{children:Vs(Ce.exports.Container,{alpha:t.game.mode=="play"?1:0,children:[Oe(Xb,{x:.5,beatmap:t.beatmap,i:-1,type:"normal",container:im,game:t.game},-1),t.beatmap.cursor.map((u,c)=>Oe(Xb,{x:u.x,beatmap:t.beatmap,i:c,container:im,type:u.type,game:t.game},c)),[...Array(4)].map((u,c)=>Oe(JD,{i:c+1,hitObjects:t.beatmap.hitObjects.filter(d=>d.column==c+1),timingPoints:t.beatmap.timingPoints,game:t.game},c)),[...Array(Math.round((t.game.beatmap.hitObjects[t.game.beatmap.hitObjects.length-1].startTime-a.time)/(6e4/a.bpm)*4))].map((u,c)=>Oe(nB,{time:a.time+c*(6e4/a.bpm)*4,game:t.game},c)),Oe(eB,{game:t.game,cursors:t.beatmap.cursor}),Oe(Ce.exports.Sprite,{width:ye,anchor:[0,.5],image:iB,y:xt-Fa}),Oe(Ce.exports.Sprite,{image:sB,x:0,y:xt,width:St(t.game.currenttime,[0,t.game.beatmap.hitObjects[t.game.beatmap.hitObjects.length-1].startTime],[0,ye]),alpha:1,anchor:[0,1]})]})})}function zA(t,e,r){const n=new zu;return n.text=t,n.name="playbutton",n.interactive=!0,n.cursor="pointer",n.x=e,n.y=r,n.anchor.set(.5,.5),n.style=new dr({fontFamily:"Goldman",align:"center",fill:"#ffffff",fontSize:25,dropShadow:!0,dropShadowBlur:5,dropShadowDistance:0,dropShadowColor:16777215}),n}const $s=zA("Play",ye/2,xt/2),Mc=[$s.x,$s.y],Fc=zA("Edit",ye/2,xt/2+30);function N6(t){const e=Date.now()+1e3,r=()=>{t.game.setVolume(10/100),t.game.play(),$s.alpha=0,Fc.alpha=0};return Ce.exports.useTick(()=>{t.game.mode=="menu"&&($s.alpha=Mn(Date.now(),[e,e+500],[0,1]),$s.x=Mn(Date.now(),[e,e+500],[Mc[0]-50,Mc[0]]),Fc.alpha=Mn(Date.now(),[e,e+500],[0,1]),Fc.x=Mn(Date.now(),[e,e+500],[Mc[0]-50,Mc[0]]))}),$s.on("pointerdown",r),Ce.exports.useApp().stage.addChild($s),Ce.exports.useApp().stage.addChild(Fc),null}const M6="/assets/overlay.9fbc01eb.png",wE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAALeCAYAAACne0GxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFkSURBVHgB7dRLqgMhFEXRyxtRzTBDzhB8CSTkWx/1dAJrg1CNYoFytWqn1tpyXTXTDTnf1hj2hNzrx74g/dgGchw7gOxjHcg6NoB8YhPIC/ZXySJbix72ABaZpch0R+7b1AtweoJOW//G5ggEAoFAIBAIBAKBQCBQhQKBQCAQCAQCgUAgEAhUoUAgEAgEAoFAIBAIBAJVKBAIBAKBQCAQCAQCgUAVCgQCgUAgEAgEAoFAIFCFAoFAIBAIBAKBQCAQCFShQCAQCAQCgUAgEAgEAlUoEAgEAoFAIBAIBAKBQBUKBAKBQCAQCAQCgUAgUIUCgUAgEAgEAoFAIBAIVKFAIBAIBAKBQCAQCAQCVSgQCAQCgUAgEAgEAoFAFQoEAoFAIBAIBAKBQKBfhVZrrS2XdW6Prt/LLNKPbSDHsQPIPtaBrGMDyCc2gbxg2TmKbC162ANYZJYi0x25b/3IF2wcecN2kX/R/7vHq3mbqQAAAABJRU5ErkJggg==";let zl=-1;const ai=new $t,Ms="Roboto Condensed";function SE(t,e){ai.getChildByName("scoretext")==null?ai.addChild(Mr):ai.getChildByName("scoretext"),zl=t;let r=e.slice(1);r=e[0].toUpperCase()+r,Mr.text=r}function jA(t){return new zu(t,new dr({fill:"white",dropShadow:!0,dropShadowBlur:5,dropShadowDistance:0,dropShadowColor:16777215,fontFamily:"Courier New",fontSize:30,fontWeight:"900",fontVariant:"small-caps"}))}let Mr=jA("");Mr.anchor.set(.5,.5);Mr.name="scoretext";Mr.x=ye/2;Mr.y=xt/2;Mr.blendMode=ue.ADD;Mr.alpha=0;function F6(t){const e=Ce.exports.useApp();e.stage.addChild(ai);const[r,n]=me.exports.useState("0"),[i,s]=me.exports.useState(0),[o,a]=me.exports.useState("0");let u=jA(t.game.beatmap.metadata.artist+" - "+t.game.beatmap.metadata.title);return ai.getChildByName("scoretext")==null?(u.x=0,u.y=80,u.width=500,u.name="title",u.alpha=0,u.tint=16724946,u.anchor.set(0,1),u.blendMode=ue.ADD_NPM,u.style=new dr({fontFamily:Ms,fontWeight:"bold",align:"center",fill:"#ffffff",fontSize:50}),ai.addChild(u),ai.addChild(Mr)):(Mr=ai.getChildByName("scoretext"),u=ai.getChildByName("title")),me.exports.useEffect(()=>{setInterval(()=>{a(Math.round(e.ticker.FPS).toString())},1e3)}),Ce.exports.useTick(()=>{if(t.game.mode=="play"){const c=t.game.currenttime;Mr.scale.x=Mr.scale.y=Mn(c,[zl,zl+100],[1.5,1]),Mr.alpha=Mn(c,[zl,zl+500],[1,0]),n(t.game.combo.toString())}}),Ce.exports.useTick(()=>{t.game.mode=="play"&&s(1)}),Vs(Ce.exports.Container,{alpha:i,children:[Oe(Ce.exports.Sprite,{texture:de.WHITE,x:0,y:100,alpha:1,width:ye,height:4,anchor:[0,0]}),Oe(Ce.exports.Sprite,{image:wE,x:ye/2-Ve/2,y:xt/2,anchor:[.5,.5],scale:xt*.95/734,alpha:1}),Oe(Ce.exports.Sprite,{image:wE,x:ye/2+Ve/2,y:xt/2,anchor:[.5,.5],scale:xt*.95/734,alpha:1}),Oe(Ce.exports.Sprite,{image:M6,x:0,y:0,alpha:1,width:ye,anchor:[0,0]}),Oe(Ce.exports.Text,{text:t.game.beatmap.metadata.artist+" - "+t.game.beatmap.metadata.title,x:ye/2,y:80,anchor:[.5,1],style:new dr({fontFamily:Ms,fontWeight:"bold",align:"center",fill:"#ffffff",fontSize:36})}),Oe(Ce.exports.Text,{text:"Charted by "+t.game.beatmap.metadata.creator,x:ye/2-20,y:40,anchor:[1,1],alpha:.5,blendMode:ue.ADD,style:new dr({fontFamily:Ms,align:"center",fontWeight:"bold",fontStyle:"italic",fill:"#ffffff",fontSize:15})}),Oe(Ce.exports.Text,{text:t.game.beatmap.metadata.difficult,x:ye/2+20,y:40,anchor:[0,1],style:new dr({fontFamily:Ms,align:"center",fontWeight:"bold",fontStyle:"italic",fill:"#ffffff",fontSize:15})}),Oe(Ce.exports.Text,{text:"FPS : "+o,x:ye-30,y:116,blendMode:ue.ADD,anchor:[1,0],alpha:.5,style:new dr({fontFamily:Ms,align:"center",fill:"#ffffff",fontSize:15})}),Oe(Ce.exports.Text,{text:r+" COMBO",x:ye/2,y:115,anchor:[.5,0],style:new dr({fontFamily:Ms,align:"left",fill:"#ffffff",fontSize:15})}),Oe(Ce.exports.Text,{text:Math.round(t.game.score/t.game.maxscore*1e6).toString(),x:ye/2,y:132,alpha:1,anchor:[.5,0],blendMode:ue.ADD,style:new dr({fontFamily:Ms,fontWeight:"bold",align:"left",fill:"#ffffff",fontSize:31})})]})}function L6(t){const e=t.chart,{audioPath:r}=e;e.timingPoints.forEach(g=>{g.time=g.time+ci}),e.hitObjects.forEach(g=>{g.startTime=g.startTime+ci,g.endTime&&(g.endTime=g.endTime+ci)}),e.cursor.forEach(g=>{g.startTime=g.startTime+ci});let n=0,i=0;e.hitObjects.forEach(g=>{n+=100,i+=1}),e.cursor.forEach((g,b)=>{e.cursor[b-1]?e.cursor[b-1].x!=g.x&&(n+=100,i+=1):(n+=100,i+=1)});const s=t.game.init(10,10,400,r,n,e,ju,i);s.setAudioPath(r);const o=s.audiovolume,a=s.effectvolume,u=()=>{caches.keys().then(g=>{g.forEach(b=>{caches.delete(b)})})},c=g=>{s.setVolume(o/100),s.play(),u()},d=g=>{s.quit()};function p(g){return g==Fb||g==Lb||g==kb||g==Db||g==Bb||g==Ub}function v(g){switch(g){case Fb:return 0;case Lb:return 1;case kb:return 2;case Db:return 3;case Bb:return 4;case Ub:return 5;default:return NaN}}me.exports.useEffect(()=>{document.addEventListener("mousemove",b=>{b.movementX>0&&(s.key[4]=s.key[4][0]+"1"),b.movementX<0&&(s.key[4]="1"+s.key[4][1])}),document.addEventListener("keyup",b=>{p(b.key)&&(s.key[v(b.key)]="00")}),document.addEventListener("keydown",b=>{b.repeat?s.key[v(b.key)]="01":s.key[v(b.key)]="11"});const g=b=>{switch(b.key){case"`":s.retry();break}};return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[]);var m=new $t;return Vs(Ad,{children:[Oe("button",{className:"border border-black py-2 px-3",onClick:c,children:"Play"}),Oe("button",{className:"border border-black py-2 px-3",onClick:d,children:"Quit"}),Vs("div",{children:["Music:"," ",Oe("input",{type:"number",min:0,max:100,step:10,value:o,onChange:g=>{s.setVolume(parseInt(g.target.value)/100)}})]}),Vs("div",{children:["Effect:"," ",Oe("input",{type:"number",min:0,max:100,step:10,value:a,onChange:g=>s.setEffectVolume(parseInt(g.target.value))})]}),Oe("div",{id:"display"}),Vs(Ce.exports.Stage,{width:ye,height:xt,children:[Oe(N6,{game:s,time:t.menutime}),Vs(Ce.exports.Container,{children:[Oe(F6,{game:s,container:m}),Oe(O6,{beatmap:e,game:s})]})]}),Oe("div",{id:"log"})]})}function k6(t){const e=JSON.parse(t),{audioPath:r,metadata:n,hitObjects:i,timingPoints:s,cursor:o,speedChanges:a}=e,u=typeof r=="string",c=typeof n.title=="string"&&typeof n.titleUnicode=="string"&&typeof n.artist=="string"&&typeof n.artistUnicode=="string"&&typeof n.creator=="string"&&typeof n.difficult=="string",d=Array.isArray(s)&&s.length>0&&s.every(({time:g,bpm:b,meter:y,defaultSampleSet:E,volume:T})=>typeof g=="number"&&typeof b=="number"&&typeof y=="number"&&typeof T=="number"&&["soft","normal","drum"].includes(E)),p=g=>g!=null?Array.isArray(g)&&g.length<=2&&g.every(({type:b,sampleSet:y,addition:E})=>(b!=null?["whistle","finish","clap"].includes(b):!0)&&(y!=null?["soft","normal","drum"].includes(y):!0)&&(E!=null?["soft","normal","drum"].includes(E):!0)):!0,v=Array.isArray(i)&&i.length>0&&i.every(({type:g,column:b,startTime:y,endTime:E,hitsound:T})=>["note","hold"].includes(g)&&typeof b=="number"&&typeof y=="number"&&(E!=null?typeof E=="number":!0)&&p(T));if(!(u&&c&&d&&v))throw new Error("Invalid beatmap");return e.timingPoints.forEach(g=>{g.time=g.time+ci}),e.hitObjects.forEach(g=>{g.startTime=g.startTime+ci,g.endTime&&(g.endTime=g.endTime+ci)}),e.speedChanges!=null&&(e.speedChanges=e.speedChanges.sort((g,b)=>g.startTime-b.startTime)),e.cursor=e.cursor.sort((g,b)=>g.startTime-b.startTime),e.cursor.forEach((g,b)=>{g.startTime=g.startTime+ci}),e.timingPoints.forEach((g,b)=>{g.time=g.time+ci}),e}const D6="/assets/normal-hitnormal.bc8b0f8f.ogg",B6="/assets/soft-hitnormal.67ddd85b.wav",HA="/assets/drum-hitnormal.7f49bacb.wav";function XA(t,e){return function(){return t.apply(e,arguments)}}const{toString:VA}=Object.prototype,{getPrototypeOf:py}=Object,vy=(t=>e=>{const r=VA.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Ti=t=>(t=t.toLowerCase(),e=>vy(e)===t),Od=t=>e=>typeof e===t,{isArray:Xu}=Array,r0=Od("undefined");function U6(t){return t!==null&&!r0(t)&&t.constructor!==null&&!r0(t.constructor)&&ka(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const $A=Ti("ArrayBuffer");function G6(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&$A(t.buffer),e}const z6=Od("string"),ka=Od("function"),WA=Od("number"),YA=t=>t!==null&&typeof t=="object",j6=t=>t===!0||t===!1,uf=t=>{if(vy(t)!=="object")return!1;const e=py(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},H6=Ti("Date"),X6=Ti("File"),V6=Ti("Blob"),$6=Ti("FileList"),W6=t=>YA(t)&&ka(t.pipe),Y6=t=>{const e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||VA.call(t)===e||ka(t.toString)&&t.toString()===e)},q6=Ti("URLSearchParams"),Z6=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Nd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Xu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function n0(){const t={},e=(r,n)=>{uf(t[n])&&uf(r)?t[n]=n0(t[n],r):uf(r)?t[n]=n0({},r):Xu(r)?t[n]=r.slice():t[n]=r};for(let r=0,n=arguments.length;r<n;r++)arguments[r]&&Nd(arguments[r],e);return t}const Q6=(t,e,r,{allOwnKeys:n}={})=>(Nd(e,(i,s)=>{r&&ka(i)?t[s]=XA(i,r):t[s]=i},{allOwnKeys:n}),t),K6=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),J6=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},e8=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&py(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},t8=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},r8=t=>{if(!t)return null;if(Xu(t))return t;let e=t.length;if(!WA(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},n8=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&py(Uint8Array)),i8=(t,e)=>{const n=(t&&t[Symbol.iterator]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},s8=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},o8=Ti("HTMLFormElement"),a8=t=>t.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),AE=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),l8=Ti("RegExp"),qA=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Nd(r,(i,s)=>{e(i,s,t)!==!1&&(n[s]=i)}),Object.defineProperties(t,n)},u8=t=>{qA(t,(e,r)=>{const n=t[r];if(!!ka(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not read-only method '"+r+"'")})}})},h8=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Xu(t)?n(t):n(String(t).split(e)),r},c8=()=>{},f8=(t,e)=>(t=+t,Number.isFinite(t)?t:e),j={isArray:Xu,isArrayBuffer:$A,isBuffer:U6,isFormData:Y6,isArrayBufferView:G6,isString:z6,isNumber:WA,isBoolean:j6,isObject:YA,isPlainObject:uf,isUndefined:r0,isDate:H6,isFile:X6,isBlob:V6,isRegExp:l8,isFunction:ka,isStream:W6,isURLSearchParams:q6,isTypedArray:n8,isFileList:$6,forEach:Nd,merge:n0,extend:Q6,trim:Z6,stripBOM:K6,inherits:J6,toFlatObject:e8,kindOf:vy,kindOfTest:Ti,endsWith:t8,toArray:r8,forEachEntry:i8,matchAll:s8,isHTMLForm:o8,hasOwnProperty:AE,hasOwnProp:AE,reduceDescriptors:qA,freezeMethods:u8,toObjectSet:h8,toCamelCase:a8,noop:c8,toFiniteNumber:f8};function Ge(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i)}j.inherits(Ge,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const ZA=Ge.prototype,QA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{QA[t]={value:t}});Object.defineProperties(Ge,QA);Object.defineProperty(ZA,"isAxiosError",{value:!0});Ge.from=(t,e,r,n,i,s)=>{const o=Object.create(ZA);return j.toFlatObject(t,o,function(u){return u!==Error.prototype},a=>a!=="isAxiosError"),Ge.call(o,t.message,e,r,n,i),o.cause=t,o.name=t.name,s&&Object.assign(o,s),o};var d8=typeof self=="object"?self.FormData:window.FormData;function i0(t){return j.isPlainObject(t)||j.isArray(t)}function KA(t){return j.endsWith(t,"[]")?t.slice(0,-2):t}function CE(t,e,r){return t?t.concat(e).map(function(i,s){return i=KA(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function p8(t){return j.isArray(t)&&!t.some(i0)}const v8=j.toFlatObject(j,{},null,function(e){return/^is[A-Z]/.test(e)});function m8(t){return t&&j.isFunction(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator]}function Md(t,e,r){if(!j.isObject(t))throw new TypeError("target must be an object");e=e||new(d8||FormData),r=j.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,y){return!j.isUndefined(y[b])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,o=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&m8(e);if(!j.isFunction(i))throw new TypeError("visitor must be a function");function c(g){if(g===null)return"";if(j.isDate(g))return g.toISOString();if(!u&&j.isBlob(g))throw new Ge("Blob is not supported. Use a Buffer instead.");return j.isArrayBuffer(g)||j.isTypedArray(g)?u&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function d(g,b,y){let E=g;if(g&&!y&&typeof g=="object"){if(j.endsWith(b,"{}"))b=n?b:b.slice(0,-2),g=JSON.stringify(g);else if(j.isArray(g)&&p8(g)||j.isFileList(g)||j.endsWith(b,"[]")&&(E=j.toArray(g)))return b=KA(b),E.forEach(function(S,A){!(j.isUndefined(S)||S===null)&&e.append(o===!0?CE([b],A,s):o===null?b:b+"[]",c(S))}),!1}return i0(g)?!0:(e.append(CE(y,b,s),c(g)),!1)}const p=[],v=Object.assign(v8,{defaultVisitor:d,convertValue:c,isVisitable:i0});function m(g,b){if(!j.isUndefined(g)){if(p.indexOf(g)!==-1)throw Error("Circular reference detected in "+b.join("."));p.push(g),j.forEach(g,function(E,T){(!(j.isUndefined(E)||E===null)&&i.call(e,E,j.isString(T)?T.trim():T,b,v))===!0&&m(E,b?b.concat(T):[T])}),p.pop()}}if(!j.isObject(t))throw new TypeError("data must be an object");return m(t),e}function RE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function my(t,e){this._pairs=[],t&&Md(t,this,e)}const JA=my.prototype;JA.append=function(e,r){this._pairs.push([e,r])};JA.toString=function(e){const r=e?function(n){return e.call(this,n,RE)}:RE;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function g8(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function eC(t,e,r){if(!e)return t;const n=r&&r.encode||g8,i=r&&r.serialize;let s;if(i?s=i(e,r):s=j.isURLSearchParams(e)?e.toString():new my(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class IE{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){j.forEach(this.handlers,function(n){n!==null&&e(n)})}}const tC={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},y8=typeof URLSearchParams<"u"?URLSearchParams:my,_8=FormData,x8=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),gi={isBrowser:!0,classes:{URLSearchParams:y8,FormData:_8,Blob},isStandardBrowserEnv:x8,protocols:["http","https","file","blob","url","data"]};function b8(t,e){return Md(t,new gi.classes.URLSearchParams,Object.assign({visitor:function(r,n,i,s){return gi.isNode&&j.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function E8(t){return j.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function T8(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function rC(t){function e(r,n,i,s){let o=r[s++];const a=Number.isFinite(+o),u=s>=r.length;return o=!o&&j.isArray(i)?i.length:o,u?(j.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!j.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&j.isArray(i[o])&&(i[o]=T8(i[o])),!a)}if(j.isFormData(t)&&j.isFunction(t.entries)){const r={};return j.forEachEntry(t,(n,i)=>{e(E8(n),i,r,0)}),r}return null}function w8(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ge("Request failed with status code "+r.status,[Ge.ERR_BAD_REQUEST,Ge.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}const S8=gi.isStandardBrowserEnv?function(){return{write:function(r,n,i,s,o,a){const u=[];u.push(r+"="+encodeURIComponent(n)),j.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),j.isString(s)&&u.push("path="+s),j.isString(o)&&u.push("domain="+o),a===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){const n=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function A8(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function C8(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function nC(t,e){return t&&!A8(e)?C8(t,e):e}const R8=gi.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");let n;function i(s){let o=s;return e&&(r.setAttribute("href",o),o=r.href),r.setAttribute("href",o),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return n=i(window.location.href),function(o){const a=j.isString(o)?i(o):o;return a.protocol===n.protocol&&a.host===n.host}}():function(){return function(){return!0}}();function Vu(t,e,r){Ge.call(this,t==null?"canceled":t,Ge.ERR_CANCELED,e,r),this.name="CanceledError"}j.inherits(Vu,Ge,{__CANCEL__:!0});function I8(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}const P8=j.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),O8=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&P8[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},PE=Symbol("internals"),iC=Symbol("defaults");function jl(t){return t&&String(t).trim().toLowerCase()}function hf(t){return t===!1||t==null?t:j.isArray(t)?t.map(hf):String(t)}function N8(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}function OE(t,e,r,n){if(j.isFunction(n))return n.call(this,e,r);if(!!j.isString(e)){if(j.isString(n))return e.indexOf(n)!==-1;if(j.isRegExp(n))return n.test(e)}}function M8(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function F8(t,e){const r=j.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}function Ol(t,e){e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}function Kr(t,e){t&&this.set(t),this[iC]=e||null}Object.assign(Kr.prototype,{set:function(t,e,r){const n=this;function i(s,o,a){const u=jl(o);if(!u)throw new Error("header name must be a non-empty string");const c=Ol(n,u);c&&a!==!0&&(n[c]===!1||a===!1)||(n[c||o]=hf(s))}return j.isPlainObject(t)?j.forEach(t,(s,o)=>{i(s,o,e)}):i(e,t,r),this},get:function(t,e){if(t=jl(t),!t)return;const r=Ol(this,t);if(r){const n=this[r];if(!e)return n;if(e===!0)return N8(n);if(j.isFunction(e))return e.call(this,n,r);if(j.isRegExp(e))return e.exec(n);throw new TypeError("parser must be boolean|regexp|function")}},has:function(t,e){if(t=jl(t),t){const r=Ol(this,t);return!!(r&&(!e||OE(this,this[r],r,e)))}return!1},delete:function(t,e){const r=this;let n=!1;function i(s){if(s=jl(s),s){const o=Ol(r,s);o&&(!e||OE(r,r[o],o,e))&&(delete r[o],n=!0)}}return j.isArray(t)?t.forEach(i):i(t),n},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(t){const e=this,r={};return j.forEach(this,(n,i)=>{const s=Ol(r,i);if(s){e[s]=hf(n),delete e[i];return}const o=t?M8(i):String(i).trim();o!==i&&delete e[i],e[o]=hf(n),r[o]=!0}),this},toJSON:function(t){const e=Object.create(null);return j.forEach(Object.assign({},this[iC]||null,this),(r,n)=>{r==null||r===!1||(e[n]=t&&j.isArray(r)?r.join(", "):r)}),e}});Object.assign(Kr,{from:function(t){return j.isString(t)?new this(O8(t)):t instanceof this?t:new this(t)},accessor:function(t){const r=(this[PE]=this[PE]={accessors:{}}).accessors,n=this.prototype;function i(s){const o=jl(s);r[o]||(F8(n,s),r[o]=!0)}return j.isArray(t)?t.forEach(i):i(t),this}});Kr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);j.freezeMethods(Kr.prototype);j.freezeMethods(Kr);function L8(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),d=n[s];o||(o=c),r[i]=u,n[i]=c;let p=s,v=0;for(;p!==i;)v+=r[p++],p=p%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const m=d&&c-d;return m?Math.round(v*1e3/m):void 0}}function NE(t,e){let r=0;const n=L8(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-r,u=n(a),c=s<=o;r=s;const d={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:u||void 0,estimated:u&&o&&c?(o-s)/u:void 0};d[e?"download":"upload"]=!0,t(d)}}function ME(t){return new Promise(function(r,n){let i=t.data;const s=Kr.from(t.headers).normalize(),o=t.responseType;let a;function u(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}j.isFormData(i)&&gi.isStandardBrowserEnv&&s.setContentType(!1);let c=new XMLHttpRequest;if(t.auth){const m=t.auth.username||"",g=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";s.set("Authorization","Basic "+btoa(m+":"+g))}const d=nC(t.baseURL,t.url);c.open(t.method.toUpperCase(),eC(d,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function p(){if(!c)return;const m=Kr.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),b={data:!o||o==="text"||o==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:m,config:t,request:c};w8(function(E){r(E),u()},function(E){n(E),u()},b),c=null}if("onloadend"in c?c.onloadend=p:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(p)},c.onabort=function(){!c||(n(new Ge("Request aborted",Ge.ECONNABORTED,t,c)),c=null)},c.onerror=function(){n(new Ge("Network Error",Ge.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let g=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const b=t.transitional||tC;t.timeoutErrorMessage&&(g=t.timeoutErrorMessage),n(new Ge(g,b.clarifyTimeoutError?Ge.ETIMEDOUT:Ge.ECONNABORTED,t,c)),c=null},gi.isStandardBrowserEnv){const m=(t.withCredentials||R8(d))&&t.xsrfCookieName&&S8.read(t.xsrfCookieName);m&&s.set(t.xsrfHeaderName,m)}i===void 0&&s.setContentType(null),"setRequestHeader"in c&&j.forEach(s.toJSON(),function(g,b){c.setRequestHeader(b,g)}),j.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),o&&o!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",NE(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",NE(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=m=>{!c||(n(!m||m.type?new Vu(null,t,c):m),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const v=I8(d);if(v&&gi.protocols.indexOf(v)===-1){n(new Ge("Unsupported protocol "+v+":",Ge.ERR_BAD_REQUEST,t));return}c.send(i||null)})}const FE={http:ME,xhr:ME},LE={getAdapter:t=>{if(j.isString(t)){const e=FE[t];if(!t)throw Error(j.hasOwnProp(t)?`Adapter '${t}' is not available in the build`:`Can not resolve adapter '${t}'`);return e}if(!j.isFunction(t))throw new TypeError("adapter is not a function");return t},adapters:FE},k8={"Content-Type":"application/x-www-form-urlencoded"};function D8(){let t;return typeof XMLHttpRequest<"u"?t=LE.getAdapter("xhr"):typeof process<"u"&&j.kindOf(process)==="process"&&(t=LE.getAdapter("http")),t}function B8(t,e,r){if(j.isString(t))try{return(e||JSON.parse)(t),j.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Da={transitional:tC,adapter:D8(),transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=j.isObject(e);if(s&&j.isHTMLForm(e)&&(e=new FormData(e)),j.isFormData(e))return i&&i?JSON.stringify(rC(e)):e;if(j.isArrayBuffer(e)||j.isBuffer(e)||j.isStream(e)||j.isFile(e)||j.isBlob(e))return e;if(j.isArrayBufferView(e))return e.buffer;if(j.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return b8(e,this.formSerializer).toString();if((a=j.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return Md(a?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),B8(e)):e}],transformResponse:[function(e){const r=this.transitional||Da.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(e&&j.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(a){if(o)throw a.name==="SyntaxError"?Ge.from(a,Ge.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:gi.classes.FormData,Blob:gi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};j.forEach(["delete","get","head"],function(e){Da.headers[e]={}});j.forEach(["post","put","patch"],function(e){Da.headers[e]=j.merge(k8)});function sm(t,e){const r=this||Da,n=e||r,i=Kr.from(n.headers);let s=n.data;return j.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function sC(t){return!!(t&&t.__CANCEL__)}function om(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Vu}function kE(t){return om(t),t.headers=Kr.from(t.headers),t.data=sm.call(t,t.transformRequest),(t.adapter||Da.adapter)(t).then(function(n){return om(t),n.data=sm.call(t,t.transformResponse,n),n.headers=Kr.from(n.headers),n},function(n){return sC(n)||(om(t),n&&n.response&&(n.response.data=sm.call(t,t.transformResponse,n.response),n.response.headers=Kr.from(n.response.headers))),Promise.reject(n)})}function Pu(t,e){e=e||{};const r={};function n(c,d){return j.isPlainObject(c)&&j.isPlainObject(d)?j.merge(c,d):j.isPlainObject(d)?j.merge({},d):j.isArray(d)?d.slice():d}function i(c){if(j.isUndefined(e[c])){if(!j.isUndefined(t[c]))return n(void 0,t[c])}else return n(t[c],e[c])}function s(c){if(!j.isUndefined(e[c]))return n(void 0,e[c])}function o(c){if(j.isUndefined(e[c])){if(!j.isUndefined(t[c]))return n(void 0,t[c])}else return n(void 0,e[c])}function a(c){if(c in e)return n(t[c],e[c]);if(c in t)return n(void 0,t[c])}const u={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a};return j.forEach(Object.keys(t).concat(Object.keys(e)),function(d){const p=u[d]||i,v=p(d);j.isUndefined(v)&&p!==a||(r[d]=v)}),r}const oC="1.1.3",gy={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{gy[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const DE={};gy.transitional=function(e,r,n){function i(s,o){return"[Axios v"+oC+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new Ge(i(o," has been removed"+(r?" in "+r:"")),Ge.ERR_DEPRECATED);return r&&!DE[o]&&(DE[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};function U8(t,e,r){if(typeof t!="object")throw new Ge("options must be an object",Ge.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],u=a===void 0||o(a,s,t);if(u!==!0)throw new Ge("option "+s+" must be "+u,Ge.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ge("Unknown option "+s,Ge.ERR_BAD_OPTION)}}const s0={assertOptions:U8,validators:gy},Gi=s0.validators;class io{constructor(e){this.defaults=e,this.interceptors={request:new IE,response:new IE}}request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Pu(this.defaults,r);const{transitional:n,paramsSerializer:i}=r;n!==void 0&&s0.assertOptions(n,{silentJSONParsing:Gi.transitional(Gi.boolean),forcedJSONParsing:Gi.transitional(Gi.boolean),clarifyTimeoutError:Gi.transitional(Gi.boolean)},!1),i!==void 0&&s0.assertOptions(i,{encode:Gi.function,serialize:Gi.function},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();const s=r.headers&&j.merge(r.headers.common,r.headers[r.method]);s&&j.forEach(["delete","get","head","post","put","patch","common"],function(g){delete r.headers[g]}),r.headers=new Kr(r.headers,s);const o=[];let a=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(a=a&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,d=0,p;if(!a){const m=[kE.bind(this),void 0];for(m.unshift.apply(m,o),m.push.apply(m,u),p=m.length,c=Promise.resolve(r);d<p;)c=c.then(m[d++],m[d++]);return c}p=o.length;let v=r;for(d=0;d<p;){const m=o[d++],g=o[d++];try{v=m(v)}catch(b){g.call(this,b);break}}try{c=kE.call(this,v)}catch(m){return Promise.reject(m)}for(d=0,p=u.length;d<p;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=Pu(this.defaults,e);const r=nC(e.baseURL,e.url);return eC(r,e.params,e.paramsSerializer)}}j.forEach(["delete","get","head","options"],function(e){io.prototype[e]=function(r,n){return this.request(Pu(n||{},{method:e,url:r,data:(n||{}).data}))}});j.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(Pu(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}io.prototype[e]=r(),io.prototype[e+"Form"]=r(!0)});class yy{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new Vu(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}static source(){let e;return{token:new yy(function(i){e=i}),cancel:e}}}function G8(t){return function(r){return t.apply(null,r)}}function z8(t){return j.isObject(t)&&t.isAxiosError===!0}function aC(t){const e=new io(t),r=XA(io.prototype.request,e);return j.extend(r,io.prototype,e,{allOwnKeys:!0}),j.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return aC(Pu(t,i))},r}const Rr=aC(Da);Rr.Axios=io;Rr.CanceledError=Vu;Rr.CancelToken=yy;Rr.isCancel=sC;Rr.VERSION=oC;Rr.toFormData=Md;Rr.AxiosError=Ge;Rr.Cancel=Rr.CanceledError;Rr.all=function(e){return Promise.all(e)};Rr.spread=G8;Rr.isAxiosError=z8;Rr.formToJSON=t=>rC(j.isHTMLForm(t)?new FormData(t):t);class j8{constructor(e,r){He(this,"source",null);He(this,"lastTime",0);He(this,"startTime",0);He(this,"playbackRate",1);He(this,"isPlaying",!1);this.buffer=e,this.engine=r}play(){this.context.resume(),this.source=this.context.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(this.context.destination),this.source.playbackRate.value=this.playbackRate;const e=this.lastTime;this.source.start(0,e),this.startTime=this.context.currentTime,this.isPlaying=!0}stop(){this.source&&(this.lastTime=0,this.source.stop(0),this.source.disconnect(),this.source=null),this.isPlaying=!1}pause(){const e=this.currentTime;this.stop(),this.lastTime=e}get currentTime(){if(!this.isPlaying)return this.lastTime;const e=this.context.currentTime-this.startTime;return this.lastTime+e*this.playbackRate}set currentTime(e){this.isPlaying?(this.stop(),this.lastTime=e,this.play()):this.lastTime=e}get context(){return this.engine.context}destroy(){var e;this.stop(),(e=this.source)==null||e.disconnect()}get duration(){return this.buffer.duration}}class H8{constructor(e,r){He(this,"source",null);He(this,"gainNode");this.buffer=e,this.engine=r,this.gainNode=r.context.createGain(),this.gainNode.connect(r.context.destination)}get context(){return this.engine.context}play(){this.context.resume();const e=this.context.createBufferSource();e.buffer=this.buffer,e.connect(this.gainNode),e.start(0,0),e.onended=()=>e.disconnect()}set volume(e){this.gainNode.gain.value=e}}class X8{constructor(){He(this,"context",new AudioContext)}destroy(){this.context.close()}async createSound(e){const r=await this.context.decodeAudioData(e);return new j8(r,this)}async createSample(e){const r=await this.context.decodeAudioData(e);return new H8(r,this)}}const V8=new Audio(D6);new Audio(B6);new Audio(HA);V8.currentTime=0;const $8=new X8;async function W8(){const e=await(await Rr.get(HA,{responseType:"arraybuffer",withCredentials:!0})).data,r=await $8.createSample(e);r.volume=.1,r.play()}function Y8(){return Math.max(document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function q8(){return Math.max(document.documentElement.clientHeight)}const zi=new Audio;class Z8{constructor(){He(this,"audiovolume");He(this,"audio");He(this,"hitlist");He(this,"effectvolume");He(this,"score");He(this,"maxscore");He(this,"hitwaitlist");He(this,"combo");He(this,"playStartTime");He(this,"cursor");He(this,"audiopath");He(this,"mode");He(this,"isPlaying");He(this,"key");He(this,"currenttime");He(this,"highestcombo");He(this,"beatmap");He(this,"maxcombo");He(this,"notespeed");He(this,"WIDTH");He(this,"HEIGHT");this.beatmap=null,this.key=["00","00","00","00","00"],this.audio=zi,this.audiopath="",this.audiovolume=NaN,this.effectvolume=NaN,this.highestcombo=0,this.hitwaitlist=[],this.maxcombo=NaN,this.score=0,this.notespeed=0,this.maxscore=NaN,this.combo=0,this.playStartTime=0,this.isPlaying=!1,this.cursor=.5,this.mode="",this.currenttime=0,this.HEIGHT=q8(),this.WIDTH=Y8(),this.hitlist=[]}init(e,r,n,i,s,o,a,u){return this.audiovolume=e,this.effectvolume=r,this.audiopath=i,this.notespeed=a,this.maxscore=s,this.maxcombo=u,this.beatmap=o,zi.src=i,this}NOTE_TRAVEL_DURATION(){return xt/this.notespeed*1e3}NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION(){return Fa/this.notespeed*1e3}async miss(e,r){this.hitlist.filter(n=>n==e.toString()+r.toString()+",miss").length==0&&(this.combo=0,this.hitlist.push(e.toString()+r.toString()+",miss"),SE(this.currenttime,"miss"),P6(this.currenttime))}async hit(e,r,n){this.score+=this.idtoscore(e),this.combo+=1,this.combo>this.highestcombo&&(this.highestcombo=this.combo),n==5?this.key[n-1]="00":this.key[n-1]="01",W8(),this.hitlist.push(r.toString()+n.toString()+","+e),SE(r,e)}async play(){this.isPlaying=!0,this.score=0,this.combo=0,this.playStartTime=Date.now(),this.hitlist=[],this.mode="play",this.mode=="play"&&zi.play()}retry(){this.isPlaying=!0,this.score=0,this.combo=0,this.playStartTime=Date.now(),this.hitlist=[],zi.currentTime=0,zi.play()}quit(){this.isPlaying=!1,this.score=0,this.combo=0,this.playStartTime=0,this.hitlist=[],zi.pause(),zi.currentTime=0}idtoscore(e){switch(e){case"perfect":return 100;case"great":return 50;case"ok":return 30;default:return 0}}setAudioPath(e){this.audiopath=e}setVolume(e){zi.volume=e}setEffectVolume(e){this.effectvolume=e}}var am=null;const lm=new Z8;var BE;(BE=document.getElementById("chartfile"))==null||BE.addEventListener("change",()=>{var t=new FileReader;lm.mode="menu",t.onload=function(){var e=t.result;am=k6(e),lm.beatmap=am,LP.render(Oe(Ln.StrictMode,{children:Oe(L6,{game:lm,chart:am,menutime:Date.now()})}),document.getElementById("root"))},t.readAsText(document.getElementById("chartfile").files[0])})});export default Q8();
