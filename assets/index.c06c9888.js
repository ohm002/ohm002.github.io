var vC=Object.defineProperty;var mC=(t,e,r)=>e in t?vC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var gC=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var ht=(t,e,r)=>(mC(t,typeof e!="symbol"?e+"":e,r),r);var L5=gC((D5,Te)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerpolicy&&(s.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?s.credentials="include":i.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var bp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function eE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yC(t){var e=t.default;if(typeof e=="function"){var r=function(){return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var me={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mu=Symbol.for("react.element"),_C=Symbol.for("react.portal"),xC=Symbol.for("react.fragment"),bC=Symbol.for("react.strict_mode"),EC=Symbol.for("react.profiler"),TC=Symbol.for("react.provider"),wC=Symbol.for("react.context"),SC=Symbol.for("react.forward_ref"),AC=Symbol.for("react.suspense"),CC=Symbol.for("react.memo"),RC=Symbol.for("react.lazy"),T_=Symbol.iterator;function IC(t){return t===null||typeof t!="object"?null:(t=T_&&t[T_]||t["@@iterator"],typeof t=="function"?t:null)}var tE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rE=Object.assign,nE={};function ga(t,e,r){this.props=t,this.context=e,this.refs=nE,this.updater=r||tE}ga.prototype.isReactComponent={};ga.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ga.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iE(){}iE.prototype=ga.prototype;function Bg(t,e,r){this.props=t,this.context=e,this.refs=nE,this.updater=r||tE}var Ug=Bg.prototype=new iE;Ug.constructor=Bg;rE(Ug,ga.prototype);Ug.isPureReactComponent=!0;var w_=Array.isArray,sE=Object.prototype.hasOwnProperty,Gg={current:null},oE={key:!0,ref:!0,__self:!0,__source:!0};function aE(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)sE.call(e,n)&&!oE.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),f=0;f<a;f++)u[f]=arguments[f+2];i.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:mu,type:t,key:s,ref:o,props:i,_owner:Gg.current}}function PC(t,e){return{$$typeof:mu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function zg(t){return typeof t=="object"&&t!==null&&t.$$typeof===mu}function OC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var S_=/\/+/g;function Ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?OC(""+t.key):e.toString(36)}function bf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case mu:case _C:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Ep(o,0):n,w_(i)?(r="",t!=null&&(r=t.replace(S_,"$&/")+"/"),bf(i,e,r,"",function(f){return f})):i!=null&&(zg(i)&&(i=PC(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(S_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",w_(t))for(var a=0;a<t.length;a++){s=t[a];var u=n+Ep(s,a);o+=bf(s,e,r,u,i)}else if(u=IC(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=n+Ep(s,a++),o+=bf(s,e,r,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Th(t,e,r){if(t==null)return t;var n=[],i=0;return bf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function NC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var vr={current:null},Ef={transition:null},MC={ReactCurrentDispatcher:vr,ReactCurrentBatchConfig:Ef,ReactCurrentOwner:Gg};Re.Children={map:Th,forEach:function(t,e,r){Th(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Th(t,function(){e++}),e},toArray:function(t){return Th(t,function(e){return e})||[]},only:function(t){if(!zg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=ga;Re.Fragment=xC;Re.Profiler=EC;Re.PureComponent=Bg;Re.StrictMode=bC;Re.Suspense=AC;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MC;Re.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=rE({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Gg.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)sE.call(e,u)&&!oE.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var f=0;f<u;f++)a[f]=arguments[f+2];n.children=a}return{$$typeof:mu,type:t.type,key:i,ref:s,props:n,_owner:o}};Re.createContext=function(t){return t={$$typeof:wC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TC,_context:t},t.Consumer=t};Re.createElement=aE;Re.createFactory=function(t){var e=aE.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:SC,render:t}};Re.isValidElement=zg;Re.lazy=function(t){return{$$typeof:RC,_payload:{_status:-1,_result:t},_init:NC}};Re.memo=function(t,e){return{$$typeof:CC,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Ef.transition;Ef.transition={};try{t()}finally{Ef.transition=e}};Re.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Re.useCallback=function(t,e){return vr.current.useCallback(t,e)};Re.useContext=function(t){return vr.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return vr.current.useDeferredValue(t)};Re.useEffect=function(t,e){return vr.current.useEffect(t,e)};Re.useId=function(){return vr.current.useId()};Re.useImperativeHandle=function(t,e,r){return vr.current.useImperativeHandle(t,e,r)};Re.useInsertionEffect=function(t,e){return vr.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return vr.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return vr.current.useMemo(t,e)};Re.useReducer=function(t,e,r){return vr.current.useReducer(t,e,r)};Re.useRef=function(t){return vr.current.useRef(t)};Re.useState=function(t){return vr.current.useState(t)};Re.useSyncExternalStore=function(t,e,r){return vr.current.useSyncExternalStore(t,e,r)};Re.useTransition=function(){return vr.current.useTransition()};Re.version="18.2.0";(function(t){t.exports=Re})(me);const Pn=eE(me.exports);var lE={exports:{}},Kr={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var A_=Object.getOwnPropertySymbols,FC=Object.prototype.hasOwnProperty,LC=Object.prototype.propertyIsEnumerable;function kC(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function DC(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;var n=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var uE=DC()?Object.assign:function(t,e){for(var r,n=kC(t),i,s=1;s<arguments.length;s++){r=Object(arguments[s]);for(var o in r)FC.call(r,o)&&(n[o]=r[o]);if(A_){i=A_(r);for(var a=0;a<i.length;a++)LC.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n},hE={exports:{}},fE={};/** @license React v0.20.2
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){var e,r,n,i;if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}if(typeof window>"u"||typeof MessageChannel!="function"){var u=null,f=null,d=function(){if(u!==null)try{var M=t.unstable_now();u(!0,M),u=null}catch(L){throw setTimeout(d,0),L}};e=function(M){u!==null?setTimeout(e,0,M):(u=M,setTimeout(d,0))},r=function(M,L){f=setTimeout(M,L)},n=function(){clearTimeout(f)},t.unstable_shouldYield=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var p=window.setTimeout,v=window.clearTimeout;if(typeof console<"u"){var g=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof g!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var _=!1,b=null,m=-1,E=5,T=0;t.unstable_shouldYield=function(){return t.unstable_now()>=T},i=function(){},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<M?Math.floor(1e3/M):5};var S=new MessageChannel,A=S.port2;S.port1.onmessage=function(){if(b!==null){var M=t.unstable_now();T=M+E;try{b(!0,M)?A.postMessage(null):(_=!1,b=null)}catch(L){throw A.postMessage(null),L}}else _=!1},e=function(M){b=M,_||(_=!0,A.postMessage(null))},r=function(M,L){m=p(function(){M(t.unstable_now())},L)},n=function(){v(m),m=-1}}function R(M,L){var z=M.length;M.push(L);e:for(;;){var H=z-1>>>1,se=M[H];if(se!==void 0&&0<k(se,L))M[H]=L,M[z]=se,z=H;else break e}}function I(M){return M=M[0],M===void 0?null:M}function P(M){var L=M[0];if(L!==void 0){var z=M.pop();if(z!==L){M[0]=z;e:for(var H=0,se=M.length;H<se;){var pe=2*(H+1)-1,Ee=M[pe],Ie=pe+1,Me=M[Ie];if(Ee!==void 0&&0>k(Ee,z))Me!==void 0&&0>k(Me,Ee)?(M[H]=Me,M[Ie]=z,H=Ie):(M[H]=Ee,M[pe]=z,H=pe);else if(Me!==void 0&&0>k(Me,z))M[H]=Me,M[Ie]=z,H=Ie;else break e}}return L}return null}function k(M,L){var z=M.sortIndex-L.sortIndex;return z!==0?z:M.id-L.id}var N=[],B=[],X=1,Z=null,Y=3,oe=!1,$=!1,V=!1;function ie(M){for(var L=I(B);L!==null;){if(L.callback===null)P(B);else if(L.startTime<=M)P(B),L.sortIndex=L.expirationTime,R(N,L);else break;L=I(B)}}function Ae(M){if(V=!1,ie(M),!$)if(I(N)!==null)$=!0,e(ve);else{var L=I(B);L!==null&&r(Ae,L.startTime-M)}}function ve(M,L){$=!1,V&&(V=!1,n()),oe=!0;var z=Y;try{for(ie(L),Z=I(N);Z!==null&&(!(Z.expirationTime>L)||M&&!t.unstable_shouldYield());){var H=Z.callback;if(typeof H=="function"){Z.callback=null,Y=Z.priorityLevel;var se=H(Z.expirationTime<=L);L=t.unstable_now(),typeof se=="function"?Z.callback=se:Z===I(N)&&P(N),ie(L)}else P(N);Z=I(N)}if(Z!==null)var pe=!0;else{var Ee=I(B);Ee!==null&&r(Ae,Ee.startTime-L),pe=!1}return pe}finally{Z=null,Y=z,oe=!1}}var j=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){$||oe||($=!0,e(ve))},t.unstable_getCurrentPriorityLevel=function(){return Y},t.unstable_getFirstCallbackNode=function(){return I(N)},t.unstable_next=function(M){switch(Y){case 1:case 2:case 3:var L=3;break;default:L=Y}var z=Y;Y=L;try{return M()}finally{Y=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=j,t.unstable_runWithPriority=function(M,L){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var z=Y;Y=M;try{return L()}finally{Y=z}},t.unstable_scheduleCallback=function(M,L,z){var H=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?H+z:H):z=H,M){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=z+se,M={id:X++,callback:L,priorityLevel:M,startTime:z,expirationTime:se,sortIndex:-1},z>H?(M.sortIndex=z,R(B,M),I(N)===null&&M===I(B)&&(V?n():V=!0,r(Ae,z-H))):(M.sortIndex=se,R(N,M),$||oe||($=!0,e(ve))),M},t.unstable_wrapCallback=function(M){var L=Y;return function(){var z=Y;Y=L;try{return M.apply(this,arguments)}finally{Y=z}}}})(fE);(function(t){t.exports=fE})(hE);/** @license React v17.0.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zc=me.exports,lt=uE,Ht=hE.exports;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!zc)throw Error(W(227));var cE=new Set,Hl={};function io(t,e){fa(t,e),fa(t+"Capture",e)}function fa(t,e){for(Hl[t]=e,t=0;t<e.length;t++)cE.add(e[t])}var ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),BC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C_=Object.prototype.hasOwnProperty,R_={},I_={};function UC(t){return C_.call(I_,t)?!0:C_.call(R_,t)?!1:BC.test(t)?I_[t]=!0:(R_[t]=!0,!1)}function GC(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zC(t,e,r,n){if(e===null||typeof e>"u"||GC(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function mr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var tr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tr[t]=new mr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tr[e]=new mr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tr[t]=new mr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tr[t]=new mr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tr[t]=new mr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tr[t]=new mr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tr[t]=new mr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tr[t]=new mr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tr[t]=new mr(t,5,!1,t.toLowerCase(),null,!1,!1)});var jg=/[\-:]([a-z])/g;function Hg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jg,Hg);tr[e]=new mr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jg,Hg);tr[e]=new mr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jg,Hg);tr[e]=new mr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tr[t]=new mr(t,1,!1,t.toLowerCase(),null,!1,!1)});tr.xlinkHref=new mr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tr[t]=new mr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Xg(t,e,r,n){var i=tr.hasOwnProperty(e)?tr[e]:null,s=i!==null?i.type===0:n?!1:!(!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N");s||(zC(e,r,i,n)&&(r=null),n||i===null?UC(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var so=zc.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_l=60103,Us=60106,zi=60107,Vg=60108,Rl=60114,$g=60109,Wg=60110,jc=60112,Il=60113,qf=60120,Hc=60115,Yg=60116,qg=60121,Zg=60128,dE=60129,Qg=60130,Xv=60131;if(typeof Symbol=="function"&&Symbol.for){var Bt=Symbol.for;_l=Bt("react.element"),Us=Bt("react.portal"),zi=Bt("react.fragment"),Vg=Bt("react.strict_mode"),Rl=Bt("react.profiler"),$g=Bt("react.provider"),Wg=Bt("react.context"),jc=Bt("react.forward_ref"),Il=Bt("react.suspense"),qf=Bt("react.suspense_list"),Hc=Bt("react.memo"),Yg=Bt("react.lazy"),qg=Bt("react.block"),Bt("react.scope"),Zg=Bt("react.opaque.id"),dE=Bt("react.debug_trace_mode"),Qg=Bt("react.offscreen"),Xv=Bt("react.legacy_hidden")}var P_=typeof Symbol=="function"&&Symbol.iterator;function Za(t){return t===null||typeof t!="object"?null:(t=P_&&t[P_]||t["@@iterator"],typeof t=="function"?t:null)}var Tp;function xl(t){if(Tp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Tp=e&&e[1]||""}return`
`+Tp+t}var wp=!1;function wh(t,e){if(!t||wp)return"";wp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a])return`
`+i[o].replace(" at new "," at ");while(1<=o&&0<=a);break}}}finally{wp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?xl(t):""}function jC(t){switch(t.tag){case 5:return xl(t.type);case 16:return xl("Lazy");case 13:return xl("Suspense");case 19:return xl("SuspenseList");case 0:case 2:case 15:return t=wh(t.type,!1),t;case 11:return t=wh(t.type.render,!1),t;case 22:return t=wh(t.type._render,!1),t;case 1:return t=wh(t.type,!0),t;default:return""}}function qo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case zi:return"Fragment";case Us:return"Portal";case Rl:return"Profiler";case Vg:return"StrictMode";case Il:return"Suspense";case qf:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wg:return(t.displayName||"Context")+".Consumer";case $g:return(t._context.displayName||"Context")+".Provider";case jc:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case Hc:return qo(t.type);case qg:return qo(t._render);case Yg:e=t._payload,t=t._init;try{return qo(t(e))}catch{}}return null}function ts(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function pE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function HC(t){var e=pE(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sh(t){t._valueTracker||(t._valueTracker=HC(t))}function vE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=pE(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Zf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Vv(t,e){var r=e.checked;return lt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r!=null?r:t._wrapperState.initialChecked})}function O_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ts(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mE(t,e){e=e.checked,e!=null&&Xg(t,"checked",e,!1)}function $v(t,e){mE(t,e);var r=ts(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wv(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wv(t,e.type,ts(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function N_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wv(t,e,r){(e!=="number"||Zf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}function XC(t){var e="";return zc.Children.forEach(t,function(r){r!=null&&(e+=r)}),e}function Yv(t,e){return t=lt({children:void 0},e),(e=XC(e.children))&&(t.children=e),t}function Zo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ts(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return lt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function M_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(W(92));if(Array.isArray(r)){if(!(1>=r.length))throw Error(W(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ts(r)}}function gE(t,e){var r=ts(e.value),n=ts(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function F_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}var Zv={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function yE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Qv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ah,_E=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!==Zv.svg||"innerHTML"in t)t.innerHTML=e;else{for(Ah=Ah||document.createElement("div"),Ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ah.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Xl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Pl={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VC=["Webkit","ms","Moz","O"];Object.keys(Pl).forEach(function(t){VC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pl[e]=Pl[t]})});function xE(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Pl.hasOwnProperty(t)&&Pl[t]?(""+e).trim():e+"px"}function bE(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=xE(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var $C=lt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kv(t,e){if(e){if($C[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(!(typeof e.dangerouslySetInnerHTML=="object"&&"__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function Jv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Kg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var em=null,Qo=null,Ko=null;function L_(t){if(t=yu(t)){if(typeof em!="function")throw Error(W(280));var e=t.stateNode;e&&(e=qc(e),em(t.stateNode,t.type,e))}}function EE(t){Qo?Ko?Ko.push(t):Ko=[t]:Qo=t}function TE(){if(Qo){var t=Qo,e=Ko;if(Ko=Qo=null,L_(t),e)for(t=0;t<e.length;t++)L_(e[t])}}function Jg(t,e){return t(e)}function wE(t,e,r,n,i){return t(e,r,n,i)}function e0(){}var SE=Jg,Gs=!1,Sp=!1;function t0(){(Qo!==null||Ko!==null)&&(e0(),TE())}function WC(t,e,r){if(Sp)return t(e,r);Sp=!0;try{return SE(t,e,r)}finally{Sp=!1,t0()}}function Vl(t,e){var r=t.stateNode;if(r===null)return null;var n=qc(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(W(231,e,typeof r));return r}var tm=!1;if(ci)try{var Qa={};Object.defineProperty(Qa,"passive",{get:function(){tm=!0}}),window.addEventListener("test",Qa,Qa),window.removeEventListener("test",Qa,Qa)}catch{tm=!1}function YC(t,e,r,n,i,s,o,a,u){var f=Array.prototype.slice.call(arguments,3);try{e.apply(r,f)}catch(d){this.onError(d)}}var Ol=!1,Qf=null,Kf=!1,rm=null,qC={onError:function(t){Ol=!0,Qf=t}};function ZC(t,e,r,n,i,s,o,a,u){Ol=!1,Qf=null,YC.apply(qC,arguments)}function QC(t,e,r,n,i,s,o,a,u){if(ZC.apply(this,arguments),Ol){if(Ol){var f=Qf;Ol=!1,Qf=null}else throw Error(W(198));Kf||(Kf=!0,rm=f)}}function oo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&1026)!==0&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function AE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function k_(t){if(oo(t)!==t)throw Error(W(188))}function KC(t){var e=t.alternate;if(!e){if(e=oo(t),e===null)throw Error(W(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return k_(i),t;if(s===n)return k_(i),e;s=s.sibling}throw Error(W(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?t:e}function CE(t){if(t=KC(t),!t)return null;for(var e=t;;){if(e.tag===5||e.tag===6)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function D_(t,e){for(var r=t.alternate;e!==null;){if(e===t||e===r)return!0;e=e.return}return!1}var RE,r0,IE,PE,nm=!1,wn=[],$i=null,Wi=null,Yi=null,$l=new Map,Wl=new Map,Ka=[],B_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function im(t,e,r,n,i){return{blockedOn:t,domEventName:e,eventSystemFlags:r|16,nativeEvent:i,targetContainers:[n]}}function U_(t,e){switch(t){case"focusin":case"focusout":$i=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":$l.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(e.pointerId)}}function Ja(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t=im(e,r,n,i,s),e!==null&&(e=yu(e),e!==null&&r0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function JC(t,e,r,n,i){switch(e){case"focusin":return $i=Ja($i,t,e,r,n,i),!0;case"dragenter":return Wi=Ja(Wi,t,e,r,n,i),!0;case"mouseover":return Yi=Ja(Yi,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return $l.set(s,Ja($l.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Wl.set(s,Ja(Wl.get(s)||null,t,e,r,n,i)),!0}return!1}function eR(t){var e=zs(t.target);if(e!==null){var r=oo(e);if(r!==null){if(e=r.tag,e===13){if(e=AE(r),e!==null){t.blockedOn=e,PE(t.lanePriority,function(){Ht.unstable_runWithPriority(t.priority,function(){IE(r)})});return}}else if(e===3&&r.stateNode.hydrate){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=o0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null)return e=yu(r),e!==null&&r0(e),t.blockedOn=r,!1;e.shift()}return!0}function G_(t,e,r){Tf(t)&&r.delete(e)}function tR(){for(nm=!1;0<wn.length;){var t=wn[0];if(t.blockedOn!==null){t=yu(t.blockedOn),t!==null&&RE(t);break}for(var e=t.targetContainers;0<e.length;){var r=o0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r!==null){t.blockedOn=r;break}e.shift()}t.blockedOn===null&&wn.shift()}$i!==null&&Tf($i)&&($i=null),Wi!==null&&Tf(Wi)&&(Wi=null),Yi!==null&&Tf(Yi)&&(Yi=null),$l.forEach(G_),Wl.forEach(G_)}function el(t,e){t.blockedOn===e&&(t.blockedOn=null,nm||(nm=!0,Ht.unstable_scheduleCallback(Ht.unstable_NormalPriority,tR)))}function OE(t){function e(i){return el(i,t)}if(0<wn.length){el(wn[0],t);for(var r=1;r<wn.length;r++){var n=wn[r];n.blockedOn===t&&(n.blockedOn=null)}}for($i!==null&&el($i,t),Wi!==null&&el(Wi,t),Yi!==null&&el(Yi,t),$l.forEach(e),Wl.forEach(e),r=0;r<Ka.length;r++)n=Ka[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ka.length&&(r=Ka[0],r.blockedOn===null);)eR(r),r.blockedOn===null&&Ka.shift()}function Ch(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Do={animationend:Ch("Animation","AnimationEnd"),animationiteration:Ch("Animation","AnimationIteration"),animationstart:Ch("Animation","AnimationStart"),transitionend:Ch("Transition","TransitionEnd")},Ap={},NE={};ci&&(NE=document.createElement("div").style,"AnimationEvent"in window||(delete Do.animationend.animation,delete Do.animationiteration.animation,delete Do.animationstart.animation),"TransitionEvent"in window||delete Do.transitionend.transition);function Xc(t){if(Ap[t])return Ap[t];if(!Do[t])return t;var e=Do[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in NE)return Ap[t]=e[r];return t}var ME=Xc("animationend"),FE=Xc("animationiteration"),LE=Xc("animationstart"),kE=Xc("transitionend"),DE=new Map,n0=new Map,rR=["abort","abort",ME,"animationEnd",FE,"animationIteration",LE,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",kE,"transitionEnd","waiting","waiting"];function i0(t,e){for(var r=0;r<t.length;r+=2){var n=t[r],i=t[r+1];i="on"+(i[0].toUpperCase()+i.slice(1)),n0.set(n,e),DE.set(n,i),io(i,[n])}}var nR=Ht.unstable_now;nR();var Qe=8;function Fo(t){if((1&t)!==0)return Qe=15,1;if((2&t)!==0)return Qe=14,2;if((4&t)!==0)return Qe=13,4;var e=24&t;return e!==0?(Qe=12,e):(t&32)!==0?(Qe=11,32):(e=192&t,e!==0?(Qe=10,e):(t&256)!==0?(Qe=9,256):(e=3584&t,e!==0?(Qe=8,e):(t&4096)!==0?(Qe=7,4096):(e=4186112&t,e!==0?(Qe=6,e):(e=62914560&t,e!==0?(Qe=5,e):t&67108864?(Qe=4,67108864):(t&134217728)!==0?(Qe=3,134217728):(e=805306368&t,e!==0?(Qe=2,e):(1073741824&t)!==0?(Qe=1,1073741824):(Qe=8,t))))))}function iR(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}function sR(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(W(358,t))}}function Yl(t,e){var r=t.pendingLanes;if(r===0)return Qe=0;var n=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,a=t.pingedLanes;if(s!==0)n=s,i=Qe=15;else if(s=r&134217727,s!==0){var u=s&~o;u!==0?(n=Fo(u),i=Qe):(a&=s,a!==0&&(n=Fo(a),i=Qe))}else s=r&~o,s!==0?(n=Fo(s),i=Qe):a!==0&&(n=Fo(a),i=Qe);if(n===0)return 0;if(n=31-rs(n),n=r&((0>n?0:1<<n)<<1)-1,e!==0&&e!==n&&(e&o)===0){if(Fo(e),i<=Qe)return e;Qe=i}if(e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-rs(e),i=1<<r,n|=t[r],e&=~i;return n}function BE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Jf(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return t=Lo(24&~e),t===0?Jf(10,e):t;case 10:return t=Lo(192&~e),t===0?Jf(8,e):t;case 8:return t=Lo(3584&~e),t===0&&(t=Lo(4186112&~e),t===0&&(t=512)),t;case 2:return e=Lo(805306368&~e),e===0&&(e=268435456),e}throw Error(W(358,t))}function Lo(t){return t&-t}function Cp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Vc(t,e,r){t.pendingLanes|=e;var n=e-1;t.suspendedLanes&=n,t.pingedLanes&=n,t=t.eventTimes,e=31-rs(e),t[e]=r}var rs=Math.clz32?Math.clz32:lR,oR=Math.log,aR=Math.LN2;function lR(t){return t===0?32:31-(oR(t)/aR|0)|0}var uR=Ht.unstable_UserBlockingPriority,hR=Ht.unstable_runWithPriority,wf=!0;function fR(t,e,r,n){Gs||e0();var i=s0,s=Gs;Gs=!0;try{wE(i,t,e,r,n)}finally{(Gs=s)||t0()}}function cR(t,e,r,n){hR(uR,s0.bind(null,t,e,r,n))}function s0(t,e,r,n){if(wf){var i;if((i=(e&4)===0)&&0<wn.length&&-1<B_.indexOf(t))t=im(null,t,e,r,n),wn.push(t);else{var s=o0(t,e,r,n);if(s===null)i&&U_(t,n);else{if(i){if(-1<B_.indexOf(t)){t=im(s,t,e,r,n),wn.push(t);return}if(JC(s,t,e,r,n))return;U_(t,n)}QE(t,e,n,null,r)}}}}function o0(t,e,r,n){var i=Kg(n);if(i=zs(i),i!==null){var s=oo(i);if(s===null)i=null;else{var o=s.tag;if(o===13){if(i=AE(s),i!==null)return i;i=null}else if(o===3){if(s.stateNode.hydrate)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return QE(t,e,n,i,r),null}var ji=null,a0=null,Sf=null;function UE(){if(Sf)return Sf;var t,e=a0,r=e.length,n,i="value"in ji?ji.value:ji.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Sf=i.slice(t,1<n?1-n:void 0)}function Af(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rh(){return!0}function z_(){return!1}function Fr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rh:z_,this.isPropagationStopped=z_,this}return lt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Rh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Rh)},persist:function(){},isPersistent:Rh}),e}var ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},l0=Fr(ya),gu=lt({},ya,{view:0,detail:0}),dR=Fr(gu),Rp,Ip,tl,$c=lt({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:u0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==tl&&(tl&&t.type==="mousemove"?(Rp=t.screenX-tl.screenX,Ip=t.screenY-tl.screenY):Ip=Rp=0,tl=t),Rp)},movementY:function(t){return"movementY"in t?t.movementY:Ip}}),j_=Fr($c),pR=lt({},$c,{dataTransfer:0}),vR=Fr(pR),mR=lt({},gu,{relatedTarget:0}),Pp=Fr(mR),gR=lt({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),yR=Fr(gR),_R=lt({},ya,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xR=Fr(_R),bR=lt({},ya,{data:0}),H_=Fr(bR),ER={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=wR[t])?!!e[t]:!1}function u0(){return SR}var AR=lt({},gu,{key:function(t){if(t.key){var e=ER[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Af(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:u0,charCode:function(t){return t.type==="keypress"?Af(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Af(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),CR=Fr(AR),RR=lt({},$c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),X_=Fr(RR),IR=lt({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:u0}),PR=Fr(IR),OR=lt({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),NR=Fr(OR),MR=lt({},$c,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FR=Fr(MR),LR=[9,13,27,32],h0=ci&&"CompositionEvent"in window,Nl=null;ci&&"documentMode"in document&&(Nl=document.documentMode);var kR=ci&&"TextEvent"in window&&!Nl,GE=ci&&(!h0||Nl&&8<Nl&&11>=Nl),V_=String.fromCharCode(32),$_=!1;function zE(t,e){switch(t){case"keyup":return LR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Bo=!1;function DR(t,e){switch(t){case"compositionend":return jE(e);case"keypress":return e.which!==32?null:($_=!0,V_);case"textInput":return t=e.data,t===V_&&$_?null:t;default:return null}}function BR(t,e){if(Bo)return t==="compositionend"||!h0&&zE(t,e)?(t=UE(),Sf=a0=ji=null,Bo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return GE&&e.locale!=="ko"?null:e.data;default:return null}}var UR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function W_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UR[t.type]:e==="textarea"}function HE(t,e,r,n){EE(n),e=ec(e,"onChange"),0<e.length&&(r=new l0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Ml=null,ql=null;function GR(t){YE(t,0)}function Wc(t){var e=Go(t);if(vE(e))return t}function zR(t,e){if(t==="change")return e}var XE=!1;if(ci){var Op;if(ci){var Np="oninput"in document;if(!Np){var Y_=document.createElement("div");Y_.setAttribute("oninput","return;"),Np=typeof Y_.oninput=="function"}Op=Np}else Op=!1;XE=Op&&(!document.documentMode||9<document.documentMode)}function q_(){Ml&&(Ml.detachEvent("onpropertychange",VE),ql=Ml=null)}function VE(t){if(t.propertyName==="value"&&Wc(ql)){var e=[];if(HE(e,ql,t,Kg(t)),t=GR,Gs)t(e);else{Gs=!0;try{Jg(t,e)}finally{Gs=!1,t0()}}}}function jR(t,e,r){t==="focusin"?(q_(),Ml=e,ql=r,Ml.attachEvent("onpropertychange",VE)):t==="focusout"&&q_()}function HR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wc(ql)}function XR(t,e){if(t==="click")return Wc(e)}function VR(t,e){if(t==="input"||t==="change")return Wc(e)}function $R(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xr=typeof Object.is=="function"?Object.is:$R,WR=Object.prototype.hasOwnProperty;function Zl(t,e){if(Xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++)if(!WR.call(e,r[n])||!Xr(t[r[n]],e[r[n]]))return!1;return!0}function Z_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Q_(t,e){var r=Z_(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Z_(r)}}function $E(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?$E(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function K_(){for(var t=window,e=Zf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Zf(t.document)}return e}function sm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var YR=ci&&"documentMode"in document&&11>=document.documentMode,Uo=null,om=null,Fl=null,am=!1;function J_(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;am||Uo==null||Uo!==Zf(n)||(n=Uo,"selectionStart"in n&&sm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Fl&&Zl(Fl,n)||(Fl=n,n=ec(om,"onSelect"),0<n.length&&(e=new l0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Uo)))}i0("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0);i0("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1);i0(rR,2);for(var e1="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Mp=0;Mp<e1.length;Mp++)n0.set(e1[Mp],0);fa("onMouseEnter",["mouseout","mouseover"]);fa("onMouseLeave",["mouseout","mouseover"]);fa("onPointerEnter",["pointerout","pointerover"]);fa("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("cancel close invalid load scroll toggle".split(" ").concat(bl));function t1(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,QC(n,e,void 0,t),t.currentTarget=null}function YE(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,f=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;t1(i,a,f),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,f=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;t1(i,a,f),s=u}}}if(Kf)throw t=rm,Kf=!1,rm=null,t}function tt(t,e){var r=JE(e),n=t+"__bubble";r.has(n)||(ZE(e,t,2,!1),r.add(n))}var r1="_reactListening"+Math.random().toString(36).slice(2);function qE(t){t[r1]||(t[r1]=!0,cE.forEach(function(e){WE.has(e)||n1(e,!1,t,null),n1(e,!0,t,null)}))}function n1(t,e,r,n){var i=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,s=r;if(t==="selectionchange"&&r.nodeType!==9&&(s=r.ownerDocument),n!==null&&!e&&WE.has(t)){if(t!=="scroll")return;i|=2,s=n}var o=JE(s),a=t+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),ZE(s,t,i,e),o.add(a))}function ZE(t,e,r,n){var i=n0.get(e);switch(i===void 0?2:i){case 0:i=fR;break;case 1:i=cR;break;default:i=s0}r=i.bind(null,e,r,t),i=void 0,!tm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function QE(t,e,r,n,i){var s=n;if((e&1)===0&&(e&2)===0&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=zs(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}WC(function(){var f=s,d=Kg(r),p=[];e:{var v=DE.get(t);if(v!==void 0){var g=l0,_=t;switch(t){case"keypress":if(Af(r)===0)break e;case"keydown":case"keyup":g=CR;break;case"focusin":_="focus",g=Pp;break;case"focusout":_="blur",g=Pp;break;case"beforeblur":case"afterblur":g=Pp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=j_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=vR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=PR;break;case ME:case FE:case LE:g=yR;break;case kE:g=NR;break;case"scroll":g=dR;break;case"wheel":g=FR;break;case"copy":case"cut":case"paste":g=xR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=X_}var b=(e&4)!==0,m=!b&&t==="scroll",E=b?v!==null?v+"Capture":null:v;b=[];for(var T=f,S;T!==null;){S=T;var A=S.stateNode;if(S.tag===5&&A!==null&&(S=A,E!==null&&(A=Vl(T,E),A!=null&&b.push(Ql(T,A,S)))),m)break;T=T.return}0<b.length&&(v=new g(v,_,null,r,d),p.push({event:v,listeners:b}))}}if((e&7)===0){e:{if(v=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",v&&(e&16)===0&&(_=r.relatedTarget||r.fromElement)&&(zs(_)||_[_a]))break e;if((g||v)&&(v=d.window===d?d:(v=d.ownerDocument)?v.defaultView||v.parentWindow:window,g?(_=r.relatedTarget||r.toElement,g=f,_=_?zs(_):null,_!==null&&(m=oo(_),_!==m||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=f),g!==_)){if(b=j_,A="onMouseLeave",E="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(b=X_,A="onPointerLeave",E="onPointerEnter",T="pointer"),m=g==null?v:Go(g),S=_==null?v:Go(_),v=new b(A,T+"leave",g,r,d),v.target=m,v.relatedTarget=S,A=null,zs(d)===f&&(b=new b(E,T+"enter",_,r,d),b.target=S,b.relatedTarget=m,A=b),m=A,g&&_)t:{for(b=g,E=_,T=0,S=b;S;S=Co(S))T++;for(S=0,A=E;A;A=Co(A))S++;for(;0<T-S;)b=Co(b),T--;for(;0<S-T;)E=Co(E),S--;for(;T--;){if(b===E||E!==null&&b===E.alternate)break t;b=Co(b),E=Co(E)}b=null}else b=null;g!==null&&i1(p,v,g,b,!1),_!==null&&m!==null&&i1(p,m,_,b,!0)}}e:{if(v=f?Go(f):window,g=v.nodeName&&v.nodeName.toLowerCase(),g==="select"||g==="input"&&v.type==="file")var R=zR;else if(W_(v))if(XE)R=VR;else{R=HR;var I=jR}else(g=v.nodeName)&&g.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(R=XR);if(R&&(R=R(t,f))){HE(p,R,r,d);break e}I&&I(t,v,f),t==="focusout"&&(I=v._wrapperState)&&I.controlled&&v.type==="number"&&Wv(v,"number",v.value)}switch(I=f?Go(f):window,t){case"focusin":(W_(I)||I.contentEditable==="true")&&(Uo=I,om=f,Fl=null);break;case"focusout":Fl=om=Uo=null;break;case"mousedown":am=!0;break;case"contextmenu":case"mouseup":case"dragend":am=!1,J_(p,r,d);break;case"selectionchange":if(YR)break;case"keydown":case"keyup":J_(p,r,d)}var P;if(h0)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bo?zE(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(GE&&r.locale!=="ko"&&(Bo||k!=="onCompositionStart"?k==="onCompositionEnd"&&Bo&&(P=UE()):(ji=d,a0="value"in ji?ji.value:ji.textContent,Bo=!0)),I=ec(f,k),0<I.length&&(k=new H_(k,t,null,r,d),p.push({event:k,listeners:I}),P?k.data=P:(P=jE(r),P!==null&&(k.data=P)))),(P=kR?DR(t,r):BR(t,r))&&(f=ec(f,"onBeforeInput"),0<f.length&&(d=new H_("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:f}),d.data=P))}YE(p,e)})}function Ql(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ec(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Vl(t,r),s!=null&&n.unshift(Ql(t,s,i)),s=Vl(t,e),s!=null&&n.push(Ql(t,s,i))),t=t.return}return n}function Co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function i1(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,f=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&f!==null&&(a=f,i?(u=Vl(r,s),u!=null&&o.unshift(Ql(r,u,a))):i||(u=Vl(r,s),u!=null&&o.push(Ql(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}function tc(){}var Fp=null,Lp=null;function KE(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function lm(t,e){return t==="textarea"||t==="option"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var s1=typeof setTimeout=="function"?setTimeout:void 0,qR=typeof clearTimeout=="function"?clearTimeout:void 0;function f0(t){t.nodeType===1?t.textContent="":t.nodeType===9&&(t=t.body,t!=null&&(t.textContent=""))}function Jo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break}return t}function o1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var kp=0;function ZR(t){return{$$typeof:Zg,toString:t,valueOf:t}}var Yc=Math.random().toString(36).slice(2),Hi="__reactFiber$"+Yc,rc="__reactProps$"+Yc,_a="__reactContainer$"+Yc,a1="__reactEvents$"+Yc;function zs(t){var e=t[Hi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[_a]||r[Hi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=o1(t);t!==null;){if(r=t[Hi])return r;t=o1(t)}return e}t=r,r=t.parentNode}return null}function yu(t){return t=t[Hi]||t[_a],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function qc(t){return t[rc]||null}function JE(t){var e=t[a1];return e===void 0&&(e=t[a1]=new Set),e}var um=[],zo=-1;function us(t){return{current:t}}function st(t){0>zo||(t.current=um[zo],um[zo]=null,zo--)}function yt(t,e){zo++,um[zo]=t.current,t.current=e}var ns={},lr=us(ns),Sr=us(!1),Qs=ns;function ca(t,e){var r=t.type.contextTypes;if(!r)return ns;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ar(t){return t=t.childContextTypes,t!=null}function nc(){st(Sr),st(lr)}function l1(t,e,r){if(lr.current!==ns)throw Error(W(168));yt(lr,e),yt(Sr,r)}function eT(t,e,r){var n=t.stateNode;if(t=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(W(108,qo(e)||"Unknown",i));return lt({},r,n)}function Cf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ns,Qs=lr.current,yt(lr,t),yt(Sr,Sr.current),!0}function u1(t,e,r){var n=t.stateNode;if(!n)throw Error(W(169));r?(t=eT(t,e,Qs),n.__reactInternalMemoizedMergedChildContext=t,st(Sr),st(lr),yt(lr,t)):st(Sr),yt(Sr,r)}var c0=null,Ws=null,QR=Ht.unstable_runWithPriority,d0=Ht.unstable_scheduleCallback,hm=Ht.unstable_cancelCallback,KR=Ht.unstable_shouldYield,h1=Ht.unstable_requestPaint,fm=Ht.unstable_now,JR=Ht.unstable_getCurrentPriorityLevel,Zc=Ht.unstable_ImmediatePriority,tT=Ht.unstable_UserBlockingPriority,rT=Ht.unstable_NormalPriority,nT=Ht.unstable_LowPriority,iT=Ht.unstable_IdlePriority,Dp={},eI=h1!==void 0?h1:function(){},ti=null,Rf=null,Bp=!1,f1=fm(),or=1e4>f1?fm:function(){return fm()-f1};function da(){switch(JR()){case Zc:return 99;case tT:return 98;case rT:return 97;case nT:return 96;case iT:return 95;default:throw Error(W(332))}}function sT(t){switch(t){case 99:return Zc;case 98:return tT;case 97:return rT;case 96:return nT;case 95:return iT;default:throw Error(W(332))}}function Ks(t,e){return t=sT(t),QR(t,e)}function Kl(t,e,r){return t=sT(t),d0(t,e,r)}function Dn(){if(Rf!==null){var t=Rf;Rf=null,hm(t)}oT()}function oT(){if(!Bp&&ti!==null){Bp=!0;var t=0;try{var e=ti;Ks(99,function(){for(;t<e.length;t++){var r=e[t];do r=r(!0);while(r!==null)}}),ti=null}catch(r){throw ti!==null&&(ti=ti.slice(t+1)),d0(Zc,Dn),r}finally{Bp=!1}}}var tI=so.ReactCurrentBatchConfig;function sn(t,e){if(t&&t.defaultProps){e=lt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var ic=us(null),sc=null,jo=null,oc=null;function p0(){oc=jo=sc=null}function v0(t){var e=ic.current;st(ic),t.type._context._currentValue=e}function aT(t,e){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)===e){if(r===null||(r.childLanes&e)===e)break;r.childLanes|=e}else t.childLanes|=e,r!==null&&(r.childLanes|=e);t=t.return}}function ea(t,e){sc=t,oc=jo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(an=!0),t.firstContext=null)}function qr(t,e){if(oc!==t&&e!==!1&&e!==0)if((typeof e!="number"||e===1073741823)&&(oc=t,e=1073741823),e={context:t,observedBits:e,next:null},jo===null){if(sc===null)throw Error(W(308));jo=e,sc.dependencies={lanes:0,firstContext:e,responders:null}}else jo=jo.next=e;return t._currentValue}var Gi=!1;function m0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function lT(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zi(t,e){if(t=t.updateQueue,t!==null){t=t.shared;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}}function c1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Jl(t,e,r,n){var i=t.updateQueue;Gi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,f=u.next;u.next=null,o===null?s=f:o.next=f,o=u;var d=t.alternate;if(d!==null){d=d.updateQueue;var p=d.lastBaseUpdate;p!==o&&(p===null?d.firstBaseUpdate=f:p.next=f,d.lastBaseUpdate=u)}}if(s!==null){p=i.baseState,o=0,d=f=u=null;do{a=s.lane;var v=s.eventTime;if((n&a)===a){d!==null&&(d=d.next={eventTime:v,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,_=s;switch(a=e,v=r,_.tag){case 1:if(g=_.payload,typeof g=="function"){p=g.call(v,p,a);break e}p=g;break e;case 3:g.flags=g.flags&-4097|64;case 0:if(g=_.payload,a=typeof g=="function"?g.call(v,p,a):g,a==null)break e;p=lt({},p,a);break e;case 2:Gi=!0}}s.callback!==null&&(t.flags|=32,a=i.effects,a===null?i.effects=[s]:a.push(s))}else v={eventTime:v,lane:a,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(f=d=v,u=p):d=d.next=v,o|=a;if(s=s.next,s===null){if(a=i.shared.pending,a===null)break;s=a.next,a.next=null,i.lastBaseUpdate=a,i.shared.pending=null}}while(1);d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=f,i.lastBaseUpdate=d,xu|=o,t.lanes=o,t.memoizedState=p}}function d1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(W(191,i));i.call(n)}}}var uT=new zc.Component().refs;function ac(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:lt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Qc={isMounted:function(t){return(t=t._reactInternals)?oo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Mr(),i=Qi(t),s=qi(n,i);s.payload=e,r!=null&&(s.callback=r),Zi(t,s),Ki(t,i,n)},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Mr(),i=Qi(t),s=qi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),Zi(t,s),Ki(t,i,n)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Mr(),n=Qi(t),i=qi(r,n);i.tag=2,e!=null&&(i.callback=e),Zi(t,i),Ki(t,n,r)}};function p1(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Zl(r,n)||!Zl(i,s):!0}function hT(t,e,r){var n=!1,i=ns,s=e.contextType;return typeof s=="object"&&s!==null?s=qr(s):(i=Ar(e)?Qs:lr.current,n=e.contextTypes,s=(n=n!=null)?ca(t,i):ns),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qc,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function v1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Qc.enqueueReplaceState(e,e.state,null)}function cm(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=uT,m0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=qr(s):(s=Ar(e)?Qs:lr.current,i.context=ca(t,s)),Jl(t,r,i,n),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(ac(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qc.enqueueReplaceState(i,i.state,null),Jl(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4)}var Ih=Array.isArray;function rl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(W(309));var n=r.stateNode}if(!n)throw Error(W(147,t));var i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var o=n.refs;o===uT&&(o=n.refs={}),s===null?delete o[i]:o[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!r._owner)throw Error(W(290,t))}return t}function Ph(t,e){if(t.type!=="textarea")throw Error(W(31,Object.prototype.toString.call(e)==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function fT(t){function e(m,E){if(t){var T=m.lastEffect;T!==null?(T.nextEffect=E,m.lastEffect=E):m.firstEffect=m.lastEffect=E,E.nextEffect=null,E.flags=8}}function r(m,E){if(!t)return null;for(;E!==null;)e(m,E),E=E.sibling;return null}function n(m,E){for(m=new Map;E!==null;)E.key!==null?m.set(E.key,E):m.set(E.index,E),E=E.sibling;return m}function i(m,E){return m=ss(m,E),m.index=0,m.sibling=null,m}function s(m,E,T){return m.index=T,t?(T=m.alternate,T!==null?(T=T.index,T<E?(m.flags=2,E):T):(m.flags=2,E)):E}function o(m){return t&&m.alternate===null&&(m.flags=2),m}function a(m,E,T,S){return E===null||E.tag!==6?(E=Hp(T,m.mode,S),E.return=m,E):(E=i(E,T),E.return=m,E)}function u(m,E,T,S){return E!==null&&E.elementType===T.type?(S=i(E,T.props),S.ref=rl(m,E,T),S.return=m,S):(S=Nf(T.type,T.key,T.props,null,m.mode,S),S.ref=rl(m,E,T),S.return=m,S)}function f(m,E,T,S){return E===null||E.tag!==4||E.stateNode.containerInfo!==T.containerInfo||E.stateNode.implementation!==T.implementation?(E=Xp(T,m.mode,S),E.return=m,E):(E=i(E,T.children||[]),E.return=m,E)}function d(m,E,T,S,A){return E===null||E.tag!==7?(E=ia(T,m.mode,S,A),E.return=m,E):(E=i(E,T),E.return=m,E)}function p(m,E,T){if(typeof E=="string"||typeof E=="number")return E=Hp(""+E,m.mode,T),E.return=m,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case _l:return T=Nf(E.type,E.key,E.props,null,m.mode,T),T.ref=rl(m,null,E),T.return=m,T;case Us:return E=Xp(E,m.mode,T),E.return=m,E}if(Ih(E)||Za(E))return E=ia(E,m.mode,T,null),E.return=m,E;Ph(m,E)}return null}function v(m,E,T,S){var A=E!==null?E.key:null;if(typeof T=="string"||typeof T=="number")return A!==null?null:a(m,E,""+T,S);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case _l:return T.key===A?T.type===zi?d(m,E,T.props.children,S,A):u(m,E,T,S):null;case Us:return T.key===A?f(m,E,T,S):null}if(Ih(T)||Za(T))return A!==null?null:d(m,E,T,S,null);Ph(m,T)}return null}function g(m,E,T,S,A){if(typeof S=="string"||typeof S=="number")return m=m.get(T)||null,a(E,m,""+S,A);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _l:return m=m.get(S.key===null?T:S.key)||null,S.type===zi?d(E,m,S.props.children,A,S.key):u(E,m,S,A);case Us:return m=m.get(S.key===null?T:S.key)||null,f(E,m,S,A)}if(Ih(S)||Za(S))return m=m.get(T)||null,d(E,m,S,A,null);Ph(E,S)}return null}function _(m,E,T,S){for(var A=null,R=null,I=E,P=E=0,k=null;I!==null&&P<T.length;P++){I.index>P?(k=I,I=null):k=I.sibling;var N=v(m,I,T[P],S);if(N===null){I===null&&(I=k);break}t&&I&&N.alternate===null&&e(m,I),E=s(N,E,P),R===null?A=N:R.sibling=N,R=N,I=k}if(P===T.length)return r(m,I),A;if(I===null){for(;P<T.length;P++)I=p(m,T[P],S),I!==null&&(E=s(I,E,P),R===null?A=I:R.sibling=I,R=I);return A}for(I=n(m,I);P<T.length;P++)k=g(I,m,P,T[P],S),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?P:k.key),E=s(k,E,P),R===null?A=k:R.sibling=k,R=k);return t&&I.forEach(function(B){return e(m,B)}),A}function b(m,E,T,S){var A=Za(T);if(typeof A!="function")throw Error(W(150));if(T=A.call(T),T==null)throw Error(W(151));for(var R=A=null,I=E,P=E=0,k=null,N=T.next();I!==null&&!N.done;P++,N=T.next()){I.index>P?(k=I,I=null):k=I.sibling;var B=v(m,I,N.value,S);if(B===null){I===null&&(I=k);break}t&&I&&B.alternate===null&&e(m,I),E=s(B,E,P),R===null?A=B:R.sibling=B,R=B,I=k}if(N.done)return r(m,I),A;if(I===null){for(;!N.done;P++,N=T.next())N=p(m,N.value,S),N!==null&&(E=s(N,E,P),R===null?A=N:R.sibling=N,R=N);return A}for(I=n(m,I);!N.done;P++,N=T.next())N=g(I,m,P,N.value,S),N!==null&&(t&&N.alternate!==null&&I.delete(N.key===null?P:N.key),E=s(N,E,P),R===null?A=N:R.sibling=N,R=N);return t&&I.forEach(function(X){return e(m,X)}),A}return function(m,E,T,S){var A=typeof T=="object"&&T!==null&&T.type===zi&&T.key===null;A&&(T=T.props.children);var R=typeof T=="object"&&T!==null;if(R)switch(T.$$typeof){case _l:e:{for(R=T.key,A=E;A!==null;){if(A.key===R){switch(A.tag){case 7:if(T.type===zi){r(m,A.sibling),E=i(A,T.props.children),E.return=m,m=E;break e}break;default:if(A.elementType===T.type){r(m,A.sibling),E=i(A,T.props),E.ref=rl(m,A,T),E.return=m,m=E;break e}}r(m,A);break}else e(m,A);A=A.sibling}T.type===zi?(E=ia(T.props.children,m.mode,S,T.key),E.return=m,m=E):(S=Nf(T.type,T.key,T.props,null,m.mode,S),S.ref=rl(m,E,T),S.return=m,m=S)}return o(m);case Us:e:{for(A=T.key;E!==null;){if(E.key===A)if(E.tag===4&&E.stateNode.containerInfo===T.containerInfo&&E.stateNode.implementation===T.implementation){r(m,E.sibling),E=i(E,T.children||[]),E.return=m,m=E;break e}else{r(m,E);break}else e(m,E);E=E.sibling}E=Xp(T,m.mode,S),E.return=m,m=E}return o(m)}if(typeof T=="string"||typeof T=="number")return T=""+T,E!==null&&E.tag===6?(r(m,E.sibling),E=i(E,T),E.return=m,m=E):(r(m,E),E=Hp(T,m.mode,S),E.return=m,m=E),o(m);if(Ih(T))return _(m,E,T,S);if(Za(T))return b(m,E,T,S);if(R&&Ph(m,T),typeof T>"u"&&!A)switch(m.tag){case 1:case 22:case 0:case 11:case 15:throw Error(W(152,qo(m.type)||"Component"))}return r(m,E)}}var lc=fT(!0),cT=fT(!1),_u={},On=us(_u),eu=us(_u),tu=us(_u);function js(t){if(t===_u)throw Error(W(174));return t}function dm(t,e){switch(yt(tu,e),yt(eu,t),yt(On,_u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Qv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Qv(e,t)}st(On),yt(On,e)}function pa(){st(On),st(eu),st(tu)}function m1(t){js(tu.current);var e=js(On.current),r=Qv(e,t.type);e!==r&&(yt(eu,t),yt(On,r))}function g0(t){eu.current===t&&(st(On),st(eu))}var mt=us(0);function uc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&64)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ai=null,Xi=null,Nn=!1;function dT(t,e){var r=Vr(5,null,null,0);r.elementType="DELETED",r.type="DELETED",r.stateNode=e,r.return=t,r.flags=8,t.lastEffect!==null?(t.lastEffect.nextEffect=r,t.lastEffect=r):t.firstEffect=t.lastEffect=r}function g1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,!0):!1;case 13:return!1;default:return!1}}function pm(t){if(Nn){var e=Xi;if(e){var r=e;if(!g1(t,e)){if(e=Jo(r.nextSibling),!e||!g1(t,e)){t.flags=t.flags&-1025|2,Nn=!1,ai=t;return}dT(ai,r)}ai=t,Xi=Jo(e.firstChild)}else t.flags=t.flags&-1025|2,Nn=!1,ai=t}}function y1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ai=t}function Oh(t){if(t!==ai)return!1;if(!Nn)return y1(t),Nn=!0,!1;var e=t.type;if(t.tag!==5||e!=="head"&&e!=="body"&&!lm(e,t.memoizedProps))for(e=Xi;e;)dT(t,e),e=Jo(e.nextSibling);if(y1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Xi=Jo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Xi=null}}else Xi=ai?Jo(t.stateNode.nextSibling):null;return!0}function Up(){Xi=ai=null,Nn=!1}var ta=[];function y0(){for(var t=0;t<ta.length;t++)ta[t]._workInProgressVersionPrimary=null;ta.length=0}var Ll=so.ReactCurrentDispatcher,Yr=so.ReactCurrentBatchConfig,ru=0,wt=null,sr=null,Zt=null,hc=!1,kl=!1;function Er(){throw Error(W(321))}function _0(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Xr(t[r],e[r]))return!1;return!0}function x0(t,e,r,n,i,s){if(ru=s,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ll.current=t===null||t.memoizedState===null?nI:iI,t=r(n,i),kl){s=0;do{if(kl=!1,!(25>s))throw Error(W(301));s+=1,Zt=sr=null,e.updateQueue=null,Ll.current=sI,t=r(n,i)}while(kl)}if(Ll.current=pc,e=sr!==null&&sr.next!==null,ru=0,Zt=sr=wt=null,hc=!1,e)throw Error(W(300));return t}function Hs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zt===null?wt.memoizedState=Zt=t:Zt=Zt.next=t,Zt}function ao(){if(sr===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=sr.next;var e=Zt===null?wt.memoizedState:Zt.next;if(e!==null)Zt=e,sr=t;else{if(t===null)throw Error(W(310));sr=t,t={memoizedState:sr.memoizedState,baseState:sr.baseState,baseQueue:sr.baseQueue,queue:sr.queue,next:null},Zt===null?wt.memoizedState=Zt=t:Zt=Zt.next=t}return Zt}function Sn(t,e){return typeof e=="function"?e(t):e}function nl(t){var e=ao(),r=e.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=t;var n=sr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){i=i.next,n=n.baseState;var a=o=s=null,u=i;do{var f=u.lane;if((ru&f)===f)a!==null&&(a=a.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),n=u.eagerReducer===t?u.eagerState:t(n,u.action);else{var d={lane:f,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};a===null?(o=a=d,s=n):a=a.next=d,wt.lanes|=f,xu|=f}u=u.next}while(u!==null&&u!==i);a===null?s=n:a.next=o,Xr(n,e.memoizedState)||(an=!0),e.memoizedState=n,e.baseState=s,e.baseQueue=a,r.lastRenderedState=n}return[e.memoizedState,r.dispatch]}function il(t){var e=ao(),r=e.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Xr(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function _1(t,e,r){var n=e._getVersion;n=n(e._source);var i=e._workInProgressVersionPrimary;if(i!==null?t=i===n:(t=t.mutableReadLanes,(t=(ru&t)===t)&&(e._workInProgressVersionPrimary=n,ta.push(e))),t)return r(e._source);throw ta.push(e),Error(W(350))}function pT(t,e,r,n){var i=pr;if(i===null)throw Error(W(349));var s=e._getVersion,o=s(e._source),a=Ll.current,u=a.useState(function(){return _1(i,e,r)}),f=u[1],d=u[0];u=Zt;var p=t.memoizedState,v=p.refs,g=v.getSnapshot,_=p.source;p=p.subscribe;var b=wt;return t.memoizedState={refs:v,source:e,subscribe:n},a.useEffect(function(){v.getSnapshot=r,v.setSnapshot=f;var m=s(e._source);if(!Xr(o,m)){m=r(e._source),Xr(d,m)||(f(m),m=Qi(b),i.mutableReadLanes|=m&i.pendingLanes),m=i.mutableReadLanes,i.entangledLanes|=m;for(var E=i.entanglements,T=m;0<T;){var S=31-rs(T),A=1<<S;E[S]|=m,T&=~A}}},[r,e,n]),a.useEffect(function(){return n(e._source,function(){var m=v.getSnapshot,E=v.setSnapshot;try{E(m(e._source));var T=Qi(b);i.mutableReadLanes|=T&i.pendingLanes}catch(S){E(function(){throw S})}})},[e,n]),Xr(g,r)&&Xr(_,e)&&Xr(p,n)||(t={pending:null,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:d},t.dispatch=f=T0.bind(null,wt,t),u.queue=t,u.baseQueue=null,d=_1(i,e,r),u.memoizedState=u.baseState=d),d}function vT(t,e,r){var n=ao();return pT(n,t,e,r)}function sl(t){var e=Hs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t=e.queue={pending:null,dispatch:null,lastRenderedReducer:Sn,lastRenderedState:t},t=t.dispatch=T0.bind(null,wt,t),[e.memoizedState,t]}function fc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null},wt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function x1(t){var e=Hs();return t={current:t},e.memoizedState=t}function cc(){return ao().memoizedState}function vm(t,e,r,n){var i=Hs();wt.flags|=t,i.memoizedState=fc(1|e,r,void 0,n===void 0?null:n)}function b0(t,e,r,n){var i=ao();n=n===void 0?null:n;var s=void 0;if(sr!==null){var o=sr.memoizedState;if(s=o.destroy,n!==null&&_0(n,o.deps)){fc(e,r,s,n);return}}wt.flags|=t,i.memoizedState=fc(1|e,r,s,n)}function b1(t,e){return vm(516,4,t,e)}function dc(t,e){return b0(516,4,t,e)}function mT(t,e){return b0(4,2,t,e)}function gT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yT(t,e,r){return r=r!=null?r.concat([t]):null,b0(4,2,gT.bind(null,e,t),r)}function E0(){}function _T(t,e){var r=ao();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&_0(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function xT(t,e){var r=ao();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&_0(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function rI(t,e){var r=da();Ks(98>r?98:r,function(){t(!0)}),Ks(97<r?97:r,function(){var n=Yr.transition;Yr.transition=1;try{t(!1),e()}finally{Yr.transition=n}})}function T0(t,e,r){var n=Mr(),i=Qi(t),s={lane:i,action:r,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(o===null?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===wt||o!==null&&o===wt)kl=hc=!0;else{if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,u=o(a,r);if(s.eagerReducer=o,s.eagerState=u,Xr(u,a))return}catch{}finally{}Ki(t,i,n)}}var pc={readContext:qr,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useOpaqueIdentifier:Er,unstable_isNewReconciler:!1},nI={readContext:qr,useCallback:function(t,e){return Hs().memoizedState=[t,e===void 0?null:e],t},useContext:qr,useEffect:b1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,vm(4,2,gT.bind(null,e,t),r)},useLayoutEffect:function(t,e){return vm(4,2,t,e)},useMemo:function(t,e){var r=Hs();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Hs();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t=n.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},t=t.dispatch=T0.bind(null,wt,t),[n.memoizedState,t]},useRef:x1,useState:sl,useDebugValue:E0,useDeferredValue:function(t){var e=sl(t),r=e[0],n=e[1];return b1(function(){var i=Yr.transition;Yr.transition=1;try{n(t)}finally{Yr.transition=i}},[t]),r},useTransition:function(){var t=sl(!1),e=t[0];return t=rI.bind(null,t[1]),x1(t),[t,e]},useMutableSource:function(t,e,r){var n=Hs();return n.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:r},pT(n,t,e,r)},useOpaqueIdentifier:function(){if(Nn){var t=!1,e=ZR(function(){throw t||(t=!0,r("r:"+(kp++).toString(36))),Error(W(355))}),r=sl(e)[1];return(wt.mode&2)===0&&(wt.flags|=516,fc(5,function(){r("r:"+(kp++).toString(36))},void 0,null)),e}return e="r:"+(kp++).toString(36),sl(e),e},unstable_isNewReconciler:!1},iI={readContext:qr,useCallback:_T,useContext:qr,useEffect:dc,useImperativeHandle:yT,useLayoutEffect:mT,useMemo:xT,useReducer:nl,useRef:cc,useState:function(){return nl(Sn)},useDebugValue:E0,useDeferredValue:function(t){var e=nl(Sn),r=e[0],n=e[1];return dc(function(){var i=Yr.transition;Yr.transition=1;try{n(t)}finally{Yr.transition=i}},[t]),r},useTransition:function(){var t=nl(Sn)[0];return[cc().current,t]},useMutableSource:vT,useOpaqueIdentifier:function(){return nl(Sn)[0]},unstable_isNewReconciler:!1},sI={readContext:qr,useCallback:_T,useContext:qr,useEffect:dc,useImperativeHandle:yT,useLayoutEffect:mT,useMemo:xT,useReducer:il,useRef:cc,useState:function(){return il(Sn)},useDebugValue:E0,useDeferredValue:function(t){var e=il(Sn),r=e[0],n=e[1];return dc(function(){var i=Yr.transition;Yr.transition=1;try{n(t)}finally{Yr.transition=i}},[t]),r},useTransition:function(){var t=il(Sn)[0];return[cc().current,t]},useMutableSource:vT,useOpaqueIdentifier:function(){return il(Sn)[0]},unstable_isNewReconciler:!1},oI=so.ReactCurrentOwner,an=!1;function Tr(t,e,r,n){e.child=t===null?cT(e,null,r,n):lc(e,t.child,r,n)}function E1(t,e,r,n,i){r=r.render;var s=e.ref;return ea(e,i),n=x0(t,e,r,n,s,i),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,li(t,e,i)):(e.flags|=1,Tr(t,e,n,i),e.child)}function T1(t,e,r,n,i,s){if(t===null){var o=r.type;return typeof o=="function"&&!I0(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,bT(t,e,o,n,i,s)):(t=Nf(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}return o=t.child,(i&s)===0&&(i=o.memoizedProps,r=r.compare,r=r!==null?r:Zl,r(i,n)&&t.ref===e.ref)?li(t,e,s):(e.flags|=1,t=ss(o,n),t.ref=e.ref,t.return=e,e.child=t)}function bT(t,e,r,n,i,s){if(t!==null&&Zl(t.memoizedProps,n)&&t.ref===e.ref)if(an=!1,(s&i)!==0)(t.flags&16384)!==0&&(an=!0);else return e.lanes=t.lanes,li(t,e,s);return mm(t,e,r,n,s)}function Gp(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden"||n.mode==="unstable-defer-without-hiding")if((e.mode&4)===0)e.memoizedState={baseLanes:0},Mh(e,r);else if((r&1073741824)!==0)e.memoizedState={baseLanes:0},Mh(e,s!==null?s.baseLanes:r);else return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},Mh(e,t),null;else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Mh(e,n);return Tr(t,e,i,r),e.child}function ET(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=128)}function mm(t,e,r,n,i){var s=Ar(r)?Qs:lr.current;return s=ca(e,s),ea(e,i),r=x0(t,e,r,n,s,i),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,li(t,e,i)):(e.flags|=1,Tr(t,e,r,i),e.child)}function w1(t,e,r,n,i){if(Ar(r)){var s=!0;Cf(e)}else s=!1;if(ea(e,i),e.stateNode===null)t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),hT(e,r,n),cm(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,f=r.contextType;typeof f=="object"&&f!==null?f=qr(f):(f=Ar(r)?Qs:lr.current,f=ca(e,f));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==f)&&v1(e,o,n,f),Gi=!1;var v=e.memoizedState;o.state=v,Jl(e,n,o,i),u=e.memoizedState,a!==n||v!==u||Sr.current||Gi?(typeof d=="function"&&(ac(e,r,d,n),u=e.memoizedState),(a=Gi||p1(e,r,a,n,v,u,f))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4)):(typeof o.componentDidMount=="function"&&(e.flags|=4),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=f,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4),n=!1)}else{o=e.stateNode,lT(t,e),a=e.memoizedProps,f=e.type===e.elementType?a:sn(e.type,a),o.props=f,p=e.pendingProps,v=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=qr(u):(u=Ar(r)?Qs:lr.current,u=ca(e,u));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||v!==u)&&v1(e,o,n,u),Gi=!1,v=e.memoizedState,o.state=v,Jl(e,n,o,i);var _=e.memoizedState;a!==p||v!==_||Sr.current||Gi?(typeof g=="function"&&(ac(e,r,g,n),_=e.memoizedState),(f=Gi||p1(e,r,f,n,v,_,u))?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=256)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=256),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=u,n=f):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&v===t.memoizedState||(e.flags|=256),n=!1)}return gm(t,e,r,n,s,i)}function gm(t,e,r,n,i,s){ET(t,e);var o=(e.flags&64)!==0;if(!n&&!o)return i&&u1(e,r,!1),li(t,e,s);n=e.stateNode,oI.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=lc(e,t.child,null,s),e.child=lc(e,null,a,s)):Tr(t,e,a,s),e.memoizedState=n.state,i&&u1(e,r,!0),e.child}function S1(t){var e=t.stateNode;e.pendingContext?l1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&l1(t,e.context,!1),dm(t,e.containerInfo)}var Nh={dehydrated:null,retryLane:0};function A1(t,e,r){var n=e.pendingProps,i=mt.current,s=!1,o;return(o=(e.flags&64)!==0)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-65):t!==null&&t.memoizedState===null||n.fallback===void 0||n.unstable_avoidThisFallback===!0||(i|=1),yt(mt,i&1),t===null?(n.fallback!==void 0&&pm(e),t=n.children,i=n.fallback,s?(t=C1(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Nh,t):typeof n.unstable_expectedLoadTime=="number"?(t=C1(e,t,i,r),e.child.memoizedState={baseLanes:r},e.memoizedState=Nh,e.lanes=33554432,t):(r=P0({mode:"visible",children:t},e.mode,r,null),r.return=e,e.child=r)):t.memoizedState!==null?s?(n=I1(t,e,n.children,n.fallback,r),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},s.childLanes=t.childLanes&~r,e.memoizedState=Nh,n):(r=R1(t,e,n.children,r),e.memoizedState=null,r):s?(n=I1(t,e,n.children,n.fallback,r),s=e.child,i=t.child.memoizedState,s.memoizedState=i===null?{baseLanes:r}:{baseLanes:i.baseLanes|r},s.childLanes=t.childLanes&~r,e.memoizedState=Nh,n):(r=R1(t,e,n.children,r),e.memoizedState=null,r)}function C1(t,e,r,n){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},(i&2)===0&&s!==null?(s.childLanes=0,s.pendingProps=e):s=P0(e,i,0,null),r=ia(r,i,n,null),s.return=t,r.return=t,s.sibling=r,t.child=s,r}function R1(t,e,r,n){var i=t.child;return t=i.sibling,r=ss(i,{mode:"visible",children:r}),(e.mode&2)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=r}function I1(t,e,r,n,i){var s=e.mode,o=t.child;t=o.sibling;var a={mode:"hidden",children:r};return(s&2)===0&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=a,o=r.lastEffect,o!==null?(e.firstEffect=r.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):r=ss(o,a),t!==null?n=ss(t,n):(n=ia(n,s,i,null),n.flags|=2),n.return=e,r.return=e,r.sibling=n,e.child=r,n}function P1(t,e){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),aT(t.return,e)}function zp(t,e,r,n,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i,o.lastEffect=s)}function O1(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Tr(t,e,n.children,r),n=mt.current,(n&2)!==0)n=n&1|2,e.flags|=64;else{if(t!==null&&(t.flags&64)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P1(t,r);else if(t.tag===19)P1(t,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(yt(mt,n),(e.mode&2)===0)e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&uc(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),zp(e,!1,i,r,s,e.lastEffect);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&uc(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}zp(e,!0,r,null,s,e.lastEffect);break;case"together":zp(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function li(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),xu|=e.lanes,(r&e.childLanes)!==0){if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,r=ss(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ss(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}return null}var TT,ym,wT,ST;TT=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};ym=function(){};wT=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,js(On.current);var s=null;switch(r){case"input":i=Vv(t,i),n=Vv(t,n),s=[];break;case"option":i=Yv(t,i),n=Yv(t,n),s=[];break;case"select":i=lt({},i,{value:void 0}),n=lt({},n,{value:void 0}),s=[];break;case"textarea":i=qv(t,i),n=qv(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=tc)}Kv(r,n);var o;r=null;for(f in i)if(!n.hasOwnProperty(f)&&i.hasOwnProperty(f)&&i[f]!=null)if(f==="style"){var a=i[f];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Hl.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in n){var u=n[f];if(a=i!=null?i[f]:void 0,n.hasOwnProperty(f)&&u!==a&&(u!=null||a!=null))if(f==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(f,r)),r=u;else f==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(f,u)):f==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(f,""+u):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Hl.hasOwnProperty(f)?(u!=null&&f==="onScroll"&&tt("scroll",t),s||a===u||(s=[])):typeof u=="object"&&u!==null&&u.$$typeof===Zg?u.toString():(s=s||[]).push(f,u))}r&&(s=s||[]).push("style",r);var f=s;(e.updateQueue=f)&&(e.flags|=4)}};ST=function(t,e,r,n){r!==n&&(e.flags|=4)};function ol(t,e){if(!Nn)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function aI(t,e,r){var n=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return Ar(e.type)&&nc(),null;case 3:return pa(),st(Sr),st(lr),y0(),n=e.stateNode,n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Oh(e)?e.flags|=4:n.hydrate||(e.flags|=256)),ym(e),null;case 5:g0(e);var i=js(tu.current);if(r=e.type,t!==null&&e.stateNode!=null)wT(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=128);else{if(!n){if(e.stateNode===null)throw Error(W(166));return null}if(t=js(On.current),Oh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Hi]=e,n[rc]=s,r){case"dialog":tt("cancel",n),tt("close",n);break;case"iframe":case"object":case"embed":tt("load",n);break;case"video":case"audio":for(t=0;t<bl.length;t++)tt(bl[t],n);break;case"source":tt("error",n);break;case"img":case"image":case"link":tt("error",n),tt("load",n);break;case"details":tt("toggle",n);break;case"input":O_(n,s),tt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},tt("invalid",n);break;case"textarea":M_(n,s),tt("invalid",n)}Kv(r,s),t=null;for(var o in s)s.hasOwnProperty(o)&&(i=s[o],o==="children"?typeof i=="string"?n.textContent!==i&&(t=["children",i]):typeof i=="number"&&n.textContent!==""+i&&(t=["children",""+i]):Hl.hasOwnProperty(o)&&i!=null&&o==="onScroll"&&tt("scroll",n));switch(r){case"input":Sh(n),N_(n,s,!0);break;case"textarea":Sh(n),F_(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=tc)}n=t,e.updateQueue=n,n!==null&&(e.flags|=4)}else{switch(o=i.nodeType===9?i:i.ownerDocument,t===Zv.html&&(t=yE(r)),t===Zv.html?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[Hi]=e,t[rc]=n,TT(t,e,!1,!1),e.stateNode=t,o=Jv(r,n),r){case"dialog":tt("cancel",t),tt("close",t),i=n;break;case"iframe":case"object":case"embed":tt("load",t),i=n;break;case"video":case"audio":for(i=0;i<bl.length;i++)tt(bl[i],t);i=n;break;case"source":tt("error",t),i=n;break;case"img":case"image":case"link":tt("error",t),tt("load",t),i=n;break;case"details":tt("toggle",t),i=n;break;case"input":O_(t,n),i=Vv(t,n),tt("invalid",t);break;case"option":i=Yv(t,n);break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=lt({},n,{value:void 0}),tt("invalid",t);break;case"textarea":M_(t,n),i=qv(t,n),tt("invalid",t);break;default:i=n}Kv(r,i);var a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?bE(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&_E(t,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&Xl(t,u):typeof u=="number"&&Xl(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Hl.hasOwnProperty(s)?u!=null&&s==="onScroll"&&tt("scroll",t):u!=null&&Xg(t,s,u,o))}switch(r){case"input":Sh(t),N_(t,n,!1);break;case"textarea":Sh(t),F_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ts(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Zo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Zo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tc)}KE(r,n)&&(e.flags|=4)}e.ref!==null&&(e.flags|=128)}return null;case 6:if(t&&e.stateNode!=null)ST(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(W(166));r=js(tu.current),js(On.current),Oh(e)?(n=e.stateNode,r=e.memoizedProps,n[Hi]=e,n.nodeValue!==r&&(e.flags|=4)):(n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Hi]=e,e.stateNode=n)}return null;case 13:return st(mt),n=e.memoizedState,(e.flags&64)!==0?(e.lanes=r,e):(n=n!==null,r=!1,t===null?e.memoizedProps.fallback!==void 0&&Oh(e):r=t.memoizedState!==null,n&&!r&&(e.mode&2)!==0&&(t===null&&e.memoizedProps.unstable_avoidThisFallback!==!0||(mt.current&1)!==0?Jt===0&&(Jt=3):((Jt===0||Jt===3)&&(Jt=4),pr===null||(xu&134217727)===0&&(ba&134217727)===0||ra(pr,ar))),(n||r)&&(e.flags|=4),null);case 4:return pa(),ym(e),t===null&&qE(e.stateNode.containerInfo),null;case 10:return v0(e),null;case 17:return Ar(e.type)&&nc(),null;case 19:if(st(mt),n=e.memoizedState,n===null)return null;if(s=(e.flags&64)!==0,o=n.rendering,o===null)if(s)ol(n,!1);else{if(Jt!==0||t!==null&&(t.flags&64)!==0)for(t=e.child;t!==null;){if(o=uc(t),o!==null){for(e.flags|=64,ol(n,!1),s=o.updateQueue,s!==null&&(e.updateQueue=s,e.flags|=4),n.lastEffect===null&&(e.firstEffect=null),e.lastEffect=n.lastEffect,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return yt(mt,mt.current&1|2),e.child}t=t.sibling}n.tail!==null&&or()>wm&&(e.flags|=64,s=!0,ol(n,!1),e.lanes=33554432)}else{if(!s)if(t=uc(o),t!==null){if(e.flags|=64,s=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ol(n,!0),n.tail===null&&n.tailMode==="hidden"&&!o.alternate&&!Nn)return e=e.lastEffect=n.lastEffect,e!==null&&(e.nextEffect=null),null}else 2*or()-n.renderingStartTime>wm&&r!==1073741824&&(e.flags|=64,s=!0,ol(n,!1),e.lanes=33554432);n.isBackwards?(o.sibling=e.child,e.child=o):(r=n.last,r!==null?r.sibling=o:e.child=o,n.last=o)}return n.tail!==null?(r=n.tail,n.rendering=r,n.tail=r.sibling,n.lastEffect=e.lastEffect,n.renderingStartTime=or(),r.sibling=null,e=mt.current,yt(mt,s?e&1|2:e&1),r):null;case 23:case 24:return R0(),t!==null&&t.memoizedState!==null!=(e.memoizedState!==null)&&n.mode!=="unstable-defer-without-hiding"&&(e.flags|=4),null}throw Error(W(156,e.tag))}function lI(t){switch(t.tag){case 1:Ar(t.type)&&nc();var e=t.flags;return e&4096?(t.flags=e&-4097|64,t):null;case 3:if(pa(),st(Sr),st(lr),y0(),e=t.flags,(e&64)!==0)throw Error(W(285));return t.flags=e&-4097|64,t;case 5:return g0(t),null;case 13:return st(mt),e=t.flags,e&4096?(t.flags=e&-4097|64,t):null;case 19:return st(mt),null;case 4:return pa(),null;case 10:return v0(t),null;case 23:case 24:return R0(),null;default:return null}}function w0(t,e){try{var r="",n=e;do r+=jC(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i}}function _m(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var uI=typeof WeakMap=="function"?WeakMap:Map;function AT(t,e,r){r=qi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){mc||(mc=!0,Sm=n),_m(t,e)},r}function CT(t,e,r){r=qi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return _m(t,e),n(i)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){typeof n!="function"&&(An===null?An=new Set([this]):An.add(this),_m(t,e));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}var hI=typeof WeakSet=="function"?WeakSet:Set;function N1(t){var e=t.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(r){Ji(t,r)}else e.current=null}function fI(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(e.flags&256&&t!==null){var r=t.memoizedProps,n=t.memoizedState;t=e.stateNode,e=t.getSnapshotBeforeUpdate(e.elementType===e.type?r:sn(e.type,r),n),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:e.flags&256&&f0(e.stateNode.containerInfo);return;case 5:case 6:case 4:case 17:return}throw Error(W(163))}function cI(t,e,r){switch(r.tag){case 0:case 11:case 15:case 22:if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{if((t.tag&3)===3){var n=t.create;t.destroy=n()}t=t.next}while(t!==e)}if(e=r.updateQueue,e=e!==null?e.lastEffect:null,e!==null){t=e=e.next;do{var i=t;n=i.next,i=i.tag,(i&4)!==0&&(i&1)!==0&&(kT(r,t),xI(r,t)),t=n}while(t!==e)}return;case 1:t=r.stateNode,r.flags&4&&(e===null?t.componentDidMount():(n=r.elementType===r.type?e.memoizedProps:sn(r.type,e.memoizedProps),t.componentDidUpdate(n,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),e=r.updateQueue,e!==null&&d1(r,e,t);return;case 3:if(e=r.updateQueue,e!==null){if(t=null,r.child!==null)switch(r.child.tag){case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}d1(r,e,t)}return;case 5:t=r.stateNode,e===null&&r.flags&4&&KE(r.type,r.memoizedProps)&&t.focus();return;case 6:return;case 4:return;case 12:return;case 13:r.memoizedState===null&&(r=r.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&OE(r))));return;case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(W(163))}function M1(t,e){for(var r=t;;){if(r.tag===5){var n=r.stateNode;if(e)n=n.style,typeof n.setProperty=="function"?n.setProperty("display","none","important"):n.display="none";else{n=r.stateNode;var i=r.memoizedProps.style;i=i!=null&&i.hasOwnProperty("display")?i.display:null,n.style.display=xE("display",i)}}else if(r.tag===6)r.stateNode.nodeValue=e?"":r.memoizedProps;else if((r.tag!==23&&r.tag!==24||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}}function F1(t,e){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(c0,e)}catch{}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(t=e.updateQueue,t!==null&&(t=t.lastEffect,t!==null)){var r=t=t.next;do{var n=r,i=n.destroy;if(n=n.tag,i!==void 0)if((n&4)!==0)kT(e,r);else{n=e;try{i()}catch(s){Ji(n,s)}}r=r.next}while(r!==t)}break;case 1:if(N1(e),t=e.stateNode,typeof t.componentWillUnmount=="function")try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(s){Ji(e,s)}break;case 5:N1(e);break;case 4:RT(t,e)}}function L1(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function k1(t){return t.tag===5||t.tag===3||t.tag===4}function D1(t){e:{for(var e=t.return;e!==null;){if(k1(e))break e;e=e.return}throw Error(W(160))}var r=e;switch(e=r.stateNode,r.tag){case 5:var n=!1;break;case 3:e=e.containerInfo,n=!0;break;case 4:e=e.containerInfo,n=!0;break;default:throw Error(W(161))}r.flags&16&&(Xl(e,""),r.flags&=-17);e:t:for(r=t;;){for(;r.sibling===null;){if(r.return===null||k1(r.return)){r=null;break e}r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue t;r.child.return=r,r=r.child}if(!(r.flags&2)){r=r.stateNode;break e}}n?xm(t,r,e):bm(t,r,e)}function xm(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=tc));else if(n!==4&&(t=t.child,t!==null))for(xm(t,e,r),t=t.sibling;t!==null;)xm(t,e,r),t=t.sibling}function bm(t,e,r){var n=t.tag,i=n===5||n===6;if(i)t=i?t.stateNode:t.stateNode.instance,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(bm(t,e,r),t=t.sibling;t!==null;)bm(t,e,r),t=t.sibling}function RT(t,e){for(var r=e,n=!1,i,s;;){if(!n){n=r.return;e:for(;;){if(n===null)throw Error(W(160));switch(i=n.stateNode,n.tag){case 5:s=!1;break e;case 3:i=i.containerInfo,s=!0;break e;case 4:i=i.containerInfo,s=!0;break e}n=n.return}n=!0}if(r.tag===5||r.tag===6){e:for(var o=t,a=r,u=a;;)if(F1(o,u),u.child!==null&&u.tag!==4)u.child.return=u,u=u.child;else{if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s?(o=i,a=r.stateNode,o.nodeType===8?o.parentNode.removeChild(a):o.removeChild(a)):i.removeChild(r.stateNode)}else if(r.tag===4){if(r.child!==null){i=r.stateNode.containerInfo,s=!0,r.child.return=r,r=r.child;continue}}else if(F1(t,r),r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return,r.tag===4&&(n=!1)}r.sibling.return=r.return,r=r.sibling}}function jp(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var n=r=r.next;do(n.tag&3)===3&&(t=n.destroy,n.destroy=void 0,t!==void 0&&t()),n=n.next;while(n!==r)}return;case 1:return;case 5:if(r=e.stateNode,r!=null){n=e.memoizedProps;var i=t!==null?t.memoizedProps:n;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,s!==null){for(r[rc]=n,t==="input"&&n.type==="radio"&&n.name!=null&&mE(r,n),Jv(t,i),e=Jv(t,n),i=0;i<s.length;i+=2){var o=s[i],a=s[i+1];o==="style"?bE(r,a):o==="dangerouslySetInnerHTML"?_E(r,a):o==="children"?Xl(r,a):Xg(r,o,a,e)}switch(t){case"input":$v(r,n);break;case"textarea":gE(r,n);break;case"select":t=r._wrapperState.wasMultiple,r._wrapperState.wasMultiple=!!n.multiple,s=n.value,s!=null?Zo(r,!!n.multiple,s,!1):t!==!!n.multiple&&(n.defaultValue!=null?Zo(r,!!n.multiple,n.defaultValue,!0):Zo(r,!!n.multiple,n.multiple?[]:"",!1))}}}return;case 6:if(e.stateNode===null)throw Error(W(162));e.stateNode.nodeValue=e.memoizedProps;return;case 3:r=e.stateNode,r.hydrate&&(r.hydrate=!1,OE(r.containerInfo));return;case 12:return;case 13:e.memoizedState!==null&&(C0=or(),M1(e.child,!0)),B1(e);return;case 19:B1(e);return;case 17:return;case 23:case 24:M1(e,e.memoizedState!==null);return}throw Error(W(163))}function B1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new hI),e.forEach(function(n){var i=TI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function dI(t,e){return t!==null&&(t=t.memoizedState,t===null||t.dehydrated!==null)?(e=e.memoizedState,e!==null&&e.dehydrated===null):!1}var pI=Math.ceil,vc=so.ReactCurrentDispatcher,S0=so.ReactCurrentOwner,be=0,pr=null,Lt=null,ar=0,Js=0,Em=us(0),Jt=0,Kc=null,xa=0,xu=0,ba=0,A0=0,Tm=null,C0=0,wm=1/0;function Ea(){wm=or()+500}var ne=null,mc=!1,Sm=null,An=null,is=!1,Dl=null,El=90,Am=[],Cm=[],hi=null,Bl=0,Rm=null,If=-1,ni=0,Pf=0,Ul=null,Of=!1;function Mr(){return(be&48)!==0?or():If!==-1?If:If=or()}function Qi(t){if(t=t.mode,(t&2)===0)return 1;if((t&4)===0)return da()===99?1:2;if(ni===0&&(ni=xa),tI.transition!==0){Pf!==0&&(Pf=Tm!==null?Tm.pendingLanes:0),t=ni;var e=4186112&~Pf;return e&=-e,e===0&&(t=4186112&~t,e=t&-t,e===0&&(e=8192)),e}return t=da(),(be&4)!==0&&t===98?t=Jf(12,ni):(t=iR(t),t=Jf(t,ni)),t}function Ki(t,e,r){if(50<Bl)throw Bl=0,Rm=null,Error(W(185));if(t=Jc(t,e),t===null)return null;Vc(t,e,r),t===pr&&(ba|=e,Jt===4&&ra(t,ar));var n=da();e===1?(be&8)!==0&&(be&48)===0?Im(t):(Zr(t,r),be===0&&(Ea(),Dn())):((be&4)===0||n!==98&&n!==99||(hi===null?hi=new Set([t]):hi.add(t)),Zr(t,r)),Tm=t}function Jc(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}function Zr(t,e){for(var r=t.callbackNode,n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-rs(o),u=1<<a,f=s[a];if(f===-1){if((u&n)===0||(u&i)!==0){f=e,Fo(u);var d=Qe;s[a]=10<=d?f+250:6<=d?f+5e3:-1}}else f<=e&&(t.expiredLanes|=u);o&=~u}if(n=Yl(t,t===pr?ar:0),e=Qe,n===0)r!==null&&(r!==Dp&&hm(r),t.callbackNode=null,t.callbackPriority=0);else{if(r!==null){if(t.callbackPriority===e)return;r!==Dp&&hm(r)}e===15?(r=Im.bind(null,t),ti===null?(ti=[r],Rf=d0(Zc,oT)):ti.push(r),r=Dp):e===14?r=Kl(99,Im.bind(null,t)):(r=sR(e),r=Kl(r,IT.bind(null,t))),t.callbackPriority=e,t.callbackNode=r}}function IT(t){if(If=-1,Pf=ni=0,(be&48)!==0)throw Error(W(327));var e=t.callbackNode;if(hs()&&t.callbackNode!==e)return null;var r=Yl(t,t===pr?ar:0);if(r===0)return null;var n=r,i=be;be|=16;var s=MT();(pr!==t||ar!==n)&&(Ea(),na(t,n));do try{gI();break}catch(a){NT(t,a)}while(1);if(p0(),vc.current=s,be=i,Lt!==null?n=0:(pr=null,ar=0,n=Jt),(xa&ba)!==0)na(t,0);else if(n!==0){if(n===2&&(be|=64,t.hydrate&&(t.hydrate=!1,f0(t.containerInfo)),r=BE(t),r!==0&&(n=Tl(t,r))),n===1)throw e=Kc,na(t,0),ra(t,r),Zr(t,or()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=r,n){case 0:case 1:throw Error(W(345));case 2:Rs(t);break;case 3:if(ra(t,r),(r&62914560)===r&&(n=C0+500-or(),10<n)){if(Yl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=s1(Rs.bind(null,t),n);break}Rs(t);break;case 4:if(ra(t,r),(r&4186112)===r)break;for(n=t.eventTimes,i=-1;0<r;){var o=31-rs(r);s=1<<o,o=n[o],o>i&&(i=o),r&=~s}if(r=i,r=or()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pI(r/1960))-r,10<r){t.timeoutHandle=s1(Rs.bind(null,t),r);break}Rs(t);break;case 5:Rs(t);break;default:throw Error(W(329))}}return Zr(t,or()),t.callbackNode===e?IT.bind(null,t):null}function ra(t,e){for(e&=~A0,e&=~ba,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-rs(e),n=1<<r;t[r]=-1,e&=~n}}function Im(t){if((be&48)!==0)throw Error(W(327));if(hs(),t===pr&&(t.expiredLanes&ar)!==0){var e=ar,r=Tl(t,e);(xa&ba)!==0&&(e=Yl(t,e),r=Tl(t,e))}else e=Yl(t,0),r=Tl(t,e);if(t.tag!==0&&r===2&&(be|=64,t.hydrate&&(t.hydrate=!1,f0(t.containerInfo)),e=BE(t),e!==0&&(r=Tl(t,e))),r===1)throw r=Kc,na(t,0),ra(t,e),Zr(t,or()),r;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Rs(t),Zr(t,or()),null}function vI(){if(hi!==null){var t=hi;hi=null,t.forEach(function(e){e.expiredLanes|=24&e.pendingLanes,Zr(e,or())})}Dn()}function PT(t,e){var r=be;be|=1;try{return t(e)}finally{be=r,be===0&&(Ea(),Dn())}}function OT(t,e){var r=be;be&=-2,be|=8;try{return t(e)}finally{be=r,be===0&&(Ea(),Dn())}}function Mh(t,e){yt(Em,Js),Js|=e,xa|=e}function R0(){Js=Em.current,st(Em)}function na(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,qR(r)),Lt!==null)for(r=Lt.return;r!==null;){var n=r;switch(n.tag){case 1:n=n.type.childContextTypes,n!=null&&nc();break;case 3:pa(),st(Sr),st(lr),y0();break;case 5:g0(n);break;case 4:pa();break;case 13:st(mt);break;case 19:st(mt);break;case 10:v0(n);break;case 23:case 24:R0()}r=r.return}pr=t,Lt=ss(t.current,null),ar=Js=xa=e,Jt=0,Kc=null,A0=ba=xu=0}function NT(t,e){do{var r=Lt;try{if(p0(),Ll.current=pc,hc){for(var n=wt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}hc=!1}if(ru=0,Zt=sr=wt=null,kl=!1,S0.current=null,r===null||r.return===null){Jt=1,Kc=e,Lt=null;break}e:{var s=t,o=r.return,a=r,u=e;if(e=ar,a.flags|=2048,a.firstEffect=a.lastEffect=null,u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=u;if((a.mode&2)===0){var d=a.alternate;d?(a.updateQueue=d.updateQueue,a.memoizedState=d.memoizedState,a.lanes=d.lanes):(a.updateQueue=null,a.memoizedState=null)}var p=(mt.current&1)!==0,v=o;do{var g;if(g=v.tag===13){var _=v.memoizedState;if(_!==null)g=_.dehydrated!==null;else{var b=v.memoizedProps;g=b.fallback===void 0?!1:b.unstable_avoidThisFallback!==!0?!0:!p}}if(g){var m=v.updateQueue;if(m===null){var E=new Set;E.add(f),v.updateQueue=E}else m.add(f);if((v.mode&2)===0){if(v.flags|=64,a.flags|=16384,a.flags&=-2981,a.tag===1)if(a.alternate===null)a.tag=17;else{var T=qi(-1,1);T.tag=2,Zi(a,T)}a.lanes|=1;break e}u=void 0,a=e;var S=s.pingCache;if(S===null?(S=s.pingCache=new uI,u=new Set,S.set(f,u)):(u=S.get(f),u===void 0&&(u=new Set,S.set(f,u))),!u.has(a)){u.add(a);var A=EI.bind(null,s,f,a);f.then(A,A)}v.flags|=4096,v.lanes=e;break e}v=v.return}while(v!==null);u=Error((qo(a.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Jt!==5&&(Jt=2),u=w0(u,a),v=o;do{switch(v.tag){case 3:s=u,v.flags|=4096,e&=-e,v.lanes|=e;var R=AT(v,s,e);c1(v,R);break e;case 1:s=u;var I=v.type,P=v.stateNode;if((v.flags&64)===0&&(typeof I.getDerivedStateFromError=="function"||P!==null&&typeof P.componentDidCatch=="function"&&(An===null||!An.has(P)))){v.flags|=4096,e&=-e,v.lanes|=e;var k=CT(v,s,e);c1(v,k);break e}}v=v.return}while(v!==null)}LT(r)}catch(N){e=N,Lt===r&&r!==null&&(Lt=r=r.return);continue}break}while(1)}function MT(){var t=vc.current;return vc.current=pc,t===null?pc:t}function Tl(t,e){var r=be;be|=16;var n=MT();pr===t&&ar===e||na(t,e);do try{mI();break}catch(i){NT(t,i)}while(1);if(p0(),be=r,vc.current=n,Lt!==null)throw Error(W(261));return pr=null,ar=0,Jt}function mI(){for(;Lt!==null;)FT(Lt)}function gI(){for(;Lt!==null&&!KR();)FT(Lt)}function FT(t){var e=DT(t.alternate,t,Js);t.memoizedProps=t.pendingProps,e===null?LT(t):Lt=e,S0.current=null}function LT(t){var e=t;do{var r=e.alternate;if(t=e.return,(e.flags&2048)===0){if(r=aI(r,e,Js),r!==null){Lt=r;return}if(r=e,r.tag!==24&&r.tag!==23||r.memoizedState===null||(Js&1073741824)!==0||(r.mode&4)===0){for(var n=0,i=r.child;i!==null;)n|=i.lanes|i.childLanes,i=i.sibling;r.childLanes=n}t!==null&&(t.flags&2048)===0&&(t.firstEffect===null&&(t.firstEffect=e.firstEffect),e.lastEffect!==null&&(t.lastEffect!==null&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(t.lastEffect!==null?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(r=lI(e),r!==null){r.flags&=2047,Lt=r;return}t!==null&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(e=e.sibling,e!==null){Lt=e;return}Lt=e=t}while(e!==null);Jt===0&&(Jt=5)}function Rs(t){var e=da();return Ks(99,yI.bind(null,t,e)),null}function yI(t,e){do hs();while(Dl!==null);if((be&48)!==0)throw Error(W(327));var r=t.finishedWork;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(W(177));t.callbackNode=null;var n=r.lanes|r.childLanes,i=n,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var o=t.eventTimes,a=t.expirationTimes;0<s;){var u=31-rs(s),f=1<<u;i[u]=0,o[u]=-1,a[u]=-1,s&=~f}if(hi!==null&&(n&24)===0&&hi.has(t)&&hi.delete(t),t===pr&&(Lt=pr=null,ar=0),1<r.flags?r.lastEffect!==null?(r.lastEffect.nextEffect=r,n=r.firstEffect):n=r:n=r.firstEffect,n!==null){if(i=be,be|=32,S0.current=null,Fp=wf,o=K_(),sm(o)){if("selectionStart"in o)a={start:o.selectionStart,end:o.selectionEnd};else e:if(a=(a=o.ownerDocument)&&a.defaultView||window,(f=a.getSelection&&a.getSelection())&&f.rangeCount!==0){a=f.anchorNode,s=f.anchorOffset,u=f.focusNode,f=f.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var d=0,p=-1,v=-1,g=0,_=0,b=o,m=null;t:for(;;){for(var E;b!==a||s!==0&&b.nodeType!==3||(p=d+s),b!==u||f!==0&&b.nodeType!==3||(v=d+f),b.nodeType===3&&(d+=b.nodeValue.length),(E=b.firstChild)!==null;)m=b,b=E;for(;;){if(b===o)break t;if(m===a&&++g===s&&(p=d),m===u&&++_===f&&(v=d),(E=b.nextSibling)!==null)break;b=m,m=b.parentNode}b=E}a=p===-1||v===-1?null:{start:p,end:v}}else a=null;a=a||{start:0,end:0}}else a=null;Lp={focusedElem:o,selectionRange:a},wf=!1,Ul=null,Of=!1,ne=n;do try{_I()}catch(N){if(ne===null)throw Error(W(330));Ji(ne,N),ne=ne.nextEffect}while(ne!==null);Ul=null,ne=n;do try{for(o=t;ne!==null;){var T=ne.flags;if(T&16&&Xl(ne.stateNode,""),T&128){var S=ne.alternate;if(S!==null){var A=S.ref;A!==null&&(typeof A=="function"?A(null):A.current=null)}}switch(T&1038){case 2:D1(ne),ne.flags&=-3;break;case 6:D1(ne),ne.flags&=-3,jp(ne.alternate,ne);break;case 1024:ne.flags&=-1025;break;case 1028:ne.flags&=-1025,jp(ne.alternate,ne);break;case 4:jp(ne.alternate,ne);break;case 8:a=ne,RT(o,a);var R=a.alternate;L1(a),R!==null&&L1(R)}ne=ne.nextEffect}}catch(N){if(ne===null)throw Error(W(330));Ji(ne,N),ne=ne.nextEffect}while(ne!==null);if(A=Lp,S=K_(),T=A.focusedElem,o=A.selectionRange,S!==T&&T&&T.ownerDocument&&$E(T.ownerDocument.documentElement,T)){for(o!==null&&sm(T)&&(S=o.start,A=o.end,A===void 0&&(A=S),"selectionStart"in T?(T.selectionStart=S,T.selectionEnd=Math.min(A,T.value.length)):(A=(S=T.ownerDocument||document)&&S.defaultView||window,A.getSelection&&(A=A.getSelection(),a=T.textContent.length,R=Math.min(o.start,a),o=o.end===void 0?R:Math.min(o.end,a),!A.extend&&R>o&&(a=o,o=R,R=a),a=Q_(T,R),s=Q_(T,o),a&&s&&(A.rangeCount!==1||A.anchorNode!==a.node||A.anchorOffset!==a.offset||A.focusNode!==s.node||A.focusOffset!==s.offset)&&(S=S.createRange(),S.setStart(a.node,a.offset),A.removeAllRanges(),R>o?(A.addRange(S),A.extend(s.node,s.offset)):(S.setEnd(s.node,s.offset),A.addRange(S)))))),S=[],A=T;A=A.parentNode;)A.nodeType===1&&S.push({element:A,left:A.scrollLeft,top:A.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<S.length;T++)A=S[T],A.element.scrollLeft=A.left,A.element.scrollTop=A.top}wf=!!Fp,Lp=Fp=null,t.current=r,ne=n;do try{for(T=t;ne!==null;){var I=ne.flags;if(I&36&&cI(T,ne.alternate,ne),I&128){S=void 0;var P=ne.ref;if(P!==null){var k=ne.stateNode;switch(ne.tag){case 5:S=k;break;default:S=k}typeof P=="function"?P(S):P.current=S}}ne=ne.nextEffect}}catch(N){if(ne===null)throw Error(W(330));Ji(ne,N),ne=ne.nextEffect}while(ne!==null);ne=null,eI(),be=i}else t.current=r;if(is)is=!1,Dl=t,El=e;else for(ne=n;ne!==null;)e=ne.nextEffect,ne.nextEffect=null,ne.flags&8&&(I=ne,I.sibling=null,I.stateNode=null),ne=e;if(n=t.pendingLanes,n===0&&(An=null),n===1?t===Rm?Bl++:(Bl=0,Rm=t):Bl=0,r=r.stateNode,Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(c0,r,void 0,(r.current.flags&64)===64)}catch{}if(Zr(t,or()),mc)throw mc=!1,t=Sm,Sm=null,t;return(be&8)!==0||Dn(),null}function _I(){for(;ne!==null;){var t=ne.alternate;Of||Ul===null||((ne.flags&8)!==0?D_(ne,Ul)&&(Of=!0):ne.tag===13&&dI(t,ne)&&D_(ne,Ul)&&(Of=!0));var e=ne.flags;(e&256)!==0&&fI(t,ne),(e&512)===0||is||(is=!0,Kl(97,function(){return hs(),null})),ne=ne.nextEffect}}function hs(){if(El!==90){var t=97<El?97:El;return El=90,Ks(t,bI)}return!1}function xI(t,e){Am.push(e,t),is||(is=!0,Kl(97,function(){return hs(),null}))}function kT(t,e){Cm.push(e,t),is||(is=!0,Kl(97,function(){return hs(),null}))}function bI(){if(Dl===null)return!1;var t=Dl;if(Dl=null,(be&48)!==0)throw Error(W(331));var e=be;be|=32;var r=Cm;Cm=[];for(var n=0;n<r.length;n+=2){var i=r[n],s=r[n+1],o=i.destroy;if(i.destroy=void 0,typeof o=="function")try{o()}catch(u){if(s===null)throw Error(W(330));Ji(s,u)}}for(r=Am,Am=[],n=0;n<r.length;n+=2){i=r[n],s=r[n+1];try{var a=i.create;i.destroy=a()}catch(u){if(s===null)throw Error(W(330));Ji(s,u)}}for(a=t.current.firstEffect;a!==null;)t=a.nextEffect,a.nextEffect=null,a.flags&8&&(a.sibling=null,a.stateNode=null),a=t;return be=e,Dn(),!0}function U1(t,e,r){e=w0(r,e),e=AT(t,e,1),Zi(t,e),e=Mr(),t=Jc(t,1),t!==null&&(Vc(t,1,e),Zr(t,e))}function Ji(t,e){if(t.tag===3)U1(t,t,e);else for(var r=t.return;r!==null;){if(r.tag===3){U1(r,t,e);break}else if(r.tag===1){var n=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(An===null||!An.has(n))){t=w0(e,t);var i=CT(r,t,1);if(Zi(r,i),i=Mr(),r=Jc(r,1),r!==null)Vc(r,1,i),Zr(r,i);else if(typeof n.componentDidCatch=="function"&&(An===null||!An.has(n)))try{n.componentDidCatch(e,t)}catch{}break}}r=r.return}}function EI(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Mr(),t.pingedLanes|=t.suspendedLanes&r,pr===t&&(ar&r)===r&&(Jt===4||Jt===3&&(ar&62914560)===ar&&500>or()-C0?na(t,0):A0|=r),Zr(t,e)}function TI(t,e){var r=t.stateNode;r!==null&&r.delete(e),e=0,e===0&&(e=t.mode,(e&2)===0?e=1:(e&4)===0?e=da()===99?1:2:(ni===0&&(ni=xa),e=Lo(62914560&~ni),e===0&&(e=4194304))),r=Mr(),t=Jc(t,e),t!==null&&(Vc(t,e,r),Zr(t,r))}var DT;DT=function(t,e,r){var n=e.lanes;if(t!==null)if(t.memoizedProps!==e.pendingProps||Sr.current)an=!0;else if((r&n)!==0)an=(t.flags&16384)!==0;else{switch(an=!1,e.tag){case 3:S1(e),Up();break;case 5:m1(e);break;case 1:Ar(e.type)&&Cf(e);break;case 4:dm(e,e.stateNode.containerInfo);break;case 10:n=e.memoizedProps.value;var i=e.type._context;yt(ic,i._currentValue),i._currentValue=n;break;case 13:if(e.memoizedState!==null)return(r&e.child.childLanes)!==0?A1(t,e,r):(yt(mt,mt.current&1),e=li(t,e,r),e!==null?e.sibling:null);yt(mt,mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,(t.flags&64)!==0){if(n)return O1(t,e,r);e.flags|=64}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),yt(mt,mt.current),n)break;return null;case 23:case 24:return e.lanes=0,Gp(t,e,r)}return li(t,e,r)}else an=!1;switch(e.lanes=0,e.tag){case 2:if(n=e.type,t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=ca(e,lr.current),ea(e,r),i=x0(null,e,n,t,i,r),e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ar(n)){var s=!0;Cf(e)}else s=!1;e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,m0(e);var o=n.getDerivedStateFromProps;typeof o=="function"&&ac(e,n,o,t),i.updater=Qc,e.stateNode=i,i._reactInternals=e,cm(e,n,t,r),e=gm(null,e,n,!0,s,r)}else e.tag=0,Tr(null,e,i,r),e=e.child;return e;case 16:i=e.elementType;e:{switch(t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=SI(i),t=sn(i,t),s){case 0:e=mm(null,e,i,t,r);break e;case 1:e=w1(null,e,i,t,r);break e;case 11:e=E1(null,e,i,t,r);break e;case 14:e=T1(null,e,i,sn(i.type,t),n,r);break e}throw Error(W(306,i,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sn(n,i),mm(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sn(n,i),w1(t,e,n,i,r);case 3:if(S1(e),n=e.updateQueue,t===null||n===null)throw Error(W(282));if(n=e.pendingProps,i=e.memoizedState,i=i!==null?i.element:null,lT(t,e),Jl(e,n,null,r),n=e.memoizedState.element,n===i)Up(),e=li(t,e,r);else{if(i=e.stateNode,(s=i.hydrate)&&(Xi=Jo(e.stateNode.containerInfo.firstChild),ai=e,s=Nn=!0),s){if(t=i.mutableSourceEagerHydrationData,t!=null)for(i=0;i<t.length;i+=2)s=t[i],s._workInProgressVersionPrimary=t[i+1],ta.push(s);for(r=cT(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|1024,r=r.sibling}else Tr(t,e,n,r),Up();e=e.child}return e;case 5:return m1(e),t===null&&pm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,lm(n,i)?o=null:s!==null&&lm(n,s)&&(e.flags|=16),ET(t,e),Tr(t,e,o,r),e.child;case 6:return t===null&&pm(e),null;case 13:return A1(t,e,r);case 4:return dm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=lc(e,null,n,r):Tr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sn(n,i),E1(t,e,n,i,r);case 7:return Tr(t,e,e.pendingProps,r),e.child;case 8:return Tr(t,e,e.pendingProps.children,r),e.child;case 12:return Tr(t,e,e.pendingProps.children,r),e.child;case 10:e:{n=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value;var a=e.type._context;if(yt(ic,a._currentValue),a._currentValue=s,o!==null)if(a=o.value,s=Xr(a,s)?0:(typeof n._calculateChangedBits=="function"?n._calculateChangedBits(a,s):1073741823)|0,s===0){if(o.children===i.children&&!Sr.current){e=li(t,e,r);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var u=a.dependencies;if(u!==null){o=a.child;for(var f=u.firstContext;f!==null;){if(f.context===n&&(f.observedBits&s)!==0){a.tag===1&&(f=qi(-1,r&-r),f.tag=2,Zi(a,f)),a.lanes|=r,f=a.alternate,f!==null&&(f.lanes|=r),aT(a.return,r),u.lanes|=r;break}f=f.next}}else o=a.tag===10&&a.type===e.type?null:a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Tr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,s=e.pendingProps,n=s.children,ea(e,r),i=qr(i,s.unstable_observedBits),n=n(i),e.flags|=1,Tr(t,e,n,r),e.child;case 14:return i=e.type,s=sn(i,e.pendingProps),s=sn(i.type,s),T1(t,e,i,s,n,r);case 15:return bT(t,e,e.type,e.pendingProps,n,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:sn(n,i),t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,Ar(n)?(t=!0,Cf(e)):t=!1,ea(e,r),hT(e,n,i),cm(e,n,i,r),gm(null,e,n,!0,t,r);case 19:return O1(t,e,r);case 23:return Gp(t,e,r);case 24:return Gp(t,e,r)}throw Error(W(156,e.tag))};function wI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(t,e,r,n){return new wI(t,e,r,n)}function I0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function SI(t){if(typeof t=="function")return I0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jc)return 11;if(t===Hc)return 14}return 2}function ss(t,e){var r=t.alternate;return r===null?(r=Vr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.nextEffect=null,r.firstEffect=null,r.lastEffect=null),r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Nf(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")I0(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case zi:return ia(r.children,i,s,e);case dE:o=8,i|=16;break;case Vg:o=8,i|=1;break;case Rl:return t=Vr(12,r,e,i|8),t.elementType=Rl,t.type=Rl,t.lanes=s,t;case Il:return t=Vr(13,r,e,i),t.type=Il,t.elementType=Il,t.lanes=s,t;case qf:return t=Vr(19,r,e,i),t.elementType=qf,t.lanes=s,t;case Qg:return P0(r,i,s,e);case Xv:return t=Vr(24,r,e,i),t.elementType=Xv,t.lanes=s,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case $g:o=10;break e;case Wg:o=9;break e;case jc:o=11;break e;case Hc:o=14;break e;case Yg:o=16,n=null;break e;case qg:o=22;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=Vr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ia(t,e,r,n){return t=Vr(7,t,n,e),t.lanes=r,t}function P0(t,e,r,n){return t=Vr(23,t,n,e),t.elementType=Qg,t.lanes=r,t}function Hp(t,e,r){return t=Vr(6,t,null,e),t.lanes=r,t}function Xp(t,e,r){return e=Vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AI(t,e,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=r,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Cp(0),this.expirationTimes=Cp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cp(0),this.mutableSourceEagerHydrationData=null}function CI(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Us,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function gc(t,e,r,n){var i=e.current,s=Mr(),o=Qi(i);e:if(r){r=r._reactInternals;t:{if(oo(r)!==r||r.tag!==1)throw Error(W(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break t;case 1:if(Ar(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break t}}a=a.return}while(a!==null);throw Error(W(171))}if(r.tag===1){var u=r.type;if(Ar(u)){r=eT(r,u,a);break e}}r=a}else r=ns;return e.context===null?e.context=r:e.pendingContext=r,e=qi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),Zi(i,e),Ki(i,o,s),o}function Vp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function G1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function O0(t,e){G1(t,e),(t=t.alternate)&&G1(t,e)}function RI(){return null}function N0(t,e,r){var n=r!=null&&r.hydrationOptions!=null&&r.hydrationOptions.mutableSources||null;if(r=new AI(t,e,r!=null&&r.hydrate===!0),e=Vr(3,null,null,e===2?7:e===1?3:0),r.current=e,e.stateNode=r,m0(e),t[_a]=r.current,qE(t.nodeType===8?t.parentNode:t),n)for(t=0;t<n.length;t++){e=n[t];var i=e._getVersion;i=i(e._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[e,i]:r.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=r}N0.prototype.render=function(t){gc(t,this._internalRoot,null,null)};N0.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;gc(null,t,null,function(){e[_a]=null})};function bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function II(t,e){if(e||(e=t?t.nodeType===9?t.documentElement:t.firstChild:null,e=!(!e||e.nodeType!==1||!e.hasAttribute("data-reactroot"))),!e)for(var r;r=t.lastChild;)t.removeChild(r);return new N0(t,0,e?{hydrate:!0}:void 0)}function ed(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s._internalRoot;if(typeof i=="function"){var a=i;i=function(){var f=Vp(o);a.call(f)}}gc(e,o,t,i)}else{if(s=r._reactRootContainer=II(r,n),o=s._internalRoot,typeof i=="function"){var u=i;i=function(){var f=Vp(o);u.call(f)}}OT(function(){gc(e,o,t,i)})}return Vp(o)}RE=function(t){if(t.tag===13){var e=Mr();Ki(t,4,e),O0(t,4)}};r0=function(t){if(t.tag===13){var e=Mr();Ki(t,67108864,e),O0(t,67108864)}};IE=function(t){if(t.tag===13){var e=Mr(),r=Qi(t);Ki(t,r,e),O0(t,r)}};PE=function(t,e){return e()};em=function(t,e,r){switch(e){case"input":if($v(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=qc(n);if(!i)throw Error(W(90));vE(n),$v(n,i)}}}break;case"textarea":gE(t,r);break;case"select":e=r.value,e!=null&&Zo(t,!!r.multiple,e,!1)}};Jg=PT;wE=function(t,e,r,n,i){var s=be;be|=4;try{return Ks(98,t.bind(null,e,r,n,i))}finally{be=s,be===0&&(Ea(),Dn())}};e0=function(){(be&49)===0&&(vI(),hs())};SE=function(t,e){var r=be;be|=2;try{return t(e)}finally{be=r,be===0&&(Ea(),Dn())}};function BT(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bu(e))throw Error(W(200));return CI(t,e,null,r)}var PI={Events:[yu,Go,qc,EE,TE,hs,{current:!1}]},al={findFiberByHostInstance:zs,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},OI={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:so.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=CE(t),t===null?null:t.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||RI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{c0=Fh.inject(OI),Ws=Fh}catch{}}Kr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=PI;Kr.createPortal=BT;Kr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):Error(W(268,Object.keys(t)));return t=CE(e),t=t===null?null:t.stateNode,t};Kr.flushSync=function(t,e){var r=be;if((r&48)!==0)return t(e);be|=1;try{if(t)return Ks(99,t.bind(null,e))}finally{be=r,Dn()}};Kr.hydrate=function(t,e,r){if(!bu(e))throw Error(W(200));return ed(null,t,e,!0,r)};Kr.render=function(t,e,r){if(!bu(e))throw Error(W(200));return ed(null,t,e,!1,r)};Kr.unmountComponentAtNode=function(t){if(!bu(t))throw Error(W(40));return t._reactRootContainer?(OT(function(){ed(null,null,t,!1,function(){t._reactRootContainer=null,t[_a]=null})}),!0):!1};Kr.unstable_batchedUpdates=PT;Kr.unstable_createPortal=function(t,e){return BT(t,e,2<arguments.length&&arguments[2]!==void 0?arguments[2]:null)};Kr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!bu(r))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return ed(t,e,r,!1,n)};Kr.version="17.0.2";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(r){console.error(r)}}e(),t.exports=Kr})(lE);const NI=eE(lE.exports);var Te={exports:{}};function MI(t){var e=this.constructor;return this.then(function(r){return e.resolve(t()).then(function(){return r})},function(r){return e.resolve(t()).then(function(){return e.reject(r)})})}function FI(t){var e=this;return new e(function(r,n){if(!(t&&typeof t.length<"u"))return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(i.length===0)return r([]);var s=i.length;function o(u,f){if(f&&(typeof f=="object"||typeof f=="function")){var d=f.then;if(typeof d=="function"){d.call(f,function(p){o(u,p)},function(p){i[u]={status:"rejected",reason:p},--s===0&&r(i)});return}}i[u]={status:"fulfilled",value:f},--s===0&&r(i)}for(var a=0;a<i.length;a++)o(a,i[a])})}var LI=setTimeout;function UT(t){return Boolean(t&&typeof t.length<"u")}function kI(){}function DI(t,e){return function(){t.apply(e,arguments)}}function xt(t){if(!(this instanceof xt))throw new TypeError("Promises must be constructed via new");if(typeof t!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],zT(t,this)}function GT(t,e){for(;t._state===3;)t=t._value;if(t._state===0){t._deferreds.push(e);return}t._handled=!0,xt._immediateFn(function(){var r=t._state===1?e.onFulfilled:e.onRejected;if(r===null){(t._state===1?Pm:nu)(e.promise,t._value);return}var n;try{n=r(t._value)}catch(i){nu(e.promise,i);return}Pm(e.promise,n)})}function Pm(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&(typeof e=="object"||typeof e=="function")){var r=e.then;if(e instanceof xt){t._state=3,t._value=e,Om(t);return}else if(typeof r=="function"){zT(DI(r,e),t);return}}t._state=1,t._value=e,Om(t)}catch(n){nu(t,n)}}function nu(t,e){t._state=2,t._value=e,Om(t)}function Om(t){t._state===2&&t._deferreds.length===0&&xt._immediateFn(function(){t._handled||xt._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)GT(t,t._deferreds[e]);t._deferreds=null}function BI(t,e,r){this.onFulfilled=typeof t=="function"?t:null,this.onRejected=typeof e=="function"?e:null,this.promise=r}function zT(t,e){var r=!1;try{t(function(n){r||(r=!0,Pm(e,n))},function(n){r||(r=!0,nu(e,n))})}catch(n){if(r)return;r=!0,nu(e,n)}}xt.prototype.catch=function(t){return this.then(null,t)};xt.prototype.then=function(t,e){var r=new this.constructor(kI);return GT(this,new BI(t,e,r)),r};xt.prototype.finally=MI;xt.all=function(t){return new xt(function(e,r){if(!UT(t))return r(new TypeError("Promise.all accepts an array"));var n=Array.prototype.slice.call(t);if(n.length===0)return e([]);var i=n.length;function s(a,u){try{if(u&&(typeof u=="object"||typeof u=="function")){var f=u.then;if(typeof f=="function"){f.call(u,function(d){s(a,d)},r);return}}n[a]=u,--i===0&&e(n)}catch(d){r(d)}}for(var o=0;o<n.length;o++)s(o,n[o])})};xt.allSettled=FI;xt.resolve=function(t){return t&&typeof t=="object"&&t.constructor===xt?t:new xt(function(e){e(t)})};xt.reject=function(t){return new xt(function(e,r){r(t)})};xt.race=function(t){return new xt(function(e,r){if(!UT(t))return r(new TypeError("Promise.race accepts an array"));for(var n=0,i=t.length;n<i;n++)xt.resolve(t[n]).then(e,r)})};xt._immediateFn=typeof setImmediate=="function"&&function(t){setImmediate(t)}||function(t){LI(t,0)};xt._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};/*!
 * @pixi/polyfill - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/polyfill is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:typeof global<"u"&&(global.globalThis=global));globalThis.Promise||(globalThis.Promise=xt);Object.assign||(Object.assign=uE);var UI=16;Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()});if(!(globalThis.performance&&globalThis.performance.now)){var GI=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-GI}}var $p=Date.now(),z1=["ms","moz","webkit","o"];for(var Wp=0;Wp<z1.length&&!globalThis.requestAnimationFrame;++Wp){var Yp=z1[Wp];globalThis.requestAnimationFrame=globalThis[Yp+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[Yp+"CancelAnimationFrame"]||globalThis[Yp+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(t){if(typeof t!="function")throw new TypeError(t+"is not a function");var e=Date.now(),r=UI+$p-e;return r<0&&(r=0),$p=e,globalThis.self.setTimeout(function(){$p=Date.now(),t(performance.now())},r)});globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(t){return clearTimeout(t)});Math.sign||(Math.sign=function(e){return e=Number(e),e===0||isNaN(e)?e:e>0?1:-1});Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e});globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array);globalThis.Float32Array||(globalThis.Float32Array=Array);globalThis.Uint32Array||(globalThis.Uint32Array=Array);globalThis.Uint16Array||(globalThis.Uint16Array=Array);globalThis.Uint8Array||(globalThis.Uint8Array=Array);globalThis.Int32Array||(globalThis.Int32Array=Array);/*!
 * @pixi/constants - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/constants is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var di;(function(t){t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2"})(di||(di={}));var iu;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS"})(iu||(iu={}));var yc;(function(t){t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL"})(yc||(yc={}));var ae;(function(t){t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR"})(ae||(ae={}));var $r;(function(t){t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN"})($r||($r={}));var q;(function(t){t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL"})(q||(q={}));var Ys;(function(t){t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"})(Ys||(Ys={}));var de;(function(t){t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT"})(de||(de={}));var _c;(function(t){t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT"})(_c||(_c={}));var Cn;(function(t){t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR"})(Cn||(Cn={}));var Mn;(function(t){t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"})(Mn||(Mn={}));var cn;(function(t){t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL"})(cn||(cn={}));var dn;(function(t){t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"})(dn||(dn={}));var on;(function(t){t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT"})(on||(on={}));var xc;(function(t){t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL"})(xc||(xc={}));var Nr;(function(t){t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp"})(Nr||(Nr={}));var At;(function(t){t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR"})(At||(At={}));var j1;(function(t){t[t.RED=1]="RED",t[t.GREEN=2]="GREEN",t[t.BLUE=4]="BLUE",t[t.ALPHA=8]="ALPHA"})(j1||(j1={}));var gt;(function(t){t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH"})(gt||(gt={}));var Fn;(function(t){t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"})(Fn||(Fn={}));/*!
 * @pixi/settings - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/settings is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var zI={createCanvas:function(t,e){var r=document.createElement("canvas");return r.width=t,r.height=e,r},getWebGLRenderingContext:function(){return WebGLRenderingContext},getNavigator:function(){return navigator},getBaseUrl:function(){var t;return(t=document.baseURI)!==null&&t!==void 0?t:window.location.href},fetch:function(t,e){return fetch(t,e)}},qp=/iPhone/i,H1=/iPod/i,X1=/iPad/i,V1=/\biOS-universal(?:.+)Mac\b/i,Zp=/\bAndroid(?:.+)Mobile\b/i,$1=/Android/i,Ro=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Lh=/Silk/i,Yn=/Windows Phone/i,W1=/\bWindows(?:.+)ARM\b/i,Y1=/BlackBerry/i,q1=/BB10/i,Z1=/Opera Mini/i,Q1=/\b(CriOS|Chrome)(?:.+)Mobile/i,K1=/Mobile(?:.+)Firefox\b/i,J1=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function jI(t){return function(e){return e.test(t)}}function HI(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=jI(r),s={apple:{phone:i(qp)&&!i(Yn),ipod:i(H1),tablet:!i(qp)&&(i(X1)||J1(e))&&!i(Yn),universal:i(V1),device:(i(qp)||i(H1)||i(X1)||i(V1)||J1(e))&&!i(Yn)},amazon:{phone:i(Ro),tablet:!i(Ro)&&i(Lh),device:i(Ro)||i(Lh)},android:{phone:!i(Yn)&&i(Ro)||!i(Yn)&&i(Zp),tablet:!i(Yn)&&!i(Ro)&&!i(Zp)&&(i(Lh)||i($1)),device:!i(Yn)&&(i(Ro)||i(Lh)||i(Zp)||i($1))||i(/\bokhttp\b/i)},windows:{phone:i(Yn),tablet:i(W1),device:i(Yn)||i(W1)},other:{blackberry:i(Y1),blackberry10:i(q1),opera:i(Z1),firefox:i(K1),chrome:i(Q1),device:i(Y1)||i(q1)||i(Z1)||i(K1)||i(Q1)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}var Rn=HI(globalThis.navigator);function XI(){return!Rn.apple.device}function VI(t){var e=!0;if(Rn.tablet||Rn.phone){if(Rn.apple.device){var r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);if(r){var n=parseInt(r[1],10);n<11&&(e=!1)}}if(Rn.android.device){var r=navigator.userAgent.match(/Android\s([0-9.]*)/);if(r){var n=parseInt(r[1],10);n<7&&(e=!1)}}}return e?t:4}var K={ADAPTER:zI,MIPMAP_TEXTURES:cn.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:gt.NONE,SPRITE_MAX_TEXTURES:VI(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:xc.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:Mn.CLAMP,SCALE_MODE:Cn.LINEAR,PRECISION_VERTEX:Nr.HIGH,PRECISION_FRAGMENT:Rn.apple.device?Nr.HIGH:Nr.MEDIUM,CAN_UPLOAD_SAME_BUFFER:XI(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},jT={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function s(u,f,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,p||u,v),_=r?r+f:f;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],g]:u._events[_].push(g):(u._events[_]=g,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},a.prototype.listeners=function(f){var d=r?r+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,_=new Array(g);v<g;v++)_[v]=p[v].fn;return _},a.prototype.listenerCount=function(f){var d=r?r+f:f,p=this._events[d];return p?p.fn?1:p.length:0},a.prototype.emit=function(f,d,p,v,g,_){var b=r?r+f:f;if(!this._events[b])return!1;var m=this._events[b],E=arguments.length,T,S;if(m.fn){switch(m.once&&this.removeListener(f,m.fn,void 0,!0),E){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,d),!0;case 3:return m.fn.call(m.context,d,p),!0;case 4:return m.fn.call(m.context,d,p,v),!0;case 5:return m.fn.call(m.context,d,p,v,g),!0;case 6:return m.fn.call(m.context,d,p,v,g,_),!0}for(S=1,T=new Array(E-1);S<E;S++)T[S-1]=arguments[S];m.fn.apply(m.context,T)}else{var A=m.length,R;for(S=0;S<A;S++)switch(m[S].once&&this.removeListener(f,m[S].fn,void 0,!0),E){case 1:m[S].fn.call(m[S].context);break;case 2:m[S].fn.call(m[S].context,d);break;case 3:m[S].fn.call(m[S].context,d,p);break;case 4:m[S].fn.call(m[S].context,d,p,v);break;default:if(!T)for(R=1,T=new Array(E-1);R<E;R++)T[R-1]=arguments[R];m[S].fn.apply(m[S].context,T)}}return!0},a.prototype.on=function(f,d,p){return s(this,f,d,p,!1)},a.prototype.once=function(f,d,p){return s(this,f,d,p,!0)},a.prototype.removeListener=function(f,d,p,v){var g=r?r+f:f;if(!this._events[g])return this;if(!d)return o(this,g),this;var _=this._events[g];if(_.fn)_.fn===d&&(!v||_.once)&&(!p||_.context===p)&&o(this,g);else{for(var b=0,m=[],E=_.length;b<E;b++)(_[b].fn!==d||v&&!_[b].once||p&&_[b].context!==p)&&m.push(_[b]);m.length?this._events[g]=m.length===1?m[0]:m:o(this,g)}return this},a.prototype.removeAllListeners=function(f){var d;return f?(d=r?r+f:f,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(jT);const Eu=jT.exports;var td={exports:{}};td.exports=rd;td.exports.default=rd;function rd(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=HT(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,u,f,d,p,v,g;if(n&&(s=ZI(t,e,s,r)),t.length>80*r){a=f=t[0],u=d=t[1];for(var _=r;_<i;_+=r)p=t[_],v=t[_+1],p<a&&(a=p),v<u&&(u=v),p>f&&(f=p),v>d&&(d=v);g=Math.max(f-a,d-u),g=g!==0?32767/g:0}return su(s,o,r,a,u,g,0),o}function HT(t,e,r,n,i){var s,o;if(i===Fm(t,e,r,n)>0)for(s=e;s<r;s+=n)o=ex(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=ex(s,t[s],t[s+1],o);return o&&nd(o,o.next)&&(au(o),o=o.next),o}function eo(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(nd(r,r.next)||pt(r.prev,r,r.next)===0)){if(au(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function su(t,e,r,n,i,s,o){if(!!t){!o&&s&&t2(t,n,i,s);for(var a=t,u,f;t.prev!==t.next;){if(u=t.prev,f=t.next,s?WI(t,n,i,s):$I(t)){e.push(u.i/r|0),e.push(t.i/r|0),e.push(f.i/r|0),au(t),t=f.next,a=f.next;continue}if(t=f,t===a){o?o===1?(t=YI(eo(t),e,r),su(t,e,r,n,i,s,2)):o===2&&qI(t,e,r,n,i,s):su(eo(t),e,r,n,i,s,1);break}}}}function $I(t){var e=t.prev,r=t,n=t.next;if(pt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,u=r.y,f=n.y,d=i<s?i<o?i:o:s<o?s:o,p=a<u?a<f?a:f:u<f?u:f,v=i>s?i>o?i:o:s>o?s:o,g=a>u?a>f?a:f:u>f?u:f,_=n.next;_!==e;){if(_.x>=d&&_.x<=v&&_.y>=p&&_.y<=g&&Ho(i,a,s,u,o,f,_.x,_.y)&&pt(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function WI(t,e,r,n){var i=t.prev,s=t,o=t.next;if(pt(i,s,o)>=0)return!1;for(var a=i.x,u=s.x,f=o.x,d=i.y,p=s.y,v=o.y,g=a<u?a<f?a:f:u<f?u:f,_=d<p?d<v?d:v:p<v?p:v,b=a>u?a>f?a:f:u>f?u:f,m=d>p?d>v?d:v:p>v?p:v,E=Nm(g,_,e,r,n),T=Nm(b,m,e,r,n),S=t.prevZ,A=t.nextZ;S&&S.z>=E&&A&&A.z<=T;){if(S.x>=g&&S.x<=b&&S.y>=_&&S.y<=m&&S!==i&&S!==o&&Ho(a,d,u,p,f,v,S.x,S.y)&&pt(S.prev,S,S.next)>=0||(S=S.prevZ,A.x>=g&&A.x<=b&&A.y>=_&&A.y<=m&&A!==i&&A!==o&&Ho(a,d,u,p,f,v,A.x,A.y)&&pt(A.prev,A,A.next)>=0))return!1;A=A.nextZ}for(;S&&S.z>=E;){if(S.x>=g&&S.x<=b&&S.y>=_&&S.y<=m&&S!==i&&S!==o&&Ho(a,d,u,p,f,v,S.x,S.y)&&pt(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;A&&A.z<=T;){if(A.x>=g&&A.x<=b&&A.y>=_&&A.y<=m&&A!==i&&A!==o&&Ho(a,d,u,p,f,v,A.x,A.y)&&pt(A.prev,A,A.next)>=0)return!1;A=A.nextZ}return!0}function YI(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!nd(i,s)&&XT(i,n,n.next,s)&&ou(i,s)&&ou(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),au(n),au(n.next),n=t=s),n=n.next}while(n!==t);return eo(n)}function qI(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&i2(o,a)){var u=VT(o,a);o=eo(o,o.next),u=eo(u,u.next),su(o,e,r,n,i,s,0),su(u,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function ZI(t,e,r,n){var i=[],s,o,a,u,f;for(s=0,o=e.length;s<o;s++)a=e[s]*n,u=s<o-1?e[s+1]*n:t.length,f=HT(t,a,u,n,!1),f===f.next&&(f.steiner=!0),i.push(n2(f));for(i.sort(QI),s=0;s<i.length;s++)r=KI(i[s],r);return r}function QI(t,e){return t.x-e.x}function KI(t,e){var r=JI(t,e);if(!r)return e;var n=VT(r,t);return eo(n,n.next),eo(r,r.next)}function JI(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var u=o,f=o.x,d=o.y,p=1/0,v;r=o;do n>=r.x&&r.x>=f&&n!==r.x&&Ho(i<d?n:s,i,f,d,i<d?s:n,i,r.x,r.y)&&(v=Math.abs(i-r.y)/(n-r.x),ou(r,t)&&(v<p||v===p&&(r.x>o.x||r.x===o.x&&e2(o,r)))&&(o=r,p=v)),r=r.next;while(r!==u);return o}function e2(t,e){return pt(t.prev,t,e.prev)<0&&pt(e.next,t,t.next)<0}function t2(t,e,r,n){var i=t;do i.z===0&&(i.z=Nm(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,r2(i)}function r2(t){var e,r,n,i,s,o,a,u,f=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<f&&(a++,n=n.nextZ,!!n);e++);for(u=f;a>0||u>0&&n;)a!==0&&(u===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,f*=2}while(o>1);return t}function Nm(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function n2(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Ho(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function i2(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!s2(t,e)&&(ou(t,e)&&ou(e,t)&&o2(t,e)&&(pt(t.prev,t,e.prev)||pt(t,e.prev,e))||nd(t,e)&&pt(t.prev,t,t.next)>0&&pt(e.prev,e,e.next)>0)}function pt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function nd(t,e){return t.x===e.x&&t.y===e.y}function XT(t,e,r,n){var i=Dh(pt(t,e,r)),s=Dh(pt(t,e,n)),o=Dh(pt(r,n,t)),a=Dh(pt(r,n,e));return!!(i!==s&&o!==a||i===0&&kh(t,r,e)||s===0&&kh(t,n,e)||o===0&&kh(r,t,n)||a===0&&kh(r,e,n))}function kh(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Dh(t){return t>0?1:t<0?-1:0}function s2(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&XT(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function ou(t,e){return pt(t.prev,t,t.next)<0?pt(t,e,t.next)>=0&&pt(t,t.prev,e)>=0:pt(t,e,t.prev)<0||pt(t,t.next,e)<0}function o2(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function VT(t,e){var r=new Mm(t.i,t.x,t.y),n=new Mm(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function ex(t,e,r,n){var i=new Mm(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function au(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Mm(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}rd.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Fm(t,0,s,r));if(i)for(var a=0,u=e.length;a<u;a++){var f=e[a]*r,d=a<u-1?e[a+1]*r:t.length;o-=Math.abs(Fm(t,f,d,r))}var p=0;for(a=0;a<n.length;a+=3){var v=n[a]*r,g=n[a+1]*r,_=n[a+2]*r;p+=Math.abs((t[v]-t[_])*(t[g+1]-t[v+1])-(t[v]-t[g])*(t[_+1]-t[v+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function Fm(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}rd.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var Lm={exports:{}};/*! https://mths.be/punycode v1.3.2 by @mathias */(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof bp=="object"&&bp;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,u=36,f=1,d=26,p=38,v=700,g=72,_=128,b="-",m=/^xn--/,E=/[^\x20-\x7E]/,T=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=u-f,R=Math.floor,I=String.fromCharCode,P;function k(j){throw RangeError(S[j])}function N(j,M){for(var L=j.length,z=[];L--;)z[L]=M(j[L]);return z}function B(j,M){var L=j.split("@"),z="";L.length>1&&(z=L[0]+"@",j=L[1]),j=j.replace(T,".");var H=j.split("."),se=N(H,M).join(".");return z+se}function X(j){for(var M=[],L=0,z=j.length,H,se;L<z;)H=j.charCodeAt(L++),H>=55296&&H<=56319&&L<z?(se=j.charCodeAt(L++),(se&64512)==56320?M.push(((H&1023)<<10)+(se&1023)+65536):(M.push(H),L--)):M.push(H);return M}function Z(j){return N(j,function(M){var L="";return M>65535&&(M-=65536,L+=I(M>>>10&1023|55296),M=56320|M&1023),L+=I(M),L}).join("")}function Y(j){return j-48<10?j-22:j-65<26?j-65:j-97<26?j-97:u}function oe(j,M){return j+22+75*(j<26)-((M!=0)<<5)}function $(j,M,L){var z=0;for(j=L?R(j/v):j>>1,j+=R(j/M);j>A*d>>1;z+=u)j=R(j/A);return R(z+(A+1)*j/(j+p))}function V(j){var M=[],L=j.length,z,H=0,se=_,pe=g,Ee,Ie,Me,Ue,Le,Fe,Ce,Se,Ye;for(Ee=j.lastIndexOf(b),Ee<0&&(Ee=0),Ie=0;Ie<Ee;++Ie)j.charCodeAt(Ie)>=128&&k("not-basic"),M.push(j.charCodeAt(Ie));for(Me=Ee>0?Ee+1:0;Me<L;){for(Ue=H,Le=1,Fe=u;Me>=L&&k("invalid-input"),Ce=Y(j.charCodeAt(Me++)),(Ce>=u||Ce>R((a-H)/Le))&&k("overflow"),H+=Ce*Le,Se=Fe<=pe?f:Fe>=pe+d?d:Fe-pe,!(Ce<Se);Fe+=u)Ye=u-Se,Le>R(a/Ye)&&k("overflow"),Le*=Ye;z=M.length+1,pe=$(H-Ue,z,Ue==0),R(H/z)>a-se&&k("overflow"),se+=R(H/z),H%=z,M.splice(H++,0,se)}return Z(M)}function ie(j){var M,L,z,H,se,pe,Ee,Ie,Me,Ue,Le,Fe=[],Ce,Se,Ye,rr;for(j=X(j),Ce=j.length,M=_,L=0,se=g,pe=0;pe<Ce;++pe)Le=j[pe],Le<128&&Fe.push(I(Le));for(z=H=Fe.length,H&&Fe.push(b);z<Ce;){for(Ee=a,pe=0;pe<Ce;++pe)Le=j[pe],Le>=M&&Le<Ee&&(Ee=Le);for(Se=z+1,Ee-M>R((a-L)/Se)&&k("overflow"),L+=(Ee-M)*Se,M=Ee,pe=0;pe<Ce;++pe)if(Le=j[pe],Le<M&&++L>a&&k("overflow"),Le==M){for(Ie=L,Me=u;Ue=Me<=se?f:Me>=se+d?d:Me-se,!(Ie<Ue);Me+=u)rr=Ie-Ue,Ye=u-Ue,Fe.push(I(oe(Ue+rr%Ye,0))),Ie=R(rr/Ye);Fe.push(I(oe(Ie,0))),se=$(L,Se,z==H),L=0,++z}++L,++M}return Fe.join("")}function Ae(j){return B(j,function(M){return m.test(M)?V(M.slice(4).toLowerCase()):M})}function ve(j){return B(j,function(M){return E.test(M)?"xn--"+ie(M):M})}if(o={version:"1.3.2",ucs2:{decode:X,encode:Z},decode:V,encode:ie,toASCII:ve,toUnicode:Ae},n&&i)if(t.exports==n)i.exports=o;else for(P in o)o.hasOwnProperty(P)&&(n[P]=o[P]);else r.punycode=o})(bp)})(Lm,Lm.exports);var a2={isString:function(t){return typeof t=="string"},isObject:function(t){return typeof t=="object"&&t!==null},isNull:function(t){return t===null},isNullOrUndefined:function(t){return t==null}},lu={};function l2(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var u2=function(t,e,r,n){e=e||"&",r=r||"=";var i={};if(typeof t!="string"||t.length===0)return i;var s=/\+/g;t=t.split(e);var o=1e3;n&&typeof n.maxKeys=="number"&&(o=n.maxKeys);var a=t.length;o>0&&a>o&&(a=o);for(var u=0;u<a;++u){var f=t[u].replace(s,"%20"),d=f.indexOf(r),p,v,g,_;d>=0?(p=f.substr(0,d),v=f.substr(d+1)):(p=f,v=""),g=decodeURIComponent(p),_=decodeURIComponent(v),l2(i,g)?Array.isArray(i[g])?i[g].push(_):i[g]=[i[g],_]:i[g]=_}return i},ll=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},h2=function(t,e,r,n){return e=e||"&",r=r||"=",t===null&&(t=void 0),typeof t=="object"?Object.keys(t).map(function(i){var s=encodeURIComponent(ll(i))+r;return Array.isArray(t[i])?t[i].map(function(o){return s+encodeURIComponent(ll(o))}).join(e):s+encodeURIComponent(ll(t[i]))}).join(e):n?encodeURIComponent(ll(n))+r+encodeURIComponent(ll(t)):""};lu.decode=lu.parse=u2;lu.encode=lu.stringify=h2;var f2=Lm.exports,En=a2,$T=id,WT=b2,YT=x2;function un(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var c2=/^([a-z0-9.+-]+:)/i,d2=/:[0-9]*$/,p2=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,v2=["<",">",'"',"`"," ","\r",`
`,"	"],m2=["{","}","|","\\","^","`"].concat(v2),km=["'"].concat(m2),tx=["%","/","?",";","#"].concat(km),rx=["/","?","#"],g2=255,nx=/^[+a-z0-9A-Z_-]{0,63}$/,y2=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_2={javascript:!0,"javascript:":!0},Dm={javascript:!0,"javascript:":!0},sa={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Bm=lu;function id(t,e,r){if(t&&En.isObject(t)&&t instanceof un)return t;var n=new un;return n.parse(t,e,r),n}un.prototype.parse=function(t,e,r){if(!En.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var u=p2.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],e?this.query=Bm.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var f=c2.exec(a);if(f){f=f[0];var d=f.toLowerCase();this.protocol=d,a=a.substr(f.length)}if(r||f||a.match(/^\/\/[^@\/]+@[^@\/]+/)){var p=a.substr(0,2)==="//";p&&!(f&&Dm[f])&&(a=a.substr(2),this.slashes=!0)}if(!Dm[f]&&(p||f&&!sa[f])){for(var v=-1,g=0;g<rx.length;g++){var _=a.indexOf(rx[g]);_!==-1&&(v===-1||_<v)&&(v=_)}var b,m;v===-1?m=a.lastIndexOf("@"):m=a.lastIndexOf("@",v),m!==-1&&(b=a.slice(0,m),a=a.slice(m+1),this.auth=decodeURIComponent(b)),v=-1;for(var g=0;g<tx.length;g++){var _=a.indexOf(tx[g]);_!==-1&&(v===-1||_<v)&&(v=_)}v===-1&&(v=a.length),this.host=a.slice(0,v),a=a.slice(v),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var T=this.hostname.split(/\./),g=0,S=T.length;g<S;g++){var A=T[g];if(!!A&&!A.match(nx)){for(var R="",I=0,P=A.length;I<P;I++)A.charCodeAt(I)>127?R+="x":R+=A[I];if(!R.match(nx)){var k=T.slice(0,g),N=T.slice(g+1),B=A.match(y2);B&&(k.push(B[1]),N.unshift(B[2])),N.length&&(a="/"+N.join(".")+a),this.hostname=k.join(".");break}}}this.hostname.length>g2?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=f2.toASCII(this.hostname));var X=this.port?":"+this.port:"",Z=this.hostname||"";this.host=Z+X,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!_2[d])for(var g=0,S=km.length;g<S;g++){var Y=km[g];if(a.indexOf(Y)!==-1){var oe=encodeURIComponent(Y);oe===Y&&(oe=escape(Y)),a=a.split(Y).join(oe)}}var $=a.indexOf("#");$!==-1&&(this.hash=a.substr($),a=a.slice(0,$));var V=a.indexOf("?");if(V!==-1?(this.search=a.substr(V),this.query=a.substr(V+1),e&&(this.query=Bm.parse(this.query)),a=a.slice(0,V)):e&&(this.search="",this.query={}),a&&(this.pathname=a),sa[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var X=this.pathname||"",ie=this.search||"";this.path=X+ie}return this.href=this.format(),this};function x2(t){return En.isString(t)&&(t=id(t)),t instanceof un?t.format():un.prototype.format.call(t)}un.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&En.isObject(this.query)&&Object.keys(this.query).length&&(s=Bm.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||sa[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};function b2(t,e){return id(t,!1,!0).resolve(e)}un.prototype.resolve=function(t){return this.resolveObject(id(t,!1,!0)).format()};un.prototype.resolveObject=function(t){if(En.isString(t)){var e=new un;e.parse(t,!1,!0),t=e}for(var r=new un,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var u=o[a];u!=="protocol"&&(r[u]=t[u])}return sa[r.protocol]&&r.hostname&&!r.pathname&&(r.path=r.pathname="/"),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!sa[t.protocol]){for(var f=Object.keys(t),d=0;d<f.length;d++){var p=f[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Dm[t.protocol]){for(var S=(t.pathname||"").split("/");S.length&&!(t.host=S.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),r.pathname=S.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var v=r.pathname||"",g=r.search||"";r.path=v+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",b=t.host||t.pathname&&t.pathname.charAt(0)==="/",m=b||_||r.host&&t.pathname,E=m,T=r.pathname&&r.pathname.split("/")||[],S=t.pathname&&t.pathname.split("/")||[],A=r.protocol&&!sa[r.protocol];if(A&&(r.hostname="",r.port=null,r.host&&(T[0]===""?T[0]=r.host:T.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(S[0]===""?S[0]=t.host:S.unshift(t.host)),t.host=null),m=m&&(S[0]===""||T[0]==="")),b)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,T=S;else if(S.length)T||(T=[]),T.pop(),T=T.concat(S),r.search=t.search,r.query=t.query;else if(!En.isNullOrUndefined(t.search)){if(A){r.hostname=r.host=T.shift();var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.host=r.hostname=R.shift())}return r.search=t.search,r.query=t.query,(!En.isNull(r.pathname)||!En.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!T.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var I=T.slice(-1)[0],P=(r.host||t.host||T.length>1)&&(I==="."||I==="..")||I==="",k=0,N=T.length;N>=0;N--)I=T[N],I==="."?T.splice(N,1):I===".."?(T.splice(N,1),k++):k&&(T.splice(N,1),k--);if(!m&&!E)for(;k--;k)T.unshift("..");m&&T[0]!==""&&(!T[0]||T[0].charAt(0)!=="/")&&T.unshift(""),P&&T.join("/").substr(-1)!=="/"&&T.push("");var B=T[0]===""||T[0]&&T[0].charAt(0)==="/";if(A){r.hostname=r.host=B?"":T.length?T.shift():"";var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.host=r.hostname=R.shift())}return m=m||r.host&&T.length,m&&!B&&T.unshift(""),T.length?r.pathname=T.join("/"):(r.pathname=null,r.path=null),(!En.isNull(r.pathname)||!En.isNull(r.search))&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};un.prototype.parseHost=function(){var t=this.host,e=d2.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};/*!
 * @pixi/utils - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/utils is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Xo={parse:$T,format:YT,resolve:WT};K.RETINA_PREFIX=/@([0-9\.]+)x/;K.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ix=!1,sx="6.5.8";function E2(t){var e;if(!ix){if(K.ADAPTER.getNavigator().userAgent.toLowerCase().indexOf("chrome")>-1){var r=[`
 %c %c %c PixiJS `+sx+" - \u2730 "+t+` \u2730  %c  %c  http://www.pixijs.com/  %c %c \u2665%c\u2665%c\u2665 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(e=globalThis.console).log.apply(e,r)}else globalThis.console&&globalThis.console.log("PixiJS "+sx+" - "+t+" - http://www.pixijs.com/");ix=!0}}var Qp;function T2(){return typeof Qp>"u"&&(Qp=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:K.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!K.ADAPTER.getWebGLRenderingContext())return!1;var r=K.ADAPTER.createCanvas(),n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e),i=!!(n&&n.getContextAttributes().stencil);if(n){var s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Qp}var w2="#f0f8ff",S2="#faebd7",A2="#00ffff",C2="#7fffd4",R2="#f0ffff",I2="#f5f5dc",P2="#ffe4c4",O2="#000000",N2="#ffebcd",M2="#0000ff",F2="#8a2be2",L2="#a52a2a",k2="#deb887",D2="#5f9ea0",B2="#7fff00",U2="#d2691e",G2="#ff7f50",z2="#6495ed",j2="#fff8dc",H2="#dc143c",X2="#00ffff",V2="#00008b",$2="#008b8b",W2="#b8860b",Y2="#a9a9a9",q2="#006400",Z2="#a9a9a9",Q2="#bdb76b",K2="#8b008b",J2="#556b2f",eP="#ff8c00",tP="#9932cc",rP="#8b0000",nP="#e9967a",iP="#8fbc8f",sP="#483d8b",oP="#2f4f4f",aP="#2f4f4f",lP="#00ced1",uP="#9400d3",hP="#ff1493",fP="#00bfff",cP="#696969",dP="#696969",pP="#1e90ff",vP="#b22222",mP="#fffaf0",gP="#228b22",yP="#ff00ff",_P="#dcdcdc",xP="#f8f8ff",bP="#daa520",EP="#ffd700",TP="#808080",wP="#008000",SP="#adff2f",AP="#808080",CP="#f0fff0",RP="#ff69b4",IP="#cd5c5c",PP="#4b0082",OP="#fffff0",NP="#f0e68c",MP="#fff0f5",FP="#e6e6fa",LP="#7cfc00",kP="#fffacd",DP="#add8e6",BP="#f08080",UP="#e0ffff",GP="#fafad2",zP="#d3d3d3",jP="#90ee90",HP="#d3d3d3",XP="#ffb6c1",VP="#ffa07a",$P="#20b2aa",WP="#87cefa",YP="#778899",qP="#778899",ZP="#b0c4de",QP="#ffffe0",KP="#00ff00",JP="#32cd32",eO="#faf0e6",tO="#ff00ff",rO="#800000",nO="#66cdaa",iO="#0000cd",sO="#ba55d3",oO="#9370db",aO="#3cb371",lO="#7b68ee",uO="#00fa9a",hO="#48d1cc",fO="#c71585",cO="#191970",dO="#f5fffa",pO="#ffe4e1",vO="#ffe4b5",mO="#ffdead",gO="#000080",yO="#fdf5e6",_O="#808000",xO="#6b8e23",bO="#ffa500",EO="#ff4500",TO="#da70d6",wO="#eee8aa",SO="#98fb98",AO="#afeeee",CO="#db7093",RO="#ffefd5",IO="#ffdab9",PO="#cd853f",OO="#ffc0cb",NO="#dda0dd",MO="#b0e0e6",FO="#800080",LO="#663399",kO="#ff0000",DO="#bc8f8f",BO="#4169e1",UO="#8b4513",GO="#fa8072",zO="#f4a460",jO="#2e8b57",HO="#fff5ee",XO="#a0522d",VO="#c0c0c0",$O="#87ceeb",WO="#6a5acd",YO="#708090",qO="#708090",ZO="#fffafa",QO="#00ff7f",KO="#4682b4",JO="#d2b48c",eN="#008080",tN="#d8bfd8",rN="#ff6347",nN="#40e0d0",iN="#ee82ee",sN="#f5deb3",oN="#ffffff",aN="#f5f5f5",lN="#ffff00",uN="#9acd32",hN={aliceblue:w2,antiquewhite:S2,aqua:A2,aquamarine:C2,azure:R2,beige:I2,bisque:P2,black:O2,blanchedalmond:N2,blue:M2,blueviolet:F2,brown:L2,burlywood:k2,cadetblue:D2,chartreuse:B2,chocolate:U2,coral:G2,cornflowerblue:z2,cornsilk:j2,crimson:H2,cyan:X2,darkblue:V2,darkcyan:$2,darkgoldenrod:W2,darkgray:Y2,darkgreen:q2,darkgrey:Z2,darkkhaki:Q2,darkmagenta:K2,darkolivegreen:J2,darkorange:eP,darkorchid:tP,darkred:rP,darksalmon:nP,darkseagreen:iP,darkslateblue:sP,darkslategray:oP,darkslategrey:aP,darkturquoise:lP,darkviolet:uP,deeppink:hP,deepskyblue:fP,dimgray:cP,dimgrey:dP,dodgerblue:pP,firebrick:vP,floralwhite:mP,forestgreen:gP,fuchsia:yP,gainsboro:_P,ghostwhite:xP,goldenrod:bP,gold:EP,gray:TP,green:wP,greenyellow:SP,grey:AP,honeydew:CP,hotpink:RP,indianred:IP,indigo:PP,ivory:OP,khaki:NP,lavenderblush:MP,lavender:FP,lawngreen:LP,lemonchiffon:kP,lightblue:DP,lightcoral:BP,lightcyan:UP,lightgoldenrodyellow:GP,lightgray:zP,lightgreen:jP,lightgrey:HP,lightpink:XP,lightsalmon:VP,lightseagreen:$P,lightskyblue:WP,lightslategray:YP,lightslategrey:qP,lightsteelblue:ZP,lightyellow:QP,lime:KP,limegreen:JP,linen:eO,magenta:tO,maroon:rO,mediumaquamarine:nO,mediumblue:iO,mediumorchid:sO,mediumpurple:oO,mediumseagreen:aO,mediumslateblue:lO,mediumspringgreen:uO,mediumturquoise:hO,mediumvioletred:fO,midnightblue:cO,mintcream:dO,mistyrose:pO,moccasin:vO,navajowhite:mO,navy:gO,oldlace:yO,olive:_O,olivedrab:xO,orange:bO,orangered:EO,orchid:TO,palegoldenrod:wO,palegreen:SO,paleturquoise:AO,palevioletred:CO,papayawhip:RO,peachpuff:IO,peru:PO,pink:OO,plum:NO,powderblue:MO,purple:FO,rebeccapurple:LO,red:kO,rosybrown:DO,royalblue:BO,saddlebrown:UO,salmon:GO,sandybrown:zO,seagreen:jO,seashell:HO,sienna:XO,silver:VO,skyblue:$O,slateblue:WO,slategray:YO,slategrey:qO,snow:ZO,springgreen:QO,steelblue:KO,tan:JO,teal:eN,thistle:tN,tomato:rN,turquoise:nN,violet:iN,wheat:sN,white:oN,whitesmoke:aN,yellow:lN,yellowgreen:uN};function va(t,e){return e===void 0&&(e=[]),e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function qT(t){var e=t.toString(16);return e="000000".substring(0,6-e.length)+e,"#"+e}function ZT(t){return typeof t=="string"&&(t=hN[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1))),parseInt(t,16)}function fN(){for(var t=[],e=[],r=0;r<32;r++)t[r]=r,e[r]=r;t[ae.NORMAL_NPM]=ae.NORMAL,t[ae.ADD_NPM]=ae.ADD,t[ae.SCREEN_NPM]=ae.SCREEN,e[ae.NORMAL]=ae.NORMAL_NPM,e[ae.ADD]=ae.ADD_NPM,e[ae.SCREEN]=ae.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}var QT=fN();function KT(t,e){return QT[e?1:0][t]}function cN(t,e,r,n){return r=r||new Float32Array(4),n||n===void 0?(r[0]=t[0]*e,r[1]=t[1]*e,r[2]=t[2]*e):(r[0]=t[0],r[1]=t[1],r[2]=t[2]),r[3]=e,r}function M0(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;var r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function JT(t,e,r,n){return r=r||new Float32Array(4),r[0]=(t>>16&255)/255,r[1]=(t>>8&255)/255,r[2]=(t&255)/255,(n||n===void 0)&&(r[0]*=e,r[1]*=e,r[2]*=e),r[3]=e,r}function dN(t,e){e===void 0&&(e=null);var r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error("Out buffer length is incorrect, got "+e.length+" and expected "+r);for(var n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function ew(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function bc(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function ox(t){return!(t&t-1)&&!!t}function ax(t){var e=(t>65535?1:0)<<4;t>>>=e;var r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function oa(t,e,r){var n=t.length,i;if(!(e>=n||r===0)){r=e+r>n?n-e:r;var s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}}function Vo(t){return t===0?0:t<0?-1:1}var pN=0;function to(){return++pN}var lx={};function hn(t,e,r){if(r===void 0&&(r=3),!lx[e]){var n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",e+`
Deprecated since v`+t),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",e+`
Deprecated since v`+t),console.warn(n))),lx[e]=!0}}var ux={},Jn=Object.create(null),bs=Object.create(null),hx=function(){function t(e,r,n){this.canvas=K.ADAPTER.createCanvas(),this.context=this.canvas.getContext("2d"),this.resolution=n||K.RESOLUTION,this.resize(e,r)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(e,r){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(r*this.resolution)},t.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),t}();function vN(t){var e=t.width,r=t.height,n=t.getContext("2d",{willReadFrequently:!0}),i=n.getImageData(0,0,e,r),s=i.data,o=s.length,a={top:null,left:null,right:null,bottom:null},u=null,f,d,p;for(f=0;f<o;f+=4)s[f+3]!==0&&(d=f/4%e,p=~~(f/4/e),a.top===null&&(a.top=p),(a.left===null||d<a.left)&&(a.left=d),(a.right===null||a.right<d)&&(a.right=d+1),(a.bottom===null||a.bottom<p)&&(a.bottom=p));return a.top!==null&&(e=a.right-a.left,r=a.bottom-a.top+1,u=n.getImageData(a.left,a.top,e,r)),{height:r,width:e,data:u}}var Bh;function mN(t,e){if(e===void 0&&(e=globalThis.location),t.indexOf("data:")===0)return"";e=e||globalThis.location,Bh||(Bh=document.createElement("a")),Bh.href=t;var r=Xo.parse(Bh.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Ec(t,e){var r=K.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e!==void 0?e:1}/*!
 * @pixi/math - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/math is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Tc=Math.PI*2,gN=180/Math.PI,yN=Math.PI/180,jt;(function(t){t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC"})(jt||(jt={}));var Ke=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this.x=0,this.y=0,this.x=e,this.y=r}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},t.prototype.copyTo=function(e){return e.set(this.x,this.y),e},t.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x=e,this.y=r,this},t.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},t}(),Uh=[new Ke,new Ke,new Ke,new Ke],Ne=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=jt.RECT}return Object.defineProperty(t.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EMPTY",{get:function(){return new t(0,0,0,0)},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},t.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},t.prototype.contains=function(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height},t.prototype.intersects=function(e,r){if(!r){var n=this.x<e.x?e.x:this.x,i=this.right>e.right?e.right:this.right;if(i<=n)return!1;var s=this.y<e.y?e.y:this.y,o=this.bottom>e.bottom?e.bottom:this.bottom;return o>s}var a=this.left,u=this.right,f=this.top,d=this.bottom;if(u<=a||d<=f)return!1;var p=Uh[0].set(e.left,e.top),v=Uh[1].set(e.left,e.bottom),g=Uh[2].set(e.right,e.top),_=Uh[3].set(e.right,e.bottom);if(g.x<=p.x||v.y<=p.y)return!1;var b=Math.sign(r.a*r.d-r.b*r.c);if(b===0||(r.apply(p,p),r.apply(v,v),r.apply(g,g),r.apply(_,_),Math.max(p.x,v.x,g.x,_.x)<=a||Math.min(p.x,v.x,g.x,_.x)>=u||Math.max(p.y,v.y,g.y,_.y)<=f||Math.min(p.y,v.y,g.y,_.y)>=d))return!1;var m=b*(v.y-p.y),E=b*(p.x-v.x),T=m*a+E*f,S=m*u+E*f,A=m*a+E*d,R=m*u+E*d;if(Math.max(T,S,A,R)<=m*p.x+E*p.y||Math.min(T,S,A,R)>=m*_.x+E*_.y)return!1;var I=b*(p.y-g.y),P=b*(g.x-p.x),k=I*a+P*f,N=I*u+P*f,B=I*a+P*d,X=I*u+P*d;return!(Math.max(k,N,B,X)<=I*p.x+P*p.y||Math.min(k,N,B,X)>=I*_.x+P*_.y)},t.prototype.pad=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this},t.prototype.fit=function(e){var r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this},t.prototype.ceil=function(e,r){e===void 0&&(e=1),r===void 0&&(r=.001);var n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this},t.prototype.enlarge=function(e){var r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this},t.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),_N=function(){function t(e,r,n){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),this.x=e,this.y=r,this.radius=n,this.type=jt.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(e,r){if(this.radius<=0)return!1;var n=this.radius*this.radius,i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n},t.prototype.getBounds=function(){return new Ne(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)},t.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},t}(),xN=function(){function t(e,r,n,i){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),this.x=e,this.y=r,this.width=n,this.height=i,this.type=jt.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1},t.prototype.getBounds=function(){return new Ne(this.x-this.width,this.y-this.height,this.width,this.height)},t.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},t}(),Mf=function(){function t(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=Array.isArray(r[0])?r[0]:r;if(typeof i[0]!="number"){for(var s=[],o=0,a=i.length;o<a;o++)s.push(i[o].x,i[o].y);i=s}this.points=i,this.type=jt.POLY,this.closeStroke=!0}return t.prototype.clone=function(){var e=this.points.slice(),r=new t(e);return r.closeStroke=this.closeStroke,r},t.prototype.contains=function(e,r){for(var n=!1,i=this.points.length/2,s=0,o=i-1;s<i;o=s++){var a=this.points[s*2],u=this.points[s*2+1],f=this.points[o*2],d=this.points[o*2+1],p=u>r!=d>r&&e<(f-a)*((r-u)/(d-u))+a;p&&(n=!n)}return n},t.prototype.toString=function(){return"[@pixi/math:Polygon"+("closeStroke="+this.closeStroke)+("points="+this.points.reduce(function(e,r){return e+", "+r},"")+"]")},t}(),bN=function(){function t(e,r,n,i,s){e===void 0&&(e=0),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=0),s===void 0&&(s=20),this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=jt.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){var n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;var i=e-(this.x+n),s=r-(this.y+n),o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1},t.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+("width="+this.width+" height="+this.height+" radius="+this.radius+"]")},t}(),Xs=function(){function t(e,r,n,i){n===void 0&&(n=0),i===void 0&&(i=0),this._x=n,this._y=i,this.cb=e,this.scope=r}return t.prototype.clone=function(e,r){return e===void 0&&(e=this.cb),r===void 0&&(r=this.scope),new t(e,r,this._x,this._y)},t.prototype.set=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=e),(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this},t.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},t.prototype.copyTo=function(e){return e.set(this._x,this._y),e},t.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},t.prototype.toString=function(){return"[@pixi/math:ObservablePoint x="+0+" y="+0+" scope="+this.scope+"]"},Object.defineProperty(t.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),t}(),kt=function(){function t(e,r,n,i,s,o){e===void 0&&(e=1),r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=0),o===void 0&&(o=0),this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}return t.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},t.prototype.set=function(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this},t.prototype.toArray=function(e,r){this.array||(this.array=new Float32Array(9));var n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},t.prototype.apply=function(e,r){r=r||new Ke;var n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r},t.prototype.applyInverse=function(e,r){r=r||new Ke;var n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r},t.prototype.translate=function(e,r){return this.tx+=e,this.ty+=r,this},t.prototype.scale=function(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this},t.prototype.rotate=function(e){var r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this},t.prototype.append=function(e){var r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this},t.prototype.setTransform=function(e,r,n,i,s,o,a,u,f){return this.a=Math.cos(a+f)*s,this.b=Math.sin(a+f)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this},t.prototype.prepend=function(e){var r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){var n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this},t.prototype.decompose=function(e){var r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),f=Math.abs(a+u);return f<1e-5||Math.abs(Tc-f)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e},t.prototype.invert=function(){var e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},t.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(t,"IDENTITY",{get:function(){return new t},enumerable:!1,configurable:!0}),Object.defineProperty(t,"TEMP_MATRIX",{get:function(){return new t},enumerable:!1,configurable:!0}),t}(),Is=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ps=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Os=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Ns=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Um=[],tw=[],Gh=Math.sign;function EN(){for(var t=0;t<16;t++){var e=[];Um.push(e);for(var r=0;r<16;r++)for(var n=Gh(Is[t]*Is[r]+Os[t]*Ps[r]),i=Gh(Ps[t]*Is[r]+Ns[t]*Ps[r]),s=Gh(Is[t]*Os[r]+Os[t]*Ns[r]),o=Gh(Ps[t]*Os[r]+Ns[t]*Ns[r]),a=0;a<16;a++)if(Is[a]===n&&Ps[a]===i&&Os[a]===s&&Ns[a]===o){e.push(a);break}}for(var t=0;t<16;t++){var u=new kt;u.set(Is[t],Ps[t],Os[t],Ns[t],0,0),tw.push(u)}}EN();var ft={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(t){return Is[t]},uY:function(t){return Ps[t]},vX:function(t){return Os[t]},vY:function(t){return Ns[t]},inv:function(t){return t&8?t&15:-t&7},add:function(t,e){return Um[t][e]},sub:function(t,e){return Um[t][ft.inv(e)]},rotate180:function(t){return t^4},isVertical:function(t){return(t&3)===2},byDirection:function(t,e){return Math.abs(t)*2<=Math.abs(e)?e>=0?ft.S:ft.N:Math.abs(e)*2<=Math.abs(t)?t>0?ft.E:ft.W:e>0?t>0?ft.SE:ft.SW:t>0?ft.NE:ft.NW},matrixAppendRotationInv:function(t,e,r,n){r===void 0&&(r=0),n===void 0&&(n=0);var i=tw[ft.inv(e)];i.tx=r,i.ty=n,t.append(i)}},rw=function(){function t(){this.worldTransform=new kt,this.localTransform=new kt,this.position=new Xs(this.onChange,this,0,0),this.scale=new Xs(this.onChange,this,1,1),this.pivot=new Xs(this.onChange,this,0,0),this.skew=new Xs(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},t.prototype.toString=function(){return"[@pixi/math:Transform "+("position=("+this.position.x+", "+this.position.y+") ")+("rotation="+this.rotation+" ")+("scale=("+this.scale.x+", "+this.scale.y+") ")+("skew=("+this.skew.x+", "+this.skew.y+") ")+"]"},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){var r=this.localTransform;if(this._localID!==this._currentLocalID&&(r.a=this._cx*this.scale.x,r.b=this._sx*this.scale.x,r.c=this._cy*this.scale.y,r.d=this._sy*this.scale.y,r.tx=this.position.x-(this.pivot.x*r.a+this.pivot.y*r.c),r.ty=this.position.y-(this.pivot.x*r.b+this.pivot.y*r.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var n=e.worldTransform,i=this.worldTransform;i.a=r.a*n.a+r.b*n.c,i.b=r.a*n.b+r.b*n.d,i.c=r.c*n.a+r.d*n.c,i.d=r.c*n.b+r.d*n.d,i.tx=r.tx*n.a+r.ty*n.c+n.tx,i.ty=r.tx*n.b+r.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),t.IDENTITY=new t,t}();/*!
 * @pixi/display - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/display is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */K.SORTABLE_CHILDREN=!1;var wc=function(){function t(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},t.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Ne.EMPTY:(e=e||new Ne(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},t.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},t.prototype.addPointMatrix=function(e,r){var n=e.a,i=e.b,s=e.c,o=e.d,a=e.tx,u=e.ty,f=n*r.x+s*r.y+a,d=i*r.x+o*r.y+u;this.minX=Math.min(this.minX,f),this.maxX=Math.max(this.maxX,f),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)},t.prototype.addQuad=function(e){var r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s},t.prototype.addFrame=function(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)},t.prototype.addFrameMatrix=function(e,r,n,i,s){var o=e.a,a=e.b,u=e.c,f=e.d,d=e.tx,p=e.ty,v=this.minX,g=this.minY,_=this.maxX,b=this.maxY,m=o*r+u*n+d,E=a*r+f*n+p;v=m<v?m:v,g=E<g?E:g,_=m>_?m:_,b=E>b?E:b,m=o*i+u*n+d,E=a*i+f*n+p,v=m<v?m:v,g=E<g?E:g,_=m>_?m:_,b=E>b?E:b,m=o*r+u*s+d,E=a*r+f*s+p,v=m<v?m:v,g=E<g?E:g,_=m>_?m:_,b=E>b?E:b,m=o*i+u*s+d,E=a*i+f*s+p,v=m<v?m:v,g=E<g?E:g,_=m>_?m:_,b=E>b?E:b,this.minX=v,this.minY=g,this.maxX=_,this.maxY=b},t.prototype.addVertexData=function(e,r,n){for(var i=this.minX,s=this.minY,o=this.maxX,a=this.maxY,u=r;u<n;u+=2){var f=e[u],d=e[u+1];i=f<i?f:i,s=d<s?d:s,o=f>o?f:o,a=d>a?d:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a},t.prototype.addVertices=function(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)},t.prototype.addVerticesMatrix=function(e,r,n,i,s,o){s===void 0&&(s=0),o===void 0&&(o=s);for(var a=e.a,u=e.b,f=e.c,d=e.d,p=e.tx,v=e.ty,g=this.minX,_=this.minY,b=this.maxX,m=this.maxY,E=n;E<i;E+=2){var T=r[E],S=r[E+1],A=a*T+f*S+p,R=d*S+u*T+v;g=Math.min(g,A-s),b=Math.max(b,A+s),_=Math.min(_,R-o),m=Math.max(m,R+o)}this.minX=g,this.minY=_,this.maxX=b,this.maxY=m},t.prototype.addBounds=function(e){var r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s},t.prototype.addBoundsMask=function(e,r){var n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){var a=this.minX,u=this.minY,f=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>f?s:f,this.maxY=o>d?o:d}},t.prototype.addBoundsMatrix=function(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.addBoundsArea=function(e,r){var n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){var a=this.minX,u=this.minY,f=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>f?s:f,this.maxY=o>d?o:d}},t.prototype.pad=function(e,r){e===void 0&&(e=0),r===void 0&&(r=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)},t.prototype.addFramePad=function(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gm=function(t,e){return Gm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Gm(t,e)};function F0(t,e){Gm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bt=function(t){F0(e,t);function e(){var r=t.call(this)||this;return r.tempDisplayObjectParent=null,r.transform=new rw,r.alpha=1,r.visible=!0,r.renderable=!0,r.cullable=!1,r.cullArea=null,r.parent=null,r.worldAlpha=1,r._lastSortedIndex=0,r._zIndex=0,r.filterArea=null,r.filters=null,r._enabledFilters=null,r._bounds=new wc,r._localBounds=null,r._boundsID=0,r._boundsRect=null,r._localBoundsRect=null,r._mask=null,r._maskRefCount=0,r._destroyed=!1,r.isSprite=!1,r.isMask=!1,r}return e.mixin=function(r){for(var n=Object.keys(r),i=0;i<n.length;++i){var s=n[i];Object.defineProperty(e.prototype,s,Object.getOwnPropertyDescriptor(r,s))}},Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},e.prototype.getBounds=function(r,n){return r||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),n||(this._boundsRect||(this._boundsRect=new Ne),n=this._boundsRect),this._bounds.getRectangle(n)},e.prototype.getLocalBounds=function(r){r||(this._localBoundsRect||(this._localBoundsRect=new Ne),r=this._localBoundsRect),this._localBounds||(this._localBounds=new wc);var n=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var s=this._bounds,o=this._boundsID;this._bounds=this._localBounds;var a=this.getBounds(!1,r);return this.parent=i,this.transform=n,this._bounds=s,this._bounds.updateID+=this._boundsID-o,a},e.prototype.toGlobal=function(r,n,i){return i===void 0&&(i=!1),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(r,n)},e.prototype.toLocal=function(r,n,i,s){return n&&(r=n.toGlobal(r,i,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(r,i)},e.prototype.setParent=function(r){if(!r||!r.addChild)throw new Error("setParent: Argument must be a Container");return r.addChild(this),r},e.prototype.setTransform=function(r,n,i,s,o,a,u,f,d){return r===void 0&&(r=0),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=1),o===void 0&&(o=0),a===void 0&&(a=0),u===void 0&&(u=0),f===void 0&&(f=0),d===void 0&&(d=0),this.position.x=r,this.position.y=n,this.scale.x=i||1,this.scale.y=s||1,this.rotation=o,this.skew.x=a,this.skew.y=u,this.pivot.x=f,this.pivot.y=d,this},e.prototype.destroy=function(r){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(e.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new nw),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),e.prototype.enableTempParent=function(){var r=this.parent;return this.parent=this._tempDisplayObjectParent,r},e.prototype.disableTempParent=function(r){this.parent=r},Object.defineProperty(e.prototype,"x",{get:function(){return this.position.x},set:function(r){this.transform.position.x=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this.position.y},set:function(r){this.transform.position.y=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"position",{get:function(){return this.transform.position},set:function(r){this.transform.position.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this.transform.scale},set:function(r){this.transform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(r){this.transform.pivot.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"skew",{get:function(){return this.transform.skew},set:function(r){this.transform.skew.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(r){this.transform.rotation=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"angle",{get:function(){return this.transform.rotation*gN},set:function(r){this.transform.rotation=r*yN},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zIndex",{get:function(){return this._zIndex},set:function(r){this._zIndex=r,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"worldVisible",{get:function(){var r=this;do{if(!r.visible)return!1;r=r.parent}while(r);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mask",{get:function(){return this._mask},set:function(r){if(this._mask!==r){if(this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount--,n._maskRefCount===0&&(n.renderable=!0,n.isMask=!1))}if(this._mask=r,this._mask){var n=this._mask.isMaskData?this._mask.maskObject:this._mask;n&&(n._maskRefCount===0&&(n.renderable=!1,n.isMask=!0),n._maskRefCount++)}}},enumerable:!1,configurable:!0}),e}(Eu),nw=function(t){F0(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.sortDirty=null,r}return e}(bt);bt.prototype.displayObjectUpdateTransform=bt.prototype.updateTransform;function TN(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}var Dt=function(t){F0(e,t);function e(){var r=t.call(this)||this;return r.children=[],r.sortableChildren=K.SORTABLE_CHILDREN,r.sortDirty=!1,r}return e.prototype.onChildrenChange=function(r){},e.prototype.addChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var s=0;s<n.length;s++)this.addChild(n[s]);else{var o=n[0];o.parent&&o.parent.removeChild(o),o.parent=this,this.sortDirty=!0,o.transform._parentID=-1,this.children.push(o),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",o,this,this.children.length-1),o.emit("added",this)}return n[0]},e.prototype.addChildAt=function(r,n){if(n<0||n>this.children.length)throw new Error(r+"addChildAt: The index "+n+" supplied is out of bounds "+this.children.length);return r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.splice(n,0,r),this._boundsID++,this.onChildrenChange(n),r.emit("added",this),this.emit("childAdded",r,this,n),r},e.prototype.swapChildren=function(r,n){if(r!==n){var i=this.getChildIndex(r),s=this.getChildIndex(n);this.children[i]=n,this.children[s]=r,this.onChildrenChange(i<s?i:s)}},e.prototype.getChildIndex=function(r){var n=this.children.indexOf(r);if(n===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return n},e.prototype.setChildIndex=function(r,n){if(n<0||n>=this.children.length)throw new Error("The index "+n+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(r);oa(this.children,i,1),this.children.splice(n,0,r),this.onChildrenChange(n)},e.prototype.getChildAt=function(r){if(r<0||r>=this.children.length)throw new Error("getChildAt: Index ("+r+") does not exist.");return this.children[r]},e.prototype.removeChild=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(n.length>1)for(var s=0;s<n.length;s++)this.removeChild(n[s]);else{var o=n[0],a=this.children.indexOf(o);if(a===-1)return null;o.parent=null,o.transform._parentID=-1,oa(this.children,a,1),this._boundsID++,this.onChildrenChange(a),o.emit("removed",this),this.emit("childRemoved",o,this,a)}return n[0]},e.prototype.removeChildAt=function(r){var n=this.getChildAt(r);return n.parent=null,n.transform._parentID=-1,oa(this.children,r,1),this._boundsID++,this.onChildrenChange(r),n.emit("removed",this),this.emit("childRemoved",n,this,r),n},e.prototype.removeChildren=function(r,n){r===void 0&&(r=0),n===void 0&&(n=this.children.length);var i=r,s=n,o=s-i,a;if(o>0&&o<=s){a=this.children.splice(i,o);for(var u=0;u<a.length;++u)a[u].parent=null,a[u].transform&&(a[u].transform._parentID=-1);this._boundsID++,this.onChildrenChange(r);for(var u=0;u<a.length;++u)a[u].emit("removed",this),this.emit("childRemoved",a[u],this,u);return a}else if(o===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.sortChildren=function(){for(var r=!1,n=0,i=this.children.length;n<i;++n){var s=this.children[n];s._lastSortedIndex=n,!r&&s.zIndex!==0&&(r=!0)}r&&this.children.length>1&&this.children.sort(TN),this.sortDirty=!1},e.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var r=0,n=this.children.length;r<n;++r){var i=this.children[r];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var r=0;r<this.children.length;r++){var n=this.children[r];if(!(!n.visible||!n.renderable))if(n.calculateBounds(),n._mask){var i=n._mask.isMaskData?n._mask.maskObject:n._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(n._bounds,i._bounds)):this._bounds.addBounds(n._bounds)}else n.filterArea?this._bounds.addBoundsArea(n._bounds,n.filterArea):this._bounds.addBounds(n._bounds)}this._bounds.updateID=this._boundsID},e.prototype.getLocalBounds=function(r,n){n===void 0&&(n=!1);var i=t.prototype.getLocalBounds.call(this,r);if(!n)for(var s=0,o=this.children.length;s<o;++s){var a=this.children[s];a.visible&&a.updateTransform()}return i},e.prototype._calculateBounds=function(){},e.prototype._renderWithCulling=function(r){var n=r.renderTexture.sourceFrame;if(n.width>0&&n.height>0){var i,s;if(this.cullArea?(i=this.cullArea,s=this.worldTransform):this._render!==e.prototype._render&&(i=this.getBounds(!0)),i&&n.intersects(i,s))this._render(r);else if(this.cullArea)return;for(var o=0,a=this.children.length;o<a;++o){var u=this.children[o],f=u.cullable;u.cullable=f||!this.cullArea,u.render(r),u.cullable=f}}},e.prototype.render=function(r){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(r);else if(this.cullable)this._renderWithCulling(r);else{this._render(r);for(var n=0,i=this.children.length;n<i;++n)this.children[n].render(r)}},e.prototype.renderAdvanced=function(r){var n=this.filters,i=this._mask;if(n){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var s=0;s<n.length;s++)n[s].enabled&&this._enabledFilters.push(n[s])}var o=n&&this._enabledFilters&&this._enabledFilters.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==At.NONE));if(o&&r.batch.flush(),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.push(this,this._enabledFilters),i&&r.mask.push(this,this._mask),this.cullable)this._renderWithCulling(r);else{this._render(r);for(var s=0,a=this.children.length;s<a;++s)this.children[s].render(r)}o&&r.batch.flush(),i&&r.mask.pop(this),n&&this._enabledFilters&&this._enabledFilters.length&&r.filter.pop()},e.prototype._render=function(r){},e.prototype.destroy=function(r){t.prototype.destroy.call(this),this.sortDirty=!1;var n=typeof r=="boolean"?r:r&&r.children,i=this.removeChildren(0,this.children.length);if(n)for(var s=0;s<i.length;++s)i[s].destroy(r)},Object.defineProperty(e.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(r){var n=this.getLocalBounds().width;n!==0?this.scale.x=r/n:this.scale.x=1,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(r){var n=this.getLocalBounds().height;n!==0?this.scale.y=r/n:this.scale.y=1,this._height=r},enumerable:!1,configurable:!0}),e}(bt);Dt.prototype.containerUpdateTransform=Dt.prototype.updateTransform;/*!
 * @pixi/extensions - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/extensions is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Gl=function(){return Gl=Object.assign||function(e){for(var r=arguments,n,i=1,s=arguments.length;i<s;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Gl.apply(this,arguments)},We;(function(t){t.Application="application",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Loader="loader",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser"})(We||(We={}));var fx=function(t){if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");var e=typeof t.extension!="object"?{type:t.extension}:t.extension;t=Gl(Gl({},e),{ref:t})}if(typeof t=="object")t=Gl({},t);else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},mi={_addHandlers:null,_removeHandlers:null,_queue:{},remove:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(fx).forEach(function(i){i.type.forEach(function(s){var o,a;return(a=(o=e._removeHandlers)[s])===null||a===void 0?void 0:a.call(o,i)})}),this},add:function(){for(var t=arguments,e=this,r=[],n=0;n<arguments.length;n++)r[n]=t[n];return r.map(fx).forEach(function(i){i.type.forEach(function(s){var o=e._addHandlers,a=e._queue;o[s]?o[s](i):(a[s]=a[s]||[],a[s].push(i))})}),this},handle:function(t,e,r){var n=this._addHandlers=this._addHandlers||{},i=this._removeHandlers=this._removeHandlers||{};if(n[t]||i[t])throw new Error("Extension type "+t+" already has a handler");n[t]=e,i[t]=r;var s=this._queue;return s[t]&&(s[t].forEach(function(o){return e(o)}),delete s[t]),this},handleByMap:function(t,e){return this.handle(t,function(r){e[r.name]=r.ref},function(r){delete e[r.name]})},handleByList:function(t,e){return this.handle(t,function(r){var n,i;e.push(r.ref),t===We.Loader&&((i=(n=r.ref).add)===null||i===void 0||i.call(n))},function(r){var n=e.indexOf(r.ref);n!==-1&&e.splice(n,1)})}};/*!
 * @pixi/runner - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/runner is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Kt=function(){function t(e){this.items=[],this._name=e,this._aliasCount=0}return t.prototype.emit=function(e,r,n,i,s,o,a,u){if(arguments.length>8)throw new Error("max arguments reached");var f=this,d=f.name,p=f.items;this._aliasCount++;for(var v=0,g=p.length;v<g;v++)p[v][d](e,r,n,i,s,o,a,u);return p===this.items&&this._aliasCount--,this},t.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},t.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},t.prototype.remove=function(e){var r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this},t.prototype.contains=function(e){return this.items.indexOf(e)!==-1},t.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},t.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(t.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),t}();Object.defineProperties(Kt.prototype,{dispatch:{value:Kt.prototype.emit},run:{value:Kt.prototype.emit}});/*!
 * @pixi/ticker - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/ticker is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */K.TARGET_FPMS=.06;var pi;(function(t){t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY"})(pi||(pi={}));var Kp=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}return t.prototype.match=function(e,r){return r===void 0&&(r=null),this.fn===e&&this.context===r},t.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r},t.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},t.prototype.destroy=function(e){e===void 0&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var r=this.next;return this.next=e?null:r,this.previous=null,r},t}(),zt=function(){function t(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Kp(null,null,1/0),this.deltaMS=1/K.TARGET_FPMS,this.elapsedMS=1/K.TARGET_FPMS,this._tick=function(r){e._requestId=null,e.started&&(e.update(r),e.started&&e._requestId===null&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(e,r,n){return n===void 0&&(n=pi.NORMAL),this._addListener(new Kp(e,r,n))},t.prototype.addOnce=function(e,r,n){return n===void 0&&(n=pi.NORMAL),this._addListener(new Kp(e,r,n,!0))},t.prototype._addListener=function(e){var r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this},t.prototype.remove=function(e,r){for(var n=this._head.next;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(t.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,r=this._head;r=r.next;)e++;return e},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},t.prototype.update=function(e){e===void 0&&(e=performance.now());var r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){var n=e-this._lastFrame|0;if(n<this._minElapsedMS)return;this._lastFrame=e-n%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*K.TARGET_FPMS;for(var i=this._head,s=i.next;s;)s=s.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(t.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,K.TARGET_FPMS);this._maxElapsedMS=1/n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(e===0)this._minElapsedMS=0;else{var r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(t,"shared",{get:function(){if(!t._shared){var e=t._shared=new t;e.autoStart=!0,e._protected=!0}return t._shared},enumerable:!1,configurable:!0}),Object.defineProperty(t,"system",{get:function(){if(!t._system){var e=t._system=new t;e.autoStart=!0,e._protected=!0}return t._system},enumerable:!1,configurable:!0}),t}(),wN=function(){function t(){}return t.init=function(e){var r=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(n){this._ticker&&this._ticker.remove(this.render,this),this._ticker=n,n&&n.add(this.render,this,pi.LOW)},get:function(){return this._ticker}}),this.stop=function(){r._ticker.stop()},this.start=function(){r._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?zt.shared:new zt,e.autoStart&&this.start()},t.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},t.extension=We.Application,t}();/*!
 * @pixi/core - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/core is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */K.PREFER_ENV=Rn.any?di.WEBGL:di.WEBGL2;K.STRICT_TEXTURE_CACHE=!1;var zm=[];function iw(t,e){if(!t)return null;var r="";if(typeof t=="string"){var n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(var i=zm.length-1;i>=0;--i){var s=zm[i];if(s.test&&s.test(t,r))return new s(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var jm=function(t,e){return jm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},jm(t,e)};function Je(t,e){jm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Hm=function(){return Hm=Object.assign||function(e){for(var r=arguments,n,i=1,s=arguments.length;i<s;i++){n=r[i];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Hm.apply(this,arguments)};function SN(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}var uu=function(){function t(e,r){e===void 0&&(e=0),r===void 0&&(r=0),this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Kt("setRealSize"),this.onUpdate=new Kt("update"),this.onError=new Kt("onError")}return t.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},t.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},t.prototype.resize=function(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))},Object.defineProperty(t.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.destroyed||this.onUpdate.emit()},t.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),t.prototype.style=function(e,r,n){return!1},t.prototype.dispose=function(){},t.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},t.test=function(e,r){return!1},t}(),Tu=function(t){Je(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height;if(!o||!a)throw new Error("BufferResource width or height invalid");return i=t.call(this,o,a)||this,i.data=r,i}return e.prototype.upload=function(r,n,i){var s=r.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===dn.UNPACK);var o=n.realWidth,a=n.realHeight;return i.width===o&&i.height===a?s.texSubImage2D(n.target,0,0,0,o,a,n.format,i.type,this.data):(i.width=o,i.height=a,s.texImage2D(n.target,0,i.internalFormat,o,a,0,n.format,i.type,this.data)),!0},e.prototype.dispose=function(){this.data=null},e.test=function(r){return r instanceof Float32Array||r instanceof Uint8Array||r instanceof Uint32Array},e}(uu),AN={scaleMode:Cn.NEAREST,format:q.RGBA,alphaMode:dn.NPM},Oe=function(t){Je(e,t);function e(r,n){r===void 0&&(r=null),n===void 0&&(n=null);var i=t.call(this)||this;n=n||{};var s=n.alphaMode,o=n.mipmap,a=n.anisotropicLevel,u=n.scaleMode,f=n.width,d=n.height,p=n.wrapMode,v=n.format,g=n.type,_=n.target,b=n.resolution,m=n.resourceOptions;return r&&!(r instanceof uu)&&(r=iw(r,m),r.internal=!0),i.resolution=b||K.RESOLUTION,i.width=Math.round((f||0)*i.resolution)/i.resolution,i.height=Math.round((d||0)*i.resolution)/i.resolution,i._mipmap=o!==void 0?o:K.MIPMAP_TEXTURES,i.anisotropicLevel=a!==void 0?a:K.ANISOTROPIC_LEVEL,i._wrapMode=p||K.WRAP_MODE,i._scaleMode=u!==void 0?u:K.SCALE_MODE,i.format=v||q.RGBA,i.type=g||de.UNSIGNED_BYTE,i.target=_||Ys.TEXTURE_2D,i.alphaMode=s!==void 0?s:dn.UNPACK,i.uid=to(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=f>0&&d>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(r),i}return Object.defineProperty(e.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mipmap",{get:function(){return this._mipmap},set:function(r){this._mipmap!==r&&(this._mipmap=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(r){this._scaleMode!==r&&(this._scaleMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(r){this._wrapMode!==r&&(this._wrapMode=r,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),e.prototype.setStyle=function(r,n){var i;return r!==void 0&&r!==this.scaleMode&&(this.scaleMode=r,i=!0),n!==void 0&&n!==this.mipmap&&(this.mipmap=n,i=!0),i&&this.dirtyStyleId++,this},e.prototype.setSize=function(r,n,i){return i=i||this.resolution,this.setRealSize(r*i,n*i,i)},e.prototype.setRealSize=function(r,n,i){return this.resolution=i||this.resolution,this.width=Math.round(r)/this.resolution,this.height=Math.round(n)/this.resolution,this._refreshPOT(),this.update(),this},e.prototype._refreshPOT=function(){this.isPowerOfTwo=ox(this.realWidth)&&ox(this.realHeight)},e.prototype.setResolution=function(r){var n=this.resolution;return n===r?this:(this.resolution=r,this.valid&&(this.width=Math.round(this.width*n)/r,this.height=Math.round(this.height*n)/r,this.emit("update",this)),this._refreshPOT(),this)},e.prototype.setResource=function(r){if(this.resource===r)return this;if(this.resource)throw new Error("Resource can be set only once");return r.bind(this),this.resource=r,this},e.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},e.prototype.onError=function(r){this.emit("error",this,r)},e.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete bs[this.cacheId],delete Jn[this.cacheId],this.cacheId=null),this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.castToBaseTexture=function(){return this},e.from=function(r,n,i){i===void 0&&(i=K.STRICT_TEXTURE_CACHE);var s=typeof r=="string",o=null;if(s)o=r;else{if(!r._pixiId){var a=n&&n.pixiIdPrefix||"pixiid";r._pixiId=a+"_"+to()}o=r._pixiId}var u=bs[o];if(s&&i&&!u)throw new Error('The cacheId "'+o+'" does not exist in BaseTextureCache.');return u||(u=new e(r,n),u.cacheId=o,e.addToCache(u,o)),u},e.fromBuffer=function(r,n,i,s){r=r||new Float32Array(n*i*4);var o=new Tu(r,{width:n,height:i}),a=r instanceof Float32Array?de.FLOAT:de.UNSIGNED_BYTE;return new e(o,Object.assign({},AN,s||{width:n,height:i,type:a}))},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),bs[n]&&console.warn("BaseTexture added to the cache with an id ["+n+"] that already had an entry"),bs[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=bs[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete bs[r],n}}else if(r&&r.textureCacheIds){for(var s=0;s<r.textureCacheIds.length;++s)delete bs[r.textureCacheIds[s]];return r.textureCacheIds.length=0,r}return null},e._globalBatch=0,e}(Eu),sw=function(t){Je(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height;i=t.call(this,o,a)||this,i.items=[],i.itemDirtyIds=[];for(var u=0;u<r;u++){var f=new Oe;i.items.push(f),i.itemDirtyIds.push(-2)}return i.length=r,i._load=null,i.baseTexture=null,i}return e.prototype.initFromArray=function(r,n){for(var i=0;i<this.length;i++)!r[i]||(r[i].castToBaseTexture?this.addBaseTextureAt(r[i].castToBaseTexture(),i):r[i]instanceof uu?this.addResourceAt(r[i],i):this.addResourceAt(iw(r[i],n),i))},e.prototype.dispose=function(){for(var r=0,n=this.length;r<n;r++)this.items[r].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},e.prototype.addResourceAt=function(r,n){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");return r.valid&&!this.valid&&this.resize(r.width,r.height),this.items[n].setResource(r),this},e.prototype.bind=function(r){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");t.prototype.bind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=r,this.items[n].on("update",r.update,r)},e.prototype.unbind=function(r){t.prototype.unbind.call(this,r);for(var n=0;n<this.length;n++)this.items[n].parentTextureArray=null,this.items[n].off("update",r.update,r)},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.items.map(function(s){return s.resource}).filter(function(s){return s}),i=n.map(function(s){return s.load()});return this._load=Promise.all(i).then(function(){var s=r.items[0],o=s.realWidth,a=s.realHeight;return r.resize(o,a),Promise.resolve(r)}),this._load},e}(uu),CN=function(t){Je(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height,u,f;return Array.isArray(r)?(u=r,f=r.length):f=r,i=t.call(this,f,{width:o,height:a})||this,u&&i.initFromArray(u,n),i}return e.prototype.addBaseTextureAt=function(r,n){if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("ArrayResource does not support RenderTexture");return this},e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=Ys.TEXTURE_2D_ARRAY},e.prototype.upload=function(r,n,i){var s=this,o=s.length,a=s.itemDirtyIds,u=s.items,f=r.gl;i.dirtyId<0&&f.texImage3D(f.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,o,0,n.format,i.type,null);for(var d=0;d<o;d++){var p=u[d];a[d]<p.dirtyId&&(a[d]=p.dirtyId,p.valid&&f.texSubImage3D(f.TEXTURE_2D_ARRAY,0,0,0,d,p.resource.width,p.resource.height,1,n.format,i.type,p.resource.source))}return!0},e}(sw),os=function(t){Je(e,t);function e(r){var n=this,i=r,s=i.naturalWidth||i.videoWidth||i.width,o=i.naturalHeight||i.videoHeight||i.height;return n=t.call(this,s,o)||this,n.source=r,n.noSubImage=!1,n}return e.crossOrigin=function(r,n,i){i===void 0&&n.indexOf("data:")!==0?r.crossOrigin=mN(n):i!==!1&&(r.crossOrigin=typeof i=="string"?i:"anonymous")},e.prototype.upload=function(r,n,i,s){var o=r.gl,a=n.realWidth,u=n.realHeight;if(s=s||this.source,s instanceof HTMLImageElement){if(!s.complete||s.naturalWidth===0)return!1}else if(s instanceof HTMLVideoElement&&s.readyState<=1)return!1;return o.pixelStorei(o.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===dn.UNPACK),!this.noSubImage&&n.target===o.TEXTURE_2D&&i.width===a&&i.height===u?o.texSubImage2D(o.TEXTURE_2D,0,0,0,n.format,i.type,s):(i.width=a,i.height=u,o.texImage2D(n.target,0,i.internalFormat,n.format,i.type,s)),!0},e.prototype.update=function(){if(!this.destroyed){var r=this.source,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;this.resize(n,i),t.prototype.update.call(this)}},e.prototype.dispose=function(){this.source=null},e}(uu),RN=function(t){Je(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){var n=globalThis.OffscreenCanvas;return n&&r instanceof n?!0:globalThis.HTMLCanvasElement&&r instanceof HTMLCanvasElement},e}(os),IN=function(t){Je(e,t);function e(r,n){var i=this,s=n||{},o=s.width,a=s.height,u=s.autoLoad,f=s.linkBaseTexture;if(r&&r.length!==e.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");i=t.call(this,6,{width:o,height:a})||this;for(var d=0;d<e.SIDES;d++)i.items[d].target=Ys.TEXTURE_CUBE_MAP_POSITIVE_X+d;return i.linkBaseTexture=f!==!1,r&&i.initFromArray(r,n),u!==!1&&i.load(),i}return e.prototype.bind=function(r){t.prototype.bind.call(this,r),r.target=Ys.TEXTURE_CUBE_MAP},e.prototype.addBaseTextureAt=function(r,n,i){if(!this.items[n])throw new Error("Index "+n+" is out of bounds");if(!this.linkBaseTexture||r.parentTextureArray||Object.keys(r._glTextures).length>0)if(r.resource)this.addResourceAt(r.resource,n);else throw new Error("CubeResource does not support copying of renderTexture.");else r.target=Ys.TEXTURE_CUBE_MAP_POSITIVE_X+n,r.parentTextureArray=this.baseTexture,this.items[n]=r;return r.valid&&!this.valid&&this.resize(r.realWidth,r.realHeight),this.items[n]=r,this},e.prototype.upload=function(r,n,i){for(var s=this.itemDirtyIds,o=0;o<e.SIDES;o++){var a=this.items[o];(s[o]<a.dirtyId||i.dirtyId<n.dirtyId)&&(a.valid&&a.resource?(a.resource.upload(r,a,i),s[o]=a.dirtyId):s[o]<-1&&(r.gl.texImage2D(a.target,0,i.internalFormat,n.realWidth,n.realHeight,0,n.format,i.type,null),s[o]=-1))}return!0},e.test=function(r){return Array.isArray(r)&&r.length===e.SIDES},e.SIDES=6,e}(sw),ow=function(t){Je(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLImageElement)){var s=new Image;os.crossOrigin(s,r,n.crossorigin),s.src=r,r=s}return i=t.call(this,r)||this,!r.complete&&!!i._width&&!!i._height&&(i._width=0,i._height=0),i.url=r.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(n.createBitmap!==void 0?n.createBitmap:K.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode=typeof n.alphaMode=="number"?n.alphaMode:null,i.bitmap=null,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(r){var n=this;return this._load?this._load:(r!==void 0&&(this.createBitmap=r),this._load=new Promise(function(i,s){var o=n.source;n.url=o.src;var a=function(){n.destroyed||(o.onload=null,o.onerror=null,n.resize(o.width,o.height),n._load=null,n.createBitmap?i(n.process()):i(n))};o.complete&&o.src?a():(o.onload=a,o.onerror=function(u){s(u),n.onError.emit(u)})}),this._load)},e.prototype.process=function(){var r=this,n=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var i=globalThis.createImageBitmap,s=!n.crossOrigin||n.crossOrigin==="anonymous";return this._process=fetch(n.src,{mode:s?"cors":"no-cors"}).then(function(o){return o.blob()}).then(function(o){return i(o,0,0,n.width,n.height,{premultiplyAlpha:r.alphaMode===null||r.alphaMode===dn.UNPACK?"premultiply":"none"})}).then(function(o){return r.destroyed?Promise.reject():(r.bitmap=o,r.update(),r._process=null,Promise.resolve(r))}),this._process},e.prototype.upload=function(r,n,i){if(typeof this.alphaMode=="number"&&(n.alphaMode=this.alphaMode),!this.createBitmap)return t.prototype.upload.call(this,r,n,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(t.prototype.upload.call(this,r,n,i,this.bitmap),!this.preserveBitmap){var s=!0,o=n._glTextures;for(var a in o){var u=o[a];if(u!==i&&u.dirtyId!==n.dirtyId){s=!1;break}}s&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},e.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,t.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},e.test=function(r){return typeof r=="string"||r instanceof HTMLImageElement},e}(os),PN=function(t){Je(e,t);function e(r,n){var i=this;return n=n||{},i=t.call(this,K.ADAPTER.createCanvas())||this,i._width=0,i._height=0,i.svg=r,i.scale=n.scale||1,i._overrideWidth=n.width,i._overrideHeight=n.height,i._resolve=null,i._crossorigin=n.crossorigin,i._load=null,n.autoLoad!==!1&&i.load(),i}return e.prototype.load=function(){var r=this;return this._load?this._load:(this._load=new Promise(function(n){if(r._resolve=function(){r.resize(r.source.width,r.source.height),n(r)},e.SVG_XML.test(r.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");r.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(r.svg)))}r._loadSvg()}),this._load)},e.prototype._loadSvg=function(){var r=this,n=new Image;os.crossOrigin(n,this.svg,this._crossorigin),n.src=this.svg,n.onerror=function(i){!r._resolve||(n.onerror=null,r.onError.emit(i))},n.onload=function(){if(!!r._resolve){var i=n.width,s=n.height;if(!i||!s)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var o=i*r.scale,a=s*r.scale;(r._overrideWidth||r._overrideHeight)&&(o=r._overrideWidth||r._overrideHeight/s*i,a=r._overrideHeight||r._overrideWidth/i*s),o=Math.round(o),a=Math.round(a);var u=r.source;u.width=o,u.height=a,u._pixiId="canvas_"+to(),u.getContext("2d").drawImage(n,0,0,i,s,0,0,o,a),r._resolve(),r._resolve=null}}},e.getSize=function(r){var n=e.SVG_SIZE.exec(r),i={};return n&&(i[n[1]]=Math.round(parseFloat(n[3])),i[n[5]]=Math.round(parseFloat(n[7]))),i},e.prototype.dispose=function(){t.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},e.test=function(r,n){return n==="svg"||typeof r=="string"&&r.startsWith("data:image/svg+xml")||typeof r=="string"&&e.SVG_XML.test(r)},e.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e}(os),ON=function(t){Je(e,t);function e(r,n){var i=this;if(n=n||{},!(r instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),typeof r=="string"&&(r=[r]);var o=r[0].src||r[0];os.crossOrigin(s,o,n.crossorigin);for(var a=0;a<r.length;++a){var u=document.createElement("source"),f=r[a],d=f.src,p=f.mime;d=d||r[a];var v=d.split("?").shift().toLowerCase(),g=v.slice(v.lastIndexOf(".")+1);p=p||e.MIME_TYPES[g]||"video/"+g,u.src=d,u.type=p,s.appendChild(u)}r=s}return i=t.call(this,r)||this,i.noSubImage=!0,i._autoUpdate=!0,i._isConnectedToTicker=!1,i._updateFPS=n.updateFPS||0,i._msToNextUpdate=0,i.autoPlay=n.autoPlay!==!1,i._load=null,i._resolve=null,i._onCanPlay=i._onCanPlay.bind(i),i._onError=i._onError.bind(i),n.autoLoad!==!1&&i.load(),i}return e.prototype.update=function(r){if(!this.destroyed){var n=zt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-n),(!this._updateFPS||this._msToNextUpdate<=0)&&(t.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},e.prototype.load=function(){var r=this;if(this._load)return this._load;var n=this.source;return(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0),n.addEventListener("play",this._onPlayStart.bind(this)),n.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(n.addEventListener("canplay",this._onCanPlay),n.addEventListener("canplaythrough",this._onCanPlay),n.addEventListener("error",this._onError,!0)),this._load=new Promise(function(i){r.valid?i(r):(r._resolve=i,n.load())}),this._load},e.prototype._onError=function(r){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(r)},e.prototype._isSourcePlaying=function(){var r=this.source;return!r.paused&&!r.ended&&this._isSourceReady()},e.prototype._isSourceReady=function(){var r=this.source;return r.readyState>2},e.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(zt.shared.add(this.update,this),this._isConnectedToTicker=!0)},e.prototype._onPlayStop=function(){this._isConnectedToTicker&&(zt.shared.remove(this.update,this),this._isConnectedToTicker=!1)},e.prototype._onCanPlay=function(){var r=this.source;r.removeEventListener("canplay",this._onCanPlay),r.removeEventListener("canplaythrough",this._onCanPlay);var n=this.valid;this.resize(r.videoWidth,r.videoHeight),!n&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&r.play()},e.prototype.dispose=function(){this._isConnectedToTicker&&(zt.shared.remove(this.update,this),this._isConnectedToTicker=!1);var r=this.source;r&&(r.removeEventListener("error",this._onError,!0),r.pause(),r.src="",r.load()),t.prototype.dispose.call(this)},Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(zt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(zt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(r){r!==this._updateFPS&&(this._updateFPS=r)},enumerable:!1,configurable:!0}),e.test=function(r,n){return globalThis.HTMLVideoElement&&r instanceof HTMLVideoElement||e.TYPES.indexOf(n)>-1},e.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],e.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},e}(os),NN=function(t){Je(e,t);function e(r){return t.call(this,r)||this}return e.test=function(r){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&r instanceof ImageBitmap},e}(os);zm.push(ow,NN,RN,ON,PN,Tu,IN,CN);var MN=function(t){Je(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.prototype.upload=function(r,n,i){var s=r.gl;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,n.alphaMode===dn.UNPACK);var o=n.realWidth,a=n.realHeight;return i.width===o&&i.height===a?s.texSubImage2D(n.target,0,0,0,o,a,n.format,i.type,this.data):(i.width=o,i.height=a,s.texImage2D(n.target,0,i.internalFormat,o,a,0,n.format,i.type,this.data)),!0},e}(Tu),Xm=function(){function t(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Kt("disposeFramebuffer"),this.multisample=gt.NONE}return Object.defineProperty(t.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),t.prototype.addColorTexture=function(e,r){return e===void 0&&(e=0),this.colorTextures[e]=r||new Oe(null,{scaleMode:Cn.NEAREST,resolution:1,mipmap:cn.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.addDepthTexture=function(e){return this.depthTexture=e||new Oe(new MN(null,{width:this.width,height:this.height}),{scaleMode:Cn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:cn.OFF,format:q.DEPTH_COMPONENT,type:de.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},t.prototype.resize=function(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(var n=0;n<this.colorTextures.length;n++){var i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){var s=this.depthTexture.resolution;this.depthTexture.setSize(e/s,r/s)}}},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},t}(),aw=function(t){Je(e,t);function e(r){r===void 0&&(r={});var n=this;if(typeof r=="number"){var i=arguments[0],s=arguments[1],o=arguments[2],a=arguments[3];r={width:i,height:s,scaleMode:o,resolution:a}}return r.width=r.width||100,r.height=r.height||100,r.multisample=r.multisample!==void 0?r.multisample:gt.NONE,n=t.call(this,null,r)||this,n.mipmap=cn.OFF,n.valid=!0,n.clearColor=[0,0,0,0],n.framebuffer=new Xm(n.realWidth,n.realHeight).addColorTexture(0,n),n.framebuffer.multisample=r.multisample,n.maskStack=[],n.filterStack=[{}],n}return e.prototype.resize=function(r,n){this.framebuffer.resize(r*this.resolution,n*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},e.prototype.dispose=function(){this.framebuffer.dispose(),t.prototype.dispose.call(this)},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},e}(Oe),lw=function(){function t(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return t.prototype.set=function(e,r,n){var i=r.width,s=r.height;if(n){var o=e.width/2/i,a=e.height/2/s,u=e.x/i+o,f=e.y/s+a;n=ft.add(n,ft.NW),this.x0=u+o*ft.uX(n),this.y0=f+a*ft.uY(n),n=ft.add(n,2),this.x1=u+o*ft.uX(n),this.y1=f+a*ft.uY(n),n=ft.add(n,2),this.x2=u+o*ft.uX(n),this.y2=f+a*ft.uY(n),n=ft.add(n,2),this.x3=u+o*ft.uX(n),this.y3=f+a*ft.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},t.prototype.toString=function(){return"[@pixi/core:TextureUvs "+("x0="+this.x0+" y0="+this.y0+" ")+("x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" ")+("y2="+this.y2+" x3="+this.x3+" y3="+this.y3)+"]"},t}(),cx=new lw;function zh(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}var ce=function(t){Je(e,t);function e(r,n,i,s,o,a){var u=t.call(this)||this;if(u.noFrame=!1,n||(u.noFrame=!0,n=new Ne(0,0,1,1)),r instanceof e&&(r=r.baseTexture),u.baseTexture=r,u._frame=n,u.trim=s,u.valid=!1,u._uvs=cx,u.uvMatrix=null,u.orig=i||n,u._rotate=Number(o||0),o===!0)u._rotate=2;else if(u._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return u.defaultAnchor=a?new Ke(a.x,a.y):new Ke(0,0),u._updateID=0,u.textureCacheIds=[],r.valid?u.noFrame?r.valid&&u.onBaseTextureUpdated(r):u.frame=n:r.once("loaded",u.onBaseTextureUpdated,u),u.noFrame&&r.on("update",u.onBaseTextureUpdated,u),u}return e.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},e.prototype.onBaseTextureUpdated=function(r){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=r.width,this._frame.height=r.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},e.prototype.destroy=function(r){if(this.baseTexture){if(r){var n=this.baseTexture.resource;n&&n.url&&Jn[n.url]&&e.removeFromCache(n.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){var r=this._frame.clone(),n=this._frame===this.orig?r:this.orig.clone(),i=new e(this.baseTexture,!this.noFrame&&r,n,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=r),i},e.prototype.updateUvs=function(){this._uvs===cx&&(this._uvs=new lw),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.from=function(r,n,i){n===void 0&&(n={}),i===void 0&&(i=K.STRICT_TEXTURE_CACHE);var s=typeof r=="string",o=null;if(s)o=r;else if(r instanceof Oe){if(!r.cacheId){var a=n&&n.pixiIdPrefix||"pixiid";r.cacheId=a+"-"+to(),Oe.addToCache(r,r.cacheId)}o=r.cacheId}else{if(!r._pixiId){var a=n&&n.pixiIdPrefix||"pixiid";r._pixiId=a+"_"+to()}o=r._pixiId}var u=Jn[o];if(s&&i&&!u)throw new Error('The cacheId "'+o+'" does not exist in TextureCache.');return!u&&!(r instanceof Oe)?(n.resolution||(n.resolution=Ec(r)),u=new e(new Oe(r,n)),u.baseTexture.cacheId=o,Oe.addToCache(u.baseTexture,o),e.addToCache(u,o)):!u&&r instanceof Oe&&(u=new e(r),e.addToCache(u,o)),u},e.fromURL=function(r,n){var i=Object.assign({autoLoad:!1},n==null?void 0:n.resourceOptions),s=e.from(r,Object.assign({resourceOptions:i},n),!1),o=s.baseTexture.resource;return s.baseTexture.valid?Promise.resolve(s):o.load().then(function(){return Promise.resolve(s)})},e.fromBuffer=function(r,n,i,s){return new e(Oe.fromBuffer(r,n,i,s))},e.fromLoader=function(r,n,i,s){var o=new Oe(r,Object.assign({scaleMode:K.SCALE_MODE,resolution:Ec(n)},s)),a=o.resource;a instanceof ow&&(a.url=n);var u=new e(o);return i||(i=n),Oe.addToCache(u.baseTexture,i),e.addToCache(u,i),i!==n&&(Oe.addToCache(u.baseTexture,n),e.addToCache(u,n)),u.baseTexture.valid?Promise.resolve(u):new Promise(function(f){u.baseTexture.once("loaded",function(){return f(u)})})},e.addToCache=function(r,n){n&&(r.textureCacheIds.indexOf(n)===-1&&r.textureCacheIds.push(n),Jn[n]&&console.warn("Texture added to the cache with an id ["+n+"] that already had an entry"),Jn[n]=r)},e.removeFromCache=function(r){if(typeof r=="string"){var n=Jn[r];if(n){var i=n.textureCacheIds.indexOf(r);return i>-1&&n.textureCacheIds.splice(i,1),delete Jn[r],n}}else if(r&&r.textureCacheIds){for(var s=0;s<r.textureCacheIds.length;++s)Jn[r.textureCacheIds[s]]===r&&delete Jn[r.textureCacheIds[s]];return r.textureCacheIds.length=0,r}return null},Object.defineProperty(e.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frame",{get:function(){return this._frame},set:function(r){this._frame=r,this.noFrame=!1;var n=r.x,i=r.y,s=r.width,o=r.height,a=n+s>this.baseTexture.width,u=i+o>this.baseTexture.height;if(a||u){var f=a&&u?"and":"or",d="X: "+n+" + "+s+" = "+(n+s)+" > "+this.baseTexture.width,p="Y: "+i+" + "+o+" = "+(i+o)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+(d+" "+f+" "+p))}this.valid=s&&o&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=r),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rotate",{get:function(){return this._rotate},set:function(r){this._rotate=r,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),e.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(e,"EMPTY",{get:function(){return e._EMPTY||(e._EMPTY=new e(new Oe),zh(e._EMPTY),zh(e._EMPTY.baseTexture)),e._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"WHITE",{get:function(){if(!e._WHITE){var r=K.ADAPTER.createCanvas(16,16),n=r.getContext("2d");r.width=16,r.height=16,n.fillStyle="white",n.fillRect(0,0,16,16),e._WHITE=new e(Oe.from(r)),zh(e._WHITE),zh(e._WHITE.baseTexture)}return e._WHITE},enumerable:!1,configurable:!0}),e}(Eu),ro=function(t){Je(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return Object.defineProperty(e.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(r){this.framebuffer.multisample=r},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n,i){i===void 0&&(i=!0);var s=this.baseTexture.resolution,o=Math.round(r*s)/s,a=Math.round(n*s)/s;this.valid=o>0&&a>0,this._frame.width=this.orig.width=o,this._frame.height=this.orig.height=a,i&&this.baseTexture.resize(o,a),this.updateUvs()},e.prototype.setResolution=function(r){var n=this.baseTexture;n.resolution!==r&&(n.setResolution(r),this.resize(n.width,n.height,!1))},e.create=function(r){for(var n=arguments,i=[],s=1;s<arguments.length;s++)i[s-1]=n[s];return typeof r=="number"&&(hn("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),r={width:r,height:i[0],scaleMode:i[1],resolution:i[2]}),new e(new aw(r))},e}(ce),FN=function(){function t(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return t.prototype.createTexture=function(e,r,n){n===void 0&&(n=gt.NONE);var i=new aw(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new ro(i)},t.prototype.getOptimalTexture=function(e,r,n,i){n===void 0&&(n=1),i===void 0&&(i=gt.NONE);var s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=bc(e),r=bc(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);var o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o},t.prototype.getFilterTexture=function(e,r,n){var i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||gt.NONE);return i.filterFrame=e.filterFrame,i},t.prototype.returnTexture=function(e){var r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)},t.prototype.returnFilterTexture=function(e){this.returnTexture(e)},t.prototype.clear=function(e){if(e=e!==!1,e)for(var r in this.texturePool){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}},t.prototype.setScreenSize=function(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(var r in this.texturePool)if(Number(r)<0){var n=this.texturePool[r];if(n)for(var i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},t.SCREEN_KEY=-1,t}(),dx=function(){function t(e,r,n,i,s,o,a){r===void 0&&(r=0),n===void 0&&(n=!1),i===void 0&&(i=de.FLOAT),this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a}return t.prototype.destroy=function(){this.buffer=null},t.from=function(e,r,n,i,s){return new t(e,r,n,i,s)},t}(),LN=0,Ft=function(){function t(e,r,n){r===void 0&&(r=!0),n===void 0&&(n=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=LN++,this.disposeRunner=new Kt("disposeBuffer")}return t.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(t.prototype,"index",{get:function(){return this.type===Fn.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?Fn.ELEMENT_ARRAY_BUFFER:Fn.ARRAY_BUFFER},enumerable:!1,configurable:!0}),t.from=function(e){return e instanceof Array&&(e=new Float32Array(e)),new t(e)},t}(),kN={Float32Array,Uint32Array,Int32Array,Uint8Array};function DN(t,e){for(var r=0,n=0,i={},s=0;s<t.length;s++)n+=e[s],r+=t[s].length;for(var o=new ArrayBuffer(r*4),a=null,u=0,s=0;s<t.length;s++){var f=e[s],d=t[s],p=ew(d);i[p]||(i[p]=new kN[p](o)),a=i[p];for(var v=0;v<d.length;v++){var g=(v/f|0)*n+u,_=v%f;a[g+_]=d[v]}u+=f}return new Float32Array(o)}var px={5126:4,5123:2,5121:1},BN=0,UN={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},wu=function(){function t(e,r){e===void 0&&(e=[]),r===void 0&&(r={}),this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=BN++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Kt("disposeGeometry"),this.refCount=0}return t.prototype.addAttribute=function(e,r,n,i,s,o,a,u){if(n===void 0&&(n=0),i===void 0&&(i=!1),u===void 0&&(u=!1),!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Ft||(r instanceof Array&&(r=new Float32Array(r)),r=new Ft(r));var f=e.split("|");if(f.length>1){for(var d=0;d<f.length;d++)this.addAttribute(f[d],r,n,i,s);return this}var p=this.buffers.indexOf(r);return p===-1&&(this.buffers.push(r),p=this.buffers.length-1),this.attributes[e]=new dx(p,n,i,s,o,a,u),this.instanced=this.instanced||u,this},t.prototype.getAttribute=function(e){return this.attributes[e]},t.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},t.prototype.addIndex=function(e){return e instanceof Ft||(e instanceof Array&&(e=new Uint16Array(e)),e=new Ft(e)),e.type=Fn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.indexOf(e)===-1&&this.buffers.push(e),this},t.prototype.getIndex=function(){return this.indexBuffer},t.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var e=[],r=[],n=new Ft,i;for(i in this.attributes){var s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*px[s.type]/4),s.buffer=0}for(n.data=DN(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},t.prototype.getSize=function(){for(var e in this.attributes){var r=this.attributes[e],n=this.buffers[r.buffer];return n.data.length/(r.stride/4||r.size)}return 0},t.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},t.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},t.prototype.clone=function(){for(var e=new t,r=0;r<this.buffers.length;r++)e.buffers[r]=new Ft(this.buffers[r].data.slice(0));for(var r in this.attributes){var n=this.attributes[r];e.attributes[r]=new dx(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Fn.ELEMENT_ARRAY_BUFFER),e},t.merge=function(e){for(var r=new t,n=[],i=[],s=[],o,a=0;a<e.length;a++){o=e[a];for(var u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,s[u]=0}for(var a=0;a<o.buffers.length;a++)n[a]=new UN[ew(o.buffers[a].data)](i[a]),r.buffers[a]=new Ft(n[a]);for(var a=0;a<e.length;a++){o=e[a];for(var u=0;u<o.buffers.length;u++)n[u].set(o.buffers[u].data,s[u]),s[u]+=o.buffers[u].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Fn.ELEMENT_ARRAY_BUFFER;for(var f=0,d=0,p=0,v=0,a=0;a<o.buffers.length;a++)if(o.buffers[a]!==o.indexBuffer){v=a;break}for(var a in o.attributes){var g=o.attributes[a];(g.buffer|0)===v&&(d+=g.size*px[g.type]/4)}for(var a=0;a<e.length;a++){for(var _=e[a].indexBuffer.data,u=0;u<_.length;u++)r.indexBuffer.data[u+p]+=f;f+=e[a].buffers[v].data.length/d,p+=_.length}}return r},t}(),GN=function(t){Je(e,t);function e(){var r=t.call(this)||this;return r.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),r}return e}(wu),uw=function(t){Je(e,t);function e(){var r=t.call(this)||this;return r.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),r.uvs=new Float32Array([0,0,1,0,1,1,0,1]),r.vertexBuffer=new Ft(r.vertices),r.uvBuffer=new Ft(r.uvs),r.addAttribute("aVertexPosition",r.vertexBuffer).addAttribute("aTextureCoord",r.uvBuffer).addIndex([0,1,2,0,2,3]),r}return e.prototype.map=function(r,n){var i=0,s=0;return this.uvs[0]=i,this.uvs[1]=s,this.uvs[2]=i+n.width/r.width,this.uvs[3]=s,this.uvs[4]=i+n.width/r.width,this.uvs[5]=s+n.height/r.height,this.uvs[6]=i,this.uvs[7]=s+n.height/r.height,i=n.x,s=n.y,this.vertices[0]=i,this.vertices[1]=s,this.vertices[2]=i+n.width,this.vertices[3]=s,this.vertices[4]=i+n.width,this.vertices[5]=s+n.height,this.vertices[6]=i,this.vertices[7]=s+n.height,this.invalidate(),this},e.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},e}(wu),zN=0,qs=function(){function t(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=zN++,this.static=!!r,this.ubo=!!n,e instanceof Ft?(this.buffer=e,this.buffer.type=Fn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Ft(new Float32Array(1)),this.buffer.type=Fn.UNIFORM_BUFFER,this.autoManage=!0))}return t.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},t.prototype.add=function(e,r,n){if(!this.ubo)this.uniforms[e]=new t(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")},t.from=function(e,r,n){return new t(e,r,n)},t.uboFrom=function(e,r){return new t(e,r!=null?r:!0,!0)},t}(),jN=function(){function t(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=gt.NONE,this.sourceFrame=new Ne,this.destinationFrame=new Ne,this.bindingSourceFrame=new Ne,this.bindingDestinationFrame=new Ne,this.filters=[],this.transform=null}return t.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},t}(),jh=[new Ke,new Ke,new Ke,new Ke],Jp=new kt,HN=function(){function t(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new FN,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new GN,this.quadUv=new uw,this.tempRect=new Ne,this.activeState={},this.globalUniforms=new qs({outputFrame:new Ne,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return t.prototype.push=function(e,r){for(var n,i,s=this.renderer,o=this.defaultFilterStack,a=this.statePool.pop()||new jN,u=this.renderer.renderTexture,f=r[0].resolution,d=r[0].multisample,p=r[0].padding,v=r[0].autoFit,g=(n=r[0].legacy)!==null&&n!==void 0?n:!0,_=1;_<r.length;_++){var b=r[_];f=Math.min(f,b.resolution),d=Math.min(d,b.multisample),p=this.useMaxPadding?Math.max(p,b.padding):p+b.padding,v=v&&b.autoFit,g=g||((i=b.legacy)!==null&&i!==void 0?i:!0)}o.length===1&&(this.defaultFilterStack[0].renderTexture=u.current),o.push(a),a.resolution=f,a.multisample=d,a.legacy=g,a.target=e,a.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),a.sourceFrame.pad(p);var m=this.tempRect.copyFrom(u.sourceFrame);s.projection.transform&&this.transformAABB(Jp.copyFrom(s.projection.transform).invert(),m),v?(a.sourceFrame.fit(m),(a.sourceFrame.width<=0||a.sourceFrame.height<=0)&&(a.sourceFrame.width=0,a.sourceFrame.height=0)):a.sourceFrame.intersects(m)||(a.sourceFrame.width=0,a.sourceFrame.height=0),this.roundFrame(a.sourceFrame,u.current?u.current.resolution:s.resolution,u.sourceFrame,u.destinationFrame,s.projection.transform),a.renderTexture=this.getOptimalFilterTexture(a.sourceFrame.width,a.sourceFrame.height,f,d),a.filters=r,a.destinationFrame.width=a.renderTexture.width,a.destinationFrame.height=a.renderTexture.height;var E=this.tempRect;E.x=0,E.y=0,E.width=a.sourceFrame.width,E.height=a.sourceFrame.height,a.renderTexture.filterFrame=a.sourceFrame,a.bindingSourceFrame.copyFrom(u.sourceFrame),a.bindingDestinationFrame.copyFrom(u.destinationFrame),a.transform=s.projection.transform,s.projection.transform=null,u.bind(a.renderTexture,a.sourceFrame,E),s.framebuffer.clear(0,0,0,0)},t.prototype.pop=function(){var e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;var i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;var s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){var u=i.filterArea;u[0]=r.destinationFrame.width,u[1]=r.destinationFrame.height,u[2]=r.sourceFrame.x,u[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var f=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,f.renderTexture,on.BLEND,r),this.returnFilterTexture(r.renderTexture);else{var d=r.renderTexture,p=this.getOptimalFilterTexture(d.width,d.height,r.resolution);p.filterFrame=d.filterFrame;var v=0;for(v=0;v<n.length-1;++v){v===1&&r.multisample>1&&(p=this.getOptimalFilterTexture(d.width,d.height,r.resolution),p.filterFrame=d.filterFrame),n[v].apply(this,d,p,on.CLEAR,r);var g=d;d=p,p=g}n[v].apply(this,d,f.renderTexture,on.BLEND,r),v>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(d),this.returnFilterTexture(p)}r.clear(),this.statePool.push(r)},t.prototype.bindAndClear=function(e,r){r===void 0&&(r=on.CLEAR);var n=this.renderer,i=n.renderTexture,s=n.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var a=s.stateId&1||this.forceClear;(r===on.CLEAR||r===on.BLIT&&a)&&this.renderer.framebuffer.clear(0,0,0,0)},t.prototype.applyFilter=function(e,r,n,i){var s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw($r.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw($r.TRIANGLE_STRIP))},t.prototype.calculateSpriteMatrix=function(e,r){var n=this.activeState,i=n.sourceFrame,s=n.destinationFrame,o=r._texture.orig,a=e.set(s.width,0,0,s.height,i.x,i.y),u=r.worldTransform.copyTo(kt.TEMP_MATRIX);return u.invert(),a.prepend(u),a.scale(1/o.width,1/o.height),a.translate(r.anchor.x,r.anchor.y),a},t.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},t.prototype.getOptimalFilterTexture=function(e,r,n,i){return n===void 0&&(n=1),i===void 0&&(i=gt.NONE),this.texturePool.getOptimalTexture(e,r,n,i)},t.prototype.getFilterTexture=function(e,r,n){if(typeof e=="number"){var i=e;e=r,r=i}e=e||this.activeState.renderTexture;var s=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||gt.NONE);return s.filterFrame=e.filterFrame,s},t.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},t.prototype.emptyPool=function(){this.texturePool.clear(!0)},t.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},t.prototype.transformAABB=function(e,r){var n=jh[0],i=jh[1],s=jh[2],o=jh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);var a=Math.min(n.x,i.x,s.x,o.x),u=Math.min(n.y,i.y,s.y,o.y),f=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=u,r.width=f-a,r.height=d-u},t.prototype.roundFrame=function(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){var o=s.a,a=s.b,u=s.c,f=s.d;if((Math.abs(a)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(f)>1e-4))return}s=s?Jp.copyFrom(s):Jp.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}},t}(),sd=function(){function t(e){this.renderer=e}return t.prototype.flush=function(){},t.prototype.destroy=function(){this.renderer=null},t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.render=function(e){},t}(),XN=function(){function t(e){this.renderer=e,this.emptyRenderer=new sd(e),this.currentRenderer=this.emptyRenderer}return t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.copyBoundTextures=function(e,r){for(var n=this.renderer.texture.boundTextures,i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)},t.prototype.boundArray=function(e,r,n,i){for(var s=e.elements,o=e.ids,a=e.count,u=0,f=0;f<a;f++){var d=s[f],p=d._batchLocation;if(p>=0&&p<i&&r[p]===d){o[f]=p;continue}for(;u<i;){var v=r[u];if(v&&v._batchEnabled===n&&v._batchLocation===u){u++;continue}o[f]=u,d._batchLocation=u,r[u]=d;break}}},t.prototype.destroy=function(){this.renderer=null},t}(),vx=0,VN=function(){function t(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(t.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),t.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=vx++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},t.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=vx++,this.renderer.runners.contextChange.emit(e)},t.prototype.initFromOptions=function(e){var r=this.createContext(this.renderer.view,e);this.initFromContext(r)},t.prototype.createContext=function(e,r){var n;if(K.PREFER_ENV>=di.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl},t.prototype.getExtensions=function(){var e=this.gl,r={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},t.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},t.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},t.prototype.validateContext=function(e){var r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},t}(),$N=function(){function t(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=gt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return t}(),WN=new Ne,YN=function(){function t(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Xm(10,10),this.msaaSamples=null}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ne,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;K.PREFER_ENV===di.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=function(i){return r.drawBuffersWEBGL(i)}:(this.hasMRT=!1,e.drawBuffers=function(){}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},t.prototype.bind=function(e,r,n){n===void 0&&(n=0);var i=this.gl;if(e){var s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var o=0;o<e.colorTextures.length;o++){var a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){var u=r.width>>n,f=r.height>>n,d=u/r.width;this.setViewport(r.x*d,r.y*d,u,f)}else{var u=e.width>>n,f=e.height>>n;this.setViewport(0,0,u,f)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},t.prototype.setViewport=function(e,r,n,i){var s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))},Object.defineProperty(t.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),t.prototype.clear=function(e,r,n,i,s){s===void 0&&(s=yc.COLOR|yc.DEPTH);var o=this.gl;o.clearColor(e,r,n,i),o.clear(s)},t.prototype.initFramebuffer=function(e){var r=this.gl,n=new $N(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n},t.prototype.resizeFramebuffer=function(e){var r=this.gl,n=e.glFramebuffers[this.CONTEXT_UID];n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.RGBA8,e.width,e.height)),n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,s=i.length;r.drawBuffers||(s=Math.min(s,1));for(var o=0;o<s;o++){var a=i[o],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},t.prototype.updateFramebuffer=function(e,r){var n=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures,o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.RGBA8,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var a=[],u=0;u<o;u++){var f=s[u],d=f.parentTextureArray||f;this.renderer.texture.bind(d,0),!(u===0&&i.msaaBuffer)&&(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,f.target,d._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+u))}if(a.length>1&&n.drawBuffers(a),e.depthTexture){var p=this.writeDepthTexture;if(p){var v=e.depthTexture;this.renderer.texture.bind(v,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,v._glTextures[this.CONTEXT_UID].texture,r)}}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)},t.prototype.canMultisampleFramebuffer=function(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture},t.prototype.detectSamples=function(e){var r=this.msaaSamples,n=gt.NONE;if(e<=1||r===null)return n;for(var i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=gt.NONE),n},t.prototype.blit=function(e,r,n){var i=this,s=i.current,o=i.renderer,a=i.gl,u=i.CONTEXT_UID;if(o.context.webGLVersion===2&&!!s){var f=s.glFramebuffers[u];if(!!f){if(!e){if(!f.msaaBuffer)return;var d=s.colorTextures[0];if(!d)return;f.blitFramebuffer||(f.blitFramebuffer=new Xm(s.width,s.height),f.blitFramebuffer.addColorTexture(0,d)),e=f.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==s.width||e.height!==s.height)&&(e.width=s.width,e.height=s.height,e.dirtyId++,e.dirtySize++)}r||(r=WN,r.width=s.width,r.height=s.height),n||(n=r);var p=r.width===n.width&&r.height===n.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,f.framebuffer),a.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,a.COLOR_BUFFER_BIT,p?a.NEAREST:a.LINEAR)}}},t.prototype.disposeFramebuffer=function(e,r){var n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!!n){delete e.glFramebuffers[this.CONTEXT_UID];var s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}},t.prototype.disposeAll=function(e){var r=this.managedFramebuffers;this.managedFramebuffers=[];for(var n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)},t.prototype.forceStencil=function(){var e=this.current;if(!!e){var r=e.glFramebuffers[this.CONTEXT_UID];if(!(!r||r.stencil)){e.stencil=!0;var n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}}},t.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Ne},t.prototype.destroy=function(){this.renderer=null},t}(),ev={5126:4,5123:2,5121:1},qN=function(){function t(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return t.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){var n=this.renderer.context.extensions.vertexArrayObject;K.PREFER_ENV===di.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=function(){return n.createVertexArrayOES()},e.bindVertexArray=function(s){return n.bindVertexArrayOES(s)},e.deleteVertexArray=function(s){return n.deleteVertexArrayOES(s)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(r.webGLVersion!==2){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(s,o){return i.vertexAttribDivisorANGLE(s,o)},e.drawElementsInstanced=function(s,o,a,u,f){return i.drawElementsInstancedANGLE(s,o,a,u,f)},e.drawArraysInstanced=function(s,o,a,u){return i.drawArraysInstancedANGLE(s,o,a,u)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex},t.prototype.bind=function(e,r){r=r||this.renderer.shader.shader;var n=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);var o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()},t.prototype.reset=function(){this.unbind()},t.prototype.updateBuffers=function(){for(var e=this._activeGeometry,r=this.renderer.buffer,n=0;n<e.buffers.length;n++){var i=e.buffers[n];r.update(i)}},t.prototype.checkCompatibility=function(e,r){var n=e.attributes,i=r.attributeData;for(var s in i)if(!n[s])throw new Error('shader and geometry incompatible, geometry missing the "'+s+'" attribute')},t.prototype.getSignature=function(e,r){var n=e.attributes,i=r.attributeData,s=["g",e.id];for(var o in n)i[o]&&s.push(o,i[o].location);return s.join("-")},t.prototype.initGeometryVao=function(e,r,n){n===void 0&&(n=!0);var i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);var u=this.getSignature(e,a),f=e.glVertexArrayObjects[this.CONTEXT_UID],d=f[u];if(d)return f[a.id]=d,d;var p=e.buffers,v=e.attributes,g={},_={};for(var b in p)g[b]=0,_[b]=0;for(var b in v)!v[b].size&&a.attributeData[b]?v[b].size=a.attributeData[b].size:v[b].size||console.warn("PIXI Geometry attribute '"+b+"' size cannot be determined (likely the bound shader does not have the attribute)"),g[v[b].buffer]+=v[b].size*ev[v[b].type];for(var b in v){var m=v[b],E=m.size;m.stride===void 0&&(g[m.buffer]===E*ev[m.type]?m.stride=0:m.stride=g[m.buffer]),m.start===void 0&&(m.start=_[m.buffer],_[m.buffer]+=E*ev[m.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(var T=0;T<p.length;T++){var S=p[T];o.bind(S),n&&S._glBuffers[s].refCount++}return this.activateVao(e,a),this._activeVao=d,f[a.id]=d,f[u]=d,d},t.prototype.disposeGeometry=function(e,r){var n;if(!!this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],s=this.gl,o=e.buffers,a=(n=this.renderer)===null||n===void 0?void 0:n.buffer;if(e.disposeRunner.remove(this),!!i){if(a)for(var u=0;u<o.length;u++){var f=o[u]._glBuffers[this.CONTEXT_UID];f&&(f.refCount--,f.refCount===0&&!r&&a.dispose(o[u],r))}if(!r){for(var d in i)if(d[0]==="g"){var p=i[d];this._activeVao===p&&this.unbind(),s.deleteVertexArray(p)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedGeometries),n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)},t.prototype.activateVao=function(e,r){var n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);var u=null;for(var f in a){var d=a[f],p=o[d.buffer],v=p._glBuffers[i];if(r.attributeData[f]){u!==v&&(s.bind(p),u=v);var g=r.attributeData[f].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(g,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}},t.prototype.draw=function(e,r,n,i){var s=this.gl,o=this._activeGeometry;if(o.indexBuffer){var a=o.indexBuffer.data.BYTES_PER_ELEMENT,u=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,u,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,u,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this},t.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},t.prototype.destroy=function(){this.renderer=null},t}(),ZN=function(){function t(e){e===void 0&&(e=null),this.type=At.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=K.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}return Object.defineProperty(t.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),t.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=At.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},t.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},t}();function mx(t,e,r){var n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function gx(t,e){var r=t.getShaderSource(e).split(`
`).map(function(f,d){return d+": "+f}),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(function(f){return parseFloat(f.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(f){return f&&!s[f]?(s[f]=!0,!0):!1}),a=[""];o.forEach(function(f){r[f-1]="%c"+r[f-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var u=r.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function QN(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||gx(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||gx(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function tv(t){for(var e=new Array(t),r=0;r<e.length;r++)e[r]=!1;return e}function hw(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return tv(2*e);case"bvec3":return tv(3*e);case"bvec4":return tv(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var fw={},ul=fw;function KN(){if(ul===fw||ul&&ul.isContextLost()){var t=K.ADAPTER.createCanvas(),e=void 0;K.PREFER_ENV>=di.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),ul=e}return ul}var Hh;function JN(){if(!Hh){Hh=Nr.MEDIUM;var t=KN();if(t&&t.getShaderPrecisionFormat){var e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);Hh=e.precision?Nr.HIGH:Nr.MEDIUM}}return Hh}function yx(t,e,r){if(t.substring(0,9)!=="precision"){var n=e;return e===Nr.HIGH&&r!==Nr.HIGH&&(n=Nr.MEDIUM),"precision "+n+` float;
`+t}else if(r!==Nr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}var eM={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function cw(t){return eM[t]}var Xh=null,_x={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function dw(t,e){if(!Xh){var r=Object.keys(_x);Xh={};for(var n=0;n<r.length;++n){var i=r[n];Xh[t[i]]=_x[i]}}return Xh[e]}var aa=[{test:function(t){return t.type==="float"&&t.size===1&&!t.isArray},code:function(t){return`
            if(uv["`+t+'"] !== ud["'+t+`"].value)
            {
                ud["`+t+'"].value = uv["'+t+`"]
                gl.uniform1f(ud["`+t+'"].location, uv["'+t+`"])
            }
            `}},{test:function(t,e){return(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0)},code:function(t){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+t+`"], t);

            if(ud["`+t+`"].value !== t)
            {
                ud["`+t+`"].value = t;
                gl.uniform1i(ud["`+t+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(t,e){return t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0},code:function(t){return`
            gl.uniformMatrix3fv(ud["`+t+'"].location, false, uv["'+t+`"].toArray(true));
            `},codeUbo:function(t){return`
                var `+t+"_matrix = uv."+t+`.toArray(true);

                data[offset] = `+t+`_matrix[0];
                data[offset+1] = `+t+`_matrix[1];
                data[offset+2] = `+t+`_matrix[2];
        
                data[offset + 4] = `+t+`_matrix[3];
                data[offset + 5] = `+t+`_matrix[4];
                data[offset + 6] = `+t+`_matrix[5];
        
                data[offset + 8] = `+t+`_matrix[6];
                data[offset + 9] = `+t+`_matrix[7];
                data[offset + 10] = `+t+`_matrix[8];
            `}},{test:function(t,e){return t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+t+`"].location, v.x, v.y);
                }`},codeUbo:function(t){return`
                v = uv.`+t+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(t){return t.type==="vec2"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+t+`"].location, v[0], v[1]);
                }
            `}},{test:function(t,e){return t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+t+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(t){return`
                    v = uv.`+t+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(t){return t.type==="vec4"&&t.size===1&&!t.isArray},code:function(t){return`
                cv = ud["`+t+`"].value;
                v = uv["`+t+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+t+`"].location, v[0], v[1], v[2], v[3])
                }`}}],tM={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},rM={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function nM(t,e){var r,n=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var i in t.uniforms){var s=e[i];if(!s){!((r=t.uniforms[i])===null||r===void 0)&&r.group&&(t.uniforms[i].ubo?n.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+i+", '"+i+`');
                    `):n.push(`
                        renderer.shader.syncUniformGroup(uv.`+i+`, syncData);
                    `));continue}for(var o=t.uniforms[i],a=!1,u=0;u<aa.length;u++)if(aa[u].test(s,o)){n.push(aa[u].code(i,o)),a=!0;break}if(!a){var f=s.size===1&&!s.isArray?tM:rM,d=f[s.type].replace("location",'ud["'+i+'"].location');n.push(`
            cu = ud["`+i+`"];
            cv = cu.value;
            v = uv["`+i+`"];
            `+d+";")}}return new Function("ud","uv","renderer","syncData",n.join(`
`))}var iM=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function sM(t){for(var e="",r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+="if(test == "+r+".0){}");return e}function oM(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=e.createShader(e.FRAGMENT_SHADER);;){var n=iM.replace(/%forloop%/gi,sM(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}var hl;function aM(){if(typeof hl=="boolean")return hl;try{var t=new Function("param1","param2","param3","return param1[param2] === param3;");hl=t({a:"b"},"a","b")===!0}catch{hl=!1}return hl}var lM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,uM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,hM=0,Vh={},Su=function(){function t(e,r,n){n===void 0&&(n="pixi-shader"),this.id=hM++,this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=r||t.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),Vh[n]?(Vh[n]++,n+="-"+Vh[n]):Vh[n]=1,this.vertexSrc="#define SHADER_NAME "+n+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+n+`
`+this.fragmentSrc,this.vertexSrc=yx(this.vertexSrc,K.PRECISION_VERTEX,Nr.HIGH),this.fragmentSrc=yx(this.fragmentSrc,K.PRECISION_FRAGMENT,JN())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(t,"defaultVertexSrc",{get:function(){return uM},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return lM},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=e+r,s=ux[i];return s||(ux[i]=s=new t(e,r,n)),s},t}(),es=function(){function t(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof qs?this.uniformGroup=r:this.uniformGroup=new qs(r):this.uniformGroup=new qs({}),this.disposeRunner=new Kt("disposeShader")}return t.prototype.checkUniformExists=function(e,r){if(r.uniforms[e])return!0;for(var n in r.uniforms){var i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},t.prototype.destroy=function(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()},Object.defineProperty(t.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),t.from=function(e,r,n){var i=Su.from(e,r);return new t(i,n)},t}(),rv=0,nv=1,iv=2,sv=3,ov=4,av=5,lo=function(){function t(){this.data=0,this.blendMode=ae.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(t.prototype,"blend",{get:function(){return!!(this.data&1<<rv)},set:function(e){!!(this.data&1<<rv)!==e&&(this.data^=1<<rv)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"offsets",{get:function(){return!!(this.data&1<<nv)},set:function(e){!!(this.data&1<<nv)!==e&&(this.data^=1<<nv)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"culling",{get:function(){return!!(this.data&1<<iv)},set:function(e){!!(this.data&1<<iv)!==e&&(this.data^=1<<iv)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthTest",{get:function(){return!!(this.data&1<<sv)},set:function(e){!!(this.data&1<<sv)!==e&&(this.data^=1<<sv)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthMask",{get:function(){return!!(this.data&1<<av)},set:function(e){!!(this.data&1<<av)!==e&&(this.data^=1<<av)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<ov)},set:function(e){!!(this.data&1<<ov)!==e&&(this.data^=1<<ov)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==ae.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return"[@pixi/core:State "+("blendMode="+this.blendMode+" ")+("clockwiseFrontFace="+this.clockwiseFrontFace+" ")+("culling="+this.culling+" ")+("depthMask="+this.depthMask+" ")+("polygonOffset="+this.polygonOffset)+"]"},t.for2d=function(){var e=new t;return e.depthTest=!1,e.blend=!0,e},t}(),fM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,cM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,fs=function(t){Je(e,t);function e(r,n,i){var s=this,o=Su.from(r||e.defaultVertexSrc,n||e.defaultFragmentSrc);return s=t.call(this,o,i)||this,s.padding=0,s.resolution=K.FILTER_RESOLUTION,s.multisample=K.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new lo,s}return e.prototype.apply=function(r,n,i,s,o){r.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._resolution=r},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultVertexSrc",{get:function(){return cM},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return fM},enumerable:!1,configurable:!0}),e}(es),dM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,pM=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,xx=new kt,L0=function(){function t(e,r){this._texture=e,this.mapCoord=new kt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}return Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),t.prototype.multiplyUvs=function(e,r){r===void 0&&(r=e);for(var n=this.mapCoord,i=0;i<e.length;i+=2){var s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r},t.prototype.update=function(e){var r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;var n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);var i=r.orig,s=r.trim;s&&(xx.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(xx));var o=r.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,f=this.clampOffset;return a[0]=(r._frame.x+u+f)/o.width,a[1]=(r._frame.y+u+f)/o.height,a[2]=(r._frame.x+r._frame.width-u+f)/o.width,a[3]=(r._frame.y+r._frame.height-u+f)/o.height,this.uClampOffset[0]=f/o.realWidth,this.uClampOffset[1]=f/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0},t}(),vM=function(t){Je(e,t);function e(r,n,i){var s=this,o=null;return typeof r!="string"&&n===void 0&&i===void 0&&(o=r,r=void 0,n=void 0,i=void 0),s=t.call(this,r||dM,n||pM,i)||this,s.maskSprite=o,s.maskMatrix=new kt,s}return Object.defineProperty(e.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(r){this._maskSprite=r,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),e.prototype.apply=function(r,n,i,s){var o=this._maskSprite,a=o._texture;!a.valid||(a.uvMatrix||(a.uvMatrix=new L0(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=r.calculateSpriteMatrix(this.maskMatrix,o).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=o.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,r.applyFilter(this,n,i,s))},e}(fs),mM=function(){function t(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return t.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},t.prototype.push=function(e,r){var n=r;if(!n.isMaskData){var i=this.maskDataPool.pop()||new ZN;i.pooled=!0,i.maskObject=r,n=i}var s=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(s),n._colorMask=s?s._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==At.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case At.SCISSOR:this.renderer.scissor.push(n);break;case At.STENCIL:this.renderer.stencil.push(n);break;case At.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case At.COLOR:this.pushColorMask(n);break}n.type===At.SPRITE&&this.maskStack.push(n)},t.prototype.pop=function(e){var r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case At.SCISSOR:this.renderer.scissor.pop(r);break;case At.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case At.SPRITE:this.popSpriteMask(r);break;case At.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){var n=this.maskStack[this.maskStack.length-1];n.type===At.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}},t.prototype.detect=function(e){var r=e.maskObject;r?r.isSprite?e.type=At.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=At.SCISSOR:e.type=At.STENCIL:e.type=At.COLOR},t.prototype.pushSpriteMask=function(e){var r,n,i=e.maskObject,s=e._target,o=e._filters;o||(o=this.alphaMaskPool[this.alphaMaskIndex],o||(o=this.alphaMaskPool[this.alphaMaskIndex]=[new vM]));var a=this.renderer,u=a.renderTexture,f,d;if(u.current){var p=u.current;f=e.resolution||p.resolution,d=(r=e.multisample)!==null&&r!==void 0?r:p.multisample}else f=e.resolution||a.resolution,d=(n=e.multisample)!==null&&n!==void 0?n:a.multisample;o[0].resolution=f,o[0].multisample=d,o[0].maskSprite=i;var v=s.filterArea;s.filterArea=i.getBounds(!0),a.filter.push(s,o),s.filterArea=v,e._filters||this.alphaMaskIndex++},t.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},t.prototype.pushColorMask=function(e){var r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.popColorMask=function(e){var r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)},t.prototype.destroy=function(){this.renderer=null},t}(),pw=function(){function t(e){this.renderer=e,this.maskStack=[],this.glConst=0}return t.prototype.getStackLength=function(){return this.maskStack.length},t.prototype.setMaskStack=function(e){var r=this.renderer.gl,n=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))},t.prototype._useCurrent=function(){},t.prototype.destroy=function(){this.renderer=null,this.maskStack=null},t}(),bx=new kt,Ex=[],gM=function(t){Je(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=K.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._scissorCounter:0},e.prototype.calcScissorRect=function(r){var n;if(!r._scissorRectLocal){var i=r._scissorRect,s=r.maskObject,o=this.renderer,a=o.renderTexture,u=s.getBounds(!0,(n=Ex.pop())!==null&&n!==void 0?n:new Ne);this.roundFrameToPixels(u,a.current?a.current.resolution:o.resolution,a.sourceFrame,a.destinationFrame,o.projection.transform),i&&u.fit(i),r._scissorRectLocal=u}},e.isMatrixRotated=function(r){if(!r)return!1;var n=r.a,i=r.b,s=r.c,o=r.d;return(Math.abs(i)>1e-4||Math.abs(s)>1e-4)&&(Math.abs(n)>1e-4||Math.abs(o)>1e-4)},e.prototype.testScissor=function(r){var n=r.maskObject;if(!n.isFastRect||!n.isFastRect()||e.isMatrixRotated(n.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(r);var i=r._scissorRectLocal;return i.width>0&&i.height>0},e.prototype.roundFrameToPixels=function(r,n,i,s,o){e.isMatrixRotated(o)||(o=o?bx.copyFrom(o):bx.identity(),o.translate(-i.x,-i.y).scale(s.width/i.width,s.height/i.height).translate(s.x,s.y),this.renderer.filter.transformAABB(o,r),r.fit(s),r.x=Math.round(r.x*n),r.y=Math.round(r.y*n),r.width=Math.round(r.width*n),r.height=Math.round(r.height*n))},e.prototype.push=function(r){r._scissorRectLocal||this.calcScissorRect(r);var n=this.renderer.gl;r._scissorRect||n.enable(n.SCISSOR_TEST),r._scissorCounter++,r._scissorRect=r._scissorRectLocal,this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;r&&Ex.push(r._scissorRectLocal),this.getStackLength()>0?this._useCurrent():n.disable(n.SCISSOR_TEST)},e.prototype._useCurrent=function(){var r=this.maskStack[this.maskStack.length-1]._scissorRect,n;this.renderer.renderTexture.current?n=r.y:n=this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,n,r.width,r.height)},e}(pw),yM=function(t){Je(e,t);function e(r){var n=t.call(this,r)||this;return n.glConst=K.ADAPTER.getWebGLRenderingContext().STENCIL_TEST,n}return e.prototype.getStackLength=function(){var r=this.maskStack[this.maskStack.length-1];return r?r._stencilCounter:0},e.prototype.push=function(r){var n=r.maskObject,i=this.renderer.gl,s=r._stencilCounter;s===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),r._stencilCounter++;var o=r._colorMask;o!==0&&(r._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,s,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),n.renderable=!0,n.render(this.renderer),this.renderer.batch.flush(),n.renderable=!1,o!==0&&(r._colorMask=o,i.colorMask((o&1)!==0,(o&2)!==0,(o&4)!==0,(o&8)!==0)),this._useCurrent()},e.prototype.pop=function(r){var n=this.renderer.gl;if(this.getStackLength()===0)n.disable(n.STENCIL_TEST);else{var i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,s=i?i._colorMask:15;s!==0&&(i._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilOp(n.KEEP,n.KEEP,n.DECR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(i._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}},e.prototype._useCurrent=function(){var r=this.renderer.gl;r.stencilFunc(r.EQUAL,this.getStackLength(),4294967295),r.stencilOp(r.KEEP,r.KEEP,r.KEEP)},e}(pw),_M=function(){function t(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new kt,this.transform=null}return t.prototype.update=function(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);var s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)},t.prototype.calculateProjection=function(e,r,n,i){var s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d},t.prototype.setTransform=function(e){},t.prototype.destroy=function(){this.renderer=null},t}(),Es=new Ne,fl=new Ne,xM=function(){function t(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ne,this.destinationFrame=new Ne,this.viewportFrame=new Ne}return t.prototype.bind=function(e,r,n){e===void 0&&(e=null);var i=this.renderer;this.current=e;var s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Es.width=e.frame.width,Es.height=e.frame.height,r=Es),n||(fl.x=e.frame.x,fl.y=e.frame.y,fl.width=r.width,fl.height=r.height,n=fl),o=s.framebuffer):(a=i.resolution,r||(Es.width=i.screen.width,Es.height=i.screen.height,r=Es),n||(n=Es,n.width=r.width,n.height=r.height));var u=this.viewportFrame;u.x=n.x*a,u.y=n.y*a,u.width=n.width*a,u.height=n.height*a,e||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)},t.prototype.clear=function(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.clearColor;var n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,s=n.width!==i.width||n.height!==i.height;if(s){var o=this.viewportFrame,a=o.x,u=o.y,f=o.width,d=o.height;a=Math.round(a),u=Math.round(u),f=Math.round(f),d=Math.round(d),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(a,u,f,d)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),s&&this.renderer.scissor.pop()},t.prototype.resize=function(){this.bind(null)},t.prototype.reset=function(){this.bind(null)},t.prototype.destroy=function(){this.renderer=null},t}();function bM(t,e,r,n,i){r.buffer.update(i)}var EM={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},vw={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function TM(t){for(var e=t.map(function(u){return{data:u,offset:0,dataLen:0,dirty:0}}),r=0,n=0,i=0,s=0;s<e.length;s++){var o=e[s];if(r=vw[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){var a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function wM(t,e){var r=[];for(var n in t)e[n]&&r.push(e[n]);return r.sort(function(i,s){return i.index-s.index}),r}function SM(t,e){if(!t.autoManage)return{size:0,syncFunc:bM};for(var r=wM(t.uniforms,e),n=TM(r),i=n.uboElements,s=n.size,o=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],a=0;a<i.length;a++){for(var u=i[a],f=t.uniforms[u.data.name],d=u.data.name,p=!1,v=0;v<aa.length;v++){var g=aa[v];if(g.codeUbo&&g.test(u.data,f)){o.push("offset = "+u.offset/4+";",aa[v].codeUbo(u.data.name,f)),p=!0;break}}if(!p)if(u.data.size>1){var _=cw(u.data.type),b=Math.max(vw[u.data.type]/16,1),m=_/b,E=(4-m%4)%4;o.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+u.offset/4+`;

                t = 0;

                for(var i=0; i < `+u.data.size*b+`; i++)
                {
                    for(var j = 0; j < `+m+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+E+`;
                }

                `)}else{var T=EM[u.data.type];o.push(`
                cv = ud.`+d+`.value;
                v = uv.`+d+`;
                offset = `+u.offset/4+`;
                `+T+`;
                `)}}return o.push(`
       renderer.buffer.update(buffer);
    `),{size:s,syncFunc:new Function("ud","uv","renderer","syncData","buffer",o.join(`
`))}}var AM=function(){function t(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return t.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},t}();function CM(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<n;i++){var s=e.getActiveAttrib(t,i);if(s.name.indexOf("gl_")!==0){var o=dw(e,s.type),a={type:o,name:s.name,size:cw(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}}return r}function RM(t,e){for(var r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<n;i++){var s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=dw(e,s.type);r[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:hw(u,s.size)}}return r}function IM(t,e){var r=mx(t,t.VERTEX_SHADER,e.vertexSrc),n=mx(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||QN(t,i,r,n),e.attributeData=CM(i,t),e.uniformData=RM(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){var s=Object.keys(e.attributeData);s.sort(function(d,p){return d>p?1:-1});for(var o=0;o<s.length;o++)e.attributeData[s[o]].location=o,t.bindAttribLocation(i,o,s[o]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);var a={};for(var o in e.uniformData){var u=e.uniformData[o];a[o]={location:t.getUniformLocation(i,o),value:hw(u.type,u.size)}}var f=new AM(i,a);return f}var PM=0,$h={textureCount:0,uboCount:0},OM=function(){function t(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=PM++}return t.prototype.systemCheck=function(){if(!aM())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},t.prototype.contextChange=function(e){this.gl=e,this.reset()},t.prototype.bind=function(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;var n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||($h.textureCount=0,$h.uboCount=0,this.syncUniformGroup(e.uniformGroup,$h)),i},t.prototype.setUniforms=function(e){var r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)},t.prototype.syncUniformGroup=function(e,r){var n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))},t.prototype.syncUniforms=function(e,r,n){var i=e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e);i(r.uniformData,e.uniforms,this.renderer,n)},t.prototype.createSyncGroups=function(e){var r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=nM(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]},t.prototype.syncUniformBufferGroup=function(e,r){var n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;var i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,$h,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])},t.prototype.createSyncBufferGroup=function(e,r,n){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;var o=this.getSignature(e,this.shader.program.uniformData,"ubo"),a=this._uboCache[o];if(a||(a=this._uboCache[o]=SM(e,this.shader.program.uniformData)),e.autoManage){var u=new Float32Array(a.size/4);e.buffer.update(u)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]},t.prototype.getSignature=function(e,r,n){var i=e.uniforms,s=[n+"-"];for(var o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")},t.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},t.prototype.generateProgram=function(e){var r=this.gl,n=e.program,i=IM(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i},t.prototype.reset=function(){this.program=null,this.shader=null},t.prototype.disposeShader=function(e){this.shader===e&&(this.shader=null)},t.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},t}();function NM(t,e){return e===void 0&&(e=[]),e[ae.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.ADD]=[t.ONE,t.ONE],e[ae.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.NONE]=[0,0],e[ae.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ae.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ae.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ae.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ae.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ae.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ae.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ae.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ae.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ae.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ae.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}var MM=0,FM=1,LM=2,kM=3,DM=4,BM=5,UM=function(){function t(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ae.NONE,this._blendEq=!1,this.map=[],this.map[MM]=this.setBlend,this.map[FM]=this.setOffset,this.map[LM]=this.setCullFace,this.map[kM]=this.setDepthTest,this.map[DM]=this.setFrontFace,this.map[BM]=this.setDepthMask,this.checks=[],this.defaultState=new lo,this.defaultState.blend=!0}return t.prototype.contextChange=function(e){this.gl=e,this.blendModes=NM(e),this.set(this.defaultState),this.reset()},t.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var r=this.stateId^e.data,n=0;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(var n=0;n<this.checks.length;n++)this.checks[n](this,e)},t.prototype.forceState=function(e){e=e||this.defaultState;for(var r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(var r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data},t.prototype.setBlend=function(e){this.updateCheck(t.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)},t.prototype.setOffset=function(e){this.updateCheck(t.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},t.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},t.prototype.setDepthMask=function(e){this.gl.depthMask(e)},t.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},t.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},t.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}},t.prototype.setPolygonOffset=function(e,r){this.gl.polygonOffset(e,r)},t.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},t.prototype.updateCheck=function(e,r){var n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)},t.checkBlendMode=function(e,r){e.setBlendMode(r.blendMode)},t.checkPolygonOffset=function(e,r){e.setPolygonOffset(1,r.polygonOffset)},t.prototype.destroy=function(){this.gl=null},t}(),GM=function(){function t(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=K.GC_MAX_IDLE,this.checkCountMax=K.GC_MAX_CHECK_COUNT,this.mode=K.GC_MODE}return t.prototype.postrender=function(){!this.renderer.renderingToScreen||(this.count++,this.mode!==xc.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},t.prototype.run=function(){for(var e=this.renderer.texture,r=e.managedTextures,n=!1,i=0;i<r.length;i++){var s=r[i];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){for(var o=0,i=0;i<r.length;i++)r[i]!==null&&(r[o++]=r[i]);r.length=o}},t.prototype.unload=function(e){var r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},t.prototype.destroy=function(){this.renderer=null},t}();function zM(t){var e,r,n,i,s,o,a,u,f,d,p,v,g,_,b,m,E,T,S,A,R,I,P;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?P=(e={},e[de.UNSIGNED_BYTE]=(r={},r[q.RGBA]=t.RGBA8,r[q.RGB]=t.RGB8,r[q.RG]=t.RG8,r[q.RED]=t.R8,r[q.RGBA_INTEGER]=t.RGBA8UI,r[q.RGB_INTEGER]=t.RGB8UI,r[q.RG_INTEGER]=t.RG8UI,r[q.RED_INTEGER]=t.R8UI,r[q.ALPHA]=t.ALPHA,r[q.LUMINANCE]=t.LUMINANCE,r[q.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,r),e[de.BYTE]=(n={},n[q.RGBA]=t.RGBA8_SNORM,n[q.RGB]=t.RGB8_SNORM,n[q.RG]=t.RG8_SNORM,n[q.RED]=t.R8_SNORM,n[q.RGBA_INTEGER]=t.RGBA8I,n[q.RGB_INTEGER]=t.RGB8I,n[q.RG_INTEGER]=t.RG8I,n[q.RED_INTEGER]=t.R8I,n),e[de.UNSIGNED_SHORT]=(i={},i[q.RGBA_INTEGER]=t.RGBA16UI,i[q.RGB_INTEGER]=t.RGB16UI,i[q.RG_INTEGER]=t.RG16UI,i[q.RED_INTEGER]=t.R16UI,i[q.DEPTH_COMPONENT]=t.DEPTH_COMPONENT16,i),e[de.SHORT]=(s={},s[q.RGBA_INTEGER]=t.RGBA16I,s[q.RGB_INTEGER]=t.RGB16I,s[q.RG_INTEGER]=t.RG16I,s[q.RED_INTEGER]=t.R16I,s),e[de.UNSIGNED_INT]=(o={},o[q.RGBA_INTEGER]=t.RGBA32UI,o[q.RGB_INTEGER]=t.RGB32UI,o[q.RG_INTEGER]=t.RG32UI,o[q.RED_INTEGER]=t.R32UI,o[q.DEPTH_COMPONENT]=t.DEPTH_COMPONENT24,o),e[de.INT]=(a={},a[q.RGBA_INTEGER]=t.RGBA32I,a[q.RGB_INTEGER]=t.RGB32I,a[q.RG_INTEGER]=t.RG32I,a[q.RED_INTEGER]=t.R32I,a),e[de.FLOAT]=(u={},u[q.RGBA]=t.RGBA32F,u[q.RGB]=t.RGB32F,u[q.RG]=t.RG32F,u[q.RED]=t.R32F,u[q.DEPTH_COMPONENT]=t.DEPTH_COMPONENT32F,u),e[de.HALF_FLOAT]=(f={},f[q.RGBA]=t.RGBA16F,f[q.RGB]=t.RGB16F,f[q.RG]=t.RG16F,f[q.RED]=t.R16F,f),e[de.UNSIGNED_SHORT_5_6_5]=(d={},d[q.RGB]=t.RGB565,d),e[de.UNSIGNED_SHORT_4_4_4_4]=(p={},p[q.RGBA]=t.RGBA4,p),e[de.UNSIGNED_SHORT_5_5_5_1]=(v={},v[q.RGBA]=t.RGB5_A1,v),e[de.UNSIGNED_INT_2_10_10_10_REV]=(g={},g[q.RGBA]=t.RGB10_A2,g[q.RGBA_INTEGER]=t.RGB10_A2UI,g),e[de.UNSIGNED_INT_10F_11F_11F_REV]=(_={},_[q.RGB]=t.R11F_G11F_B10F,_),e[de.UNSIGNED_INT_5_9_9_9_REV]=(b={},b[q.RGB]=t.RGB9_E5,b),e[de.UNSIGNED_INT_24_8]=(m={},m[q.DEPTH_STENCIL]=t.DEPTH24_STENCIL8,m),e[de.FLOAT_32_UNSIGNED_INT_24_8_REV]=(E={},E[q.DEPTH_STENCIL]=t.DEPTH32F_STENCIL8,E),e):P=(T={},T[de.UNSIGNED_BYTE]=(S={},S[q.RGBA]=t.RGBA,S[q.RGB]=t.RGB,S[q.ALPHA]=t.ALPHA,S[q.LUMINANCE]=t.LUMINANCE,S[q.LUMINANCE_ALPHA]=t.LUMINANCE_ALPHA,S),T[de.UNSIGNED_SHORT_5_6_5]=(A={},A[q.RGB]=t.RGB,A),T[de.UNSIGNED_SHORT_4_4_4_4]=(R={},R[q.RGBA]=t.RGBA,R),T[de.UNSIGNED_SHORT_5_5_5_1]=(I={},I[q.RGBA]=t.RGBA,I),T),P}var lv=function(){function t(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=de.UNSIGNED_BYTE,this.internalFormat=q.RGBA,this.samplerType=0}return t}(),jM=function(){function t(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Oe,this.hasIntegerTextures=!1}return t.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=zM(e);var r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(var n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};var i=new lv(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new lv(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(var n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(var n=0;n<this.boundTextures.length;n++)this.bind(null,n)},t.prototype.bind=function(e,r){r===void 0&&(r=0);var n=this.gl;if(e=e==null?void 0:e.castToBaseTexture(),e&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null},t.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},t.prototype.unbind=function(e){var r=this,n=r.gl,i=r.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var s=0;s<i.length;s++)i[s]===this.unknownTexture&&this.bind(null,s)}for(var s=0;s<i.length;s++)i[s]===e&&(this.currentLocation!==s&&(n.activeTexture(n.TEXTURE0+s),this.currentLocation=s),n.bindTexture(e.target,this.emptyTextures[e.target].texture),i[s]=null)},t.prototype.ensureSamplerType=function(e){var r=this,n=r.boundTextures,i=r.hasIntegerTextures,s=r.CONTEXT_UID;if(!!i)for(var o=e-1;o>=0;--o){var a=n[o];if(a){var u=a._glTextures[s];u.samplerType!==_c.FLOAT&&this.renderer.texture.unbind(a)}}},t.prototype.initTexture=function(e){var r=new lv(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r},t.prototype.initTextureType=function(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])===null||n===void 0?void 0:n[e.format])!==null&&i!==void 0?i:e.format,this.webGLVersion===2&&e.type===de.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type},t.prototype.updateTexture=function(e){var r=e._glTextures[this.CONTEXT_UID];if(!!r){var n=this.renderer;if(this.initTextureType(e,r),e.resource&&e.resource.upload(n,e,r))r.samplerType!==_c.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,s=e.realHeight,o=n.gl;(r.width!==i||r.height!==s||r.dirtyId<0)&&(r.width=i,r.height=s,o.texImage2D(e.target,0,r.internalFormat,i,s,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}},t.prototype.destroyTexture=function(e,r){var n=this.gl;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){var i=this.managedTextures.indexOf(e);i!==-1&&oa(this.managedTextures,i,1)}},t.prototype.updateTextureStyle=function(e){var r=e._glTextures[this.CONTEXT_UID];!r||((e.mipmap===cn.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=Mn.CLAMP:r.wrapMode=e.wrapMode,e.resource&&e.resource.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)},t.prototype.setStyle=function(e,r){var n=this.gl;if(r.mipmap&&e.mipmap!==cn.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Cn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Cn.LINEAR){var s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Cn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Cn.LINEAR?n.LINEAR:n.NEAREST)},t.prototype.destroy=function(){this.renderer=null},t}(),uv=new kt,HM=function(t){Je(e,t);function e(r,n){r===void 0&&(r=iu.UNKNOWN);var i=t.call(this)||this;return n=Object.assign({},K.RENDER_OPTIONS,n),i.options=n,i.type=r,i.screen=new Ne(0,0,n.width,n.height),i.view=n.view||K.ADAPTER.createCanvas(),i.resolution=n.resolution||K.RESOLUTION,i.useContextAlpha=n.useContextAlpha,i.autoDensity=!!n.autoDensity,i.preserveDrawingBuffer=n.preserveDrawingBuffer,i.clearBeforeRender=n.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=n.backgroundColor||i._backgroundColor,i.backgroundAlpha=n.backgroundAlpha,n.transparent!==void 0&&(hn("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=n.transparent,i.backgroundAlpha=n.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return e.prototype.initPlugins=function(r){for(var n in r)this.plugins[n]=new r[n](this)},Object.defineProperty(e.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),e.prototype.resize=function(r,n){this.view.width=Math.round(r*this.resolution),this.view.height=Math.round(n*this.resolution);var i=this.view.width/this.resolution,s=this.view.height/this.resolution;this.screen.width=i,this.screen.height=s,this.autoDensity&&(this.view.style.width=i+"px",this.view.style.height=s+"px"),this.emit("resize",i,s)},e.prototype.generateTexture=function(r,n,i,s){n===void 0&&(n={}),typeof n=="number"&&(hn("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),n={scaleMode:n,resolution:i,region:s});var o=n.region,a=SN(n,["region"]);s=o||r.getLocalBounds(null,!0),s.width===0&&(s.width=1),s.height===0&&(s.height=1);var u=ro.create(Hm({width:s.width,height:s.height},a));return uv.tx=-s.x,uv.ty=-s.y,this.render(r,{renderTexture:u,clear:!1,transform:uv,skipUpdateTransform:!!r.parent}),u},e.prototype.destroy=function(r){for(var n in this.plugins)this.plugins[n].destroy(),this.plugins[n]=null;r&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var i=this;i.plugins=null,i.type=iu.UNKNOWN,i.view=null,i.screen=null,i._tempDisplayObjectParent=null,i.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(e.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(r){this._backgroundColor=r,this._backgroundColorString=qT(r),va(r,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(r){this._backgroundColorRgba[3]=r},enumerable:!1,configurable:!0}),e}(Eu),XM=function(){function t(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return t}(),VM=function(){function t(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return t.prototype.destroy=function(){this.renderer=null},t.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},t.prototype.bind=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,s=e._glBuffers[i]||this.createGLBuffer(e);n.bindBuffer(e.type,s.buffer)},t.prototype.bindBufferBase=function(e,r){var n=this,i=n.gl,s=n.CONTEXT_UID;if(this.boundBufferBases[r]!==e){var o=e._glBuffers[s]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,o.buffer)}},t.prototype.bindBufferRange=function(e,r,n){var i=this,s=i.gl,o=i.CONTEXT_UID;n=n||0;var a=e._glBuffers[o]||this.createGLBuffer(e);s.bindBufferRange(s.UNIFORM_BUFFER,r||0,a.buffer,n*256,256)},t.prototype.update=function(e){var r=this,n=r.gl,i=r.CONTEXT_UID,s=e._glBuffers[i];if(e._updateID!==s.updateID)if(s.updateID=e._updateID,n.bindBuffer(e.type,s.buffer),s.byteLength>=e.data.byteLength)n.bufferSubData(e.type,0,e.data);else{var o=e.static?n.STATIC_DRAW:n.DYNAMIC_DRAW;s.byteLength=e.data.byteLength,n.bufferData(e.type,e.data,o)}},t.prototype.dispose=function(e,r){if(!!this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}},t.prototype.disposeAll=function(e){for(var r=Object.keys(this.managedBuffers),n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)},t.prototype.createGLBuffer=function(e){var r=this,n=r.CONTEXT_UID,i=r.gl;return e._glBuffers[n]=new XM(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[n]},t}(),mw=function(t){Je(e,t);function e(r){var n=t.call(this,iu.WEBGL,r)||this;return r=n.options,n.gl=null,n.CONTEXT_UID=0,n.runners={destroy:new Kt("destroy"),contextChange:new Kt("contextChange"),reset:new Kt("reset"),update:new Kt("update"),postrender:new Kt("postrender"),prerender:new Kt("prerender"),resize:new Kt("resize")},n.runners.contextChange.add(n),n.globalUniforms=new qs({projectionMatrix:new kt},!0),n.addSystem(mM,"mask").addSystem(VN,"context").addSystem(UM,"state").addSystem(OM,"shader").addSystem(jM,"texture").addSystem(VM,"buffer").addSystem(qN,"geometry").addSystem(YN,"framebuffer").addSystem(gM,"scissor").addSystem(yM,"stencil").addSystem(_M,"projection").addSystem(GM,"textureGC").addSystem(HN,"filter").addSystem(xM,"renderTexture").addSystem(XN,"batch"),n.initPlugins(e.__plugins),n.multisample=void 0,r.context?n.context.initFromContext(r.context):n.context.initFromOptions({alpha:!!n.useContextAlpha,antialias:r.antialias,premultipliedAlpha:n.useContextAlpha&&n.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:n.options.powerPreference}),n.renderingToScreen=!0,E2(n.context.webGLVersion===2?"WebGL 2":"WebGL 1"),n.resize(n.options.width,n.options.height),n}return e.create=function(r){if(T2())return new e(r);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},e.prototype.contextChange=function(){var r=this.gl,n;if(this.context.webGLVersion===1){var i=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,i)}else{var i=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING);r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),n=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,i)}n>=gt.HIGH?this.multisample=gt.HIGH:n>=gt.MEDIUM?this.multisample=gt.MEDIUM:n>=gt.LOW?this.multisample=gt.LOW:this.multisample=gt.NONE},e.prototype.addSystem=function(r,n){var i=new r(this);if(this[n])throw new Error('Whoops! The name "'+n+'" is already in use');this[n]=i;for(var s in this.runners)this.runners[s].add(i);return this},e.prototype.render=function(r,n){var i,s,o,a;if(n&&(n instanceof ro?(hn("6.0.0","Renderer#render arguments changed, use options instead."),i=n,s=arguments[2],o=arguments[3],a=arguments[4]):(i=n.renderTexture,s=n.clear,o=n.transform,a=n.skipUpdateTransform)),this.renderingToScreen=!i,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=o,!this.context.isLost){if(i||(this._lastObjectRendered=r),!a){var u=r.enableTempParent();r.updateTransform(),r.disableTempParent(u)}this.renderTexture.bind(i),this.batch.currentRenderer.start(),(s!==void 0?s:this.clearBeforeRender)&&this.renderTexture.clear(),r.render(this),this.batch.currentRenderer.flush(),i&&i.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},e.prototype.generateTexture=function(r,n,i,s){n===void 0&&(n={});var o=t.prototype.generateTexture.call(this,r,n,i,s);return this.framebuffer.blit(),o},e.prototype.resize=function(r,n){t.prototype.resize.call(this,r,n),this.runners.resize.emit(this.screen.height,this.screen.width)},e.prototype.reset=function(){return this.runners.reset.emit(),this},e.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},e.prototype.destroy=function(r){this.runners.destroy.emit();for(var n in this.runners)this.runners[n].destroy();t.prototype.destroy.call(this,r),this.gl=null},Object.defineProperty(e.prototype,"extract",{get:function(){return hn("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),e.registerPlugin=function(r,n){hn("6.5.0","Renderer.registerPlugin() has been deprecated, please use extensions.add() instead."),mi.add({name:r,type:We.RendererPlugin,ref:n})},e.__plugins={},e}(HM);mi.handleByMap(We.RendererPlugin,mw.__plugins);function $M(t){return mw.create(t)}var WM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,YM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,qM=WM,gw=YM,Vm=function(){function t(){this.texArray=null,this.blend=0,this.type=$r.TRIANGLES,this.start=0,this.size=0,this.data=null}return t}(),$m=function(){function t(){this.elements=[],this.ids=[],this.count=0}return t.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},t}(),Wm=function(){function t(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(t.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),t.prototype.view=function(e){return this[e+"View"]},t.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},t.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},t}(),ZM=function(t){Je(e,t);function e(r){var n=t.call(this,r)||this;return n.shaderGenerator=null,n.geometryClass=null,n.vertexSize=null,n.state=lo.for2d(),n.size=K.SPRITE_BATCH_SIZE*4,n._vertexCount=0,n._indexCount=0,n._bufferedElements=[],n._bufferedTextures=[],n._bufferSize=0,n._shader=null,n._packedGeometries=[],n._packedGeometryPoolSize=2,n._flushId=0,n._aBuffers={},n._iBuffers={},n.MAX_TEXTURES=1,n.renderer.on("prerender",n.onPrerender,n),r.runners.contextChange.add(n),n._dcIndex=0,n._aIndex=0,n._iIndex=0,n._attributeBuffer=null,n._indexBuffer=null,n._tempBoundTextures=[],n}return e.prototype.contextChange=function(){var r=this.renderer.gl;K.PREFER_ENV===di.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(r.getParameter(r.MAX_TEXTURE_IMAGE_UNITS),K.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=oM(this.MAX_TEXTURES,r)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var n=0;n<this._packedGeometryPoolSize;n++)this._packedGeometries[n]=new this.geometryClass;this.initFlushBuffers()},e.prototype.initFlushBuffers=function(){for(var r=e._drawCallPool,n=e._textureArrayPool,i=this.size/4,s=Math.floor(i/this.MAX_TEXTURES)+1;r.length<i;)r.push(new Vm);for(;n.length<s;)n.push(new $m);for(var o=0;o<this.MAX_TEXTURES;o++)this._tempBoundTextures[o]=null},e.prototype.onPrerender=function(){this._flushId=0},e.prototype.render=function(r){!r._texture.valid||(this._vertexCount+r.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=r.vertexData.length/2,this._indexCount+=r.indices.length,this._bufferedTextures[this._bufferSize]=r._texture.baseTexture,this._bufferedElements[this._bufferSize++]=r)},e.prototype.buildTexturesAndDrawCalls=function(){var r=this,n=r._bufferedTextures,i=r.MAX_TEXTURES,s=e._textureArrayPool,o=this.renderer.batch,a=this._tempBoundTextures,u=this.renderer.textureGC.count,f=++Oe._globalBatch,d=0,p=s[0],v=0;o.copyBoundTextures(a,i);for(var g=0;g<this._bufferSize;++g){var _=n[g];n[g]=null,_._batchEnabled!==f&&(p.count>=i&&(o.boundArray(p,a,f,i),this.buildDrawCalls(p,v,g),v=g,p=s[++d],++f),_._batchEnabled=f,_.touched=u,p.elements[p.count++]=_)}p.count>0&&(o.boundArray(p,a,f,i),this.buildDrawCalls(p,v,this._bufferSize),++d,++f);for(var g=0;g<a.length;g++)a[g]=null;Oe._globalBatch=f},e.prototype.buildDrawCalls=function(r,n,i){var s=this,o=s._bufferedElements,a=s._attributeBuffer,u=s._indexBuffer,f=s.vertexSize,d=e._drawCallPool,p=this._dcIndex,v=this._aIndex,g=this._iIndex,_=d[p];_.start=this._iIndex,_.texArray=r;for(var b=n;b<i;++b){var m=o[b],E=m._texture.baseTexture,T=QT[E.alphaMode?1:0][m.blendMode];o[b]=null,n<b&&_.blend!==T&&(_.size=g-_.start,n=b,_=d[++p],_.texArray=r,_.start=g),this.packInterleavedGeometry(m,a,u,v,g),v+=m.vertexData.length/2*f,g+=m.indices.length,_.blend=T}n<i&&(_.size=g-_.start,++p),this._dcIndex=p,this._aIndex=v,this._iIndex=g},e.prototype.bindAndClearTexArray=function(r){for(var n=this.renderer.texture,i=0;i<r.count;i++)n.bind(r.elements[i],r.ids[i]),r.elements[i]=null;r.count=0},e.prototype.updateGeometry=function(){var r=this,n=r._packedGeometries,i=r._attributeBuffer,s=r._indexBuffer;K.CAN_UPLOAD_SAME_BUFFER?(n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,n[this._flushId]=new this.geometryClass),n[this._flushId]._buffer.update(i.rawBinaryData),n[this._flushId]._indexBuffer.update(s),this.renderer.geometry.bind(n[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},e.prototype.drawBatches=function(){for(var r=this._dcIndex,n=this.renderer,i=n.gl,s=n.state,o=e._drawCallPool,a=null,u=0;u<r;u++){var f=o[u],d=f.texArray,p=f.type,v=f.size,g=f.start,_=f.blend;a!==d&&(a=d,this.bindAndClearTexArray(d)),this.state.blendMode=_,s.set(this.state),i.drawElements(p,v,i.UNSIGNED_SHORT,g*2)}},e.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},e.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),K.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]&&this._packedGeometries[r].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),t.prototype.destroy.call(this)},e.prototype.getAttributeBuffer=function(r){var n=bc(Math.ceil(r/8)),i=ax(n),s=n*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._aBuffers[s];return o||(this._aBuffers[s]=o=new Wm(s*this.vertexSize*4)),o},e.prototype.getIndexBuffer=function(r){var n=bc(Math.ceil(r/12)),i=ax(n),s=n*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);var o=this._iBuffers[i];return o||(this._iBuffers[i]=o=new Uint16Array(s)),o},e.prototype.packInterleavedGeometry=function(r,n,i,s,o){for(var a=n.uint32View,u=n.float32View,f=s/this.vertexSize,d=r.uvs,p=r.indices,v=r.vertexData,g=r._texture.baseTexture._batchLocation,_=Math.min(r.worldAlpha,1),b=_<1&&r._texture.baseTexture.alphaMode?M0(r._tintRGB,_):r._tintRGB+(_*255<<24),m=0;m<v.length;m+=2)u[s++]=v[m],u[s++]=v[m+1],u[s++]=d[m],u[s++]=d[m+1],a[s++]=b,u[s++]=g;for(var m=0;m<p.length;m++)i[o++]=f+p[m]},e._drawCallPool=[],e._textureArrayPool=[],e}(sd),QM=function(){function t(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},r.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(r.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return t.prototype.generateShader=function(e){if(!this.programCache[e]){for(var r=new Int32Array(e),n=0;n<e;n++)r[n]=n;this.defaultGroupCache[e]=qs.from({uSamplers:r},!0);var i=this.fragTemplate;i=i.replace(/%count%/gi,""+e),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Su(this.vertexSrc,i)}var s={tint:new Float32Array([1,1,1,1]),translationMatrix:new kt,default:this.defaultGroupCache[e]};return new es(this.programCache[e],s)},t.prototype.generateSampleSrc=function(e){var r="";r+=`
`,r+=`
`;for(var n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+="if(vTextureId < "+n+".5)"),r+=`
{`,r+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",r+=`
}`;return r+=`
`,r+=`
`,r},t}(),yw=function(t){Je(e,t);function e(r){r===void 0&&(r=!1);var n=t.call(this)||this;return n._buffer=new Ft(null,r,!1),n._indexBuffer=new Ft(null,r,!0),n.addAttribute("aVertexPosition",n._buffer,2,!1,de.FLOAT).addAttribute("aTextureCoord",n._buffer,2,!1,de.FLOAT).addAttribute("aColor",n._buffer,4,!0,de.UNSIGNED_BYTE).addAttribute("aTextureId",n._buffer,1,!0,de.FLOAT).addIndex(n._indexBuffer),n}return e}(wu),Tx=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,wx=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,KM=function(){function t(){}return t.create=function(e){var r=Object.assign({vertex:Tx,fragment:wx,geometryClass:yw,vertexSize:6},e),n=r.vertex,i=r.fragment,s=r.vertexSize,o=r.geometryClass;return function(a){Je(u,a);function u(f){var d=a.call(this,f)||this;return d.shaderGenerator=new QM(n,i),d.geometryClass=o,d.vertexSize=s,d}return u}(ZM)},Object.defineProperty(t,"defaultVertexSrc",{get:function(){return Tx},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentTemplate",{get:function(){return wx},enumerable:!1,configurable:!0}),t}(),_w=KM.create();Object.assign(_w,{extension:{name:"batch",type:We.RendererPlugin}});/*!
 * @pixi/accessibility - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/accessibility is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var JM={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};bt.mixin(JM);var eF=9,Wh=100,tF=0,rF=0,Sx=2,Ax=1,nF=-1e3,iF=-1e3,sF=2,oF=function(){function t(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Rn.tablet||Rn.phone)&&this.createTouchHook();var r=document.createElement("div");r.style.width=Wh+"px",r.style.height=Wh+"px",r.style.position="absolute",r.style.top=tF+"px",r.style.left=rF+"px",r.style.zIndex=Sx.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(t.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),t.prototype.createTouchHook=function(){var e=this,r=document.createElement("button");r.style.width=Ax+"px",r.style.height=Ax+"px",r.style.position="absolute",r.style.top=nF+"px",r.style.left=iF+"px",r.style.zIndex=sF.toString(),r.style.backgroundColor="#FF0000",r.title="select to enable accessibility for this content",r.addEventListener("focus",function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()}),document.body.appendChild(r),this._hookDiv=r},t.prototype.destroyTouchHook=function(){!this._hookDiv||(document.body.removeChild(this._hookDiv),this._hookDiv=null)},t.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)===null||e===void 0||e.appendChild(this.div))},t.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)===null||e===void 0||e.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(e){if(!(!e.visible||!e.accessibleChildren)){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var r=e.children;if(r)for(var n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}},t.prototype.update=function(){var e=performance.now();if(!(Rn.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,!!this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var r=this.renderer.view.getBoundingClientRect(),n=r.left,i=r.top,s=r.width,o=r.height,a=this.renderer,u=a.width,f=a.height,d=a.resolution,p=s/u*d,v=o/f*d,g=this.div;g.style.left=n+"px",g.style.top=i+"px",g.style.width=u+"px",g.style.height=f+"px";for(var _=0;_<this.children.length;_++){var b=this.children[_];if(b.renderId!==this.renderId)b._accessibleActive=!1,oa(this.children,_,1),this.div.removeChild(b._accessibleDiv),this.pool.push(b._accessibleDiv),b._accessibleDiv=null,_--;else{g=b._accessibleDiv;var m=b.hitArea,E=b.worldTransform;b.hitArea?(g.style.left=(E.tx+m.x*E.a)*p+"px",g.style.top=(E.ty+m.y*E.d)*v+"px",g.style.width=m.width*E.a*p+"px",g.style.height=m.height*E.d*v+"px"):(m=b.getBounds(),this.capHitArea(m),g.style.left=m.x*p+"px",g.style.top=m.y*v+"px",g.style.width=m.width*p+"px",g.style.height=m.height*v+"px",g.title!==b.accessibleTitle&&b.accessibleTitle!==null&&(g.title=b.accessibleTitle),g.getAttribute("aria-label")!==b.accessibleHint&&b.accessibleHint!==null&&g.setAttribute("aria-label",b.accessibleHint)),(b.accessibleTitle!==g.title||b.tabIndex!==g.tabIndex)&&(g.title=b.accessibleTitle,g.tabIndex=b.tabIndex,this.debug&&this.updateDebugHTML(g))}}this.renderId++}},t.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},t.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var r=this.renderer,n=r.width,i=r.height;e.x+e.width>n&&(e.width=n-e.x),e.y+e.height>i&&(e.height=i-e.y)},t.prototype.addChild=function(e){var r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=Wh+"px",r.style.height=Wh+"px",r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=Sx.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title="displayObject "+e.tabIndex),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},t.prototype._onClick=function(e){var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"click",i),r.dispatchEvent(n,"pointertap",i),r.dispatchEvent(n,"tap",i)},t.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseover",i)},t.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var r=this.renderer.plugins.interaction,n=e.target.displayObject,i=r.eventData;r.dispatchEvent(n,"mouseout",i)},t.prototype._onKeyDown=function(e){e.keyCode===eF&&this.activate()},t.prototype._onMouseMove=function(e){e.movementX===0&&e.movementY===0||this.deactivate()},t.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t.extension={name:"accessibility",type:[We.RendererPlugin,We.CanvasRendererPlugin]},t}();/*!
 * @pixi/interaction - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/interaction is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Cx=function(){function t(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Ke,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(t.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),t.prototype.getLocalPosition=function(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)},t.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var r="buttons"in e&&e.buttons;this.buttons=Number.isInteger(r)?r:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},t.prototype.reset=function(){this.isPrimary=!1},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Ym=function(t,e){return Ym=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Ym(t,e)};function aF(t,e){Ym(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var lF=function(){function t(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},t.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},t}(),hv=function(){function t(e){this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(e,r){r?this._flags=this._flags|e:this._flags=this._flags&~e},Object.defineProperty(t.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"none",{get:function(){return this._flags===t.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"over",{get:function(){return(this._flags&t.FLAGS.OVER)!==0},set:function(e){this._doSet(t.FLAGS.OVER,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightDown",{get:function(){return(this._flags&t.FLAGS.RIGHT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.RIGHT_DOWN,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftDown",{get:function(){return(this._flags&t.FLAGS.LEFT_DOWN)!==0},set:function(e){this._doSet(t.FLAGS.LEFT_DOWN,e)},enumerable:!1,configurable:!0}),t.FLAGS=Object.freeze({NONE:0,OVER:1<<0,LEFT_DOWN:1<<1,RIGHT_DOWN:1<<2}),t}(),uF=function(){function t(){this._tempPoint=new Ke}return t.prototype.recursiveFindHit=function(e,r,n,i,s){var o;if(!r||!r.visible)return!1;var a=e.data.global;s=r.interactive||s;var u=!1,f=s,d=!0;if(r.hitArea)i&&(r.worldTransform.applyInverse(a,this._tempPoint),r.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?u=!0:(i=!1,d=!1)),f=!1;else if(r._mask&&i){var p=r._mask.isMaskData?r._mask.maskObject:r._mask;p&&!(!((o=p.containsPoint)===null||o===void 0)&&o.call(p,a))&&(i=!1)}if(d&&r.interactiveChildren&&r.children)for(var v=r.children,g=v.length-1;g>=0;g--){var _=v[g],b=this.recursiveFindHit(e,_,n,i,f);if(b){if(!_.parent)continue;f=!1,b&&(e.target&&(i=!1),u=!0)}}return s&&(i&&!e.target&&!r.hitArea&&r.containsPoint&&r.containsPoint(a)&&(u=!0),r.interactive&&(u&&!e.target&&(e.target=r),n&&n(e,r,!!u))),u},t.prototype.findHit=function(e,r,n,i){this.recursiveFindHit(e,r,n,i,!1)},t}(),hF={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(t){t?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};bt.mixin(hF);var Yh=1,qh={target:null,data:{global:null}},fF=function(t){aF(e,t);function e(r,n){var i=t.call(this)||this;return n=n||{},i.renderer=r,i.autoPreventDefault=n.autoPreventDefault!==void 0?n.autoPreventDefault:!0,i.interactionFrequency=n.interactionFrequency||10,i.mouse=new Cx,i.mouse.identifier=Yh,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[Yh]=i.mouse,i.interactionDataPool=[],i.eventData=new lF,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new uF,i._tempDisplayObject=new nw,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=n.useSystemTicker!==void 0?n.useSystemTicker:!0,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return Object.defineProperty(e.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(r){this._useSystemTicker=r,r?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),e.prototype.hitTest=function(r,n){return qh.target=null,qh.data.global=r,n||(n=this.lastObjectRendered),this.processInteractive(qh,n,null,!0),qh.target},e.prototype.setTargetElement=function(r,n){n===void 0&&(n=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=r,this.resolution=n,this.addEvents(),this.addTickerListener()},e.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(zt.system.add(this.tickerUpdate,this,pi.INTERACTION),this.tickerAdded=!0)},e.prototype.removeTickerListener=function(){!this.tickerAdded||(zt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},e.prototype.addEvents=function(){if(!(this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="none",r.msTouchAction="none"):this.supportsPointerEvents&&(r.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},e.prototype.removeEvents=function(){if(!(!this.eventsAdded||!this.interactionDOMElement)){var r=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(r.msContentZooming="",r.msTouchAction=""):this.supportsPointerEvents&&(r.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},e.prototype.tickerUpdate=function(r){this._deltaTime+=r,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},e.prototype.update=function(){if(!!this.interactionDOMElement){if(this._didMove){this._didMove=!1;return}this.cursor=null;for(var r in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(r)){var n=this.activeInteractionData[r];if(n.originalEvent&&n.pointerType!=="touch"){var i=this.configureInteractionEventForDOMEvent(this.eventData,n.originalEvent,n);this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(r){r=r||"default";var n=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(n=!1),this.currentCursorMode!==r){this.currentCursorMode=r;var i=this.cursorStyles[r];if(i)switch(typeof i){case"string":n&&(this.interactionDOMElement.style.cursor=i);break;case"function":i(r);break;case"object":n&&Object.assign(this.interactionDOMElement.style,i);break}else n&&typeof r=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,r)&&(this.interactionDOMElement.style.cursor=r)}},e.prototype.dispatchEvent=function(r,n,i){(!i.stopPropagationHint||r===i.stopsPropagatingAt)&&(i.currentTarget=r,i.type=n,r.emit(n,i),r[n]&&r[n](i))},e.prototype.delayDispatchEvent=function(r,n,i){this.delayedEvents.push({displayObject:r,eventString:n,eventData:i})},e.prototype.mapPositionToPoint=function(r,n,i){var s;this.interactionDOMElement.parentElement?s=this.interactionDOMElement.getBoundingClientRect():s={x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var o=1/this.resolution;r.x=(n-s.left)*(this.interactionDOMElement.width/s.width)*o,r.y=(i-s.top)*(this.interactionDOMElement.height/s.height)*o},e.prototype.processInteractive=function(r,n,i,s){var o=this.search.findHit(r,n,i,s),a=this.delayedEvents;if(!a.length)return o;r.stopPropagationHint=!1;var u=a.length;this.delayedEvents=[];for(var f=0;f<u;f++){var d=a[f],p=d.displayObject,v=d.eventString,g=d.eventData;g.stopsPropagatingAt===p&&(g.stopPropagationHint=!0),this.dispatchEvent(p,v,g)}return o},e.prototype.onPointerDown=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);if(this.autoPreventDefault&&n[0].isNormalized){var i=r.cancelable||!("cancelable"in r);i&&r.preventDefault()}for(var s=n.length,o=0;o<s;o++){var a=n[o],u=this.getInteractionDataForPointerId(a),f=this.configureInteractionEventForDOMEvent(this.eventData,a,u);if(f.data.originalEvent=r,this.processInteractive(f,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",f),a.pointerType==="touch")this.emit("touchstart",f);else if(a.pointerType==="mouse"||a.pointerType==="pen"){var d=a.button===2;this.emit(d?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(r,n,i){var s=r.data,o=r.data.identifier;if(i){if(n.trackedPointers[o]||(n.trackedPointers[o]=new hv(o)),this.dispatchEvent(n,"pointerdown",r),s.pointerType==="touch")this.dispatchEvent(n,"touchstart",r);else if(s.pointerType==="mouse"||s.pointerType==="pen"){var a=s.button===2;a?n.trackedPointers[o].rightDown=!0:n.trackedPointers[o].leftDown=!0,this.dispatchEvent(n,a?"rightdown":"mousedown",r)}}},e.prototype.onPointerComplete=function(r,n,i){var s=this.normalizeToPointerData(r),o=s.length,a=r.target;r.composedPath&&r.composedPath().length>0&&(a=r.composedPath()[0]);for(var u=a!==this.interactionDOMElement?"outside":"",f=0;f<o;f++){var d=s[f],p=this.getInteractionDataForPointerId(d),v=this.configureInteractionEventForDOMEvent(this.eventData,d,p);if(v.data.originalEvent=r,this.processInteractive(v,this.lastObjectRendered,i,n||!u),this.emit(n?"pointercancel":"pointerup"+u,v),d.pointerType==="mouse"||d.pointerType==="pen"){var g=d.button===2;this.emit(g?"rightup"+u:"mouseup"+u,v)}else d.pointerType==="touch"&&(this.emit(n?"touchcancel":"touchend"+u,v),this.releaseInteractionDataForPointerId(d.pointerId))}},e.prototype.onPointerCancel=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(r,n){var i=r.data,s=r.data.identifier;n.trackedPointers[s]!==void 0&&(delete n.trackedPointers[s],this.dispatchEvent(n,"pointercancel",r),i.pointerType==="touch"&&this.dispatchEvent(n,"touchcancel",r))},e.prototype.onPointerUp=function(r){this.supportsTouchEvents&&r.pointerType==="touch"||this.onPointerComplete(r,!1,this.processPointerUp)},e.prototype.processPointerUp=function(r,n,i){var s=r.data,o=r.data.identifier,a=n.trackedPointers[o],u=s.pointerType==="touch",f=s.pointerType==="mouse"||s.pointerType==="pen",d=!1;if(f){var p=s.button===2,v=hv.FLAGS,g=p?v.RIGHT_DOWN:v.LEFT_DOWN,_=a!==void 0&&a.flags&g;i?(this.dispatchEvent(n,p?"rightup":"mouseup",r),_&&(this.dispatchEvent(n,p?"rightclick":"click",r),d=!0)):_&&this.dispatchEvent(n,p?"rightupoutside":"mouseupoutside",r),a&&(p?a.rightDown=!1:a.leftDown=!1)}i?(this.dispatchEvent(n,"pointerup",r),u&&this.dispatchEvent(n,"touchend",r),a&&((!f||d)&&this.dispatchEvent(n,"pointertap",r),u&&(this.dispatchEvent(n,"tap",r),a.over=!1))):a&&(this.dispatchEvent(n,"pointerupoutside",r),u&&this.dispatchEvent(n,"touchendoutside",r)),a&&a.none&&delete n.trackedPointers[o]},e.prototype.onPointerMove=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r);(n[0].pointerType==="mouse"||n[0].pointerType==="pen")&&(this._didMove=!0,this.cursor=null);for(var i=n.length,s=0;s<i;s++){var o=n[s],a=this.getInteractionDataForPointerId(o),u=this.configureInteractionEventForDOMEvent(this.eventData,o,a);u.data.originalEvent=r,this.processInteractive(u,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",u),o.pointerType==="touch"&&this.emit("touchmove",u),(o.pointerType==="mouse"||o.pointerType==="pen")&&this.emit("mousemove",u)}n[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(r,n,i){var s=r.data,o=s.pointerType==="touch",a=s.pointerType==="mouse"||s.pointerType==="pen";a&&this.processPointerOverOut(r,n,i),(!this.moveWhenInside||i)&&(this.dispatchEvent(n,"pointermove",r),o&&this.dispatchEvent(n,"touchmove",r),a&&this.dispatchEvent(n,"mousemove",r))},e.prototype.onPointerOut=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0];i.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var s=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,s);o.data.originalEvent=i,this.processInteractive(o,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",o),i.pointerType==="mouse"||i.pointerType==="pen"?this.emit("mouseout",o):this.releaseInteractionDataForPointerId(s.identifier)}},e.prototype.processPointerOverOut=function(r,n,i){var s=r.data,o=r.data.identifier,a=s.pointerType==="mouse"||s.pointerType==="pen",u=n.trackedPointers[o];i&&!u&&(u=n.trackedPointers[o]=new hv(o)),u!==void 0&&(i&&this.mouseOverRenderer?(u.over||(u.over=!0,this.delayDispatchEvent(n,"pointerover",r),a&&this.delayDispatchEvent(n,"mouseover",r)),a&&this.cursor===null&&(this.cursor=n.cursor)):u.over&&(u.over=!1,this.dispatchEvent(n,"pointerout",this.eventData),a&&this.dispatchEvent(n,"mouseout",r),u.none&&delete n.trackedPointers[o]))},e.prototype.onPointerOver=function(r){if(!(this.supportsTouchEvents&&r.pointerType==="touch")){var n=this.normalizeToPointerData(r),i=n[0],s=this.getInteractionDataForPointerId(i),o=this.configureInteractionEventForDOMEvent(this.eventData,i,s);o.data.originalEvent=i,i.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",o),(i.pointerType==="mouse"||i.pointerType==="pen")&&this.emit("mouseover",o)}},e.prototype.getInteractionDataForPointerId=function(r){var n=r.pointerId,i;return n===Yh||r.pointerType==="mouse"?i=this.mouse:this.activeInteractionData[n]?i=this.activeInteractionData[n]:(i=this.interactionDataPool.pop()||new Cx,i.identifier=n,this.activeInteractionData[n]=i),i.copyEvent(r),i},e.prototype.releaseInteractionDataForPointerId=function(r){var n=this.activeInteractionData[r];n&&(delete this.activeInteractionData[r],n.reset(),this.interactionDataPool.push(n))},e.prototype.configureInteractionEventForDOMEvent=function(r,n,i){return r.data=i,this.mapPositionToPoint(i.global,n.clientX,n.clientY),n.pointerType==="touch"&&(n.globalX=i.global.x,n.globalY=i.global.y),i.originalEvent=n,r.reset(),r},e.prototype.normalizeToPointerData=function(r){var n=[];if(this.supportsTouchEvents&&r instanceof TouchEvent)for(var i=0,s=r.changedTouches.length;i<s;i++){var o=r.changedTouches[i];typeof o.button>"u"&&(o.button=r.touches.length?1:0),typeof o.buttons>"u"&&(o.buttons=r.touches.length?1:0),typeof o.isPrimary>"u"&&(o.isPrimary=r.touches.length===1&&r.type==="touchstart"),typeof o.width>"u"&&(o.width=o.radiusX||1),typeof o.height>"u"&&(o.height=o.radiusY||1),typeof o.tiltX>"u"&&(o.tiltX=0),typeof o.tiltY>"u"&&(o.tiltY=0),typeof o.pointerType>"u"&&(o.pointerType="touch"),typeof o.pointerId>"u"&&(o.pointerId=o.identifier||0),typeof o.pressure>"u"&&(o.pressure=o.force||.5),typeof o.twist>"u"&&(o.twist=0),typeof o.tangentialPressure>"u"&&(o.tangentialPressure=0),typeof o.layerX>"u"&&(o.layerX=o.offsetX=o.clientX),typeof o.layerY>"u"&&(o.layerY=o.offsetY=o.clientY),o.isNormalized=!0,n.push(o)}else if(!globalThis.MouseEvent||r instanceof MouseEvent&&(!this.supportsPointerEvents||!(r instanceof globalThis.PointerEvent))){var a=r;typeof a.isPrimary>"u"&&(a.isPrimary=!0),typeof a.width>"u"&&(a.width=1),typeof a.height>"u"&&(a.height=1),typeof a.tiltX>"u"&&(a.tiltX=0),typeof a.tiltY>"u"&&(a.tiltY=0),typeof a.pointerType>"u"&&(a.pointerType="mouse"),typeof a.pointerId>"u"&&(a.pointerId=Yh),typeof a.pressure>"u"&&(a.pressure=.5),typeof a.twist>"u"&&(a.twist=0),typeof a.tangentialPressure>"u"&&(a.tangentialPressure=0),a.isNormalized=!0,n.push(a)}else n.push(r);return n},e.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},e.extension={name:"interaction",type:[We.RendererPlugin,We.CanvasRendererPlugin]},e}(Eu);/*!
 * @pixi/extract - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/extract is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Rx=new Ne,Ix=4,cF=function(){function t(e){this.renderer=e}return t.prototype.image=function(e,r,n){var i=new Image;return i.src=this.base64(e,r,n),i},t.prototype.base64=function(e,r,n){return this.canvas(e).toDataURL(r,n)},t.prototype.canvas=function(e,r){var n=this.renderer,i,s=!1,o,a=!1;e&&(e instanceof ro?o=e:(o=this.renderer.generateTexture(e),a=!0)),o?(i=o.baseTexture.resolution,r=r!=null?r:o.frame,s=!1,n.renderTexture.bind(o)):(i=n.resolution,r||(r=Rx,r.width=n.width,r.height=n.height),s=!0,n.renderTexture.bind(null));var u=Math.round(r.width*i),f=Math.round(r.height*i),d=new hx(u,f,1),p=new Uint8Array(Ix*u*f),v=n.gl;v.readPixels(Math.round(r.x*i),Math.round(r.y*i),u,f,v.RGBA,v.UNSIGNED_BYTE,p);var g=d.context.getImageData(0,0,u,f);if(t.arrayPostDivide(p,g.data),d.context.putImageData(g,0,0),s){var _=new hx(d.width,d.height,1);_.context.scale(1,-1),_.context.drawImage(d.canvas,0,-f),d.destroy(),d=_}return a&&o.destroy(!0),d.canvas},t.prototype.pixels=function(e,r){var n=this.renderer,i,s,o=!1;e&&(e instanceof ro?s=e:(s=this.renderer.generateTexture(e),o=!0)),s?(i=s.baseTexture.resolution,r=r!=null?r:s.frame,n.renderTexture.bind(s)):(i=n.resolution,r||(r=Rx,r.width=n.width,r.height=n.height),n.renderTexture.bind(null));var a=Math.round(r.width*i),u=Math.round(r.height*i),f=new Uint8Array(Ix*a*u),d=n.gl;return d.readPixels(Math.round(r.x*i),Math.round(r.y*i),a,u,d.RGBA,d.UNSIGNED_BYTE,f),o&&s.destroy(!0),t.arrayPostDivide(f,f),f},t.prototype.destroy=function(){this.renderer=null},t.arrayPostDivide=function(e,r){for(var n=0;n<e.length;n+=4){var i=r[n+3]=e[n+3];i!==0?(r[n]=Math.round(Math.min(e[n]*255/i,255)),r[n+1]=Math.round(Math.min(e[n+1]*255/i,255)),r[n+2]=Math.round(Math.min(e[n+2]*255/i,255))):(r[n]=e[n],r[n+1]=e[n+1],r[n+2]=e[n+2])}},t.extension={name:"extract",type:We.RendererPlugin},t}();/*!
 * @pixi/loaders - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/loaders is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Zh=function(){function t(e,r,n){r===void 0&&(r=!1),this._fn=e,this._once=r,this._thisArg=n,this._next=this._prev=this._owner=null}return t.prototype.detach=function(){return this._owner===null?!1:(this._owner.detach(this),!0)},t}();function Px(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}var ii=function(){function t(){this._head=this._tail=void 0}return t.prototype.handlers=function(e){e===void 0&&(e=!1);var r=this._head;if(e)return!!r;for(var n=[];r;)n.push(r),r=r._next;return n},t.prototype.has=function(e){if(!(e instanceof Zh))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},t.prototype.dispatch=function(){for(var e=arguments,r=[],n=0;n<arguments.length;n++)r[n]=e[n];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,r),i=i._next;return!0},t.prototype.add=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return Px(this,new Zh(e,!1,r))},t.prototype.once=function(e,r){if(r===void 0&&(r=null),typeof e!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return Px(this,new Zh(e,!0,r))},t.prototype.detach=function(e){if(!(e instanceof Zh))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,e._next===null&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)},t.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},t}();function xw(t,e){e=e||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=r.parser[e.strictMode?"strict":"loose"].exec(t),i={},s=14;s--;)i[r.key[s]]=n[s]||"";return i[r.q.name]={},i[r.key[12]].replace(r.q.parser,function(o,a,u){a&&(i[r.q.name][a]=u)}),i}var fv,Qh=null,dF=0,Ox=200,pF=204,vF=1223,mF=2;function Nx(){}function Mx(t,e,r){e&&e.indexOf(".")===0&&(e=e.substring(1)),e&&(t[e]=r)}function cv(t){return t.toString().replace("object ","")}var _t=function(){function t(e,r,n){if(this._dequeue=Nx,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof e!="string"||typeof r!="string")throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,r.indexOf("data:")===0),this.name=e,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.timeout=n.timeout||0,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=Nx,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new ii,this.onProgress=new ii,this.onComplete=new ii,this.onAfterMiddleware=new ii}return t.setExtensionLoadType=function(e,r){Mx(t._loadTypeMap,e,r)},t.setExtensionXhrType=function(e,r){Mx(t._xhrTypeMap,e,r)},Object.defineProperty(t.prototype,"isDataUrl",{get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isComplete",{get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),t.prototype.complete=function(){this._clearEvents(),this._finish()},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},t.prototype.load=function(e){var r=this;if(!this.isLoading){if(this.isComplete){e&&setTimeout(function(){return e(r)},1);return}else e&&this.onComplete.once(e);switch(this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(this.crossOrigin===!1||typeof this.crossOrigin!="string")&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:typeof fv>"u"&&(fv=!!(globalThis.XDomainRequest&&!("withCredentials"in new XMLHttpRequest))),fv&&this.crossOrigin?this._loadXdr():this._loadXhr();break}}},t.prototype._hasFlag=function(e){return(this._flags&e)!==0},t.prototype._setFlag=function(e,r){this._flags=r?this._flags|e:this._flags&~e},t.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},t.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:e==="image"&&typeof globalThis.Image<"u"?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:e==="audio"&&typeof globalThis.Audio<"u"?this.data=new Audio:this.data=document.createElement(e),this.data===null){this.abort("Unsupported element: "+e);return}if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var r=this.metadata.mimeType,n=0;n<this.url.length;++n)this.data.appendChild(this._createSource(e,this.url[n],Array.isArray(r)?r[n]:r));else{var r=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(r)?r[0]:r))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},t.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(e.withCredentials=!0),e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},t.prototype._createSource=function(e,r,n){n||(n=e+"/"+this._getExtension(r));var i=document.createElement("source");return i.src=r,i.type=n,i},t.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},t.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},t.prototype._onTimeout=function(){this.abort("Load timed out.")},t.prototype._xhrOnError=function(){var e=this.xhr;this.abort(cv(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},t.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(cv(e)+" Request timed out.")},t.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(cv(e)+" Request was aborted by the user.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,r="",n=typeof e.status>"u"?Ox:e.status;(e.responseType===""||e.responseType==="text"||typeof e.responseType>"u")&&(r=e.responseText),n===dF&&(r.length>0||e.responseType===t.XHR_RESPONSE_TYPE.BUFFER)?n=Ox:n===vF&&(n=pF);var i=n/100|0;if(i===mF)if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=t.TYPE.JSON}catch(a){this.abort("Error trying to parse loaded json: "+a);return}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var s=new DOMParser;this.data=s.parseFromString(r,"text/xml")}else{var o=document.createElement("div");o.innerHTML=r,this.data=o}this.type=t.TYPE.XML}catch(a){this.abort("Error trying to parse loaded xml: "+a);return}else this.data=e.response||r;else{this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);return}this.complete()},t.prototype._determineCrossOrigin=function(e,r){if(e.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";r=r||globalThis.location,Qh||(Qh=document.createElement("a")),Qh.href=e;var n=xw(Qh.href,{strictMode:!0}),i=!n.port&&r.port===""||n.port===r.port,s=n.protocol?n.protocol+":":"";return n.host!==r.hostname||!i||s!==r.protocol?"anonymous":""},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(e){e===void 0&&(e=this.url);var r="";if(this.isDataUrl){var n=e.indexOf("/");r=e.substring(n+1,e.indexOf(";",n))}else{var i=e.indexOf("?"),s=e.indexOf("#"),o=Math.min(i>-1?i:e.length,s>-1?s:e.length);e=e.substring(0,o),r=e.substring(e.lastIndexOf(".")+1)}return r.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},t}();(function(t){(function(e){e[e.NONE=0]="NONE",e[e.DATA_URL=1]="DATA_URL",e[e.COMPLETE=2]="COMPLETE",e[e.LOADING=4]="LOADING"})(t.STATUS_FLAGS||(t.STATUS_FLAGS={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(t.TYPE||(t.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(t.LOAD_TYPE||(t.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(t.XHR_RESPONSE_TYPE||(t.XHR_RESPONSE_TYPE={})),t._loadTypeMap={gif:t.LOAD_TYPE.IMAGE,png:t.LOAD_TYPE.IMAGE,bmp:t.LOAD_TYPE.IMAGE,jpg:t.LOAD_TYPE.IMAGE,jpeg:t.LOAD_TYPE.IMAGE,tif:t.LOAD_TYPE.IMAGE,tiff:t.LOAD_TYPE.IMAGE,webp:t.LOAD_TYPE.IMAGE,tga:t.LOAD_TYPE.IMAGE,avif:t.LOAD_TYPE.IMAGE,svg:t.LOAD_TYPE.IMAGE,"svg+xml":t.LOAD_TYPE.IMAGE,mp3:t.LOAD_TYPE.AUDIO,ogg:t.LOAD_TYPE.AUDIO,wav:t.LOAD_TYPE.AUDIO,mp4:t.LOAD_TYPE.VIDEO,webm:t.LOAD_TYPE.VIDEO},t._xhrTypeMap={xhtml:t.XHR_RESPONSE_TYPE.DOCUMENT,html:t.XHR_RESPONSE_TYPE.DOCUMENT,htm:t.XHR_RESPONSE_TYPE.DOCUMENT,xml:t.XHR_RESPONSE_TYPE.DOCUMENT,tmx:t.XHR_RESPONSE_TYPE.DOCUMENT,svg:t.XHR_RESPONSE_TYPE.DOCUMENT,tsx:t.XHR_RESPONSE_TYPE.DOCUMENT,gif:t.XHR_RESPONSE_TYPE.BLOB,png:t.XHR_RESPONSE_TYPE.BLOB,bmp:t.XHR_RESPONSE_TYPE.BLOB,jpg:t.XHR_RESPONSE_TYPE.BLOB,jpeg:t.XHR_RESPONSE_TYPE.BLOB,tif:t.XHR_RESPONSE_TYPE.BLOB,tiff:t.XHR_RESPONSE_TYPE.BLOB,webp:t.XHR_RESPONSE_TYPE.BLOB,tga:t.XHR_RESPONSE_TYPE.BLOB,avif:t.XHR_RESPONSE_TYPE.BLOB,json:t.XHR_RESPONSE_TYPE.JSON,text:t.XHR_RESPONSE_TYPE.TEXT,txt:t.XHR_RESPONSE_TYPE.TEXT,ttf:t.XHR_RESPONSE_TYPE.BUFFER,otf:t.XHR_RESPONSE_TYPE.BUFFER},t.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(_t||(_t={}));function Ts(){}function gF(t){return function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];if(t===null)throw new Error("Callback was already called.");var s=t;t=null,s.apply(this,n)}}var yF=function(){function t(e,r){this.data=e,this.callback=r}return t}(),dv=function(){function t(e,r){var n=this;if(r===void 0&&(r=1),this.workers=0,this.saturated=Ts,this.unsaturated=Ts,this.empty=Ts,this.drain=Ts,this.error=Ts,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(i,s,o){if(o&&typeof o!="function")throw new Error("task callback must be a function");if(n.started=!0,i==null&&n.idle()){setTimeout(function(){return n.drain()},1);return}var a=new yF(i,typeof o=="function"?o:Ts);s?n._tasks.unshift(a):n._tasks.push(a),setTimeout(n.process,1)},this.process=function(){for(;!n.paused&&n.workers<n.concurrency&&n._tasks.length;){var i=n._tasks.shift();n._tasks.length===0&&n.empty(),n.workers+=1,n.workers===n.concurrency&&n.saturated(),n._worker(i.data,gF(n._next(i)))}},this._worker=e,r===0)throw new Error("Concurrency must not be zero");this.concurrency=r,this.buffer=r/4}return t.prototype._next=function(e){var r=this;return function(){for(var n=arguments,i=[],s=0;s<arguments.length;s++)i[s]=n[s];r.workers-=1,e.callback.apply(e,i),i[0]!=null&&r.error(i[0],e.data),r.workers<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}},t.prototype.push=function(e,r){this._insert(e,!1,r)},t.prototype.kill=function(){this.workers=0,this.drain=Ts,this.started=!1,this._tasks=[]},t.prototype.unshift=function(e,r){this._insert(e,!0,r)},t.prototype.length=function(){return this._tasks.length},t.prototype.running=function(){return this.workers},t.prototype.idle=function(){return this._tasks.length+this.workers===0},t.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},t.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},t.eachSeries=function(e,r,n,i){var s=0,o=e.length;function a(u){if(u||s===o){n&&n(u);return}i?setTimeout(function(){r(e[s++],a)},1):r(e[s++],a)}a()},t.queue=function(e,r){return new t(e,r)},t}(),pv=100,_F=/(#[\w-]+)?$/,Sc=function(){function t(e,r){var n=this;e===void 0&&(e=""),r===void 0&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,f){return n._loadResource(u,f)},this.resources={},this.baseUrl=e,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(u,f){return n._loadResource(u,f)},this._queue=dv.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new ii,this.onError=new ii,this.onLoad=new ii,this.onStart=new ii,this.onComplete=new ii;for(var i=0;i<t._plugins.length;++i){var s=t._plugins[i],o=s.pre,a=s.use;o&&this.pre(o),a&&this.use(a)}this._protected=!1}return t.prototype._add=function(e,r,n,i){if(this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(r=this._prepareUrl(r),this.resources[e]=new _t(e,r,n),typeof i=="function"&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var s=n.parentResource,o=[],a=0;a<s.children.length;++a)s.children[a].isComplete||o.push(s.children[a]);var u=s.progressChunk*(o.length+1),f=u/(o.length+2);s.children.push(this.resources[e]),s.progressChunk=f;for(var a=0;a<o.length;++a)o[a].progressChunk=f;this.resources[e].progressChunk=f}return this._queue.push(this.resources[e]),this},t.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},t.prototype.use=function(e){return this._afterMiddleware.push(e),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var e in this.resources){var r=this.resources[e];r._onLoadBinding&&r._onLoadBinding.detach(),r.isLoading&&r.abort("loader reset")}return this.resources={},this},t.prototype.load=function(e){if(hn("6.5.0","@pixi/loaders is being replaced with @pixi/assets in the next major release."),typeof e=="function"&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var r=this._queue._tasks.length,n=pv/r,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=n;this._onStart(),this._queue.resume()}return this},Object.defineProperty(t.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),t.prototype._prepareUrl=function(e){var r=xw(e,{strictMode:!0}),n;if(r.protocol||!r.path||e.indexOf("//")===0?n=e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&e.charAt(0)!=="/"?n=this.baseUrl+"/"+e:n=this.baseUrl+e,this.defaultQueryString){var i=_F.exec(n)[0];n=n.slice(0,n.length-i.length),n.indexOf("?")!==-1?n+="&"+this.defaultQueryString:n+="?"+this.defaultQueryString,n+=i}return n},t.prototype._loadResource=function(e,r){var n=this;e._dequeue=r,dv.eachSeries(this._beforeMiddleware,function(i,s){i.call(n,e,function(){s(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())},!0)},t.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},t.prototype._onComplete=function(){this.progress=pv,this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(e){var r=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),dv.eachSeries(this._afterMiddleware,function(n,i){n.call(r,e,i)},function(){e.onAfterMiddleware.dispatch(e),r.progress=Math.min(pv,r.progress+e.progressChunk),r.onProgress.dispatch(r,e),e.error?r.onError.dispatch(e.error,r,e):r.onLoad.dispatch(r,e),r._resourcesParsing.splice(r._resourcesParsing.indexOf(e),1),r._queue.idle()&&r._resourcesParsing.length===0&&r._onComplete()},!0)},t.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(t,"shared",{get:function(){var e=t._shared;return e||(e=new t,e._protected=!0,t._shared=e),e},enumerable:!1,configurable:!0}),t.registerPlugin=function(e){return hn("6.5.0","Loader.registerPlugin() is deprecated, use extensions.add() instead."),mi.add({type:We.Loader,ref:e}),t},t._plugins=[],t}();mi.handleByList(We.Loader,Sc._plugins);Sc.prototype.add=function(e,r,n,i){if(Array.isArray(e)){for(var s=0;s<e.length;++s)this.add(e[s]);return this}if(typeof e=="object"&&(n=e,i=r||n.callback||n.onComplete,r=n.url,e=n.name||n.key||n.url),typeof r!="string"&&(i=n,n=r,r=e),typeof r!="string")throw new Error("No url passed to add resource to loader.");return typeof n=="function"&&(i=n,n=null),this._add(e,r,n,i)};var xF=function(){function t(){}return t.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Sc.shared:new Sc},t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.extension=We.Application,t}(),bF=function(){function t(){}return t.add=function(){_t.setExtensionLoadType("svg",_t.LOAD_TYPE.XHR),_t.setExtensionXhrType("svg",_t.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){if(e.data&&(e.type===_t.TYPE.IMAGE||e.extension==="svg")){var n=e.data,i=e.url,s=e.name,o=e.metadata;ce.fromLoader(n,i,s,o).then(function(a){e.texture=a,r()}).catch(r)}else r()},t.extension=We.Loader,t}(),EF="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function TF(t){for(var e="",r=0;r<t.length;){for(var n=[0,0,0],i=[0,0,0,0],s=0;s<n.length;++s)r<t.length?n[s]=t.charCodeAt(r++)&255:n[s]=0;i[0]=n[0]>>2,i[1]=(n[0]&3)<<4|n[1]>>4,i[2]=(n[1]&15)<<2|n[2]>>6,i[3]=n[2]&63;var o=r-(t.length-1);switch(o){case 2:i[3]=64,i[2]=64;break;case 1:i[3]=64;break}for(var s=0;s<i.length;++s)e+=EF.charAt(i[s])}return e}function wF(t,e){if(!t.data){e();return}if(t.xhr&&t.xhrType===_t.XHR_RESPONSE_TYPE.BLOB){if(!self.Blob||typeof t.data=="string"){var r=t.xhr.getResponseHeader("content-type");if(r&&r.indexOf("image")===0){t.data=new Image,t.data.src="data:"+r+";base64,"+TF(t.xhr.responseText),t.type=_t.TYPE.IMAGE,t.data.onload=function(){t.data.onload=null,e()};return}}else if(t.data.type.indexOf("image")===0){var n=globalThis.URL||globalThis.webkitURL,i=n.createObjectURL(t.data);t.blob=t.data,t.data=new Image,t.data.src=i,t.type=_t.TYPE.IMAGE,t.data.onload=function(){n.revokeObjectURL(i),t.data.onload=null,e()};return}}e()}var SF=function(){function t(){}return t.extension=We.Loader,t.use=wF,t}();mi.add(bF,SF);/*!
 * @pixi/compressed-textures - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/compressed-textures is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var ze,we;(function(t){t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR"})(we||(we={}));var Ac=(ze={},ze[we.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,ze[we.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,ze[we.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,ze[we.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,ze[we.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,ze[we.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,ze[we.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,ze[we.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,ze[we.COMPRESSED_R11_EAC]=.5,ze[we.COMPRESSED_SIGNED_R11_EAC]=.5,ze[we.COMPRESSED_RG11_EAC]=1,ze[we.COMPRESSED_SIGNED_RG11_EAC]=1,ze[we.COMPRESSED_RGB8_ETC2]=.5,ze[we.COMPRESSED_RGBA8_ETC2_EAC]=1,ze[we.COMPRESSED_SRGB8_ETC2]=.5,ze[we.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,ze[we.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,ze[we.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,ze[we.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,ze[we.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,ze[we.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,ze[we.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,ze[we.COMPRESSED_RGB_ETC1_WEBGL]=.5,ze[we.COMPRESSED_RGB_ATC_WEBGL]=.5,ze[we.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,ze[we.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,ze[we.COMPRESSED_RGBA_ASTC_4x4_KHR]=1,ze);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qm=function(t,e){return qm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qm(t,e)};function bw(t,e){qm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function AF(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(d){try{f(n.next(d))}catch(p){o(p)}}function u(d){try{f(n.throw(d))}catch(p){o(p)}}function f(d){d.done?s(d.value):i(d.value).then(a,u)}f((n=n.apply(t,e||[])).next())})}function CF(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(f){return function(d){return u([f,d])}}function u(f){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=f[0]&2?i.return:f[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,f[1])).done)return s;switch(i=0,s&&(f=[f[0]&2,s.value]),f[0]){case 0:case 1:s=f;break;case 4:return r.label++,{value:f[1],done:!1};case 5:r.label++,i=f[1],f=[0];continue;case 7:f=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(f[0]===6||f[0]===2)){r=0;continue}if(f[0]===3&&(!s||f[1]>s[0]&&f[1]<s[3])){r.label=f[1];break}if(f[0]===6&&r.label<s[1]){r.label=s[1],s=f;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(f);break}s[2]&&r.ops.pop(),r.trys.pop();continue}f=e.call(t,r)}catch(d){f=[6,d],i=0}finally{n=s=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}var RF=function(t){bw(e,t);function e(r,n){n===void 0&&(n={width:1,height:1,autoLoad:!0});var i=this,s,o;return typeof r=="string"?(s=r,o=new Uint8Array):(s=null,o=r),i=t.call(this,o,n)||this,i.origin=s,i.buffer=o?new Wm(o):null,i.origin&&n.autoLoad!==!1&&i.load(),o&&o.length&&(i.loaded=!0,i.onBlobLoaded(i.buffer.rawBinaryData)),i}return e.prototype.onBlobLoaded=function(r){},e.prototype.load=function(){return AF(this,void 0,Promise,function(){var r,n,i;return CF(this,function(s){switch(s.label){case 0:return[4,fetch(this.origin)];case 1:return r=s.sent(),[4,r.blob()];case 2:return n=s.sent(),[4,n.arrayBuffer()];case 3:return i=s.sent(),this.data=new Uint32Array(i),this.buffer=new Wm(i),this.loaded=!0,this.onBlobLoaded(i),this.update(),[2,this]}})})},e}(Tu),Zm=function(t){bw(e,t);function e(r,n){var i=t.call(this,r,n)||this;return i.format=n.format,i.levels=n.levels||1,i._width=n.width,i._height=n.height,i._extension=e._formatToExtension(i.format),(n.levelBuffers||i.buffer)&&(i._levelBuffers=n.levelBuffers||e._createLevelBuffers(r instanceof Uint8Array?r:i.buffer.uint8View,i.format,i.levels,4,4,i.width,i.height)),i}return e.prototype.upload=function(r,n,i){var s=r.gl,o=r.context.extensions[this._extension];if(!o)throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var a=0,u=this.levels;a<u;a++){var f=this._levelBuffers[a],d=f.levelID,p=f.levelWidth,v=f.levelHeight,g=f.levelBuffer;s.compressedTexImage2D(s.TEXTURE_2D,d,this.format,p,v,0,g)}return!0},e.prototype.onBlobLoaded=function(){this._levelBuffers=e._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},e._formatToExtension=function(r){if(r>=33776&&r<=33779)return"s3tc";if(r>=37488&&r<=37497)return"etc";if(r>=35840&&r<=35843)return"pvrtc";if(r>=36196)return"etc1";if(r>=35986&&r<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},e._createLevelBuffers=function(r,n,i,s,o,a,u){for(var f=new Array(i),d=r.byteOffset,p=a,v=u,g=p+s-1&~(s-1),_=v+o-1&~(o-1),b=g*_*Ac[n],m=0;m<i;m++)f[m]={levelID:m,levelWidth:i>1?p:g,levelHeight:i>1?v:_,levelBuffer:new Uint8Array(r.buffer,d,b)},d+=b,p=p>>1||1,v=v>>1||1,g=p+s-1&~(s-1),_=v+o-1&~(o-1),b=g*_*Ac[n];return f},e}(RF),IF=function(){function t(){}return t.use=function(e,r){var n=e.data,i=this;if(e.type===_t.TYPE.JSON&&n&&n.cacheID&&n.textures){for(var s=n.textures,o=void 0,a=void 0,u=0,f=s.length;u<f;u++){var d=s[u],p=d.src,v=d.format;if(v||(a=p),t.textureFormats[v]){o=p;break}}if(o=o||a,!o){r(new Error("Cannot load compressed-textures in "+e.url+", make sure you provide a fallback"));return}if(o===e.url){r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));return}var g={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},_=Xo.resolve(e.url.replace(i.baseUrl,""),o),b=n.cacheID;i.add(b,_,g,function(m){if(m.error){r(m.error);return}var E=m.texture,T=E===void 0?null:E,S=m.textures,A=S===void 0?{}:S;Object.assign(e,{texture:T,textures:A}),r()})}else r()},Object.defineProperty(t,"textureExtensions",{get:function(){if(!t._textureExtensions){var e=K.ADAPTER.createCanvas(),r=e.getContext("webgl");if(!r)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var n={s3tc:r.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:r.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:r.getExtension("WEBGL_compressed_texture_etc"),etc1:r.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:r.getExtension("WEBGL_compressed_texture_pvrtc")||r.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:r.getExtension("WEBGL_compressed_texture_atc"),astc:r.getExtension("WEBGL_compressed_texture_astc")};t._textureExtensions=n}return t._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(t,"textureFormats",{get:function(){if(!t._textureFormats){var e=t.textureExtensions;t._textureFormats={};for(var r in e){var n=e[r];!n||Object.assign(t._textureFormats,Object.getPrototypeOf(n))}}return t._textureFormats},enumerable:!1,configurable:!0}),t.extension=We.Loader,t}();function Ew(t,e,r){var n={textures:{},texture:null};if(!e)return n;var i=e.map(function(s){return new ce(new Oe(s,Object.assign({mipmap:cn.OFF,alphaMode:dn.NO_PREMULTIPLIED_ALPHA},r)))});return i.forEach(function(s,o){var a=s.baseTexture,u=t+"-"+(o+1);Oe.addToCache(a,u),ce.addToCache(s,u),o===0&&(Oe.addToCache(a,t),ce.addToCache(s,t),n.texture=s),n.textures[u]=s}),n}var cl,tn,vv=4,Kh=124,PF=32,Fx=20,OF=542327876,Jh={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},NF={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},ef={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},nn;(function(t){t[t.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",t[t.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",t[t.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",t[t.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",t[t.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",t[t.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",t[t.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",t[t.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",t[t.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",t[t.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",t[t.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",t[t.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",t[t.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",t[t.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",t[t.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",t[t.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",t[t.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",t[t.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",t[t.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",t[t.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",t[t.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",t[t.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",t[t.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",t[t.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",t[t.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",t[t.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",t[t.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",t[t.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",t[t.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",t[t.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",t[t.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",t[t.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",t[t.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",t[t.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",t[t.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",t[t.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",t[t.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",t[t.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",t[t.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",t[t.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",t[t.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",t[t.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",t[t.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",t[t.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",t[t.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",t[t.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",t[t.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",t[t.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",t[t.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",t[t.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",t[t.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",t[t.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",t[t.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",t[t.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",t[t.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",t[t.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",t[t.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",t[t.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",t[t.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",t[t.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",t[t.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",t[t.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",t[t.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",t[t.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",t[t.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",t[t.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",t[t.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",t[t.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",t[t.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",t[t.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",t[t.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",t[t.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",t[t.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",t[t.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",t[t.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",t[t.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",t[t.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",t[t.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",t[t.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",t[t.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",t[t.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",t[t.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",t[t.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",t[t.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",t[t.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",t[t.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",t[t.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",t[t.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",t[t.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",t[t.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",t[t.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",t[t.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",t[t.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",t[t.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",t[t.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",t[t.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",t[t.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",t[t.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",t[t.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",t[t.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",t[t.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",t[t.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",t[t.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",t[t.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",t[t.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",t[t.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",t[t.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",t[t.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",t[t.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",t[t.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",t[t.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",t[t.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",t[t.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",t[t.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",t[t.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",t[t.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",t[t.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(nn||(nn={}));var Qm;(function(t){t[t.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",t[t.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",t[t.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"})(Qm||(Qm={}));var MF=1,FF=2,LF=4,kF=64,DF=512,BF=131072,UF=827611204,GF=861165636,zF=894720068,jF=808540228,HF=4,XF=(cl={},cl[UF]=we.COMPRESSED_RGBA_S3TC_DXT1_EXT,cl[GF]=we.COMPRESSED_RGBA_S3TC_DXT3_EXT,cl[zF]=we.COMPRESSED_RGBA_S3TC_DXT5_EXT,cl),VF=(tn={},tn[nn.DXGI_FORMAT_BC1_TYPELESS]=we.COMPRESSED_RGBA_S3TC_DXT1_EXT,tn[nn.DXGI_FORMAT_BC1_UNORM]=we.COMPRESSED_RGBA_S3TC_DXT1_EXT,tn[nn.DXGI_FORMAT_BC2_TYPELESS]=we.COMPRESSED_RGBA_S3TC_DXT3_EXT,tn[nn.DXGI_FORMAT_BC2_UNORM]=we.COMPRESSED_RGBA_S3TC_DXT3_EXT,tn[nn.DXGI_FORMAT_BC3_TYPELESS]=we.COMPRESSED_RGBA_S3TC_DXT5_EXT,tn[nn.DXGI_FORMAT_BC3_UNORM]=we.COMPRESSED_RGBA_S3TC_DXT5_EXT,tn[nn.DXGI_FORMAT_BC1_UNORM_SRGB]=we.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,tn[nn.DXGI_FORMAT_BC2_UNORM_SRGB]=we.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,tn[nn.DXGI_FORMAT_BC3_UNORM_SRGB]=we.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,tn);function $F(t){var e=new Uint32Array(t),r=e[0];if(r!==OF)throw new Error("Invalid DDS file magic word");var n=new Uint32Array(t,0,Kh/Uint32Array.BYTES_PER_ELEMENT),i=n[Jh.HEIGHT],s=n[Jh.WIDTH],o=n[Jh.MIPMAP_COUNT],a=new Uint32Array(t,Jh.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,PF/Uint32Array.BYTES_PER_ELEMENT),u=a[MF];if(u&LF){var f=a[NF.FOURCC];if(f!==jF){var d=XF[f],p=vv+Kh,v=new Uint8Array(t,p),g=new Zm(v,{format:d,width:s,height:i,levels:o});return[g]}var _=vv+Kh,b=new Uint32Array(e.buffer,_,Fx/Uint32Array.BYTES_PER_ELEMENT),m=b[ef.DXGI_FORMAT],E=b[ef.RESOURCE_DIMENSION],T=b[ef.MISC_FLAG],S=b[ef.ARRAY_SIZE],A=VF[m];if(A===void 0)throw new Error("DDSParser cannot parse texture data with DXGI format "+m);if(T===HF)throw new Error("DDSParser does not support cubemap textures");if(E===Qm.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSParser does not supported 3D texture data");var R=new Array,I=vv+Kh+Fx;if(S===1)R.push(new Uint8Array(t,I));else{for(var P=Ac[A],k=0,N=s,B=i,X=0;X<o;X++){var Z=Math.max(1,N+3&-4),Y=Math.max(1,B+3&-4),oe=Z*Y*P;k+=oe,N=N>>>1,B=B>>>1}for(var $=I,X=0;X<S;X++)R.push(new Uint8Array(t,$,k)),$+=k}return R.map(function(V){return new Zm(V,{format:A,width:s,height:i,levels:o})})}throw u&kF?new Error("DDSParser does not support uncompressed texture data."):u&DF?new Error("DDSParser does not supported YUV uncompressed texture data."):u&BF?new Error("DDSParser does not support single-channel (lumninance) texture data!"):u&FF?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}var Pi,qn,dl,Lx=[171,75,84,88,32,49,49,187,13,10,26,10],WF=67305985,rn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Km=64,kx=(Pi={},Pi[de.UNSIGNED_BYTE]=1,Pi[de.UNSIGNED_SHORT]=2,Pi[de.INT]=4,Pi[de.UNSIGNED_INT]=4,Pi[de.FLOAT]=4,Pi[de.HALF_FLOAT]=8,Pi),YF=(qn={},qn[q.RGBA]=4,qn[q.RGB]=3,qn[q.RG]=2,qn[q.RED]=1,qn[q.LUMINANCE]=1,qn[q.LUMINANCE_ALPHA]=2,qn[q.ALPHA]=1,qn),qF=(dl={},dl[de.UNSIGNED_SHORT_4_4_4_4]=2,dl[de.UNSIGNED_SHORT_5_5_5_1]=2,dl[de.UNSIGNED_SHORT_5_6_5]=2,dl);function ZF(t,e,r){r===void 0&&(r=!1);var n=new DataView(e);if(!QF(t,n))return null;var i=n.getUint32(rn.ENDIANNESS,!0)===WF,s=n.getUint32(rn.GL_TYPE,i),o=n.getUint32(rn.GL_FORMAT,i),a=n.getUint32(rn.GL_INTERNAL_FORMAT,i),u=n.getUint32(rn.PIXEL_WIDTH,i),f=n.getUint32(rn.PIXEL_HEIGHT,i)||1,d=n.getUint32(rn.PIXEL_DEPTH,i)||1,p=n.getUint32(rn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,v=n.getUint32(rn.NUMBER_OF_FACES,i),g=n.getUint32(rn.NUMBER_OF_MIPMAP_LEVELS,i),_=n.getUint32(rn.BYTES_OF_KEY_VALUE_DATA,i);if(f===0||d!==1)throw new Error("Only 2D textures are supported");if(v!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");var b=4,m=4,E=u+3&-4,T=f+3&-4,S=new Array(p),A=u*f;s===0&&(A=E*T);var R;if(s!==0?kx[s]?R=kx[s]*YF[o]:R=qF[s]:R=Ac[a],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var I=r?JF(n,_,i):null,P=A*R,k=P,N=u,B=f,X=E,Z=T,Y=Km+_,oe=0;oe<g;oe++){for(var $=n.getUint32(Y,i),V=Y+4,ie=0;ie<p;ie++){var Ae=S[ie];Ae||(Ae=S[ie]=new Array(g)),Ae[oe]={levelID:oe,levelWidth:g>1||s!==0?N:X,levelHeight:g>1||s!==0?B:Z,levelBuffer:new Uint8Array(e,V,k)},V+=k}Y+=$+4,Y=Y%4!==0?Y+4-Y%4:Y,N=N>>1||1,B=B>>1||1,X=N+b-1&~(b-1),Z=B+m-1&~(m-1),k=X*Z*R}return s!==0?{uncompressed:S.map(function(ve){var j=ve[0].levelBuffer,M=!1;return s===de.FLOAT?j=new Float32Array(ve[0].levelBuffer.buffer,ve[0].levelBuffer.byteOffset,ve[0].levelBuffer.byteLength/4):s===de.UNSIGNED_INT?(M=!0,j=new Uint32Array(ve[0].levelBuffer.buffer,ve[0].levelBuffer.byteOffset,ve[0].levelBuffer.byteLength/4)):s===de.INT&&(M=!0,j=new Int32Array(ve[0].levelBuffer.buffer,ve[0].levelBuffer.byteOffset,ve[0].levelBuffer.byteLength/4)),{resource:new Tu(j,{width:ve[0].levelWidth,height:ve[0].levelHeight}),type:s,format:M?KF(o):o}}),kvData:I}:{compressed:S.map(function(ve){return new Zm(null,{format:a,width:u,height:f,levels:g,levelBuffers:ve})}),kvData:I}}function QF(t,e){for(var r=0;r<Lx.length;r++)if(e.getUint8(r)!==Lx[r])return console.error(t+" is not a valid *.ktx file!"),!1;return!0}function KF(t){switch(t){case q.RGBA:return q.RGBA_INTEGER;case q.RGB:return q.RGB_INTEGER;case q.RG:return q.RG_INTEGER;case q.RED:return q.RED_INTEGER;default:return t}}function JF(t,e,r){for(var n=new Map,i=0;i<e;){var s=t.getUint32(Km+i,r),o=Km+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var u=0;u<s&&t.getUint8(o+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var f=new TextDecoder().decode(new Uint8Array(t.buffer,o,u)),d=new DataView(t.buffer,o+u+1,s-u-1);n.set(f,d),i+=4+s+a}return n}_t.setExtensionXhrType("dds",_t.XHR_RESPONSE_TYPE.BUFFER);var eL=function(){function t(){}return t.use=function(e,r){if(e.extension==="dds"&&e.data)try{Object.assign(e,Ew(e.name||e.url,$F(e.data),e.metadata))}catch(n){r(n);return}r()},t.extension=We.Loader,t}();_t.setExtensionXhrType("ktx",_t.XHR_RESPONSE_TYPE.BUFFER);var tL=function(){function t(){}return t.use=function(e,r){if(e.extension==="ktx"&&e.data)try{var n=e.name||e.url,i=ZF(n,e.data,this.loadKeyValueData),s=i.compressed,o=i.uncompressed,a=i.kvData;if(s){var u=Ew(n,s,e.metadata);if(a&&u.textures)for(var f in u.textures)u.textures[f].baseTexture.ktxKeyValueData=a;Object.assign(e,u)}else if(o){var d={};o.forEach(function(p,v){var g=new ce(new Oe(p.resource,{mipmap:cn.OFF,alphaMode:dn.NO_PREMULTIPLIED_ALPHA,type:p.type,format:p.format})),_=n+"-"+(v+1);a&&(g.baseTexture.ktxKeyValueData=a),Oe.addToCache(g.baseTexture,_),ce.addToCache(g,_),v===0&&(d[n]=g,Oe.addToCache(g.baseTexture,n),ce.addToCache(g,n)),d[_]=g}),Object.assign(e,{textures:d})}}catch(p){r(p);return}r()},t.extension=We.Loader,t.loadKeyValueData=!1,t}();/*!
 * @pixi/particle-container - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/particle-container is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Jm=function(t,e){return Jm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},Jm(t,e)};function Tw(t,e){Jm(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var rL=function(t){Tw(e,t);function e(r,n,i,s){r===void 0&&(r=1500),i===void 0&&(i=16384),s===void 0&&(s=!1);var o=t.call(this)||this,a=16384;return i>a&&(i=a),o._properties=[!1,!0,!1,!1,!1],o._maxSize=r,o._batchSize=i,o._buffers=null,o._bufferUpdateIDs=[],o._updateID=0,o.interactiveChildren=!1,o.blendMode=ae.NORMAL,o.autoResize=s,o.roundPixels=!0,o.baseTexture=null,o.setProperties(n),o._tint=0,o.tintRgb=new Float32Array(4),o.tint=16777215,o}return e.prototype.setProperties=function(r){r&&(this._properties[0]="vertices"in r||"scale"in r?!!r.vertices||!!r.scale:this._properties[0],this._properties[1]="position"in r?!!r.position:this._properties[1],this._properties[2]="rotation"in r?!!r.rotation:this._properties[2],this._properties[3]="uvs"in r?!!r.uvs:this._properties[3],this._properties[4]="tint"in r||"alpha"in r?!!r.tint||!!r.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,va(r,this.tintRgb)},enumerable:!1,configurable:!0}),e.prototype.render=function(r){var n=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return n.onChildrenChange(0)})),r.batch.setObjectRenderer(r.plugins.particle),r.plugins.particle.render(this))},e.prototype.onChildrenChange=function(r){for(var n=Math.floor(r/this._batchSize);this._bufferUpdateIDs.length<n;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[n]=++this._updateID},e.prototype.dispose=function(){if(this._buffers){for(var r=0;r<this._buffers.length;++r)this._buffers[r].destroy();this._buffers=null}},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},e}(Dt),Dx=function(){function t(e,r,n){this.geometry=new wu,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||de.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return t.prototype.initBuffers=function(){var e=this.geometry,r=0;this.indexBuffer=new Ft(dN(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];i.offset=r,r+=i.size,this.dynamicStride+=i.size}var s=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(s),this.dynamicDataUint32=new Uint32Array(s),this.dynamicBuffer=new Ft(this.dynamicData,!1,!1);var o=0;this.staticStride=0;for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];i.offset=o,o+=i.size,this.staticStride+=i.size}var a=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(a),this.staticDataUint32=new Uint32Array(a),this.staticBuffer=new Ft(this.staticData,!0,!1);for(var n=0;n<this.dynamicProperties.length;++n){var i=this.dynamicProperties[n];e.addAttribute(i.attributeName,this.dynamicBuffer,0,i.type===de.UNSIGNED_BYTE,i.type,this.dynamicStride*4,i.offset*4)}for(var n=0;n<this.staticProperties.length;++n){var i=this.staticProperties[n];e.addAttribute(i.attributeName,this.staticBuffer,0,i.type===de.UNSIGNED_BYTE,i.type,this.staticStride*4,i.offset*4)}},t.prototype.uploadDynamic=function(e,r,n){for(var i=0;i<this.dynamicProperties.length;i++){var s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===de.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++},t.prototype.uploadStatic=function(e,r,n){for(var i=0;i<this.staticProperties.length;i++){var s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===de.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++},t.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},t}(),nL=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,iL=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,sL=function(t){Tw(e,t);function e(r){var n=t.call(this,r)||this;return n.shader=null,n.properties=null,n.tempMatrix=new kt,n.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:n.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:n.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:n.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:n.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:de.UNSIGNED_BYTE,uploadFunction:n.uploadTint,offset:0}],n.shader=es.from(iL,nL,{}),n.state=lo.for2d(),n}return e.prototype.render=function(r){var n=r.children,i=r._maxSize,s=r._batchSize,o=this.renderer,a=n.length;if(a!==0){a>i&&!r.autoResize&&(a=i);var u=r._buffers;u||(u=r._buffers=this.generateBuffers(r));var f=n[0]._texture.baseTexture,d=f.alphaMode>0;this.state.blendMode=KT(r.blendMode,d),o.state.set(this.state);var p=o.gl,v=r.worldTransform.copyTo(this.tempMatrix);v.prepend(o.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=v.toArray(!0),this.shader.uniforms.uColor=cN(r.tintRgb,r.worldAlpha,this.shader.uniforms.uColor,d),this.shader.uniforms.uSampler=f,this.renderer.shader.bind(this.shader);for(var g=!1,_=0,b=0;_<a;_+=s,b+=1){var m=a-_;m>s&&(m=s),b>=u.length&&u.push(this._generateOneMoreBuffer(r));var E=u[b];E.uploadDynamic(n,_,m);var T=r._bufferUpdateIDs[b]||0;g=g||E._updateID<T,g&&(E._updateID=r._updateID,E.uploadStatic(n,_,m)),o.geometry.bind(E.geometry),p.drawElements(p.TRIANGLES,m*6,p.UNSIGNED_SHORT,0)}}},e.prototype.generateBuffers=function(r){for(var n=[],i=r._maxSize,s=r._batchSize,o=r._properties,a=0;a<i;a+=s)n.push(new Dx(this.properties,o,s));return n},e.prototype._generateOneMoreBuffer=function(r){var n=r._batchSize,i=r._properties;return new Dx(this.properties,i,n)},e.prototype.uploadVertices=function(r,n,i,s,o,a){for(var u=0,f=0,d=0,p=0,v=0;v<i;++v){var g=r[n+v],_=g._texture,b=g.scale.x,m=g.scale.y,E=_.trim,T=_.orig;E?(f=E.x-g.anchor.x*T.width,u=f+E.width,p=E.y-g.anchor.y*T.height,d=p+E.height):(u=T.width*(1-g.anchor.x),f=T.width*-g.anchor.x,d=T.height*(1-g.anchor.y),p=T.height*-g.anchor.y),s[a]=f*b,s[a+1]=p*m,s[a+o]=u*b,s[a+o+1]=p*m,s[a+o*2]=u*b,s[a+o*2+1]=d*m,s[a+o*3]=f*b,s[a+o*3+1]=d*m,a+=o*4}},e.prototype.uploadPosition=function(r,n,i,s,o,a){for(var u=0;u<i;u++){var f=r[n+u].position;s[a]=f.x,s[a+1]=f.y,s[a+o]=f.x,s[a+o+1]=f.y,s[a+o*2]=f.x,s[a+o*2+1]=f.y,s[a+o*3]=f.x,s[a+o*3+1]=f.y,a+=o*4}},e.prototype.uploadRotation=function(r,n,i,s,o,a){for(var u=0;u<i;u++){var f=r[n+u].rotation;s[a]=f,s[a+o]=f,s[a+o*2]=f,s[a+o*3]=f,a+=o*4}},e.prototype.uploadUvs=function(r,n,i,s,o,a){for(var u=0;u<i;++u){var f=r[n+u]._texture._uvs;f?(s[a]=f.x0,s[a+1]=f.y0,s[a+o]=f.x1,s[a+o+1]=f.y1,s[a+o*2]=f.x2,s[a+o*2+1]=f.y2,s[a+o*3]=f.x3,s[a+o*3+1]=f.y3,a+=o*4):(s[a]=0,s[a+1]=0,s[a+o]=0,s[a+o+1]=0,s[a+o*2]=0,s[a+o*2+1]=0,s[a+o*3]=0,s[a+o*3+1]=0,a+=o*4)}},e.prototype.uploadTint=function(r,n,i,s,o,a){for(var u=0;u<i;++u){var f=r[n+u],d=f._texture.baseTexture.alphaMode>0,p=f.alpha,v=p<1&&d?M0(f._tintRGB,p):f._tintRGB+(p*255<<24);s[a]=v,s[a+o]=v,s[a+o*2]=v,s[a+o*3]=v,a+=o*4}},e.prototype.destroy=function(){t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},e.extension={name:"particle",type:We.RendererPlugin},e}(sd);/*!
 * @pixi/graphics - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/graphics is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var si;(function(t){t.MITER="miter",t.BEVEL="bevel",t.ROUND="round"})(si||(si={}));var Vi;(function(t){t.BUTT="butt",t.ROUND="round",t.SQUARE="square"})(Vi||(Vi={}));var hu={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(t,e){if(e===void 0&&(e=20),!this.adaptive||!t||isNaN(t))return e;var r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},ww=function(){function t(){this.color=16777215,this.alpha=1,this.texture=ce.WHITE,this.matrix=null,this.visible=!1,this.reset()}return t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e},t.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=ce.WHITE,this.matrix=null,this.visible=!1},t.prototype.destroy=function(){this.texture=null,this.matrix=null},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var eg=function(t,e){return eg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},eg(t,e)};function k0(t,e){eg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}function Bx(t,e){var r,n;e===void 0&&(e=!1);var i=t.length;if(!(i<6)){for(var s=0,o=0,a=t[i-2],u=t[i-1];o<i;o+=2){var f=t[o],d=t[o+1];s+=(f-a)*(d+u),a=f,u=d}if(!e&&s>0||e&&s<=0)for(var p=i/2,o=p+p%2;o<i;o+=2){var v=i-o-2,g=i-o-1,_=o,b=o+1;r=[t[_],t[v]],t[v]=r[0],t[_]=r[1],n=[t[b],t[g]],t[g]=n[0],t[b]=n[1]}}}var Sw={build:function(t){t.points=t.shape.points.slice()},triangulate:function(t,e){var r=t.points,n=t.holes,i=e.points,s=e.indices;if(r.length>=6){Bx(r,!1);for(var o=[],a=0;a<n.length;a++){var u=n[a];Bx(u.points,!0),o.push(r.length/2),r=r.concat(u.points)}var f=td.exports(r,o,2);if(!f)return;for(var d=i.length/2,a=0;a<f.length;a+=3)s.push(f[a]+d),s.push(f[a+1]+d),s.push(f[a+2]+d);for(var a=0;a<r.length;a++)i.push(r[a])}}},Cc={build:function(t){var e=t.points,r,n,i,s,o,a;if(t.type===jt.CIRC){var u=t.shape;r=u.x,n=u.y,o=a=u.radius,i=s=0}else if(t.type===jt.ELIP){var f=t.shape;r=f.x,n=f.y,o=f.width,a=f.height,i=s=0}else{var d=t.shape,p=d.width/2,v=d.height/2;r=d.x+p,n=d.y+v,o=a=Math.max(0,Math.min(d.radius,Math.min(p,v))),i=p-o,s=v-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}var g=Math.ceil(2.3*Math.sqrt(o+a)),_=g*8+(i?4:0)+(s?4:0);if(e.length=_,_!==0){if(g===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}var b=0,m=g*4+(i?2:0)+2,E=m,T=_;{var S=i+o,A=s,R=r+S,I=r-S,P=n+A;if(e[b++]=R,e[b++]=P,e[--m]=P,e[--m]=I,s){var k=n-A;e[E++]=I,e[E++]=k,e[--T]=k,e[--T]=R}}for(var N=1;N<g;N++){var B=Math.PI/2*(N/g),S=i+Math.cos(B)*o,A=s+Math.sin(B)*a,R=r+S,I=r-S,P=n+A,k=n-A;e[b++]=R,e[b++]=P,e[--m]=P,e[--m]=I,e[E++]=I,e[E++]=k,e[--T]=k,e[--T]=R}{var S=i,A=s+a,R=r+S,I=r-S,P=n+A,k=n-A;e[b++]=R,e[b++]=P,e[--T]=k,e[--T]=R,i&&(e[b++]=I,e[b++]=P,e[--T]=k,e[--T]=I)}}},triangulate:function(t,e){var r=t.points,n=e.points,i=e.indices;if(r.length!==0){var s=n.length/2,o=s,a,u;if(t.type!==jt.RREC){var f=t.shape;a=f.x,u=f.y}else{var d=t.shape;a=d.x+d.width/2,u=d.y+d.height/2}var p=t.matrix;n.push(t.matrix?p.a*a+p.c*u+p.tx:a,t.matrix?p.b*a+p.d*u+p.ty:u),s++,n.push(r[0],r[1]);for(var v=2;v<r.length;v+=2)n.push(r[v],r[v+1]),i.push(s++,o,s);i.push(o+1,o,s)}}},oL={build:function(t){var e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate:function(t,e){var r=t.points,n=e.points,i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};function Io(t,e,r){var n=e-t;return t+n*r}function tf(t,e,r,n,i,s,o){o===void 0&&(o=[]);for(var a=20,u=o,f=0,d=0,p=0,v=0,g=0,_=0,b=0,m=0;b<=a;++b)m=b/a,f=Io(t,r,m),d=Io(e,n,m),p=Io(r,i,m),v=Io(n,s,m),g=Io(f,p,m),_=Io(d,v,m),!(b===0&&u[u.length-2]===g&&u[u.length-1]===_)&&u.push(g,_);return u}var aL={build:function(t){if(fi.nextRoundedRectBehavior){Cc.build(t);return}var e=t.shape,r=t.points,n=e.x,i=e.y,s=e.width,o=e.height,a=Math.max(0,Math.min(e.radius,Math.min(s,o)/2));r.length=0,a?(tf(n,i+a,n,i,n+a,i,r),tf(n+s-a,i,n+s,i,n+s,i+a,r),tf(n+s,i+o-a,n+s,i+o,n+s-a,i+o,r),tf(n+a,i+o,n,i+o,n,i+o-a,r)):r.push(n,i,n+s,i,n+s,i+o,n,i+o)},triangulate:function(t,e){if(fi.nextRoundedRectBehavior){Cc.triangulate(t,e);return}for(var r=t.points,n=e.points,i=e.indices,s=n.length/2,o=td.exports(r,null,2),a=0,u=o.length;a<u;a+=3)i.push(o[a]+s),i.push(o[a+1]+s),i.push(o[a+2]+s);for(var a=0,u=r.length;a<u;a++)n.push(r[a],r[++a])}};function Ux(t,e,r,n,i,s,o,a){var u=t-r*i,f=e-n*i,d=t+r*s,p=e+n*s,v,g;o?(v=n,g=-r):(v=-n,g=r);var _=u+v,b=f+g,m=d+v,E=p+g;return a.push(_,b),a.push(m,E),2}function ws(t,e,r,n,i,s,o,a){var u=r-t,f=n-e,d=Math.atan2(u,f),p=Math.atan2(i-t,s-e);a&&d<p?d+=Math.PI*2:!a&&d>p&&(p+=Math.PI*2);var v=d,g=p-d,_=Math.abs(g),b=Math.sqrt(u*u+f*f),m=(15*_*Math.sqrt(b)/Math.PI>>0)+1,E=g/m;if(v+=E,a){o.push(t,e),o.push(r,n);for(var T=1,S=v;T<m;T++,S+=E)o.push(t,e),o.push(t+Math.sin(S)*b,e+Math.cos(S)*b);o.push(t,e),o.push(i,s)}else{o.push(r,n),o.push(t,e);for(var T=1,S=v;T<m;T++,S+=E)o.push(t+Math.sin(S)*b,e+Math.cos(S)*b),o.push(t,e);o.push(i,s),o.push(t,e)}return m*2}function lL(t,e){var r=t.shape,n=t.points||r.points.slice(),i=e.closePointEps;if(n.length!==0){var s=t.lineStyle,o=new Ke(n[0],n[1]),a=new Ke(n[n.length-2],n[n.length-1]),u=r.type!==jt.POLY||r.closeStroke,f=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(u){n=n.slice(),f&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));var d=(o.x+a.x)*.5,p=(a.y+o.y)*.5;n.unshift(d,p),n.push(d,p)}var v=e.points,g=n.length/2,_=n.length,b=v.length/2,m=s.width/2,E=m*m,T=s.miterLimit*s.miterLimit,S=n[0],A=n[1],R=n[2],I=n[3],P=0,k=0,N=-(A-I),B=S-R,X=0,Z=0,Y=Math.sqrt(N*N+B*B);N/=Y,B/=Y,N*=m,B*=m;var oe=s.alignment,$=(1-oe)*2,V=oe*2;u||(s.cap===Vi.ROUND?_+=ws(S-N*($-V)*.5,A-B*($-V)*.5,S-N*$,A-B*$,S+N*V,A+B*V,v,!0)+2:s.cap===Vi.SQUARE&&(_+=Ux(S,A,N,B,$,V,!0,v))),v.push(S-N*$,A-B*$),v.push(S+N*V,A+B*V);for(var ie=1;ie<g-1;++ie){S=n[(ie-1)*2],A=n[(ie-1)*2+1],R=n[ie*2],I=n[ie*2+1],P=n[(ie+1)*2],k=n[(ie+1)*2+1],N=-(A-I),B=S-R,Y=Math.sqrt(N*N+B*B),N/=Y,B/=Y,N*=m,B*=m,X=-(I-k),Z=R-P,Y=Math.sqrt(X*X+Z*Z),X/=Y,Z/=Y,X*=m,Z*=m;var Ae=R-S,ve=A-I,j=R-P,M=k-I,L=Ae*j+ve*M,z=ve*j-M*Ae,H=z<0;if(Math.abs(z)<.001*Math.abs(L)){v.push(R-N*$,I-B*$),v.push(R+N*V,I+B*V),L>=0&&(s.join===si.ROUND?_+=ws(R,I,R-N*$,I-B*$,R-X*$,I-Z*$,v,!1)+4:_+=2,v.push(R-X*V,I-Z*V),v.push(R+X*$,I+Z*$));continue}var se=(-N+S)*(-B+I)-(-N+R)*(-B+A),pe=(-X+P)*(-Z+I)-(-X+R)*(-Z+k),Ee=(Ae*pe-j*se)/z,Ie=(M*se-ve*pe)/z,Me=(Ee-R)*(Ee-R)+(Ie-I)*(Ie-I),Ue=R+(Ee-R)*$,Le=I+(Ie-I)*$,Fe=R-(Ee-R)*V,Ce=I-(Ie-I)*V,Se=Math.min(Ae*Ae+ve*ve,j*j+M*M),Ye=H?$:V,rr=Se+Ye*Ye*E,ke=Me<=rr;ke?s.join===si.BEVEL||Me/E>T?(H?(v.push(Ue,Le),v.push(R+N*V,I+B*V),v.push(Ue,Le),v.push(R+X*V,I+Z*V)):(v.push(R-N*$,I-B*$),v.push(Fe,Ce),v.push(R-X*$,I-Z*$),v.push(Fe,Ce)),_+=2):s.join===si.ROUND?H?(v.push(Ue,Le),v.push(R+N*V,I+B*V),_+=ws(R,I,R+N*V,I+B*V,R+X*V,I+Z*V,v,!0)+4,v.push(Ue,Le),v.push(R+X*V,I+Z*V)):(v.push(R-N*$,I-B*$),v.push(Fe,Ce),_+=ws(R,I,R-N*$,I-B*$,R-X*$,I-Z*$,v,!1)+4,v.push(R-X*$,I-Z*$),v.push(Fe,Ce)):(v.push(Ue,Le),v.push(Fe,Ce)):(v.push(R-N*$,I-B*$),v.push(R+N*V,I+B*V),s.join===si.ROUND?H?_+=ws(R,I,R+N*V,I+B*V,R+X*V,I+Z*V,v,!0)+2:_+=ws(R,I,R-N*$,I-B*$,R-X*$,I-Z*$,v,!1)+2:s.join===si.MITER&&Me/E<=T&&(H?(v.push(Fe,Ce),v.push(Fe,Ce)):(v.push(Ue,Le),v.push(Ue,Le)),_+=2),v.push(R-X*$,I-Z*$),v.push(R+X*V,I+Z*V),_+=2)}S=n[(g-2)*2],A=n[(g-2)*2+1],R=n[(g-1)*2],I=n[(g-1)*2+1],N=-(A-I),B=S-R,Y=Math.sqrt(N*N+B*B),N/=Y,B/=Y,N*=m,B*=m,v.push(R-N*$,I-B*$),v.push(R+N*V,I+B*V),u||(s.cap===Vi.ROUND?_+=ws(R-N*($-V)*.5,I-B*($-V)*.5,R-N*$,I-B*$,R+N*V,I+B*V,v,!1)+2:s.cap===Vi.SQUARE&&(_+=Ux(R,I,N,B,$,V,!1,v)));for(var gr=e.indices,Un=hu.epsilon*hu.epsilon,ie=b;ie<_+b-2;++ie)S=v[ie*2],A=v[ie*2+1],R=v[(ie+1)*2],I=v[(ie+1)*2+1],P=v[(ie+2)*2],k=v[(ie+2)*2+1],!(Math.abs(S*(I-k)+R*(k-A)+P*(A-I))<Un)&&gr.push(ie,ie+1,ie+2)}}function uL(t,e){var r=0,n=t.shape,i=t.points||n.points,s=n.type!==jt.POLY||n.closeStroke;if(i.length!==0){var o=e.points,a=e.indices,u=i.length/2,f=o.length/2,d=f;for(o.push(i[0],i[1]),r=1;r<u;r++)o.push(i[r*2],i[r*2+1]),a.push(d,d+1),d++;s&&a.push(d,f)}}function Gx(t,e){t.lineStyle.native?uL(t,e):lL(t,e)}var zx=function(){function t(){}return t.curveTo=function(e,r,n,i,s,o){var a=o[o.length-2],u=o[o.length-1],f=u-r,d=a-e,p=i-r,v=n-e,g=Math.abs(f*v-d*p);if(g<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;var _=f*f+d*d,b=p*p+v*v,m=f*p+d*v,E=s*Math.sqrt(_)/g,T=s*Math.sqrt(b)/g,S=E*m/_,A=T*m/b,R=E*v+T*d,I=E*p+T*f,P=d*(T+S),k=f*(T+S),N=v*(E+A),B=p*(E+A),X=Math.atan2(k-I,P-R),Z=Math.atan2(B-I,N-R);return{cx:R+e,cy:I+r,radius:s,startAngle:X,endAngle:Z,anticlockwise:d*p>v*f}},t.arc=function(e,r,n,i,s,o,a,u,f){for(var d=a-o,p=hu._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/Tc)*40),v=d/(p*2),g=v*2,_=Math.cos(v),b=Math.sin(v),m=p-1,E=m%1/m,T=0;T<=m;++T){var S=T+E*T,A=v+o+g*S,R=Math.cos(A),I=-Math.sin(A);f.push((_*R+b*I)*s+n,(_*-I+b*R)*s+i)}},t}(),hL=function(){function t(){}return t.curveLength=function(e,r,n,i,s,o,a,u){for(var f=10,d=0,p=0,v=0,g=0,_=0,b=0,m=0,E=0,T=0,S=0,A=0,R=e,I=r,P=1;P<=f;++P)p=P/f,v=p*p,g=v*p,_=1-p,b=_*_,m=b*_,E=m*e+3*b*p*n+3*_*v*s+g*a,T=m*r+3*b*p*i+3*_*v*o+g*u,S=R-E,A=I-T,R=E,I=T,d+=Math.sqrt(S*S+A*A);return d},t.curveTo=function(e,r,n,i,s,o,a){var u=a[a.length-2],f=a[a.length-1];a.length-=2;var d=hu._segmentsCount(t.curveLength(u,f,e,r,n,i,s,o)),p=0,v=0,g=0,_=0,b=0;a.push(u,f);for(var m=1,E=0;m<=d;++m)E=m/d,p=1-E,v=p*p,g=v*p,_=E*E,b=_*E,a.push(g*u+3*v*E*e+3*p*_*n+b*s,g*f+3*v*E*r+3*p*_*i+b*o)},t}(),fL=function(){function t(){}return t.curveLength=function(e,r,n,i,s,o){var a=e-2*n+s,u=r-2*i+o,f=2*n-2*e,d=2*i-2*r,p=4*(a*a+u*u),v=4*(a*f+u*d),g=f*f+d*d,_=2*Math.sqrt(p+v+g),b=Math.sqrt(p),m=2*p*b,E=2*Math.sqrt(g),T=v/b;return(m*_+b*v*(_-E)+(4*g*p-v*v)*Math.log((2*b+T+_)/(T+E)))/(4*m)},t.curveTo=function(e,r,n,i,s){for(var o=s[s.length-2],a=s[s.length-1],u=hu._segmentsCount(t.curveLength(o,a,e,r,n,i)),f=0,d=0,p=1;p<=u;++p){var v=p/u;f=o+(e-o)*v,d=a+(r-a)*v,s.push(f+(e+(n-e)*v-f)*v,d+(r+(i-r)*v-d)*v)}},t}(),cL=function(){function t(){this.reset()}return t.prototype.begin=function(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n},t.prototype.end=function(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start},t.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},t}(),Ss,mv=(Ss={},Ss[jt.POLY]=Sw,Ss[jt.CIRC]=Cc,Ss[jt.ELIP]=Cc,Ss[jt.RECT]=oL,Ss[jt.RREC]=aL,Ss),jx=[],rf=[],Hx=function(){function t(e,r,n,i){r===void 0&&(r=null),n===void 0&&(n=null),i===void 0&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}return t.prototype.clone=function(){return new t(this.shape,this.fillStyle,this.lineStyle,this.matrix)},t.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},t}(),Po=new Ke,dL=function(t){k0(e,t);function e(){var r=t.call(this)||this;return r.closePointEps=1e-4,r.boundsPadding=0,r.uvsFloat32=null,r.indicesUint16=null,r.batchable=!1,r.points=[],r.colors=[],r.uvs=[],r.indices=[],r.textureIds=[],r.graphicsData=[],r.drawCalls=[],r.batchDirty=-1,r.batches=[],r.dirty=0,r.cacheDirty=-1,r.clearDirty=0,r.shapeIndex=0,r._bounds=new wc,r.boundsDirty=-1,r}return Object.defineProperty(e.prototype,"bounds",{get:function(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),e.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var r=0;r<this.drawCalls.length;r++)this.drawCalls[r].texArray.clear(),rf.push(this.drawCalls[r]);this.drawCalls.length=0;for(var r=0;r<this.batches.length;r++){var n=this.batches[r];n.reset(),jx.push(n)}this.batches.length=0},e.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},e.prototype.drawShape=function(r,n,i,s){n===void 0&&(n=null),i===void 0&&(i=null),s===void 0&&(s=null);var o=new Hx(r,n,i,s);return this.graphicsData.push(o),this.dirty++,this},e.prototype.drawHole=function(r,n){if(n===void 0&&(n=null),!this.graphicsData.length)return null;var i=new Hx(r,null,null,n),s=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=s.lineStyle,s.holes.push(i),this.dirty++,this},e.prototype.destroy=function(){t.prototype.destroy.call(this);for(var r=0;r<this.graphicsData.length;++r)this.graphicsData[r].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},e.prototype.containsPoint=function(r){for(var n=this.graphicsData,i=0;i<n.length;++i){var s=n[i];if(!!s.fillStyle.visible&&s.shape&&(s.matrix?s.matrix.applyInverse(r,Po):Po.copyFrom(r),s.shape.contains(Po.x,Po.y))){var o=!1;if(s.holes)for(var a=0;a<s.holes.length;a++){var u=s.holes[a];if(u.shape.contains(Po.x,Po.y)){o=!0;break}}if(!o)return!0}}return!1},e.prototype.updateBatches=function(){if(!this.graphicsData.length){this.batchable=!0;return}if(!!this.validateBatching()){this.cacheDirty=this.dirty;var r=this.uvs,n=this.graphicsData,i=null,s=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],s=i.style);for(var o=this.shapeIndex;o<n.length;o++){this.shapeIndex++;var a=n[o],u=a.fillStyle,f=a.lineStyle,d=mv[a.type];d.build(a),a.matrix&&this.transformPoints(a.points,a.matrix),(u.visible||f.visible)&&this.processHoles(a.holes);for(var p=0;p<2;p++){var v=p===0?u:f;if(!!v.visible){var g=v.texture.baseTexture,_=this.indices.length,b=this.points.length/2;g.wrapMode=Mn.REPEAT,p===0?this.processFill(a):this.processLine(a);var m=this.points.length/2-b;m!==0&&(i&&!this._compareStyles(s,v)&&(i.end(_,b),i=null),i||(i=jx.pop()||new cL,i.begin(v,_,b),this.batches.push(i),s=v),this.addUvs(this.points,r,v.texture,b,m,v.matrix))}}}var E=this.indices.length,T=this.points.length/2;if(i&&i.end(E,T),this.batches.length===0){this.batchable=!0;return}var S=T>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&S===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=S?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}},e.prototype._compareStyles=function(r,n){return!(!r||!n||r.texture.baseTexture!==n.texture.baseTexture||r.color+r.alpha!==n.color+n.alpha||!!r.native!=!!n.native)},e.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var r=0,n=this.graphicsData.length;r<n;r++){var i=this.graphicsData[r],s=i.fillStyle,o=i.lineStyle;if(s&&!s.texture.baseTexture.valid||o&&!o.texture.baseTexture.valid)return!1}return!0},e.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var r=this.batches,n=0,i=r.length;n<i;n++)for(var s=r[n],o=0;o<s.size;o++){var a=s.start+o;this.indicesUint16[a]=this.indicesUint16[a]-s.attribStart}},e.prototype.isBatchable=function(){if(this.points.length>65535*2)return!1;for(var r=this.batches,n=0;n<r.length;n++)if(r[n].style.native)return!1;return this.points.length<e.BATCHABLE_SIZE*2},e.prototype.buildDrawCalls=function(){for(var r=++Oe._globalBatch,n=0;n<this.drawCalls.length;n++)this.drawCalls[n].texArray.clear(),rf.push(this.drawCalls[n]);this.drawCalls.length=0;var i=this.colors,s=this.textureIds,o=rf.pop();o||(o=new Vm,o.texArray=new $m),o.texArray.count=0,o.start=0,o.size=0,o.type=$r.TRIANGLES;var a=0,u=null,f=0,d=!1,p=$r.TRIANGLES,v=0;this.drawCalls.push(o);for(var n=0;n<this.batches.length;n++){var g=this.batches[n],_=8,b=g.style,m=b.texture.baseTexture;d!==!!b.native&&(d=!!b.native,p=d?$r.LINES:$r.TRIANGLES,u=null,a=_,r++),u!==m&&(u=m,m._batchEnabled!==r&&(a===_&&(r++,a=0,o.size>0&&(o=rf.pop(),o||(o=new Vm,o.texArray=new $m),this.drawCalls.push(o)),o.start=v,o.size=0,o.texArray.count=0,o.type=p),m.touched=1,m._batchEnabled=r,m._batchLocation=a,m.wrapMode=Mn.REPEAT,o.texArray.elements[o.texArray.count++]=m,a++)),o.size+=g.size,v+=g.size,f=m._batchLocation,this.addColors(i,b.color,b.alpha,g.attribSize,g.attribStart),this.addTextureIds(s,f,g.attribSize,g.attribStart)}Oe._globalBatch=r,this.packAttributes()},e.prototype.packAttributes=function(){for(var r=this.points,n=this.uvs,i=this.colors,s=this.textureIds,o=new ArrayBuffer(r.length*3*4),a=new Float32Array(o),u=new Uint32Array(o),f=0,d=0;d<r.length/2;d++)a[f++]=r[d*2],a[f++]=r[d*2+1],a[f++]=n[d*2],a[f++]=n[d*2+1],u[f++]=i[d],a[f++]=s[d];this._buffer.update(o),this._indexBuffer.update(this.indicesUint16)},e.prototype.processFill=function(r){if(r.holes.length)Sw.triangulate(r,this);else{var n=mv[r.type];n.triangulate(r,this)}},e.prototype.processLine=function(r){Gx(r,this);for(var n=0;n<r.holes.length;n++)Gx(r.holes[n],this)},e.prototype.processHoles=function(r){for(var n=0;n<r.length;n++){var i=r[n],s=mv[i.type];s.build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}},e.prototype.calculateBounds=function(){var r=this._bounds;r.clear(),r.addVertexData(this.points,0,this.points.length),r.pad(this.boundsPadding,this.boundsPadding)},e.prototype.transformPoints=function(r,n){for(var i=0;i<r.length/2;i++){var s=r[i*2],o=r[i*2+1];r[i*2]=n.a*s+n.c*o+n.tx,r[i*2+1]=n.b*s+n.d*o+n.ty}},e.prototype.addColors=function(r,n,i,s,o){o===void 0&&(o=0);var a=(n>>16)+(n&65280)+((n&255)<<16),u=M0(a,i);r.length=Math.max(r.length,o+s);for(var f=0;f<s;f++)r[o+f]=u},e.prototype.addTextureIds=function(r,n,i,s){s===void 0&&(s=0),r.length=Math.max(r.length,s+i);for(var o=0;o<i;o++)r[s+o]=n},e.prototype.addUvs=function(r,n,i,s,o,a){a===void 0&&(a=null);for(var u=0,f=n.length,d=i.frame;u<o;){var p=r[(s+u)*2],v=r[(s+u)*2+1];if(a){var g=a.a*p+a.c*v+a.tx;v=a.b*p+a.d*v+a.ty,p=g}u++,n.push(p/d.width,v/d.height)}var _=i.baseTexture;(d.width<_.width||d.height<_.height)&&this.adjustUvs(n,i,f,o)},e.prototype.adjustUvs=function(r,n,i,s){for(var o=n.baseTexture,a=1e-6,u=i+s*2,f=n.frame,d=f.width/o.width,p=f.height/o.height,v=f.x/f.width,g=f.y/f.height,_=Math.floor(r[i]+a),b=Math.floor(r[i+1]+a),m=i+2;m<u;m+=2)_=Math.min(_,Math.floor(r[m]+a)),b=Math.min(b,Math.floor(r[m+1]+a));v-=_,g-=b;for(var m=i;m<u;m+=2)r[m]=(r[m]+v)*d,r[m+1]=(r[m+1]+g)*p},e.BATCHABLE_SIZE=100,e}(yw),pL=function(t){k0(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.width=0,r.alignment=.5,r.native=!1,r.cap=Vi.BUTT,r.join=si.MITER,r.miterLimit=10,r}return e.prototype.clone=function(){var r=new e;return r.color=this.color,r.alpha=this.alpha,r.texture=this.texture,r.matrix=this.matrix,r.visible=this.visible,r.width=this.width,r.alignment=this.alignment,r.native=this.native,r.cap=this.cap,r.join=this.join,r.miterLimit=this.miterLimit,r},e.prototype.reset=function(){t.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},e}(ww),vL=new Float32Array(3),gv={},fi=function(t){k0(e,t);function e(r){r===void 0&&(r=null);var n=t.call(this)||this;return n.shader=null,n.pluginName="batch",n.currentPath=null,n.batches=[],n.batchTint=-1,n.batchDirty=-1,n.vertexData=null,n._fillStyle=new ww,n._lineStyle=new pL,n._matrix=null,n._holeMode=!1,n.state=lo.for2d(),n._geometry=r||new dL,n._geometry.refCount++,n._transformID=-1,n.tint=16777215,n.blendMode=ae.NORMAL,n}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return this.finishPoly(),new e(this._geometry)},Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),e.prototype.lineStyle=function(r,n,i,s,o){return r===void 0&&(r=null),n===void 0&&(n=0),i===void 0&&(i=1),s===void 0&&(s=.5),o===void 0&&(o=!1),typeof r=="number"&&(r={width:r,color:n,alpha:i,alignment:s,native:o}),this.lineTextureStyle(r)},e.prototype.lineTextureStyle=function(r){r=Object.assign({width:0,texture:ce.WHITE,color:r&&r.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:Vi.BUTT,join:si.MITER,miterLimit:10},r),this.currentPath&&this.startPoly();var n=r.width>0&&r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._lineStyle,{visible:n},r)):this._lineStyle.reset(),this},e.prototype.startPoly=function(){if(this.currentPath){var r=this.currentPath.points,n=this.currentPath.points.length;n>2&&(this.drawShape(this.currentPath),this.currentPath=new Mf,this.currentPath.closeStroke=!1,this.currentPath.points.push(r[n-2],r[n-1]))}else this.currentPath=new Mf,this.currentPath.closeStroke=!1},e.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},e.prototype.moveTo=function(r,n){return this.startPoly(),this.currentPath.points[0]=r,this.currentPath.points[1]=n,this},e.prototype.lineTo=function(r,n){this.currentPath||this.moveTo(0,0);var i=this.currentPath.points,s=i[i.length-2],o=i[i.length-1];return(s!==r||o!==n)&&i.push(r,n),this},e.prototype._initCurve=function(r,n){r===void 0&&(r=0),n===void 0&&(n=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[r,n]):this.moveTo(r,n)},e.prototype.quadraticCurveTo=function(r,n,i,s){this._initCurve();var o=this.currentPath.points;return o.length===0&&this.moveTo(0,0),fL.curveTo(r,n,i,s,o),this},e.prototype.bezierCurveTo=function(r,n,i,s,o,a){return this._initCurve(),hL.curveTo(r,n,i,s,o,a,this.currentPath.points),this},e.prototype.arcTo=function(r,n,i,s,o){this._initCurve(r,n);var a=this.currentPath.points,u=zx.curveTo(r,n,i,s,o,a);if(u){var f=u.cx,d=u.cy,p=u.radius,v=u.startAngle,g=u.endAngle,_=u.anticlockwise;this.arc(f,d,p,v,g,_)}return this},e.prototype.arc=function(r,n,i,s,o,a){if(a===void 0&&(a=!1),s===o)return this;!a&&o<=s?o+=Tc:a&&s<=o&&(s+=Tc);var u=o-s;if(u===0)return this;var f=r+Math.cos(s)*i,d=n+Math.sin(s)*i,p=this._geometry.closePointEps,v=this.currentPath?this.currentPath.points:null;if(v){var g=Math.abs(v[v.length-2]-f),_=Math.abs(v[v.length-1]-d);g<p&&_<p||v.push(f,d)}else this.moveTo(f,d),v=this.currentPath.points;return zx.arc(f,d,r,n,i,s,o,a,v),this},e.prototype.beginFill=function(r,n){return r===void 0&&(r=0),n===void 0&&(n=1),this.beginTextureFill({texture:ce.WHITE,color:r,alpha:n})},e.prototype.beginTextureFill=function(r){r=Object.assign({texture:ce.WHITE,color:16777215,alpha:1,matrix:null},r),this.currentPath&&this.startPoly();var n=r.alpha>0;return n?(r.matrix&&(r.matrix=r.matrix.clone(),r.matrix.invert()),Object.assign(this._fillStyle,{visible:n},r)):this._fillStyle.reset(),this},e.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},e.prototype.drawRect=function(r,n,i,s){return this.drawShape(new Ne(r,n,i,s))},e.prototype.drawRoundedRect=function(r,n,i,s,o){return this.drawShape(new bN(r,n,i,s,o))},e.prototype.drawCircle=function(r,n,i){return this.drawShape(new _N(r,n,i))},e.prototype.drawEllipse=function(r,n,i,s){return this.drawShape(new xN(r,n,i,s))},e.prototype.drawPolygon=function(){for(var r=arguments,n=[],i=0;i<arguments.length;i++)n[i]=r[i];var s,o=!0,a=n[0];a.points?(o=a.closeStroke,s=a.points):Array.isArray(n[0])?s=n[0]:s=n;var u=new Mf(s);return u.closeStroke=o,this.drawShape(u),this},e.prototype.drawShape=function(r){return this._holeMode?this._geometry.drawHole(r,this._matrix):this._geometry.drawShape(r,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},e.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},e.prototype.isFastRect=function(){var r=this._geometry.graphicsData;return r.length===1&&r[0].shape.type===jt.RECT&&!r[0].matrix&&!r[0].holes.length&&!(r[0].lineStyle.visible&&r[0].lineStyle.width)},e.prototype._render=function(r){this.finishPoly();var n=this._geometry;n.updateBatches(),n.batchable?(this.batchDirty!==n.batchDirty&&this._populateBatches(),this._renderBatched(r)):(r.batch.flush(),this._renderDirect(r))},e.prototype._populateBatches=function(){var r=this._geometry,n=this.blendMode,i=r.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=r.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(r.points);for(var s=0;s<i;s++){var o=r.batches[s],a=o.style.color,u=new Float32Array(this.vertexData.buffer,o.attribStart*4*2,o.attribSize*2),f=new Float32Array(r.uvsFloat32.buffer,o.attribStart*4*2,o.attribSize*2),d=new Uint16Array(r.indicesUint16.buffer,o.start*2,o.size),p={vertexData:u,blendMode:n,indices:d,uvs:f,_batchRGB:va(a),_tintRGB:a,_texture:o.style.texture,alpha:o.style.alpha,worldAlpha:1};this.batches[s]=p}},e.prototype._renderBatched=function(r){if(!!this.batches.length){r.batch.setObjectRenderer(r.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var n=0,i=this.batches.length;n<i;n++){var s=this.batches[n];s.worldAlpha=this.worldAlpha*s.alpha,r.plugins[this.pluginName].render(s)}}},e.prototype._renderDirect=function(r){var n=this._resolveDirectShader(r),i=this._geometry,s=this.tint,o=this.worldAlpha,a=n.uniforms,u=i.drawCalls;a.translationMatrix=this.transform.worldTransform,a.tint[0]=(s>>16&255)/255*o,a.tint[1]=(s>>8&255)/255*o,a.tint[2]=(s&255)/255*o,a.tint[3]=o,r.shader.bind(n),r.geometry.bind(i,n),r.state.set(this.state);for(var f=0,d=u.length;f<d;f++)this._renderDrawCallDirect(r,i.drawCalls[f])},e.prototype._renderDrawCallDirect=function(r,n){for(var i=n.texArray,s=n.type,o=n.size,a=n.start,u=i.count,f=0;f<u;f++)r.texture.bind(i.elements[f],f);r.geometry.draw(s,o,a)},e.prototype._resolveDirectShader=function(r){var n=this.shader,i=this.pluginName;if(!n){if(!gv[i]){for(var s=r.plugins[i].MAX_TEXTURES,o=new Int32Array(s),a=0;a<s;a++)o[a]=a;var u={tint:new Float32Array([1,1,1,1]),translationMatrix:new kt,default:qs.from({uSamplers:o},!0)},f=r.plugins[i]._shader.program;gv[i]=new es(f,u)}n=gv[i]}return n},e.prototype._calculateBounds=function(){this.finishPoly();var r=this._geometry;if(!!r.graphicsData.length){var n=r.bounds,i=n.minX,s=n.minY,o=n.maxX,a=n.maxY;this._bounds.addFrame(this.transform,i,s,o,a)}},e.prototype.containsPoint=function(r){return this.worldTransform.applyInverse(r,e._TEMP_POINT),this._geometry.containsPoint(e._TEMP_POINT)},e.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var r=va(this.tint,vL),n=0;n<this.batches.length;n++){var i=this.batches[n],s=i._batchRGB,o=r[0]*s[0]*255,a=r[1]*s[1]*255,u=r[2]*s[2]*255,f=(o<<16)+(a<<8)+(u|0);i._tintRGB=(f>>16)+(f&65280)+((f&255)<<16)}}},e.prototype.calculateVertices=function(){var r=this.transform._worldID;if(this._transformID!==r){this._transformID=r;for(var n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,a=n.d,u=n.tx,f=n.ty,d=this._geometry.points,p=this.vertexData,v=0,g=0;g<d.length;g+=2){var _=d[g],b=d[g+1];p[v++]=i*_+o*b+u,p[v++]=a*b+s*_+f}}},e.prototype.closePath=function(){var r=this.currentPath;return r&&(r.closeStroke=!0,this.finishPoly()),this},e.prototype.setMatrix=function(r){return this._matrix=r,this},e.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},e.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},e.prototype.destroy=function(r){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,t.prototype.destroy.call(this,r)},e.nextRoundedRectBehavior=!1,e._TEMP_POINT=new Ke,e}(Dt);/*!
 * @pixi/sprite - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/sprite is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var tg=function(t,e){return tg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},tg(t,e)};function mL(t,e){tg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var pl=new Ke,gL=new Uint16Array([0,1,2,0,2,3]),it=function(t){mL(e,t);function e(r){var n=t.call(this)||this;return n._anchor=new Xs(n._onAnchorUpdate,n,r?r.defaultAnchor.x:0,r?r.defaultAnchor.y:0),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=ae.NORMAL,n._cachedTint=16777215,n.uvs=null,n.texture=r||ce.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.indices=gL,n.pluginName="batch",n.isSprite=!0,n._roundPixels=K.ROUND_PIXELS,n}return e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Vo(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Vo(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){var r=this._texture;if(!(this._transformID===this.transform._worldID&&this._textureID===r._updateID)){this._textureID!==r._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=r._updateID;var n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,a=n.d,u=n.tx,f=n.ty,d=this.vertexData,p=r.trim,v=r.orig,g=this._anchor,_=0,b=0,m=0,E=0;if(p?(b=p.x-g._x*v.width,_=b+p.width,E=p.y-g._y*v.height,m=E+p.height):(b=-g._x*v.width,_=b+v.width,E=-g._y*v.height,m=E+v.height),d[0]=i*b+o*E+u,d[1]=a*E+s*b+f,d[2]=i*_+o*E+u,d[3]=a*E+s*_+f,d[4]=i*_+o*m+u,d[5]=a*m+s*_+f,d[6]=i*b+o*m+u,d[7]=a*m+s*b+f,this._roundPixels)for(var T=K.RESOLUTION,S=0;S<d.length;++S)d[S]=Math.round((d[S]*T|0)/T)}},e.prototype.calculateTrimmedVertices=function(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var r=this._texture,n=this.vertexTrimmedData,i=r.orig,s=this._anchor,o=this.transform.worldTransform,a=o.a,u=o.b,f=o.c,d=o.d,p=o.tx,v=o.ty,g=-s._x*i.width,_=g+i.width,b=-s._y*i.height,m=b+i.height;n[0]=a*g+f*b+p,n[1]=d*b+u*g+v,n[2]=a*_+f*b+p,n[3]=d*b+u*_+v,n[4]=a*_+f*m+p,n[5]=d*m+u*_+v,n[6]=a*g+f*m+p,n[7]=d*m+u*g+v},e.prototype._render=function(r){this.calculateVertices(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var r=this._texture.trim,n=this._texture.orig;!r||r.width===n.width&&r.height===n.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._localBounds||(this._localBounds=new wc),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Ne),r=this._localBoundsRect),this._localBounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,pl);var n=this._texture.orig.width,i=this._texture.orig.height,s=-n*this.anchor.x,o=0;return pl.x>=s&&pl.x<s+n&&(o=-i*this.anchor.y,pl.y>=o&&pl.y<o+i)},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var n=typeof r=="boolean"?r:r&&r.texture;if(n){var i=typeof r=="boolean"?r:r&&r.baseTexture;this._texture.destroy(!!i)}this._texture=null},e.from=function(r,n){var i=r instanceof ce?r:ce.from(r,n);return new e(i)},Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){var n=Vo(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){var n=Vo(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(r){this._texture!==r&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=r||ce.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,r&&(r.baseTexture.valid?this._onTextureUpdate():r.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),e}(Dt);/*!
 * @pixi/text - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/text is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var rg=function(t,e){return rg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},rg(t,e)};function yL(t,e){rg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var fu;(function(t){t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(fu||(fu={}));var yv={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:fu.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},_L=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],cr=function(){function t(e){this.styleID=0,this.reset(),xv(this,e,e)}return t.prototype.clone=function(){var e={};return xv(e,this,yv),new t(e)},t.prototype.reset=function(){xv(this,yv,yv)},Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var r=_v(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fill},set:function(e){var r=_v(e);this._fill!==r&&(this._fill=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){xL(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var r=_v(e);this._stroke!==r&&(this._stroke=r,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),t.prototype.toFontString=function(){var e=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(var n=r.length-1;n>=0;n--){var i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&_L.indexOf(i)<0&&(i='"'+i+'"'),r[n]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+r.join(",")},t}();function Xx(t){return typeof t=="number"?qT(t):(typeof t=="string"&&t.indexOf("0x")===0&&(t=t.replace("0x","#")),t)}function _v(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=Xx(t[e]);return t}else return Xx(t)}function xL(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(var r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function xv(t,e,r){for(var n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}var nf={willReadFrequently:!0},Bn=function(){function t(e,r,n,i,s,o,a,u,f){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=u,this.fontProperties=f}return t.measureText=function(e,r,n,i){i===void 0&&(i=t._canvas),n=n==null?r.wordWrap:n;var s=r.toFontString(),o=t.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var a=i.getContext("2d",nf);a.font=s;for(var u=n?t.wordWrap(e,r,i):e,f=u.split(/(?:\r\n|\r|\n)/),d=new Array(f.length),p=0,v=0;v<f.length;v++){var g=a.measureText(f[v]).width+(f[v].length-1)*r.letterSpacing;d[v]=g,p=Math.max(p,g)}var _=p+r.strokeThickness;r.dropShadow&&(_+=r.dropShadowDistance);var b=r.lineHeight||o.fontSize+r.strokeThickness,m=Math.max(b,o.fontSize+r.strokeThickness)+(f.length-1)*(b+r.leading);return r.dropShadow&&(m+=r.dropShadowDistance),new t(e,r,_,m,f,d,b+r.leading,p,o)},t.wordWrap=function(e,r,n){n===void 0&&(n=t._canvas);for(var i=n.getContext("2d",nf),s=0,o="",a="",u=Object.create(null),f=r.letterSpacing,d=r.whiteSpace,p=t.collapseSpaces(d),v=t.collapseNewlines(d),g=!p,_=r.wordWrapWidth+f,b=t.tokenize(e),m=0;m<b.length;m++){var E=b[m];if(t.isNewline(E)){if(!v){a+=t.addLine(o),g=!p,o="",s=0;continue}E=" "}if(p){var T=t.isBreakingSpace(E),S=t.isBreakingSpace(o[o.length-1]);if(T&&S)continue}var A=t.getFromCache(E,f,u,i);if(A>_)if(o!==""&&(a+=t.addLine(o),o="",s=0),t.canBreakWords(E,r.breakWords))for(var R=t.wordWrapSplit(E),I=0;I<R.length;I++){for(var P=R[I],k=1;R[I+k];){var N=R[I+k],B=P[P.length-1];if(!t.canBreakChars(B,N,E,I,r.breakWords))P+=N;else break;k++}I+=P.length-1;var X=t.getFromCache(P,f,u,i);X+s>_&&(a+=t.addLine(o),g=!1,o="",s=0),o+=P,s+=X}else{o.length>0&&(a+=t.addLine(o),o="",s=0);var Z=m===b.length-1;a+=t.addLine(E,!Z),g=!1,o="",s=0}else A+s>_&&(g=!1,a+=t.addLine(o),o="",s=0),(o.length>0||!t.isBreakingSpace(E)||g)&&(o+=E,s+=A)}return a+=t.addLine(o,!1),a},t.addLine=function(e,r){return r===void 0&&(r=!0),e=t.trimRight(e),e=r?e+`
`:e,e},t.getFromCache=function(e,r,n,i){var s=n[e];if(typeof s!="number"){var o=e.length*r;s=i.measureText(e).width+o,n[e]=s}return s},t.collapseSpaces=function(e){return e==="normal"||e==="pre-line"},t.collapseNewlines=function(e){return e==="normal"},t.trimRight=function(e){if(typeof e!="string")return"";for(var r=e.length-1;r>=0;r--){var n=e[r];if(!t.isBreakingSpace(n))break;e=e.slice(0,-1)}return e},t.isNewline=function(e){return typeof e!="string"?!1:t._newlines.indexOf(e.charCodeAt(0))>=0},t.isBreakingSpace=function(e,r){return typeof e!="string"?!1:t._breakingSpaces.indexOf(e.charCodeAt(0))>=0},t.tokenize=function(e){var r=[],n="";if(typeof e!="string")return r;for(var i=0;i<e.length;i++){var s=e[i],o=e[i+1];if(t.isBreakingSpace(s,o)||t.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r},t.canBreakWords=function(e,r){return r},t.canBreakChars=function(e,r,n,i,s){return!0},t.wordWrapSplit=function(e){return e.split("")},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var r={ascent:0,descent:0,fontSize:0},n=t._canvas,i=t._context;i.font=e;var s=t.METRICS_STRING+t.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width),a=Math.ceil(i.measureText(t.BASELINE_SYMBOL).width),u=Math.ceil(t.HEIGHT_MULTIPLIER*a);a=a*t.BASELINE_MULTIPLIER|0,n.width=o,n.height=u,i.fillStyle="#f00",i.fillRect(0,0,o,u),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,a);var f=i.getImageData(0,0,o,u).data,d=f.length,p=o*4,v=0,g=0,_=!1;for(v=0;v<a;++v){for(var b=0;b<p;b+=4)if(f[g+b]!==255){_=!0;break}if(!_)g+=p;else break}for(r.ascent=a-v,g=d-p,_=!1,v=u;v>a;--v){for(var b=0;b<p;b+=4)if(f[g+b]!==255){_=!0;break}if(!_)g-=p;else break}return r.descent=v-a,r.fontSize=r.ascent+r.descent,t._fonts[e]=r,r},t.clearMetrics=function(e){e===void 0&&(e=""),e?delete t._fonts[e]:t._fonts={}},Object.defineProperty(t,"_canvas",{get:function(){if(!t.__canvas){var e=void 0;try{var r=new OffscreenCanvas(0,0),n=r.getContext("2d",nf);if(n&&n.measureText)return t.__canvas=r,r;e=K.ADAPTER.createCanvas()}catch{e=K.ADAPTER.createCanvas()}e.width=e.height=10,t.__canvas=e}return t.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(t,"_context",{get:function(){return t.__context||(t.__context=t._canvas.getContext("2d",nf)),t.__context},enumerable:!1,configurable:!0}),t}();Bn._fonts={};Bn.METRICS_STRING="|\xC9q\xC5";Bn.BASELINE_SYMBOL="M";Bn.BASELINE_MULTIPLIER=1.4;Bn.HEIGHT_MULTIPLIER=2;Bn._newlines=[10,13];Bn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var bL={texture:!0,children:!1,baseTexture:!0},Au=function(t){yL(e,t);function e(r,n,i){var s=this,o=!1;i||(i=K.ADAPTER.createCanvas(),o=!0),i.width=3,i.height=3;var a=ce.from(i);return a.orig=new Ne,a.trim=new Ne,s=t.call(this,a)||this,s._ownCanvas=o,s.canvas=i,s.context=i.getContext("2d",{willReadFrequently:!0}),s._resolution=K.RESOLUTION,s._autoResolution=!0,s._text=null,s._style=null,s._styleListener=null,s._font="",s.text=r,s.style=n,s.localStyleID=-1,s}return e.prototype.updateText=function(r){var n=this._style;if(this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),!(!this.dirty&&r)){this._font=this._style.toFontString();var i=this.context,s=Bn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),o=s.width,a=s.height,u=s.lines,f=s.lineHeight,d=s.lineWidths,p=s.maxLineWidth,v=s.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,o)+n.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,a)+n.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=n.strokeThickness,i.textBaseline=n.textBaseline,i.lineJoin=n.lineJoin,i.miterLimit=n.miterLimit;for(var g,_,b=n.dropShadow?2:1,m=0;m<b;++m){var E=n.dropShadow&&m===0,T=E?Math.ceil(Math.max(1,a)+n.padding*2):0,S=T*this._resolution;if(E){i.fillStyle="black",i.strokeStyle="black";var A=n.dropShadowColor,R=va(typeof A=="number"?A:ZT(A)),I=n.dropShadowBlur*this._resolution,P=n.dropShadowDistance*this._resolution;i.shadowColor="rgba("+R[0]*255+","+R[1]*255+","+R[2]*255+","+n.dropShadowAlpha+")",i.shadowBlur=I,i.shadowOffsetX=Math.cos(n.dropShadowAngle)*P,i.shadowOffsetY=Math.sin(n.dropShadowAngle)*P+S}else i.fillStyle=this._generateFillStyle(n,u,s),i.strokeStyle=n.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var k=(f-v.fontSize)/2;(!e.nextLineHeightBehavior||f-v.fontSize<0)&&(k=0);for(var N=0;N<u.length;N++)g=n.strokeThickness/2,_=n.strokeThickness/2+N*f+v.ascent+k,n.align==="right"?g+=p-d[N]:n.align==="center"&&(g+=(p-d[N])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(u[N],g+n.padding,_+n.padding-T,!0),n.fill&&this.drawLetterSpacing(u[N],g+n.padding,_+n.padding-T)}this.updateTexture()}},e.prototype.drawLetterSpacing=function(r,n,i,s){s===void 0&&(s=!1);var o=this._style,a=o.letterSpacing,u=e.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(a===0||u){u&&(this.context.letterSpacing=a,this.context.textLetterSpacing=a),s?this.context.strokeText(r,n,i):this.context.fillText(r,n,i);return}for(var f=n,d=Array.from?Array.from(r):r.split(""),p=this.context.measureText(r).width,v=0,g=0;g<d.length;++g){var _=d[g];s?this.context.strokeText(_,f,i):this.context.fillText(_,f,i);for(var b="",m=g+1;m<d.length;++m)b+=d[m];v=this.context.measureText(b).width,f+=p-v+a,p=v}},e.prototype.updateTexture=function(){var r=this.canvas;if(this._style.trim){var n=vN(r);n.data&&(r.width=n.width,r.height=n.height,this.context.putImageData(n.data,0,0))}var i=this._texture,s=this._style,o=s.trim?0:s.padding,a=i.baseTexture;i.trim.width=i._frame.width=r.width/this._resolution,i.trim.height=i._frame.height=r.height/this._resolution,i.trim.x=-o,i.trim.y=-o,i.orig.width=i._frame.width-o*2,i.orig.height=i._frame.height-o*2,this._onTextureUpdate(),a.setRealSize(r.width,r.height,this._resolution),i.updateUvs(),this.dirty=!1},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0),this.updateText(!0),t.prototype._render.call(this,r)},e.prototype.updateTransform=function(){this.updateText(!0),t.prototype.updateTransform.call(this)},e.prototype.getBounds=function(r,n){return this.updateText(!0),this._textureID===-1&&(r=!1),t.prototype.getBounds.call(this,r,n)},e.prototype.getLocalBounds=function(r){return this.updateText(!0),t.prototype.getLocalBounds.call(this,r)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._generateFillStyle=function(r,n,i){var s=r.fill;if(Array.isArray(s)){if(s.length===1)return s[0]}else return s;var o,a=r.dropShadow?r.dropShadowDistance:0,u=r.padding||0,f=this.canvas.width/this._resolution-a-u*2,d=this.canvas.height/this._resolution-a-u*2,p=s.slice(),v=r.fillGradientStops.slice();if(!v.length)for(var g=p.length+1,_=1;_<g;++_)v.push(_/g);if(p.unshift(s[0]),v.unshift(0),p.push(s[s.length-1]),v.push(1),r.fillGradientType===fu.LINEAR_VERTICAL){o=this.context.createLinearGradient(f/2,u,f/2,d+u);for(var b=i.fontProperties.fontSize+r.strokeThickness,_=0;_<n.length;_++){var m=i.lineHeight*(_-1)+b,E=i.lineHeight*_,T=E;_>0&&m>E&&(T=(E+m)/2);var S=E+b,A=i.lineHeight*(_+1),R=S;_+1<n.length&&A<S&&(R=(S+A)/2);for(var I=(R-T)/d,P=0;P<p.length;P++){var k=0;typeof v[P]=="number"?k=v[P]:k=P/p.length;var N=Math.min(1,Math.max(0,T/d+k*I));N=Number(N.toFixed(5)),o.addColorStop(N,p[P])}}}else{o=this.context.createLinearGradient(u,d/2,f+u,d/2);for(var B=p.length+1,X=1,_=0;_<p.length;_++){var Z=void 0;typeof v[_]=="number"?Z=v[_]:Z=X/B,o.addColorStop(Z,p[_]),X++}}return o},e.prototype.destroy=function(r){typeof r=="boolean"&&(r={children:r}),r=Object.assign({},bL,r),t.prototype.destroy.call(this,r),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(r){this.updateText(!0);var n=Vo(this.scale.x)||1;this.scale.x=n*r/this._texture.orig.width,this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(r){this.updateText(!0);var n=Vo(this.scale.y)||1;this.scale.y=n*r/this._texture.orig.height,this._height=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(r){r=r||{},r instanceof cr?this._style=r:this._style=new cr(r),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r==null?"":r),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.nextLineHeightBehavior=!1,e.experimentalLetterSpacing=!1,e}(it);/*!
 * @pixi/prepare - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/prepare is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */K.UPLOADS_PER_FRAME=4;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ng=function(t,e){return ng=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ng(t,e)};function EL(t,e){ng(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var TL=function(){function t(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();function wL(t,e){var r=!1;if(t&&t._textures&&t._textures.length){for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof ce){var i=t._textures[n].baseTexture;e.indexOf(i)===-1&&(e.push(i),r=!0)}}return r}function SL(t,e){if(t.baseTexture instanceof Oe){var r=t.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function AL(t,e){if(t._texture&&t._texture instanceof ce){var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function CL(t,e){return e instanceof Au?(e.updateText(!0),!0):!1}function RL(t,e){if(e instanceof cr){var r=e.toFontString();return Bn.measureFont(r),!0}return!1}function IL(t,e){if(t instanceof Au){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var r=t._texture.baseTexture;return e.indexOf(r)===-1&&e.push(r),!0}return!1}function PL(t,e){return t instanceof cr?(e.indexOf(t)===-1&&e.push(t),!0):!1}var OL=function(){function t(e){var r=this;this.limiter=new TL(K.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){!r.queue||r.prepareItems()},this.registerFindHook(IL),this.registerFindHook(PL),this.registerFindHook(wL),this.registerFindHook(SL),this.registerFindHook(AL),this.registerUploadHook(CL),this.registerUploadHook(RL)}return t.prototype.upload=function(e,r){var n=this;return typeof e=="function"&&(r=e,e=null),r&&hn("6.5.0","BasePrepare.upload callback is deprecated, use the return Promise instead."),new Promise(function(i){e&&n.add(e);var s=function(){r==null||r(),i()};n.queue.length?(n.completes.push(s),n.ticking||(n.ticking=!0,zt.system.addOnce(n.tick,n,pi.UTILITY))):s()})},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],r=!1;if(e&&!e._destroyed){for(var n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)zt.system.addOnce(this.tick,this,pi.UTILITY);else{this.ticking=!1;var s=this.completes.slice(0);this.completes.length=0;for(var n=0,i=s.length;n<i;n++)s[n]()}},t.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},t.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},t.prototype.add=function(e){for(var r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof Dt)for(var r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this},t.prototype.destroy=function(){this.ticking&&zt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();function Aw(t,e){return e instanceof Oe?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function NL(t,e){if(!(e instanceof fi))return!1;var r=e.geometry;e.finishPoly(),r.updateBatches();for(var n=r.batches,i=0;i<n.length;i++){var s=n[i].style.texture;s&&Aw(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function ML(t,e){return t instanceof fi?(e.push(t),!0):!1}var FL=function(t){EL(e,t);function e(r){var n=t.call(this,r)||this;return n.uploadHookHelper=n.renderer,n.registerFindHook(ML),n.registerUploadHook(Aw),n.registerUploadHook(NL),n}return e.extension={name:"prepare",type:We.RendererPlugin},e}(OL);/*!
 * @pixi/spritesheet - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/spritesheet is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var LL=function(){function t(e,r,n){n===void 0&&(n=null),this.linkedSheets=[],this._texture=e instanceof ce?e:null,this.baseTexture=e instanceof Oe?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=r;var i=this.baseTexture.resource;this.resolution=this._updateResolution(n||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return t.prototype._updateResolution=function(e){e===void 0&&(e=null);var r=this.data.meta.scale,n=Ec(e,null);return n===null&&(n=r!==void 0?parseFloat(r):1),n!==1&&this.baseTexture.setResolution(n),n},t.prototype.parse=function(e){var r=this;return e&&hn("6.5.0","Spritesheet.parse callback is deprecated, use the return Promise instead."),new Promise(function(n){r._callback=function(i){e==null||e(i),n(i)},r._batchIndex=0,r._frameKeys.length<=t.BATCH_SIZE?(r._processFrames(0),r._processAnimations(),r._parseComplete()):r._nextBatch()})},t.prototype._processFrames=function(e){for(var r=e,n=t.BATCH_SIZE;r-e<n&&r<this._frameKeys.length;){var i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){var a=null,u=null,f=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,d=new Ne(0,0,Math.floor(f.w)/this.resolution,Math.floor(f.h)/this.resolution);s.rotated?a=new Ne(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new Ne(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(u=new Ne(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new ce(this.baseTexture,a,d,u,s.rotated?2:0,s.anchor),ce.addToCache(this.textures[i],i)}r++}},t.prototype._processAnimations=function(){var e=this.data.animations||{};for(var r in e){this.animations[r]=[];for(var n=0;n<e[r].length;n++){var i=e[r][n];this.animations[r].push(this.textures[i])}}},t.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},t.prototype.destroy=function(e){var r;e===void 0&&(e=!1);for(var n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)===null||r===void 0||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]},t.BATCH_SIZE=1e3,t}(),kL=function(){function t(){}return t.use=function(e,r){var n,i,s=this,o=e.name+"_image";if(!e.data||e.type!==_t.TYPE.JSON||!e.data.frames||s.resources[o]){r();return}var a=(i=(n=e.data)===null||n===void 0?void 0:n.meta)===null||i===void 0?void 0:i.related_multi_packs;if(Array.isArray(a))for(var u=function(_){if(typeof _!="string")return"continue";var b=_.replace(".json",""),m=Xo.resolve(e.url.replace(s.baseUrl,""),_);if(s.resources[b]||Object.values(s.resources).some(function(T){return Xo.format(Xo.parse(T.url))===m}))return"continue";var E={crossOrigin:e.crossOrigin,loadType:_t.LOAD_TYPE.XHR,xhrType:_t.XHR_RESPONSE_TYPE.JSON,parentResource:e,metadata:e.metadata};s.add(b,m,E)},f=0,d=a;f<d.length;f++){var p=d[f];u(p)}var v={crossOrigin:e.crossOrigin,metadata:e.metadata.imageMetadata,parentResource:e},g=t.getResourcePath(e,s.baseUrl);s.add(o,g,v,function(b){if(b.error){r(b.error);return}var m=new LL(b.texture,e.data,e.url);m.parse().then(function(){e.spritesheet=m,e.textures=m.textures,r()})})},t.getResourcePath=function(e,r){return e.isDataUrl?e.data.meta.image:Xo.resolve(e.url.replace(r,""),e.data.meta.image)},t.extension=We.Loader,t}();/*!
 * @pixi/sprite-tiling - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/sprite-tiling is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ig=function(t,e){return ig=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ig(t,e)};function Cw(t,e){ig(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var vl=new Ke,DL=function(t){Cw(e,t);function e(r,n,i){n===void 0&&(n=100),i===void 0&&(i=100);var s=t.call(this,r)||this;return s.tileTransform=new rw,s._width=n,s._height=i,s.uvMatrix=s.texture.uvMatrix||new L0(r),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return Object.defineProperty(e.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(r){this.uvMatrix.clampMargin=r,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(r){this.tileTransform.scale.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(r){this.tileTransform.position.copyFrom(r)},enumerable:!1,configurable:!0}),e.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},e.prototype._render=function(r){var n=this._texture;!n||!n.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),r.batch.setObjectRenderer(r.plugins[this.pluginName]),r.plugins[this.pluginName].render(this))},e.prototype._calculateBounds=function(){var r=this._width*-this._anchor._x,n=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,r,n,i,s)},e.prototype.getLocalBounds=function(r){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),r||(this._localBoundsRect||(this._localBoundsRect=new Ne),r=this._localBoundsRect),this._bounds.getRectangle(r)):t.prototype.getLocalBounds.call(this,r)},e.prototype.containsPoint=function(r){this.worldTransform.applyInverse(r,vl);var n=this._width,i=this._height,s=-n*this.anchor._x;if(vl.x>=s&&vl.x<s+n){var o=-i*this.anchor._y;if(vl.y>=o&&vl.y<o+i)return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this.tileTransform=null,this.uvMatrix=null},e.from=function(r,n){var i=r instanceof ce?r:ce.from(r,n);return new e(i,n.width,n.height)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r},enumerable:!1,configurable:!0}),e}(it),BL=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,Vx=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,UL=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,GL=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,zL=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,sf=new kt,jL=function(t){Cw(e,t);function e(r){var n=t.call(this,r)||this;return r.runners.contextChange.add(n),n.quad=new uw,n.state=lo.for2d(),n}return e.prototype.contextChange=function(){var r=this.renderer,n={globals:r.globalUniforms};this.simpleShader=es.from(Vx,BL,n),this.shader=r.context.webGLVersion>1?es.from(GL,zL,n):es.from(Vx,UL,n)},e.prototype.render=function(r){var n=this.renderer,i=this.quad,s=i.vertices;s[0]=s[6]=r._width*-r.anchor.x,s[1]=s[3]=r._height*-r.anchor.y,s[2]=s[4]=r._width*(1-r.anchor.x),s[5]=s[7]=r._height*(1-r.anchor.y);var o=r.uvRespectAnchor?r.anchor.x:0,a=r.uvRespectAnchor?r.anchor.y:0;s=i.uvs,s[0]=s[6]=-o,s[1]=s[3]=-a,s[2]=s[4]=1-o,s[5]=s[7]=1-a,i.invalidate();var u=r._texture,f=u.baseTexture,d=f.alphaMode>0,p=r.tileTransform.localTransform,v=r.uvMatrix,g=f.isPowerOfTwo&&u.frame.width===f.width&&u.frame.height===f.height;g&&(f._glTextures[n.CONTEXT_UID]?g=f.wrapMode!==Mn.CLAMP:f.wrapMode===Mn.CLAMP&&(f.wrapMode=Mn.REPEAT));var _=g?this.simpleShader:this.shader,b=u.width,m=u.height,E=r._width,T=r._height;sf.set(p.a*b/E,p.b*b/T,p.c*m/E,p.d*m/T,p.tx/E,p.ty/T),sf.invert(),g?sf.prepend(v.mapCoord):(_.uniforms.uMapCoord=v.mapCoord.toArray(!0),_.uniforms.uClampFrame=v.uClampFrame,_.uniforms.uClampOffset=v.uClampOffset),_.uniforms.uTransform=sf.toArray(!0),_.uniforms.uColor=JT(r.tint,r.worldAlpha,_.uniforms.uColor,d),_.uniforms.translationMatrix=r.transform.worldTransform.toArray(!0),_.uniforms.uSampler=u,n.shader.bind(_),n.geometry.bind(i),this.state.blendMode=KT(r.blendMode,d),n.state.set(this.state),n.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},e.extension={name:"tilingSprite",type:We.RendererPlugin},e}(sd);/*!
 * @pixi/mesh - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/mesh is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var sg=function(t,e){return sg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},sg(t,e)};function D0(t,e){sg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var HL=function(){function t(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return t.prototype.update=function(e){if(!(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}},t}(),bv=new Ke,$x=new Mf,cu=function(t){D0(e,t);function e(r,n,i,s){s===void 0&&(s=$r.TRIANGLES);var o=t.call(this)||this;return o.geometry=r,o.shader=n,o.state=i||lo.for2d(),o.drawMode=s,o.start=0,o.size=0,o.uvs=null,o.indices=null,o.vertexData=new Float32Array(1),o.vertexDirty=-1,o._transformID=-1,o._roundPixels=K.ROUND_PIXELS,o.batchUvs=null,o}return Object.defineProperty(e.prototype,"geometry",{get:function(){return this._geometry},set:function(r){this._geometry!==r&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=r,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"material",{get:function(){return this.shader},set:function(r){this.shader=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(r){this.state.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){this._roundPixels!==r&&(this._transformID=-1),this._roundPixels=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(r){this.shader.tint=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(r){this.shader.texture=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){var n=this.geometry.buffers[0].data,i=this.shader;i.batchable&&this.drawMode===$r.TRIANGLES&&n.length<e.BATCHABLE_SIZE*2?this._renderToBatch(r):this._renderDefault(r)},e.prototype._renderDefault=function(r){var n=this.shader;n.alpha=this.worldAlpha,n.update&&n.update(),r.batch.flush(),n.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),r.shader.bind(n),r.state.set(this.state),r.geometry.bind(this.geometry,n),r.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},e.prototype._renderToBatch=function(r){var n=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=n.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;var s=this.material.pluginName;r.batch.setObjectRenderer(r.plugins[s]),r.plugins[s].render(this)},e.prototype.calculateVertices=function(){var r=this.geometry,n=r.buffers[0],i=n.data,s=n._updateID;if(!(s===this.vertexDirty&&this._transformID===this.transform._worldID)){this._transformID=this.transform._worldID,this.vertexData.length!==i.length&&(this.vertexData=new Float32Array(i.length));for(var o=this.transform.worldTransform,a=o.a,u=o.b,f=o.c,d=o.d,p=o.tx,v=o.ty,g=this.vertexData,_=0;_<g.length/2;_++){var b=i[_*2],m=i[_*2+1];g[_*2]=a*b+f*m+p,g[_*2+1]=u*b+d*m+v}if(this._roundPixels)for(var E=K.RESOLUTION,_=0;_<g.length;++_)g[_]=Math.round((g[_]*E|0)/E);this.vertexDirty=s}},e.prototype.calculateUvs=function(){var r=this.geometry.buffers[1],n=this.shader;n.uvMatrix.isSimple?this.uvs=r.data:(this.batchUvs||(this.batchUvs=new HL(r,n.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},e.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},e.prototype.containsPoint=function(r){if(!this.getBounds().contains(r.x,r.y))return!1;this.worldTransform.applyInverse(r,bv);for(var n=this.geometry.getBuffer("aVertexPosition").data,i=$x.points,s=this.geometry.getIndex().data,o=s.length,a=this.drawMode===4?3:1,u=0;u+2<o;u+=a){var f=s[u]*2,d=s[u+1]*2,p=s[u+2]*2;if(i[0]=n[f],i[1]=n[f+1],i[2]=n[d],i[3]=n[d+1],i[4]=n[p],i[5]=n[p+1],$x.contains(bv.x,bv.y))return!0}return!1},e.prototype.destroy=function(r){t.prototype.destroy.call(this,r),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},e.BATCHABLE_SIZE=100,e}(Dt),XL=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,VL=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,du=function(t){D0(e,t);function e(r,n){var i=this,s={uSampler:r,alpha:1,uTextureMatrix:kt.IDENTITY,uColor:new Float32Array([1,1,1,1])};return n=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},n),n.uniforms&&Object.assign(s,n.uniforms),i=t.call(this,n.program||Su.from(VL,XL),s)||this,i._colorDirty=!1,i.uvMatrix=new L0(r),i.batchable=n.program===void 0,i.pluginName=n.pluginName,i.tint=n.tint,i.alpha=n.alpha,i}return Object.defineProperty(e.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(r){this.uniforms.uSampler!==r&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!r.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=r,this.uvMatrix.texture=r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(r){r!==this._alpha&&(this._alpha=r,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){r!==this._tint&&(this._tint=r,this._tintRGB=(r>>16)+(r&65280)+((r&255)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var r=this.texture.baseTexture;JT(this._tint,this._alpha,this.uniforms.uColor,r.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},e}(es),od=function(t){D0(e,t);function e(r,n,i){var s=t.call(this)||this,o=new Ft(r),a=new Ft(n,!0),u=new Ft(i,!0,!0);return s.addAttribute("aVertexPosition",o,2,!1,de.FLOAT).addAttribute("aTextureCoord",a,2,!1,de.FLOAT).addIndex(u),s._updateId=-1,s}return Object.defineProperty(e.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),e}(wu);/*!
 * @pixi/text-bitmap - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/text-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var og=function(t,e){return og=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},og(t,e)};function $L(t,e){og(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Rc=function(){function t(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return t}(),WL=function(){function t(){}return t.test=function(e){return typeof e=="string"&&e.indexOf("info face=")===0},t.parse=function(e){var r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in r){var s=r[i].match(/^[a-z]+/gm)[0],o=r[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),a={};for(var u in o){var f=o[u].split("="),d=f[0],p=f[1].replace(/"/gm,""),v=parseFloat(p),g=isNaN(v)?p:v;a[d]=g}n[s].push(a)}var _=new Rc;return n.info.forEach(function(b){return _.info.push({face:b.face,size:parseInt(b.size,10)})}),n.common.forEach(function(b){return _.common.push({lineHeight:parseInt(b.lineHeight,10)})}),n.page.forEach(function(b){return _.page.push({id:parseInt(b.id,10),file:b.file})}),n.char.forEach(function(b){return _.char.push({id:parseInt(b.id,10),page:parseInt(b.page,10),x:parseInt(b.x,10),y:parseInt(b.y,10),width:parseInt(b.width,10),height:parseInt(b.height,10),xoffset:parseInt(b.xoffset,10),yoffset:parseInt(b.yoffset,10),xadvance:parseInt(b.xadvance,10)})}),n.kerning.forEach(function(b){return _.kerning.push({first:parseInt(b.first,10),second:parseInt(b.second,10),amount:parseInt(b.amount,10)})}),n.distanceField.forEach(function(b){return _.distanceField.push({distanceRange:parseInt(b.distanceRange,10),fieldType:b.fieldType})}),_},t}(),ag=function(){function t(){}return t.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},t.parse=function(e){for(var r=new Rc,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),u=e.getElementsByTagName("distanceField"),f=0;f<n.length;f++)r.info.push({face:n[f].getAttribute("face"),size:parseInt(n[f].getAttribute("size"),10)});for(var f=0;f<i.length;f++)r.common.push({lineHeight:parseInt(i[f].getAttribute("lineHeight"),10)});for(var f=0;f<s.length;f++)r.page.push({id:parseInt(s[f].getAttribute("id"),10)||0,file:s[f].getAttribute("file")});for(var f=0;f<o.length;f++){var d=o[f];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(var f=0;f<a.length;f++)r.kerning.push({first:parseInt(a[f].getAttribute("first"),10),second:parseInt(a[f].getAttribute("second"),10),amount:parseInt(a[f].getAttribute("amount"),10)});for(var f=0;f<u.length;f++)r.distanceField.push({fieldType:u[f].getAttribute("fieldType"),distanceRange:parseInt(u[f].getAttribute("distanceRange"),10)});return r},t}(),YL=function(){function t(){}return t.test=function(e){if(typeof e=="string"&&e.indexOf("<font>")>-1){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return ag.test(r)}return!1},t.parse=function(e){var r=new globalThis.DOMParser().parseFromString(e,"text/xml");return ag.parse(r)},t}(),Ev=[WL,ag,YL];function Rw(t){for(var e=0;e<Ev.length;e++)if(Ev[e].test(t))return Ev[e];return null}function qL(t,e,r,n,i,s){var o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;var a,u=r.dropShadow?r.dropShadowDistance:0,f=r.padding||0,d=t.width/n-u-f*2,p=t.height/n-u-f*2,v=o.slice(),g=r.fillGradientStops.slice();if(!g.length)for(var _=v.length+1,b=1;b<_;++b)g.push(b/_);if(v.unshift(o[0]),g.unshift(0),v.push(o[o.length-1]),g.push(1),r.fillGradientType===fu.LINEAR_VERTICAL){a=e.createLinearGradient(d/2,f,d/2,p+f);for(var m=0,E=s.fontProperties.fontSize+r.strokeThickness,T=E/p,b=0;b<i.length;b++)for(var S=s.lineHeight*b,A=0;A<v.length;A++){var R=0;typeof g[A]=="number"?R=g[A]:R=A/v.length;var I=S/p+R*T,P=Math.max(m,I);P=Math.min(P,1),a.addColorStop(P,v[A]),m=P}}else{a=e.createLinearGradient(f,p/2,d+f,p/2);for(var k=v.length+1,N=1,b=0;b<v.length;b++){var B=void 0;typeof g[b]=="number"?B=g[b]:B=N/k,a.addColorStop(B,v[b]),N++}}return a}function ZL(t,e,r,n,i,s,o){var a=r.text,u=r.fontProperties;e.translate(n,i),e.scale(s,s);var f=o.strokeThickness/2,d=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=qL(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){var p=o.dropShadowColor,v=va(typeof p=="number"?p:ZT(p)),g=o.dropShadowBlur*s,_=o.dropShadowDistance*s;e.shadowColor="rgba("+v[0]*255+","+v[1]*255+","+v[2]*255+","+o.dropShadowAlpha+")",e.shadowBlur=g,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*_,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*_}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,f,d+r.lineHeight-u.descent),o.fill&&e.fillText(a,f,d+r.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Iw(t){return Array.from?Array.from(t):t.split("")}function QL(t){typeof t=="string"&&(t=[t]);for(var e=[],r=0,n=t.length;r<n;r++){var i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+i.length+".");var s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(var a=s,u=o;a<=u;a++)e.push(String.fromCharCode(a))}else e.push.apply(e,Iw(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}function Ff(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}var ki=function(){function t(e,r,n){var i,s,o=e.info[0],a=e.common[0],u=e.page[0],f=e.distanceField[0],d=Ec(u.file),p={};this._ownsTextures=n,this.font=o.face,this.size=o.size,this.lineHeight=a.lineHeight/d,this.chars={},this.pageTextures=p;for(var v=0;v<e.page.length;v++){var g=e.page[v],_=g.id,b=g.file;p[_]=r instanceof Array?r[v]:r[b],(f==null?void 0:f.fieldType)&&f.fieldType!=="none"&&(p[_].baseTexture.alphaMode=dn.NO_PREMULTIPLIED_ALPHA,p[_].baseTexture.mipmap=cn.OFF)}for(var v=0;v<e.char.length;v++){var m=e.char[v],_=m.id,E=m.page,T=e.char[v],S=T.x,A=T.y,R=T.width,I=T.height,P=T.xoffset,k=T.yoffset,N=T.xadvance;S/=d,A/=d,R/=d,I/=d,P/=d,k/=d,N/=d;var B=new Ne(S+p[E].frame.x/d,A+p[E].frame.y/d,R,I);this.chars[_]={xOffset:P,yOffset:k,xAdvance:N,kerning:{},texture:new ce(p[E].baseTexture,B),page:E}}for(var v=0;v<e.kerning.length;v++){var X=e.kerning[v],Z=X.first,Y=X.second,oe=X.amount;Z/=d,Y/=d,oe/=d,this.chars[Y]&&(this.chars[Y].kerning[Z]=oe)}this.distanceFieldRange=f==null?void 0:f.distanceRange,this.distanceFieldType=(s=(i=f==null?void 0:f.fieldType)===null||i===void 0?void 0:i.toLowerCase())!==null&&s!==void 0?s:"none"}return t.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},t.install=function(e,r,n){var i;if(e instanceof Rc)i=e;else{var s=Rw(e);if(!s)throw new Error("Unrecognized data format for font.");i=s.parse(e)}r instanceof ce&&(r=[r]);var o=new t(i,r,n);return t.available[o.font]=o,o},t.uninstall=function(e){var r=t.available[e];if(!r)throw new Error("No font found named '"+e+"'");r.destroy(),delete t.available[e]},t.from=function(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");var i=Object.assign({},t.defaultOptions,n),s=i.chars,o=i.padding,a=i.resolution,u=i.textureWidth,f=i.textureHeight,d=QL(s),p=r instanceof cr?r:new cr(r),v=u,g=new Rc;g.info[0]={face:p.fontFamily,size:p.fontSize},g.common[0]={lineHeight:p.fontSize};for(var _=0,b=0,m,E,T,S=0,A=[],R=0;R<d.length;R++){m||(m=K.ADAPTER.createCanvas(),m.width=u,m.height=f,E=m.getContext("2d"),T=new Oe(m,{resolution:a}),A.push(new ce(T)),g.page.push({id:A.length-1,file:""}));var I=d[R],P=Bn.measureText(I,p,!1,m),k=P.width,N=Math.ceil(P.height),B=Math.ceil((p.fontStyle==="italic"?2:1)*k);if(b>=f-N*a){if(b===0)throw new Error("[BitmapFont] textureHeight "+f+"px is too small "+("(fontFamily: '"+p.fontFamily+"', fontSize: "+p.fontSize+"px, char: '"+I+"')"));--R,m=null,E=null,T=null,b=0,_=0,S=0;continue}if(S=Math.max(N+P.fontProperties.descent,S),B*a+_>=v){if(_===0)throw new Error("[BitmapFont] textureWidth "+u+"px is too small "+("(fontFamily: '"+p.fontFamily+"', fontSize: "+p.fontSize+"px, char: '"+I+"')"));--R,b+=S*a,b=Math.ceil(b),_=0,S=0;continue}ZL(m,E,P,_,b,a,p);var X=Ff(P.text);g.char.push({id:X,page:A.length-1,x:_/a,y:b/a,width:B,height:N,xoffset:0,yoffset:0,xadvance:Math.ceil(k-(p.dropShadow?p.dropShadowDistance:0)-(p.stroke?p.strokeThickness:0))}),_+=(B+2*o)*a,_=Math.ceil(_)}for(var R=0,Z=d.length;R<Z;R++)for(var Y=d[R],oe=0;oe<Z;oe++){var $=d[oe],V=E.measureText(Y).width,ie=E.measureText($).width,Ae=E.measureText(Y+$).width,ve=Ae-(V+ie);ve&&g.kerning.push({first:Ff(Y),second:Ff($),amount:ve})}var j=new t(g,A,!0);return t.available[e]!==void 0&&t.uninstall(e),t.available[e]=j,j},t.ALPHA=[["a","z"],["A","Z"]," "],t.NUMERIC=[["0","9"]],t.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],t.ASCII=[[" ","~"]],t.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:t.ALPHANUMERIC},t.available={},t}(),KL=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,JL=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,Wx=[],Yx=[],qx=[],e3=function(t){$L(e,t);function e(r,n){n===void 0&&(n={});var i=t.call(this)||this;i._tint=16777215;var s=Object.assign({},e.styleDefaults,n),o=s.align,a=s.tint,u=s.maxWidth,f=s.letterSpacing,d=s.fontName,p=s.fontSize;if(!ki.available[d])throw new Error('Missing BitmapFont "'+d+'"');return i._activePagesMeshData=[],i._textWidth=0,i._textHeight=0,i._align=o,i._tint=a,i._font=void 0,i._fontName=d,i._fontSize=p,i.text=r,i._maxWidth=u,i._maxLineHeight=0,i._letterSpacing=f,i._anchor=new Xs(function(){i.dirty=!0},i,0,0),i._roundPixels=K.ROUND_PIXELS,i.dirty=!0,i._resolution=K.RESOLUTION,i._autoResolution=!0,i._textureCache={},i}return e.prototype.updateText=function(){for(var r,n=ki.available[this._fontName],i=this.fontSize,s=i/n.size,o=new Ke,a=[],u=[],f=[],d=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",p=Iw(d),v=this._maxWidth*n.size/i,g=n.distanceFieldType==="none"?Wx:Yx,_=null,b=0,m=0,E=0,T=-1,S=0,A=0,R=0,I=0,P=0;P<p.length;P++){var k=p[P],N=Ff(k);if(/(?:\s)/.test(k)&&(T=P,S=b,I++),k==="\r"||k===`
`){u.push(b),f.push(-1),m=Math.max(m,b),++E,++A,o.x=0,o.y+=n.lineHeight,_=null,I=0;continue}var B=n.chars[N];if(!!B){_&&B.kerning[_]&&(o.x+=B.kerning[_]);var X=qx.pop()||{texture:ce.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ke};X.texture=B.texture,X.line=E,X.charCode=N,X.position.x=o.x+B.xOffset+this._letterSpacing/2,X.position.y=o.y+B.yOffset,X.prevSpaces=I,a.push(X),b=X.position.x+Math.max(B.xAdvance-B.xOffset,B.texture.orig.width),o.x+=B.xAdvance+this._letterSpacing,R=Math.max(R,B.yOffset+B.texture.height),_=N,T!==-1&&v>0&&o.x>v&&(++A,oa(a,1+T-A,1+P-T),P=T,T=-1,u.push(S),f.push(a.length>0?a[a.length-1].prevSpaces:0),m=Math.max(m,S),E++,o.x=0,o.y+=n.lineHeight,_=null,I=0)}}var Z=p[p.length-1];Z!=="\r"&&Z!==`
`&&(/(?:\s)/.test(Z)&&(b=S),u.push(b),m=Math.max(m,b),f.push(-1));for(var Y=[],P=0;P<=E;P++){var oe=0;this._align==="right"?oe=m-u[P]:this._align==="center"?oe=(m-u[P])/2:this._align==="justify"&&(oe=f[P]<0?0:(m-u[P])/f[P]),Y.push(oe)}var $=a.length,V={},ie=[],Ae=this._activePagesMeshData;g.push.apply(g,Ae);for(var P=0;P<$;P++){var ve=a[P].texture,j=ve.baseTexture.uid;if(!V[j]){var M=g.pop();if(!M){var L=new od,z=void 0,H=void 0;n.distanceFieldType==="none"?(z=new du(ce.EMPTY),H=ae.NORMAL):(z=new du(ce.EMPTY,{program:Su.from(JL,KL),uniforms:{uFWidth:0}}),H=ae.NORMAL_NPM);var se=new cu(L,z);se.blendMode=H,M={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:se,vertices:null,uvs:null,indices:null}}M.index=0,M.indexCount=0,M.vertexCount=0,M.uvsCount=0,M.total=0;var pe=this._textureCache;pe[j]=pe[j]||new ce(ve.baseTexture),M.mesh.texture=pe[j],M.mesh.tint=this._tint,ie.push(M),V[j]=M}V[j].total++}for(var P=0;P<Ae.length;P++)ie.indexOf(Ae[P])===-1&&this.removeChild(Ae[P].mesh);for(var P=0;P<ie.length;P++)ie[P].mesh.parent!==this&&this.addChild(ie[P].mesh);this._activePagesMeshData=ie;for(var P in V){var M=V[P],Ee=M.total;if(!(((r=M.indices)===null||r===void 0?void 0:r.length)>6*Ee)||M.vertices.length<cu.BATCHABLE_SIZE*2)M.vertices=new Float32Array(4*2*Ee),M.uvs=new Float32Array(4*2*Ee),M.indices=new Uint16Array(6*Ee);else for(var Ie=M.total,Me=M.vertices,Ue=Ie*4*2;Ue<Me.length;Ue++)Me[Ue]=0;M.mesh.size=6*Ee}for(var P=0;P<$;P++){var k=a[P],Le=k.position.x+Y[k.line]*(this._align==="justify"?k.prevSpaces:1);this._roundPixels&&(Le=Math.round(Le));var Fe=Le*s,Ce=k.position.y*s,ve=k.texture,Se=V[ve.baseTexture.uid],Ye=ve.frame,rr=ve._uvs,ke=Se.index++;Se.indices[ke*6+0]=0+ke*4,Se.indices[ke*6+1]=1+ke*4,Se.indices[ke*6+2]=2+ke*4,Se.indices[ke*6+3]=0+ke*4,Se.indices[ke*6+4]=2+ke*4,Se.indices[ke*6+5]=3+ke*4,Se.vertices[ke*8+0]=Fe,Se.vertices[ke*8+1]=Ce,Se.vertices[ke*8+2]=Fe+Ye.width*s,Se.vertices[ke*8+3]=Ce,Se.vertices[ke*8+4]=Fe+Ye.width*s,Se.vertices[ke*8+5]=Ce+Ye.height*s,Se.vertices[ke*8+6]=Fe,Se.vertices[ke*8+7]=Ce+Ye.height*s,Se.uvs[ke*8+0]=rr.x0,Se.uvs[ke*8+1]=rr.y0,Se.uvs[ke*8+2]=rr.x1,Se.uvs[ke*8+3]=rr.y1,Se.uvs[ke*8+4]=rr.x2,Se.uvs[ke*8+5]=rr.y2,Se.uvs[ke*8+6]=rr.x3,Se.uvs[ke*8+7]=rr.y3}this._textWidth=m*s,this._textHeight=(o.y+n.lineHeight)*s;for(var P in V){var M=V[P];if(this.anchor.x!==0||this.anchor.y!==0)for(var gr=0,Un=this._textWidth*this.anchor.x,fo=this._textHeight*this.anchor.y,Pu=0;Pu<M.total;Pu++)M.vertices[gr++]-=Un,M.vertices[gr++]-=fo,M.vertices[gr++]-=Un,M.vertices[gr++]-=fo,M.vertices[gr++]-=Un,M.vertices[gr++]-=fo,M.vertices[gr++]-=Un,M.vertices[gr++]-=fo;this._maxLineHeight=R*s;var gi=M.mesh.geometry.getBuffer("aVertexPosition"),Ou=M.mesh.geometry.getBuffer("aTextureCoord"),Nu=M.mesh.geometry.getIndex();gi.data=M.vertices,Ou.data=M.uvs,Nu.data=M.indices,gi.update(),Ou.update(),Nu.update()}for(var P=0;P<a.length;P++)qx.push(a[P]);this._font=n,this.dirty=!1},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype._render=function(r){this._autoResolution&&this._resolution!==r.resolution&&(this._resolution=r.resolution,this.dirty=!0);var n=ki.available[this._fontName],i=n.distanceFieldRange,s=n.distanceFieldType,o=n.size;if(s!=="none")for(var a=this.worldTransform,u=a.a,f=a.b,d=a.c,p=a.d,v=Math.sqrt(u*u+f*f),g=Math.sqrt(d*d+p*p),_=(Math.abs(v)+Math.abs(g))/2,b=this.fontSize/o,m=0,E=this._activePagesMeshData;m<E.length;m++){var T=E[m];T.mesh.shader.uniforms.uFWidth=_*i*b*this._resolution}t.prototype._render.call(this,r)},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){var r=ki.available[this._fontName];if(!r)throw new Error('Missing BitmapFont "'+this._fontName+'"');this._font!==r&&(this.dirty=!0),this.dirty&&this.updateText()},Object.defineProperty(e.prototype,"tint",{get:function(){return this._tint},set:function(r){if(this._tint!==r){this._tint=r;for(var n=0;n<this._activePagesMeshData.length;n++)this._activePagesMeshData[n].mesh.tint=r}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(r){this._align!==r&&(this._align=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},set:function(r){if(!ki.available[r])throw new Error('Missing BitmapFont "'+r+'"');this._fontName!==r&&(this._fontName=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){var r;return(r=this._fontSize)!==null&&r!==void 0?r:ki.available[this._fontName].size},set:function(r){this._fontSize!==r&&(this._fontSize=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"anchor",{get:function(){return this._anchor},set:function(r){typeof r=="number"?this._anchor.set(r):this._anchor.copyFrom(r)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(r){r=String(r==null?"":r),this._text!==r&&(this._text=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(r){this._maxWidth!==r&&(this._maxWidth=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(r){this._letterSpacing!==r&&(this._letterSpacing=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(r){r!==this._roundPixels&&(this._roundPixels=r,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resolution",{get:function(){return this._resolution},set:function(r){this._autoResolution=!1,this._resolution!==r&&(this._resolution=r,this.dirty=!0)},enumerable:!1,configurable:!0}),e.prototype.destroy=function(r){var n=this._textureCache,i=ki.available[this._fontName],s=i.distanceFieldType==="none"?Wx:Yx;s.push.apply(s,this._activePagesMeshData);for(var o=0,a=this._activePagesMeshData;o<a.length;o++){var u=a[o];this.removeChild(u.mesh)}this._activePagesMeshData=[],s.filter(function(p){return n[p.mesh.texture.baseTexture.uid]}).forEach(function(p){p.mesh.texture=ce.EMPTY});for(var f in n){var d=n[f];d.destroy(),delete n[f]}this._font=null,this._textureCache=null,t.prototype.destroy.call(this,r)},e.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},e}(Dt),t3=function(){function t(){}return t.add=function(){_t.setExtensionXhrType("fnt",_t.XHR_RESPONSE_TYPE.TEXT)},t.use=function(e,r){var n=Rw(e.data);if(!n){r();return}for(var i=t.getBaseUrl(this,e),s=n.parse(e.data),o={},a=function(b){o[b.metadata.pageFile]=b.texture,Object.keys(o).length===s.page.length&&(e.bitmapFont=ki.install(s,o,!0),r())},u=0;u<s.page.length;++u){var f=s.page[u].file,d=i+f,p=!1;for(var v in this.resources){var g=this.resources[v];if(g.url===d){g.metadata.pageFile=f,g.texture?a(g):g.onAfterMiddleware.add(a),p=!0;break}}if(!p){var _={crossOrigin:e.crossOrigin,loadType:_t.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:f},e.metadata.imageMetadata),parentResource:e};this.add(d,_,a)}}},t.getBaseUrl=function(e,r){var n=r.isDataUrl?"":t.dirname(r.url);return r.isDataUrl&&(n==="."&&(n=""),e.baseUrl&&n&&e.baseUrl.charAt(e.baseUrl.length-1)==="/"&&(n+="/")),n=n.replace(e.baseUrl,""),n&&n.charAt(n.length-1)!=="/"&&(n+="/"),n},t.dirname=function(e){var r=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return r===e?".":r===""?"/":r},t.extension=We.Loader,t}();/*!
 * @pixi/filter-alpha - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/filter-alpha is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var lg=function(t,e){return lg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},lg(t,e)};function r3(t,e){lg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var n3=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;(function(t){r3(e,t);function e(r){r===void 0&&(r=1);var n=t.call(this,qM,n3,{uAlpha:1})||this;return n.alpha=r,n}return Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e})(fs);/*!
 * @pixi/filter-blur - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/filter-blur is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var ug=function(t,e){return ug=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},ug(t,e)};function Pw(t,e){ug(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var i3=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function s3(t,e){var r=Math.ceil(t/2),n=i3,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<t;o++){var a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",o-(r-1)+".0"),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var o3={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},a3=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function l3(t){for(var e=o3[t],r=e.length,n=a3,i="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",o,a=0;a<t;a++){var u=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}var Zx=function(t){Pw(e,t);function e(r,n,i,s,o){n===void 0&&(n=8),i===void 0&&(i=4),s===void 0&&(s=K.FILTER_RESOLUTION),o===void 0&&(o=5);var a=this,u=s3(o,r),f=l3(o);return a=t.call(this,u,f)||this,a.horizontal=r,a.resolution=s,a._quality=0,a.quality=i,a.blur=n,a}return e.prototype.apply=function(r,n,i,s){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/n.width):this.uniforms.strength=1/i.height*(i.height/n.height):this.horizontal?this.uniforms.strength=1/r.renderer.width*(r.renderer.width/n.width):this.uniforms.strength=1/r.renderer.height*(r.renderer.height/n.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)r.applyFilter(this,n,i,s);else{var o=r.getFilterTexture(),a=r.renderer,u=n,f=o;this.state.blend=!1,r.applyFilter(this,u,f,on.CLEAR);for(var d=1;d<this.passes-1;d++){r.bindAndClear(u,on.BLIT),this.uniforms.uSampler=f;var p=f;f=u,u=p,a.shader.bind(this),a.geometry.draw(5)}this.state.blend=!0,r.applyFilter(this,f,i,s),r.returnFilterTexture(o)}},Object.defineProperty(e.prototype,"blur",{get:function(){return this.strength},set:function(r){this.padding=1+Math.abs(r)*2,this.strength=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this._quality},set:function(r){this._quality=r,this.passes=r},enumerable:!1,configurable:!0}),e}(fs);(function(t){Pw(e,t);function e(r,n,i,s){r===void 0&&(r=8),n===void 0&&(n=4),i===void 0&&(i=K.FILTER_RESOLUTION),s===void 0&&(s=5);var o=t.call(this)||this;return o.blurXFilter=new Zx(!0,r,n,i,s),o.blurYFilter=new Zx(!1,r,n,i,s),o.resolution=i,o.quality=n,o.blur=r,o.repeatEdgePixels=!1,o}return e.prototype.apply=function(r,n,i,s){var o=Math.abs(this.blurXFilter.strength),a=Math.abs(this.blurYFilter.strength);if(o&&a){var u=r.getFilterTexture();this.blurXFilter.apply(r,n,u,on.CLEAR),this.blurYFilter.apply(r,u,i,s),r.returnFilterTexture(u)}else a?this.blurYFilter.apply(r,n,i,s):this.blurXFilter.apply(r,n,i,s)},e.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2},Object.defineProperty(e.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(r){this.blurXFilter.quality=this.blurYFilter.quality=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(r){this.blurXFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(r){this.blurYFilter.blur=r,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(r){this.blurYFilter.blendMode=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(r){this._repeatEdgePixels=r,this.updatePadding()},enumerable:!1,configurable:!0}),e})(fs);/*!
 * @pixi/filter-color-matrix - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/filter-color-matrix is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var hg=function(t,e){return hg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},hg(t,e)};function u3(t,e){hg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var h3=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,Qx=function(t){u3(e,t);function e(){var r=this,n={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return r=t.call(this,gw,h3,n)||this,r.alpha=1,r}return e.prototype._loadMatrix=function(r,n){n===void 0&&(n=!1);var i=r;n&&(this._multiply(i,this.uniforms.m,r),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(r,n,i){return r[0]=n[0]*i[0]+n[1]*i[5]+n[2]*i[10]+n[3]*i[15],r[1]=n[0]*i[1]+n[1]*i[6]+n[2]*i[11]+n[3]*i[16],r[2]=n[0]*i[2]+n[1]*i[7]+n[2]*i[12]+n[3]*i[17],r[3]=n[0]*i[3]+n[1]*i[8]+n[2]*i[13]+n[3]*i[18],r[4]=n[0]*i[4]+n[1]*i[9]+n[2]*i[14]+n[3]*i[19]+n[4],r[5]=n[5]*i[0]+n[6]*i[5]+n[7]*i[10]+n[8]*i[15],r[6]=n[5]*i[1]+n[6]*i[6]+n[7]*i[11]+n[8]*i[16],r[7]=n[5]*i[2]+n[6]*i[7]+n[7]*i[12]+n[8]*i[17],r[8]=n[5]*i[3]+n[6]*i[8]+n[7]*i[13]+n[8]*i[18],r[9]=n[5]*i[4]+n[6]*i[9]+n[7]*i[14]+n[8]*i[19]+n[9],r[10]=n[10]*i[0]+n[11]*i[5]+n[12]*i[10]+n[13]*i[15],r[11]=n[10]*i[1]+n[11]*i[6]+n[12]*i[11]+n[13]*i[16],r[12]=n[10]*i[2]+n[11]*i[7]+n[12]*i[12]+n[13]*i[17],r[13]=n[10]*i[3]+n[11]*i[8]+n[12]*i[13]+n[13]*i[18],r[14]=n[10]*i[4]+n[11]*i[9]+n[12]*i[14]+n[13]*i[19]+n[14],r[15]=n[15]*i[0]+n[16]*i[5]+n[17]*i[10]+n[18]*i[15],r[16]=n[15]*i[1]+n[16]*i[6]+n[17]*i[11]+n[18]*i[16],r[17]=n[15]*i[2]+n[16]*i[7]+n[17]*i[12]+n[18]*i[17],r[18]=n[15]*i[3]+n[16]*i[8]+n[17]*i[13]+n[18]*i[18],r[19]=n[15]*i[4]+n[16]*i[9]+n[17]*i[14]+n[18]*i[19]+n[19],r},e.prototype._colorMatrix=function(r){var n=new Float32Array(r);return n[4]/=255,n[9]/=255,n[14]/=255,n[19]/=255,n},e.prototype.brightness=function(r,n){var i=[r,0,0,0,0,0,r,0,0,0,0,0,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.tint=function(r,n){var i=r>>16&255,s=r>>8&255,o=r&255,a=[i/255,0,0,0,0,0,s/255,0,0,0,0,0,o/255,0,0,0,0,0,1,0];this._loadMatrix(a,n)},e.prototype.greyscale=function(r,n){var i=[r,r,r,0,0,r,r,r,0,0,r,r,r,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.blackAndWhite=function(r){var n=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.hue=function(r,n){r=(r||0)/180*Math.PI;var i=Math.cos(r),s=Math.sin(r),o=Math.sqrt,a=1/3,u=o(a),f=i+(1-i)*a,d=a*(1-i)-u*s,p=a*(1-i)+u*s,v=a*(1-i)+u*s,g=i+a*(1-i),_=a*(1-i)-u*s,b=a*(1-i)-u*s,m=a*(1-i)+u*s,E=i+a*(1-i),T=[f,d,p,0,0,v,g,_,0,0,b,m,E,0,0,0,0,0,1,0];this._loadMatrix(T,n)},e.prototype.contrast=function(r,n){var i=(r||0)+1,s=-.5*(i-1),o=[i,0,0,0,s,0,i,0,0,s,0,0,i,0,s,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.saturate=function(r,n){r===void 0&&(r=0);var i=r*2/3+1,s=(i-1)*-.5,o=[i,s,s,0,0,s,i,s,0,0,s,s,i,0,0,0,0,0,1,0];this._loadMatrix(o,n)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(r){var n=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.sepia=function(r){var n=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.technicolor=function(r){var n=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.polaroid=function(r){var n=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.toBGR=function(r){var n=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.kodachrome=function(r){var n=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.browni=function(r){var n=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.vintage=function(r){var n=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.colorTone=function(r,n,i,s,o){r=r||.2,n=n||.15,i=i||16770432,s=s||3375104;var a=(i>>16&255)/255,u=(i>>8&255)/255,f=(i&255)/255,d=(s>>16&255)/255,p=(s>>8&255)/255,v=(s&255)/255,g=[.3,.59,.11,0,0,a,u,f,r,0,d,p,v,n,0,a-d,u-p,f-v,0,0];this._loadMatrix(g,o)},e.prototype.night=function(r,n){r=r||.1;var i=[r*-2,-r,0,0,0,-r,0,r,0,0,0,r,r*2,0,0,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.predator=function(r,n){var i=[11.224130630493164*r,-4.794486999511719*r,-2.8746118545532227*r,0*r,.40342438220977783*r,-3.6330697536468506*r,9.193157196044922*r,-2.951810836791992*r,0*r,-1.316135048866272*r,-3.2184197902679443*r,-4.2375030517578125*r,7.476448059082031*r,0*r,.8044459223747253*r,0,0,0,1,0];this._loadMatrix(i,n)},e.prototype.lsd=function(r){var n=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(n,r)},e.prototype.reset=function(){var r=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(r,!1)},Object.defineProperty(e.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(r){this.uniforms.m=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(r){this.uniforms.uAlpha=r},enumerable:!1,configurable:!0}),e}(fs);Qx.prototype.grayscale=Qx.prototype.greyscale;/*!
 * @pixi/filter-displacement - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/filter-displacement is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var fg=function(t,e){return fg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},fg(t,e)};function f3(t,e){fg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var c3=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,d3=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;(function(t){f3(e,t);function e(r,n){var i=this,s=new kt;return r.renderable=!1,i=t.call(this,d3,c3,{mapSampler:r._texture,filterMatrix:s,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this,i.maskSprite=r,i.maskMatrix=s,n==null&&(n=20),i.scale=new Ke(n,n),i}return e.prototype.apply=function(r,n,i,s){this.uniforms.filterMatrix=r.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var o=this.maskSprite.worldTransform,a=Math.sqrt(o.a*o.a+o.b*o.b),u=Math.sqrt(o.c*o.c+o.d*o.d);a!==0&&u!==0&&(this.uniforms.rotation[0]=o.a/a,this.uniforms.rotation[1]=o.b/a,this.uniforms.rotation[2]=o.c/u,this.uniforms.rotation[3]=o.d/u),r.applyFilter(this,n,i,s)},Object.defineProperty(e.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(r){this.uniforms.mapSampler=r},enumerable:!1,configurable:!0}),e})(fs);/*!
 * @pixi/filter-fxaa - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/filter-fxaa is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var cg=function(t,e){return cg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},cg(t,e)};function p3(t,e){cg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var v3=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,m3=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`;(function(t){p3(e,t);function e(){return t.call(this,v3,m3)||this}return e})(fs);/*!
 * @pixi/filter-noise - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/filter-noise is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var dg=function(t,e){return dg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},dg(t,e)};function g3(t,e){dg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var y3=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;(function(t){g3(e,t);function e(r,n){r===void 0&&(r=.5),n===void 0&&(n=Math.random());var i=t.call(this,gw,y3,{uNoise:0,uSeed:0})||this;return i.noise=r,i.seed=n,i}return Object.defineProperty(e.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(r){this.uniforms.uNoise=r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(r){this.uniforms.uSeed=r},enumerable:!1,configurable:!0}),e})(fs);/*!
 * @pixi/mixin-cache-as-bitmap - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/mixin-cache-as-bitmap is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var Ow=new kt;bt.prototype._cacheAsBitmap=!1;bt.prototype._cacheData=null;bt.prototype._cacheAsBitmapResolution=null;bt.prototype._cacheAsBitmapMultisample=gt.NONE;var _3=function(){function t(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return t}();Object.defineProperties(bt.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e;t?(this._cacheData||(this._cacheData=new _3),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}});bt.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))};bt.prototype._initCachedDisplayObject=function(e){var r;if(!(this._cacheData&&this._cacheData.sprite)){var n=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var s=this.filters[0].padding;i.pad(s)}i.ceil(K.RESOLUTION);var o=e.renderTexture.current,a=e.renderTexture.sourceFrame.clone(),u=e.renderTexture.destinationFrame.clone(),f=e.projection.transform,d=ro.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(r=this.cacheAsBitmapMultisample)!==null&&r!==void 0?r:e.multisample}),p="cacheAsBitmap_"+to();this._cacheData.textureCacheId=p,Oe.addToCache(d.baseTexture,p),ce.addToCache(d,p);var v=this.transform.localTransform.copyTo(Ow).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:d,clear:!0,transform:v,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=f,e.renderTexture.bind(o,a,u),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var g=new it(d);g.transform.worldTransform=this.transform.worldTransform,g.anchor.x=-(i.x/i.width),g.anchor.y=-(i.y/i.height),g.alpha=n,g._bounds=this._bounds,this._cacheData.sprite=g,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=g.containsPoint.bind(g)}};bt.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))};bt.prototype._initCachedDisplayObjectCanvas=function(e){if(!(this._cacheData&&this._cacheData.sprite)){var r=this.getLocalBounds(null,!0),n=this.alpha;this.alpha=1;var i=e.context,s=e._projTransform;r.ceil(K.RESOLUTION);var o=ro.create({width:r.width,height:r.height}),a="cacheAsBitmap_"+to();this._cacheData.textureCacheId=a,Oe.addToCache(o.baseTexture,a),ce.addToCache(o,a);var u=Ow;this.transform.localTransform.copyTo(u),u.invert(),u.tx-=r.x,u.ty-=r.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:o,clear:!0,transform:u,skipUpdateTransform:!1}),e.context=i,e._projTransform=s,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=n;var f=new it(o);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=n,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=f.containsPoint.bind(f)}};bt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};bt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};bt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Oe.removeFromCache(this._cacheData.textureCacheId),ce.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};bt.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)};/*!
 * @pixi/mixin-get-child-by-name - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/mixin-get-child-by-name is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */bt.prototype.name=null;Dt.prototype.getChildByName=function(e,r){for(var n=0,i=this.children.length;n<i;n++)if(this.children[n].name===e)return this.children[n];if(r)for(var n=0,i=this.children.length;n<i;n++){var s=this.children[n];if(!!s.getChildByName){var o=s.getChildByName(e,!0);if(o)return o}}return null};/*!
 * @pixi/mixin-get-global-position - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/mixin-get-global-position is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */bt.prototype.getGlobalPosition=function(e,r){return e===void 0&&(e=new Ke),r===void 0&&(r=!1),this.parent?this.parent.toGlobal(this.position,e,r):(e.x=this.position.x,e.y=this.position.y),e};/*!
 * @pixi/app - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/app is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */var x3=function(){function t(){}return t.init=function(e){var r=this;Object.defineProperty(this,"resizeTo",{set:function(n){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=n,n&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){!r._resizeTo||(r.cancelResize(),r._resizeId=requestAnimationFrame(function(){return r.resize()}))},this.cancelResize=function(){r._resizeId&&(cancelAnimationFrame(r._resizeId),r._resizeId=null)},this.resize=function(){if(!!r._resizeTo){r.cancelResize();var n,i;if(r._resizeTo===globalThis.window)n=globalThis.innerWidth,i=globalThis.innerHeight;else{var s=r._resizeTo,o=s.clientWidth,a=s.clientHeight;n=o,i=a}r.renderer.resize(n,i)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},t.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},t.extension=We.Application,t}(),ad=function(){function t(e){var r=this;this.stage=new Dt,e=Object.assign({forceCanvas:!1},e),this.renderer=$M(e),t._plugins.forEach(function(n){n.init.call(r,e)})}return t.registerPlugin=function(e){hn("6.5.0","Application.registerPlugin() is deprecated, use extensions.add()"),mi.add({type:We.Application,ref:e})},t.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(t.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),t.prototype.destroy=function(e,r){var n=this,i=t._plugins.slice(0);i.reverse(),i.forEach(function(s){s.destroy.call(n)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null},t._plugins=[],t}();mi.handleByList(We.Application,ad._plugins);mi.add(x3);/*!
 * @pixi/mesh-extras - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/mesh-extras is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var pg=function(t,e){return pg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},pg(t,e)};function Ta(t,e){pg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var b3=function(t){Ta(e,t);function e(r,n,i,s){r===void 0&&(r=100),n===void 0&&(n=100),i===void 0&&(i=10),s===void 0&&(s=10);var o=t.call(this)||this;return o.segWidth=i,o.segHeight=s,o.width=r,o.height=n,o.build(),o}return e.prototype.build=function(){for(var r=this.segWidth*this.segHeight,n=[],i=[],s=[],o=this.segWidth-1,a=this.segHeight-1,u=this.width/o,f=this.height/a,d=0;d<r;d++){var p=d%this.segWidth,v=d/this.segWidth|0;n.push(p*u,v*f),i.push(p/o,v/a)}for(var g=o*a,d=0;d<g;d++){var _=d%o,b=d/o|0,m=b*this.segWidth+_,E=b*this.segWidth+_+1,T=(b+1)*this.segWidth+_,S=(b+1)*this.segWidth+_+1;s.push(m,E,T,E,S,T)}this.buffers[0].data=new Float32Array(n),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(s),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},e}(od),E3=function(t){Ta(e,t);function e(r,n,i){r===void 0&&(r=200),i===void 0&&(i=0);var s=t.call(this,new Float32Array(n.length*4),new Float32Array(n.length*4),new Uint16Array((n.length-1)*6))||this;return s.points=n,s._width=r,s.textureScale=i,s.build(),s}return Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),e.prototype.build=function(){var r=this.points;if(!!r){var n=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),s=this.getIndex();if(!(r.length<1)){n.data.length/4!==r.length&&(n.data=new Float32Array(r.length*4),i.data=new Float32Array(r.length*4),s.data=new Uint16Array((r.length-1)*6));var o=i.data,a=s.data;o[0]=0,o[1]=0,o[2]=0,o[3]=1;for(var u=0,f=r[0],d=this._width*this.textureScale,p=r.length,v=0;v<p;v++){var g=v*4;if(this.textureScale>0){var _=f.x-r[v].x,b=f.y-r[v].y,m=Math.sqrt(_*_+b*b);f=r[v],u+=m/d}else u=v/(p-1);o[g]=u,o[g+1]=0,o[g+2]=u,o[g+3]=1}for(var E=0,v=0;v<p-1;v++){var g=v*2;a[E++]=g,a[E++]=g+1,a[E++]=g+2,a[E++]=g+2,a[E++]=g+1,a[E++]=g+3}i.update(),s.update(),this.updateVertices()}}},e.prototype.updateVertices=function(){var r=this.points;if(!(r.length<1)){for(var n=r[0],i,s=0,o=0,a=this.buffers[0].data,u=r.length,f=0;f<u;f++){var d=r[f],p=f*4;f<r.length-1?i=r[f+1]:i=d,o=-(i.x-n.x),s=i.y-n.y;var v=Math.sqrt(s*s+o*o),g=this.textureScale>0?this.textureScale*this._width/2:this._width/2;s/=v,o/=v,s*=g,o*=g,a[p]=d.x+s,a[p+1]=d.y+o,a[p+2]=d.x-s,a[p+3]=d.y-o,n=d}this.buffers[0].update()}},e.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},e}(od),T3=function(t){Ta(e,t);function e(r,n,i){i===void 0&&(i=0);var s=this,o=new E3(r.height,n,i),a=new du(r);return i>0&&(r.baseTexture.wrapMode=Mn.REPEAT),s=t.call(this,o,a)||this,s.autoUpdate=!0,s}return e.prototype._render=function(r){var n=this.geometry;(this.autoUpdate||n._width!==this.shader.texture.height)&&(n._width=this.shader.texture.height,n.update()),t.prototype._render.call(this,r)},e}(cu),w3=function(t){Ta(e,t);function e(r,n,i){var s=this,o=new b3(r.width,r.height,n,i),a=new du(ce.WHITE);return s=t.call(this,o,a)||this,s.texture=r,s.autoResize=!0,s}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var r=this.geometry,n=this.shader.texture,i=n.width,s=n.height;this.autoResize&&(r.width!==i||r.height!==s)&&(r.width=this.shader.texture.width,r.height=this.shader.texture.height,r.build())},Object.defineProperty(e.prototype,"texture",{get:function(){return this.shader.texture},set:function(r){this.shader.texture!==r&&(this.shader.texture=r,this._textureID=-1,r.baseTexture.valid?this.textureUpdated():r.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),t.prototype._render.call(this,r)},e.prototype.destroy=function(r){this.shader.texture.off("update",this.textureUpdated,this),t.prototype.destroy.call(this,r)},e}(cu),S3=function(t){Ta(e,t);function e(r,n,i,s,o){r===void 0&&(r=ce.EMPTY);var a=this,u=new od(n,i,s);u.getBuffer("aVertexPosition").static=!1;var f=new du(r);return a=t.call(this,u,f,null,o)||this,a.autoUpdate=!0,a}return Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype._render=function(r){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),t.prototype._render.call(this,r)},e}(cu),of=10,A3=function(t){Ta(e,t);function e(r,n,i,s,o){n===void 0&&(n=of),i===void 0&&(i=of),s===void 0&&(s=of),o===void 0&&(o=of);var a=t.call(this,ce.WHITE,4,4)||this;return a._origWidth=r.orig.width,a._origHeight=r.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=n,a._rightWidth=s,a._topHeight=i,a._bottomHeight=o,a.texture=r,a}return e.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(e.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(r){this.geometry.getBuffer("aVertexPosition").data=r},enumerable:!1,configurable:!0}),e.prototype.updateHorizontalVertices=function(){var r=this.vertices,n=this._getMinScale();r[9]=r[11]=r[13]=r[15]=this._topHeight*n,r[17]=r[19]=r[21]=r[23]=this._height-this._bottomHeight*n,r[25]=r[27]=r[29]=r[31]=this._height},e.prototype.updateVerticalVertices=function(){var r=this.vertices,n=this._getMinScale();r[2]=r[10]=r[18]=r[26]=this._leftWidth*n,r[4]=r[12]=r[20]=r[28]=this._width-this._rightWidth*n,r[6]=r[14]=r[22]=r[30]=this._width},e.prototype._getMinScale=function(){var r=this._leftWidth+this._rightWidth,n=this._width>r?1:this._width/r,i=this._topHeight+this._bottomHeight,s=this._height>i?1:this._height/i,o=Math.min(n,s);return o},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},set:function(r){this._width=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},set:function(r){this._height=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(r){this._leftWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(r){this._rightWidth=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"topHeight",{get:function(){return this._topHeight},set:function(r){this._topHeight=r,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(r){this._bottomHeight=r,this._refresh()},enumerable:!1,configurable:!0}),e.prototype._refresh=function(){var r=this.texture,n=this.geometry.buffers[1].data;this._origWidth=r.orig.width,this._origHeight=r.orig.height;var i=1/this._origWidth,s=1/this._origHeight;n[0]=n[8]=n[16]=n[24]=0,n[1]=n[3]=n[5]=n[7]=0,n[6]=n[14]=n[22]=n[30]=1,n[25]=n[27]=n[29]=n[31]=1,n[2]=n[10]=n[18]=n[26]=i*this._leftWidth,n[4]=n[12]=n[20]=n[28]=1-i*this._rightWidth,n[9]=n[11]=n[13]=n[15]=s*this._topHeight,n[17]=n[19]=n[21]=n[23]=1-s*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},e}(w3);/*!
 * @pixi/sprite-animated - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * @pixi/sprite-animated is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var vg=function(t,e){return vg=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},vg(t,e)};function C3(t,e){vg(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Kx=function(t){C3(e,t);function e(r,n){n===void 0&&(n=!0);var i=t.call(this,r[0]instanceof ce?r[0]:r[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=n,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=r,i}return e.prototype.stop=function(){!this._playing||(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(zt.shared.remove(this.update,this),this._isConnectedToTicker=!1))},e.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(zt.shared.add(this.update,this,pi.HIGH),this._isConnectedToTicker=!0))},e.prototype.gotoAndStop=function(r){this.stop();var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(r){var n=this.currentFrame;this._currentTime=r,n!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(r){if(!!this._playing){var n=this.animationSpeed*r,i=this.currentFrame;if(this._durations!==null){var s=this._currentTime%1*this._durations[this.currentFrame];for(s+=n/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];var o=Math.sign(this.animationSpeed*r);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*o,this._currentTime+=o;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=n;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())}},e.prototype.updateTexture=function(){var r=this.currentFrame;this._previousFrame!==r&&(this._previousFrame=r,this._texture=this._textures[r],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},e.prototype.destroy=function(r){this.stop(),t.prototype.destroy.call(this,r),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},e.fromFrames=function(r){for(var n=[],i=0;i<r.length;++i)n.push(ce.from(r[i]));return new e(n)},e.fromImages=function(r){for(var n=[],i=0;i<r.length;++i)n.push(ce.from(r[i]));return new e(n)},Object.defineProperty(e.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textures",{get:function(){return this._textures},set:function(r){if(r[0]instanceof ce)this._textures=r,this._durations=null;else{this._textures=[],this._durations=[];for(var n=0;n<r.length;n++)this._textures.push(r[n].texture),this._durations.push(r[n].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentFrame",{get:function(){var r=Math.floor(this._currentTime)%this._textures.length;return r<0&&(r+=this._textures.length),r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(r){r!==this._autoUpdate&&(this._autoUpdate=r,!this._autoUpdate&&this._isConnectedToTicker?(zt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(zt.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),e}(it);/*!
 * pixi.js - v6.5.8
 * Compiled Sun, 23 Oct 2022 23:01:45 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */mi.add(oF,cF,fF,sL,FL,_w,jL,t3,IF,eL,tL,kL,wN,xF);function Jx(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jx(Object(r),!0).forEach(function(n){Gt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jx(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function as(t){return(as=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function R3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gt(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ld(){return(ld=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function mg(t){return(mg=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function B0(t,e){return(B0=Object.setPrototypeOf||function(r,n){return r.__proto__=n,r})(t,e)}function Nw(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Mw(t,e,r){return(Mw=Nw()?Reflect.construct:function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&B0(a,s.prototype),a}).apply(null,arguments)}function Di(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var u,f,d={},p=Object.keys(o);for(f=0;f<p.length;f++)u=p[f],a.indexOf(u)>=0||(d[u]=o[u]);return d}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ei(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P3(t,e){return!e||typeof e!="object"&&typeof e!="function"?ei(t):e}function vi(t){return function(e){if(Array.isArray(e))return Tv(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(!!e){if(typeof e=="string")return Tv(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tv(e,r)}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Tv(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ot(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var O3=function(t){return t==null};function wl(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=vi(t);else{if(t===null||as(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!O3(r)&&!isNaN(r)}).map(Number)}function eb(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function wv(t){return t instanceof Ke||t instanceof Xs}var Ic=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Sv(t,e,r){if(wv(t[e])&&wv(r))t[e].copyFrom(r);else if(wv(t[e])){var n=wl(r);Ot(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),as(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Oo,Fw=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},Lw=function(t){return function(){return!t.apply(void 0,arguments)}},N3=(Gt(Oo={},"children",!0),Gt(Oo,"parent",!0),Gt(Oo,"worldAlpha",!0),Gt(Oo,"worldTransform",!0),Gt(Oo,"worldVisible",!0),Oo),gg={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},_n=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var u,f;a==null||(u=a.__reactpixi)===null||u===void 0||(f=u.root)===null||f===void 0||f.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,u){if(r.hasOwnProperty(a))return Ot(u.typeofs.some(function(f){return as(r[a])===f})||u.instanceofs.some(function(f){return r[a]instanceof f}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return Ot(r.texture instanceof ce,"".concat(t," texture needs to be typeof `PIXI.Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ce]});Ot(!!s,"".concat(t," could not get texture from props"));var o=ce.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},M3=Lw(Fw([].concat(vi(Object.keys(N3)),vi(Ic))));function bn(t,e,r){var n=!1;if(Ot(bt.prototype.isPrototypeOf(t),"instance needs to be typeof `PIXI.DisplayObject`, got `%s`",as(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<Ic.length;o++){var a=Ic[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var u=Object.keys(r||{});if(!r.overwriteProps){for(var f=u.filter(M3),d=0;d<f.length;d++){var p=f[d],v=r[p];r[p]!==e[p]&&(n=!0),v!==void 0?Sv(t,p,v):p in gg?(console.warn("setting default value: ".concat(p,", from: ").concat(t[p]," to: ").concat(v," for"),t),n=!0,Sv(t,p,gg[p])):console.warn("ignoring prop: ".concat(p,", from ").concat(t[p]," to ").concat(v," for"),t)}return n}for(var g=0;g<u.length;g++){var _=u[g];e[_]!==r[_]&&(n=!0,Sv(t,_,r[_]))}}var F3=["draw","geometry"],L3=["image","texture"],k3=["image","texture"],D3=["textures","isPlaying","initialFrame"],B3=["tileScale","tilePosition","image","texture"],U3=["image","texture"],G3=["image","texture"],z3=Object.freeze({__proto__:null,BitmapText:function(t,e){var r=e.text,n=e.style;return new e3(r,n)},Container:function(){return new Dt},Graphics:function(t,e){var r=e.geometry;Ot(!r||r instanceof fi,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new fi(r.geometry):new fi;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var u=bn(i,s,Di(o,F3));return s.draw!==a&&typeof a=="function"&&(u=!0,a.call(n,n)),u},n},NineSlicePlane:function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,u=e.bottomHeight,f=u===void 0?10:u,d=_n("NineSlicePlane",t,e),p=new A3(d,n,s,a,f);return p.applyProps=function(v,g,_){var b=_.image,m=_.texture,E=bn(v,g,Di(_,L3));return(b||m)&&(m!==g.texture&&(E=!0),v.texture=_n("NineSlicePlane",t,_)),E},p},ParticleContainer:function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,u=wr(wr({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),f=wr(wr({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),d=new rL(n,u,s,a);return d.willUnmount=function(p,v,g){p.destroy(f)},d},Sprite:function(t,e){var r=new it(_n("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,u=bn(n,i,Di(s,k3));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(u=!0),n.texture=_n("Sprite",t,s)),u},r},Text:function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new Au(n,s);return o?(a.updateText(),new it(a.texture)):a},TilingSprite:function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=_n("TilingSprite",t,e),a=new DL(o,n,s);return a.applyProps=function(u,f,d){var p=d.tileScale,v=d.tilePosition,g=d.image,_=d.texture,b=bn(u,f,Di(d,B3));if(v){var m,E=wl(v);(m=u.tilePosition).set.apply(m,vi(E)),b=!eb(wl(f.tilePosition),E)||b}if(p){var T,S=wl(p);(T=u.tileScale).set.apply(T,vi(S)),b=!eb(wl(f.tileScale),S)||b}return(g||_)&&(_!==f.texture&&(b=!0),u.texture=_n("Sprite",t,d)),b},a},SimpleMesh:function(t,e){var r=_n("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?$r.TRIANGLES:o,u=new S3(r,n,i,s,a);return u.applyProps=function(f,d,p){var v=p.image,g=p.texture,_=bn(f,d,Di(p,U3));return(v||g)&&(g!==d.texture&&(_=!0),f.texture=_n("Mesh",t,p)),_},u},SimpleRope:function(t,e){var r=_n("SimpleRope",t,e),n=e.points,i=new T3(r,n);return i.applyProps=function(s,o,a){var u=a.image,f=a.texture,d=Di(a,G3);Ot(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var p=bn(s,o,d);return(u||f)&&(f!==o.texture&&(p=!0),s.texture=_n("SimpleRope",t,a)),p},i},AnimatedSprite:function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(f){return f.map(function(d){return Ot(d instanceof ce||(d==null?void 0:d.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time: number }`"),d})},u=n?Kx.fromImages(n):new Kx(a(r));return u[s?"gotoAndPlay":"gotoAndStop"](o||0),u.applyProps=function(f,d,p){var v=p.textures,g=p.isPlaying,_=p.initialFrame,b=bn(f,d,Di(p,D3));if(v&&d.textures!==v&&(f.textures=a(v),b=!0),g!==d.isPlaying||_!==d.initialFrame){var m=typeof _=="number"?_:u.currentFrame||0;u[g?"gotoAndPlay":"gotoAndStop"](m),b=!0}return b},u}}),Lr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},j3=Object.keys(Lr).reduce(function(t,e){return wr(wr({},t),{},Gt({},e,z3[e]))},{}),kw={};function H3(t,e){return Ot(!!t,"Expect type to be defined, got `%s`",t),Ot(!Lr[t],"Component `%s` could not be created, already exists in default components.",t),kw[t]=e,t}var X3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qr(t,e){return t(e={exports:{}},e.exports),e.exports;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/}var tb=Object.getOwnPropertySymbols,V3=Object.prototype.hasOwnProperty,$3=Object.prototype.propertyIsEnumerable;function W3(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var Y3=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if(Object.getOwnPropertyNames(e).map(function(i){return e[i]}).join("")!=="0123456789")return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(i){n[i]=i}),Object.keys(Object.assign({},n)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(t,e){for(var r,n,i=W3(t),s=1;s<arguments.length;s++){for(var o in r=Object(arguments[s]))V3.call(r,o)&&(i[o]=r[o]);if(tb){n=tb(r);for(var a=0;a<n.length;a++)$3.call(r,n[a])&&(i[n[a]]=r[n[a]])}}return i},St=Qr(function(t,e){var r,n,i,s;if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}if(typeof window>"u"||typeof MessageChannel!="function"){var f=null,d=null,p=function(){if(f!==null)try{var L=e.unstable_now();f(!0,L),f=null}catch(z){throw setTimeout(p,0),z}};r=function(L){f!==null?setTimeout(r,0,L):(f=L,setTimeout(p,0))},n=function(L,z){d=setTimeout(L,z)},i=function(){clearTimeout(d)},e.unstable_shouldYield=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var v=window.setTimeout,g=window.clearTimeout;if(typeof console<"u"){var _=window.cancelAnimationFrame;typeof window.requestAnimationFrame!="function"&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),typeof _!="function"&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var b=!1,m=null,E=-1,T=5,S=0;e.unstable_shouldYield=function(){return e.unstable_now()>=S},s=function(){},e.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<L?Math.floor(1e3/L):5};var A=new MessageChannel,R=A.port2;A.port1.onmessage=function(){if(m!==null){var L=e.unstable_now();S=L+T;try{m(!0,L)?R.postMessage(null):(b=!1,m=null)}catch(z){throw R.postMessage(null),z}}else b=!1},r=function(L){m=L,b||(b=!0,R.postMessage(null))},n=function(L,z){E=v(function(){L(e.unstable_now())},z)},i=function(){g(E),E=-1}}function I(L,z){var H=L.length;L.push(z);e:for(;;){var se=H-1>>>1,pe=L[se];if(!(pe!==void 0&&0<N(pe,z)))break e;L[se]=z,L[H]=pe,H=se}}function P(L){return(L=L[0])===void 0?null:L}function k(L){var z=L[0];if(z!==void 0){var H=L.pop();if(H!==z){L[0]=H;e:for(var se=0,pe=L.length;se<pe;){var Ee=2*(se+1)-1,Ie=L[Ee],Me=Ee+1,Ue=L[Me];if(Ie!==void 0&&0>N(Ie,H))Ue!==void 0&&0>N(Ue,Ie)?(L[se]=Ue,L[Me]=H,se=Me):(L[se]=Ie,L[Ee]=H,se=Ee);else{if(!(Ue!==void 0&&0>N(Ue,H)))break e;L[se]=Ue,L[Me]=H,se=Me}}}return z}return null}function N(L,z){var H=L.sortIndex-z.sortIndex;return H!==0?H:L.id-z.id}var B=[],X=[],Z=1,Y=null,oe=3,$=!1,V=!1,ie=!1;function Ae(L){for(var z=P(X);z!==null;){if(z.callback===null)k(X);else{if(!(z.startTime<=L))break;k(X),z.sortIndex=z.expirationTime,I(B,z)}z=P(X)}}function ve(L){if(ie=!1,Ae(L),!V)if(P(B)!==null)V=!0,r(j);else{var z=P(X);z!==null&&n(ve,z.startTime-L)}}function j(L,z){V=!1,ie&&(ie=!1,i()),$=!0;var H=oe;try{for(Ae(z),Y=P(B);Y!==null&&(!(Y.expirationTime>z)||L&&!e.unstable_shouldYield());){var se=Y.callback;if(typeof se=="function"){Y.callback=null,oe=Y.priorityLevel;var pe=se(Y.expirationTime<=z);z=e.unstable_now(),typeof pe=="function"?Y.callback=pe:Y===P(B)&&k(B),Ae(z)}else k(B);Y=P(B)}if(Y!==null)var Ee=!0;else{var Ie=P(X);Ie!==null&&n(ve,Ie.startTime-z),Ee=!1}return Ee}finally{Y=null,oe=H,$=!1}}var M=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(L){L.callback=null},e.unstable_continueExecution=function(){V||$||(V=!0,r(j))},e.unstable_getCurrentPriorityLevel=function(){return oe},e.unstable_getFirstCallbackNode=function(){return P(B)},e.unstable_next=function(L){switch(oe){case 1:case 2:case 3:var z=3;break;default:z=oe}var H=oe;oe=z;try{return L()}finally{oe=H}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=M,e.unstable_runWithPriority=function(L,z){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var H=oe;oe=L;try{return z()}finally{oe=H}},e.unstable_scheduleCallback=function(L,z,H){var se=e.unstable_now();switch(typeof H=="object"&&H!==null?H=typeof(H=H.delay)=="number"&&0<H?se+H:se:H=se,L){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return L={id:Z++,callback:z,priorityLevel:L,startTime:H,expirationTime:pe=H+pe,sortIndex:-1},H>se?(L.sortIndex=H,I(X,L),P(B)===null&&L===P(X)&&(ie?i():ie=!0,n(ve,H-se))):(L.sortIndex=pe,I(B,L),V||$||(V=!0,r(j))),L},e.unstable_wrapCallback=function(L){var z=oe;return function(){var H=oe;oe=z;try{return L.apply(this,arguments)}finally{oe=H}}}});St.unstable_now,St.unstable_shouldYield,St.unstable_forceFrameRate,St.unstable_IdlePriority,St.unstable_ImmediatePriority,St.unstable_LowPriority,St.unstable_NormalPriority,St.unstable_Profiling,St.unstable_UserBlockingPriority,St.unstable_cancelCallback,St.unstable_continueExecution,St.unstable_getCurrentPriorityLevel,St.unstable_getFirstCallbackNode,St.unstable_next,St.unstable_pauseExecution,St.unstable_requestPaint,St.unstable_runWithPriority,St.unstable_scheduleCallback,St.unstable_wrapCallback;var Mt=Qr(function(t,e){});Mt.unstable_now,Mt.unstable_shouldYield,Mt.unstable_forceFrameRate,Mt.unstable_IdlePriority,Mt.unstable_ImmediatePriority,Mt.unstable_LowPriority,Mt.unstable_NormalPriority,Mt.unstable_Profiling,Mt.unstable_UserBlockingPriority,Mt.unstable_cancelCallback,Mt.unstable_continueExecution,Mt.unstable_getCurrentPriorityLevel,Mt.unstable_getFirstCallbackNode,Mt.unstable_next,Mt.unstable_pauseExecution,Mt.unstable_requestPaint,Mt.unstable_runWithPriority,Mt.unstable_scheduleCallback,Mt.unstable_wrapCallback;var yg=Qr(function(t){t.exports=St});yg.unstable_scheduleCallback,yg.unstable_cancelCallback;var q3=Qr(function(t){/** @license React v0.26.2
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */t.exports=function(e){var r={},n=Y3,i=Pn,s=yg;function o(l){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+l,c=1;c<arguments.length;c++)h+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=60103,f=60106,d=60107,p=60108,v=60114,g=60109,_=60110,b=60112,m=60113,E=60120,T=60115,S=60116,A=60121,R=60129,I=60130,P=60131;if(typeof Symbol=="function"&&Symbol.for){var k=Symbol.for;u=k("react.element"),f=k("react.portal"),d=k("react.fragment"),p=k("react.strict_mode"),v=k("react.profiler"),g=k("react.provider"),_=k("react.context"),b=k("react.forward_ref"),m=k("react.suspense"),E=k("react.suspense_list"),T=k("react.memo"),S=k("react.lazy"),A=k("react.block"),k("react.scope"),R=k("react.debug_trace_mode"),I=k("react.offscreen"),P=k("react.legacy_hidden")}var N=typeof Symbol=="function"&&Symbol.iterator;function B(l){return l===null||typeof l!="object"?null:typeof(l=N&&l[N]||l["@@iterator"])=="function"?l:null}function X(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case d:return"Fragment";case f:return"Portal";case v:return"Profiler";case p:return"StrictMode";case m:return"Suspense";case E:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case _:return(l.displayName||"Context")+".Consumer";case g:return(l._context.displayName||"Context")+".Provider";case b:var h=l.render;return h=h.displayName||h.name||"",l.displayName||(h!==""?"ForwardRef("+h+")":"ForwardRef");case T:return X(l.type);case A:return X(l._render);case S:h=l._payload,l=l._init;try{return X(l(h))}catch{}}return null}function Z(l){var h=l,c=l;if(l.alternate)for(;h.return;)h=h.return;else{l=h;do(1026&(h=l).flags)!=0&&(c=h.return),l=h.return;while(l)}return h.tag===3?c:null}function Y(l){if(Z(l)!==l)throw Error(o(188))}function oe(l){var h=l.alternate;if(!h){if((h=Z(l))===null)throw Error(o(188));return h!==l?null:l}for(var c=l,y=h;;){var x=c.return;if(x===null)break;var w=x.alternate;if(w===null){if((y=x.return)!==null){c=y;continue}break}if(x.child===w.child){for(w=x.child;w;){if(w===c)return Y(x),l;if(w===y)return Y(x),h;w=w.sibling}throw Error(o(188))}if(c.return!==y.return)c=x,y=w;else{for(var C=!1,O=x.child;O;){if(O===c){C=!0,c=x,y=w;break}if(O===y){C=!0,y=x,c=w;break}O=O.sibling}if(!C){for(O=w.child;O;){if(O===c){C=!0,c=w,y=x;break}if(O===y){C=!0,y=w,c=x;break}O=O.sibling}if(!C)throw Error(o(189))}}if(c.alternate!==y)throw Error(o(190))}if(c.tag!==3)throw Error(o(188));return c.stateNode.current===c?l:h}function $(l){if(!(l=oe(l)))return null;for(var h=l;;){if(h.tag===5||h.tag===6)return h;if(h.child)h.child.return=h,h=h.child;else{if(h===l)break;for(;!h.sibling;){if(!h.return||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}}return null}function V(l,h){for(var c=l.alternate;h!==null;){if(h===l||h===c)return!0;h=h.return}return!1}var ie,Ae=e.getPublicInstance,ve=e.getRootHostContext,j=e.getChildHostContext,M=e.prepareForCommit,L=e.resetAfterCommit,z=e.createInstance,H=e.appendInitialChild,se=e.finalizeInitialChildren,pe=e.prepareUpdate,Ee=e.shouldSetTextContent,Ie=e.createTextInstance,Me=e.scheduleTimeout,Ue=e.cancelTimeout,Le=e.noTimeout,Fe=e.isPrimaryRenderer,Ce=e.supportsMutation,Se=e.supportsPersistence,Ye=e.supportsHydration,rr=e.getInstanceFromNode,ke=e.makeOpaqueHydratingObject,gr=e.makeClientId,Un=e.beforeActiveInstanceBlur,fo=e.afterActiveInstanceBlur,Pu=e.preparePortalMount,gi=e.supportsTestSelectors,Ou=e.findFiberRoot,Nu=e.getBoundingRect,sA=e.getTextContent,Sa=e.isHiddenSubtree,oA=e.matchAccessibilityRole,aA=e.setFocusIfFocusable,lA=e.setupIntersectionObserver,uA=e.appendChild,hA=e.appendChildToContainer,fA=e.commitTextUpdate,cA=e.commitMount,dA=e.commitUpdate,pA=e.insertBefore,vA=e.insertInContainerBefore,mA=e.removeChild,gA=e.removeChildFromContainer,$0=e.resetTextContent,yA=e.hideInstance,_A=e.hideTextInstance,xA=e.unhideInstance,bA=e.unhideTextInstance,gd=e.clearContainer,EA=e.cloneInstance,W0=e.createContainerChildSet,Y0=e.appendChildToContainerChildSet,TA=e.finalizeContainerChildren,q0=e.replaceContainerChildren,Z0=e.cloneHiddenInstance,Q0=e.cloneHiddenTextInstance,wA=e.canHydrateInstance,SA=e.canHydrateTextInstance,AA=e.isSuspenseInstancePending,CA=e.isSuspenseInstanceFallback,yd=e.getNextHydratableSibling,K0=e.getFirstHydratableChild,RA=e.hydrateInstance,IA=e.hydrateTextInstance,PA=e.getNextHydratableInstanceAfterSuspenseInstance,J0=e.commitHydratedContainer,OA=e.commitHydratedSuspenseInstance;function Aa(l){if(ie===void 0)try{throw Error()}catch(c){var h=c.stack.trim().match(/\n( *(at )?)/);ie=h&&h[1]||""}return`
`+ie+l}var _d=!1;function Mu(l,h){if(!l||_d)return"";_d=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(U){var y=U}Reflect.construct(l,[],h)}else{try{h.call()}catch(U){y=U}l.call(h.prototype)}else{try{throw Error()}catch(U){y=U}l()}}catch(U){if(U&&y&&typeof U.stack=="string"){for(var x=U.stack.split(`
`),w=y.stack.split(`
`),C=x.length-1,O=w.length-1;1<=C&&0<=O&&x[C]!==w[O];)O--;for(;1<=C&&0<=O;C--,O--)if(x[C]!==w[O]){if(C!==1||O!==1)do if(C--,0>--O||x[C]!==w[O])return`
`+x[C].replace(" at new "," at ");while(1<=C&&0<=O);break}}}finally{_d=!1,Error.prepareStackTrace=c}return(l=l?l.displayName||l.name:"")?Aa(l):""}var xd=[],co=-1;function yi(l){return{current:l}}function at(l){0>co||(l.current=xd[co],xd[co]=null,co--)}function vt(l,h){co++,xd[co]=l.current,l.current=h}var _i={},nr=yi(_i),yr=yi(!1),ds=_i;function po(l,h){var c=l.type.contextTypes;if(!c)return _i;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===h)return y.__reactInternalMemoizedMaskedChildContext;var x,w={};for(x in c)w[x]=h[x];return y&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=h,l.__reactInternalMemoizedMaskedChildContext=w),w}function _r(l){return(l=l.childContextTypes)!=null}function Fu(){at(yr),at(nr)}function ey(l,h,c){if(nr.current!==_i)throw Error(o(168));vt(nr,h),vt(yr,c)}function ty(l,h,c){var y=l.stateNode;if(l=h.childContextTypes,typeof y.getChildContext!="function")return c;for(var x in y=y.getChildContext())if(!(x in l))throw Error(o(108,X(h)||"Unknown",x));return n({},c,y)}function Lu(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||_i,ds=nr.current,vt(nr,l),vt(yr,yr.current),!0}function ry(l,h,c){var y=l.stateNode;if(!y)throw Error(o(169));c?(l=ty(l,h,ds),y.__reactInternalMemoizedMergedChildContext=l,at(yr),at(nr),vt(nr,l)):at(yr),vt(yr,c)}var bd=null,ps=null;(0,s.unstable_now)();var ku=0,qe=8;function vs(l){if((1&l)!=0)return qe=15,1;if((2&l)!=0)return qe=14,2;if((4&l)!=0)return qe=13,4;var h=24&l;return h!==0?(qe=12,h):(32&l)!=0?(qe=11,32):(h=192&l)!==0?(qe=10,h):(256&l)!=0?(qe=9,256):(h=3584&l)!==0?(qe=8,h):(4096&l)!=0?(qe=7,4096):(h=4186112&l)!==0?(qe=6,h):(h=62914560&l)!==0?(qe=5,h):67108864&l?(qe=4,67108864):(134217728&l)!=0?(qe=3,134217728):(h=805306368&l)!==0?(qe=2,h):(1073741824&l)!=0?(qe=1,1073741824):(qe=8,l)}function Ca(l,h){var c=l.pendingLanes;if(c===0)return qe=0;var y=0,x=0,w=l.expiredLanes,C=l.suspendedLanes,O=l.pingedLanes;if(w!==0)y=w,x=qe=15;else if((w=134217727&c)!==0){var U=w&~C;U!==0?(y=vs(U),x=qe):(O&=w)!==0&&(y=vs(O),x=qe)}else(w=c&~C)!==0?(y=vs(w),x=qe):O!==0&&(y=vs(O),x=qe);if(y===0)return 0;if(y=c&((0>(y=31-xi(y))?0:1<<y)<<1)-1,h!==0&&h!==y&&(h&C)==0){if(vs(h),x<=qe)return h;qe=x}if((h=l.entangledLanes)!==0)for(l=l.entanglements,h&=y;0<h;)x=1<<(c=31-xi(h)),y|=l[c],h&=~x;return y}function ny(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function Du(l,h){switch(l){case 15:return 1;case 14:return 2;case 12:return(l=vo(24&~h))===0?Du(10,h):l;case 10:return(l=vo(192&~h))===0?Du(8,h):l;case 8:return(l=vo(3584&~h))===0&&(l=vo(4186112&~h))===0&&(l=512),l;case 2:return(h=vo(805306368&~h))===0&&(h=268435456),h}throw Error(o(358,l))}function vo(l){return l&-l}function Ed(l){for(var h=[],c=0;31>c;c++)h.push(l);return h}function Bu(l,h,c){l.pendingLanes|=h;var y=h-1;l.suspendedLanes&=y,l.pingedLanes&=y,(l=l.eventTimes)[h=31-xi(h)]=c}var xi=Math.clz32?Math.clz32:function(l){return l===0?32:31-(NA(l)/MA|0)|0},NA=Math.log,MA=Math.LN2,FA=s.unstable_runWithPriority,Td=s.unstable_scheduleCallback,wd=s.unstable_cancelCallback,LA=s.unstable_shouldYield,iy=s.unstable_requestPaint,Sd=s.unstable_now,kA=s.unstable_getCurrentPriorityLevel,Uu=s.unstable_ImmediatePriority,sy=s.unstable_UserBlockingPriority,oy=s.unstable_NormalPriority,ay=s.unstable_LowPriority,ly=s.unstable_IdlePriority,Ad={},DA=iy!==void 0?iy:function(){},Gn=null,Gu=null,Cd=!1,uy=Sd(),Vt=1e4>uy?Sd:function(){return Sd()-uy};function mo(){switch(kA()){case Uu:return 99;case sy:return 98;case oy:return 97;case ay:return 96;case ly:return 95;default:throw Error(o(332))}}function hy(l){switch(l){case 99:return Uu;case 98:return sy;case 97:return oy;case 96:return ay;case 95:return ly;default:throw Error(o(332))}}function zn(l,h){return l=hy(l),FA(l,h)}function Ra(l,h,c){return l=hy(l),Td(l,h,c)}function kr(){if(Gu!==null){var l=Gu;Gu=null,wd(l)}fy()}function fy(){if(!Cd&&Gn!==null){Cd=!0;var l=0;try{var h=Gn;zn(99,function(){for(;l<h.length;l++){var c=h[l];do c=c(!0);while(c!==null)}}),Gn=null}catch(c){throw Gn!==null&&(Gn=Gn.slice(l+1)),Td(Uu,kr),c}finally{Cd=!1}}}var BA=a.ReactCurrentBatchConfig,Dr=typeof Object.is=="function"?Object.is:function(l,h){return l===h&&(l!==0||1/l==1/h)||l!=l&&h!=h},UA=Object.prototype.hasOwnProperty;function zu(l,h){if(Dr(l,h))return!0;if(typeof l!="object"||l===null||typeof h!="object"||h===null)return!1;var c=Object.keys(l),y=Object.keys(h);if(c.length!==y.length)return!1;for(y=0;y<c.length;y++)if(!UA.call(h,c[y])||!Dr(l[c[y]],h[c[y]]))return!1;return!0}function GA(l){switch(l.tag){case 5:return Aa(l.type);case 16:return Aa("Lazy");case 13:return Aa("Suspense");case 19:return Aa("SuspenseList");case 0:case 2:case 15:return l=Mu(l.type,!1);case 11:return l=Mu(l.type.render,!1);case 22:return l=Mu(l.type._render,!1);case 1:return l=Mu(l.type,!0);default:return""}}function Jr(l,h){if(l&&l.defaultProps){for(var c in h=n({},h),l=l.defaultProps)h[c]===void 0&&(h[c]=l[c]);return h}return h}var ju=yi(null),Hu=null,go=null,Xu=null;function Rd(){Xu=go=Hu=null}function cy(l,h){l=l.type._context,Fe?(vt(ju,l._currentValue),l._currentValue=h):(vt(ju,l._currentValue2),l._currentValue2=h)}function Id(l){var h=ju.current;at(ju),l=l.type._context,Fe?l._currentValue=h:l._currentValue2=h}function dy(l,h){for(;l!==null;){var c=l.alternate;if((l.childLanes&h)===h){if(c===null||(c.childLanes&h)===h)break;c.childLanes|=h}else l.childLanes|=h,c!==null&&(c.childLanes|=h);l=l.return}}function yo(l,h){Hu=l,Xu=go=null,(l=l.dependencies)!==null&&l.firstContext!==null&&((l.lanes&h)!=0&&(en=!0),l.firstContext=null)}function Br(l,h){if(Xu!==l&&h!==!1&&h!==0)if(typeof h=="number"&&h!==1073741823||(Xu=l,h=1073741823),h={context:l,observedBits:h,next:null},go===null){if(Hu===null)throw Error(o(308));go=h,Hu.dependencies={lanes:0,firstContext:h,responders:null}}else go=go.next=h;return Fe?l._currentValue:l._currentValue2}var bi=!1;function Pd(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function py(l,h){l=l.updateQueue,h.updateQueue===l&&(h.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function Ei(l,h){return{eventTime:l,lane:h,tag:0,payload:null,callback:null,next:null}}function Ti(l,h){if((l=l.updateQueue)!==null){var c=(l=l.shared).pending;c===null?h.next=h:(h.next=c.next,c.next=h),l.pending=h}}function vy(l,h){var c=l.updateQueue,y=l.alternate;if(y!==null&&c===(y=y.updateQueue)){var x=null,w=null;if((c=c.firstBaseUpdate)!==null){do{var C={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};w===null?x=w=C:w=w.next=C,c=c.next}while(c!==null);w===null?x=w=h:w=w.next=h}else x=w=h;return c={baseState:y.baseState,firstBaseUpdate:x,lastBaseUpdate:w,shared:y.shared,effects:y.effects},void(l.updateQueue=c)}(l=c.lastBaseUpdate)===null?c.firstBaseUpdate=h:l.next=h,c.lastBaseUpdate=h}function Ia(l,h,c,y){var x=l.updateQueue;bi=!1;var w=x.firstBaseUpdate,C=x.lastBaseUpdate,O=x.shared.pending;if(O!==null){x.shared.pending=null;var U=O,Q=U.next;U.next=null,C===null?w=Q:C.next=Q,C=U;var le=l.alternate;if(le!==null){var ge=(le=le.updateQueue).lastBaseUpdate;ge!==C&&(ge===null?le.firstBaseUpdate=Q:ge.next=Q,le.lastBaseUpdate=U)}}if(w!==null){for(ge=x.baseState,C=0,le=Q=U=null;;){O=w.lane;var J=w.eventTime;if((y&O)===O){le!==null&&(le=le.next={eventTime:J,lane:0,tag:w.tag,payload:w.payload,callback:w.callback,next:null});e:{var et=l,ut=w;switch(O=h,J=c,ut.tag){case 1:if(typeof(et=ut.payload)=="function"){ge=et.call(J,ge,O);break e}ge=et;break e;case 3:et.flags=-4097&et.flags|64;case 0:if((O=typeof(et=ut.payload)=="function"?et.call(J,ge,O):et)==null)break e;ge=n({},ge,O);break e;case 2:bi=!0}}w.callback!==null&&(l.flags|=32,(O=x.effects)===null?x.effects=[w]:O.push(w))}else J={eventTime:J,lane:O,tag:w.tag,payload:w.payload,callback:w.callback,next:null},le===null?(Q=le=J,U=ge):le=le.next=J,C|=O;if((w=w.next)===null){if((O=x.shared.pending)===null)break;w=O.next,O.next=null,x.lastBaseUpdate=O,x.shared.pending=null}}le===null&&(U=ge),x.baseState=U,x.firstBaseUpdate=Q,x.lastBaseUpdate=le,Ha|=C,l.lanes=C,l.memoizedState=ge}}function my(l,h,c){if(l=h.effects,h.effects=null,l!==null)for(h=0;h<l.length;h++){var y=l[h],x=y.callback;if(x!==null){if(y.callback=null,y=c,typeof x!="function")throw Error(o(191,x));x.call(y)}}}var gy=new i.Component().refs;function Vu(l,h,c,y){c=(c=c(y,h=l.memoizedState))==null?h:n({},h,c),l.memoizedState=c,l.lanes===0&&(l.updateQueue.baseState=c)}var $u={isMounted:function(l){return!!(l=l._reactInternals)&&Z(l)===l},enqueueSetState:function(l,h,c){l=l._reactInternals;var y=br(),x=Ai(l),w=Ei(y,x);w.payload=h,c!=null&&(w.callback=c),Ti(l,w),$n(l,x,y)},enqueueReplaceState:function(l,h,c){l=l._reactInternals;var y=br(),x=Ai(l),w=Ei(y,x);w.tag=1,w.payload=h,c!=null&&(w.callback=c),Ti(l,w),$n(l,x,y)},enqueueForceUpdate:function(l,h){l=l._reactInternals;var c=br(),y=Ai(l),x=Ei(c,y);x.tag=2,h!=null&&(x.callback=h),Ti(l,x),$n(l,y,c)}};function yy(l,h,c,y,x,w,C){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,w,C):!h.prototype||!h.prototype.isPureReactComponent||!zu(c,y)||!zu(x,w)}function _y(l,h,c){var y=!1,x=_i,w=h.contextType;return typeof w=="object"&&w!==null?w=Br(w):(x=_r(h)?ds:nr.current,w=(y=(y=h.contextTypes)!=null)?po(l,x):_i),h=new h(c,w),l.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=$u,l.stateNode=h,h._reactInternals=l,y&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=x,l.__reactInternalMemoizedMaskedChildContext=w),h}function xy(l,h,c,y){l=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(c,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(c,y),h.state!==l&&$u.enqueueReplaceState(h,h.state,null)}function Od(l,h,c,y){var x=l.stateNode;x.props=c,x.state=l.memoizedState,x.refs=gy,Pd(l);var w=h.contextType;typeof w=="object"&&w!==null?x.context=Br(w):(w=_r(h)?ds:nr.current,x.context=po(l,w)),Ia(l,c,x,y),x.state=l.memoizedState,typeof(w=h.getDerivedStateFromProps)=="function"&&(Vu(l,h,w,c),x.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(h=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),h!==x.state&&$u.enqueueReplaceState(x,x.state,null),Ia(l,c,x,y),x.state=l.memoizedState),typeof x.componentDidMount=="function"&&(l.flags|=4)}var Wu=Array.isArray;function Pa(l,h,c){if((l=c.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(c._owner){if(c=c._owner){if(c.tag!==1)throw Error(o(309));var y=c.stateNode}if(!y)throw Error(o(147,l));var x=""+l;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===x?h.ref:((h=function(w){var C=y.refs;C===gy&&(C=y.refs={}),w===null?delete C[x]:C[x]=w})._stringRef=x,h)}if(typeof l!="string")throw Error(o(284));if(!c._owner)throw Error(o(290,l))}return l}function Yu(l,h){if(l.type!=="textarea")throw Error(o(31,Object.prototype.toString.call(h)==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":h))}function by(l){function h(D,F){if(l){var G=D.lastEffect;G!==null?(G.nextEffect=F,D.lastEffect=F):D.firstEffect=D.lastEffect=F,F.nextEffect=null,F.flags=8}}function c(D,F){if(!l)return null;for(;F!==null;)h(D,F),F=F.sibling;return null}function y(D,F){for(D=new Map;F!==null;)F.key!==null?D.set(F.key,F):D.set(F.index,F),F=F.sibling;return D}function x(D,F){return(D=Ri(D,F)).index=0,D.sibling=null,D}function w(D,F,G){return D.index=G,l?(G=D.alternate)!==null?(G=G.index)<F?(D.flags=2,F):G:(D.flags=2,F):F}function C(D){return l&&D.alternate===null&&(D.flags=2),D}function O(D,F,G,ee){return F===null||F.tag!==6?((F=_p(G,D.mode,ee)).return=D,F):((F=x(F,G)).return=D,F)}function U(D,F,G,ee){return F!==null&&F.elementType===G.type?((ee=x(F,G.props)).ref=Pa(D,F,G),ee.return=D,ee):((ee=bh(G.type,G.key,G.props,null,D.mode,ee)).ref=Pa(D,F,G),ee.return=D,ee)}function Q(D,F,G,ee){return F===null||F.tag!==4||F.stateNode.containerInfo!==G.containerInfo||F.stateNode.implementation!==G.implementation?((F=xp(G,D.mode,ee)).return=D,F):((F=x(F,G.children||[])).return=D,F)}function le(D,F,G,ee,fe){return F===null||F.tag!==7?((F=Ao(G,D.mode,ee,fe)).return=D,F):((F=x(F,G)).return=D,F)}function ge(D,F,G){if(typeof F=="string"||typeof F=="number")return(F=_p(""+F,D.mode,G)).return=D,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case u:return(G=bh(F.type,F.key,F.props,null,D.mode,G)).ref=Pa(D,null,F),G.return=D,G;case f:return(F=xp(F,D.mode,G)).return=D,F}if(Wu(F)||B(F))return(F=Ao(F,D.mode,G,null)).return=D,F;Yu(D,F)}return null}function J(D,F,G,ee){var fe=F!==null?F.key:null;if(typeof G=="string"||typeof G=="number")return fe!==null?null:O(D,F,""+G,ee);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case u:return G.key===fe?G.type===d?le(D,F,G.props.children,ee,fe):U(D,F,G,ee):null;case f:return G.key===fe?Q(D,F,G,ee):null}if(Wu(G)||B(G))return fe!==null?null:le(D,F,G,ee,null);Yu(D,G)}return null}function et(D,F,G,ee,fe){if(typeof ee=="string"||typeof ee=="number")return O(F,D=D.get(G)||null,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case u:return D=D.get(ee.key===null?G:ee.key)||null,ee.type===d?le(F,D,ee.props.children,fe,ee.key):U(F,D,ee,fe);case f:return Q(F,D=D.get(ee.key===null?G:ee.key)||null,ee,fe)}if(Wu(ee)||B(ee))return le(F,D=D.get(G)||null,ee,fe,null);Yu(F,ee)}return null}function ut(D,F,G,ee){for(var fe=null,Ze=null,xe=F,He=F=0,Yt=null;xe!==null&&He<G.length;He++){xe.index>He?(Yt=xe,xe=null):Yt=xe.sibling;var Ge=J(D,xe,G[He],ee);if(Ge===null){xe===null&&(xe=Yt);break}l&&xe&&Ge.alternate===null&&h(D,xe),F=w(Ge,F,He),Ze===null?fe=Ge:Ze.sibling=Ge,Ze=Ge,xe=Yt}if(He===G.length)return c(D,xe),fe;if(xe===null){for(;He<G.length;He++)(xe=ge(D,G[He],ee))!==null&&(F=w(xe,F,He),Ze===null?fe=xe:Ze.sibling=xe,Ze=xe);return fe}for(xe=y(D,xe);He<G.length;He++)(Yt=et(xe,D,He,G[He],ee))!==null&&(l&&Yt.alternate!==null&&xe.delete(Yt.key===null?He:Yt.key),F=w(Yt,F,He),Ze===null?fe=Yt:Ze.sibling=Yt,Ze=Yt);return l&&xe.forEach(function(Ii){return h(D,Ii)}),fe}function jr(D,F,G,ee){var fe=B(G);if(typeof fe!="function")throw Error(o(150));if((G=fe.call(G))==null)throw Error(o(151));for(var Ze=fe=null,xe=F,He=F=0,Yt=null,Ge=G.next();xe!==null&&!Ge.done;He++,Ge=G.next()){xe.index>He?(Yt=xe,xe=null):Yt=xe.sibling;var Ii=J(D,xe,Ge.value,ee);if(Ii===null){xe===null&&(xe=Yt);break}l&&xe&&Ii.alternate===null&&h(D,xe),F=w(Ii,F,He),Ze===null?fe=Ii:Ze.sibling=Ii,Ze=Ii,xe=Yt}if(Ge.done)return c(D,xe),fe;if(xe===null){for(;!Ge.done;He++,Ge=G.next())(Ge=ge(D,Ge.value,ee))!==null&&(F=w(Ge,F,He),Ze===null?fe=Ge:Ze.sibling=Ge,Ze=Ge);return fe}for(xe=y(D,xe);!Ge.done;He++,Ge=G.next())(Ge=et(xe,D,He,Ge.value,ee))!==null&&(l&&Ge.alternate!==null&&xe.delete(Ge.key===null?He:Ge.key),F=w(Ge,F,He),Ze===null?fe=Ge:Ze.sibling=Ge,Ze=Ge);return l&&xe.forEach(function(pC){return h(D,pC)}),fe}return function(D,F,G,ee){var fe=typeof G=="object"&&G!==null&&G.type===d&&G.key===null;fe&&(G=G.props.children);var Ze=typeof G=="object"&&G!==null;if(Ze)switch(G.$$typeof){case u:e:{for(Ze=G.key,fe=F;fe!==null;){if(fe.key===Ze){switch(fe.tag){case 7:if(G.type===d){c(D,fe.sibling),(F=x(fe,G.props.children)).return=D,D=F;break e}break;default:if(fe.elementType===G.type){c(D,fe.sibling),(F=x(fe,G.props)).ref=Pa(D,fe,G),F.return=D,D=F;break e}}c(D,fe);break}h(D,fe),fe=fe.sibling}G.type===d?((F=Ao(G.props.children,D.mode,ee,G.key)).return=D,D=F):((ee=bh(G.type,G.key,G.props,null,D.mode,ee)).ref=Pa(D,F,G),ee.return=D,D=ee)}return C(D);case f:e:{for(fe=G.key;F!==null;){if(F.key===fe){if(F.tag===4&&F.stateNode.containerInfo===G.containerInfo&&F.stateNode.implementation===G.implementation){c(D,F.sibling),(F=x(F,G.children||[])).return=D,D=F;break e}c(D,F);break}h(D,F),F=F.sibling}(F=xp(G,D.mode,ee)).return=D,D=F}return C(D)}if(typeof G=="string"||typeof G=="number")return G=""+G,F!==null&&F.tag===6?(c(D,F.sibling),(F=x(F,G)).return=D,D=F):(c(D,F),(F=_p(G,D.mode,ee)).return=D,D=F),C(D);if(Wu(G))return ut(D,F,G,ee);if(B(G))return jr(D,F,G,ee);if(Ze&&Yu(D,G),G===void 0&&!fe)switch(D.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,X(D.type)||"Component"))}return c(D,F)}}var qu=by(!0),Ey=by(!1),Oa={},Ur=yi(Oa),Na=yi(Oa),_o=yi(Oa);function pn(l){if(l===Oa)throw Error(o(174));return l}function Nd(l,h){vt(_o,h),vt(Na,l),vt(Ur,Oa),l=ve(h),at(Ur),vt(Ur,l)}function xo(){at(Ur),at(Na),at(_o)}function Ty(l){var h=pn(_o.current),c=pn(Ur.current);c!==(h=j(c,l.type,h))&&(vt(Na,l),vt(Ur,h))}function Md(l){Na.current===l&&(at(Ur),at(Na))}var Et=yi(0);function Zu(l){for(var h=l;h!==null;){if(h.tag===13){var c=h.memoizedState;if(c!==null&&((c=c.dehydrated)===null||AA(c)||CA(c)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if((64&h.flags)!=0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var jn=null,ms=null,vn=!1;function wy(l,h){var c=zr(5,null,null,0);c.elementType="DELETED",c.type="DELETED",c.stateNode=h,c.return=l,c.flags=8,l.lastEffect!==null?(l.lastEffect.nextEffect=c,l.lastEffect=c):l.firstEffect=l.lastEffect=c}function Sy(l,h){switch(l.tag){case 5:return(h=wA(h,l.type,l.pendingProps))!==null&&(l.stateNode=h,!0);case 6:return(h=SA(h,l.pendingProps))!==null&&(l.stateNode=h,!0);case 13:default:return!1}}function Fd(l){if(vn){var h=ms;if(h){var c=h;if(!Sy(l,h)){if(!(h=yd(c))||!Sy(l,h))return l.flags=-1025&l.flags|2,vn=!1,void(jn=l);wy(jn,c)}jn=l,ms=K0(h)}else l.flags=-1025&l.flags|2,vn=!1,jn=l}}function Ay(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;jn=l}function Qu(l){if(!Ye||l!==jn)return!1;if(!vn)return Ay(l),vn=!0,!1;var h=l.type;if(l.tag!==5||h!=="head"&&h!=="body"&&!Ee(h,l.memoizedProps))for(h=ms;h;)wy(l,h),h=yd(h);if(Ay(l),l.tag===13){if(!Ye)throw Error(o(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(o(317));ms=PA(l)}else ms=jn?yd(l.stateNode):null;return!0}function Ld(){Ye&&(ms=jn=null,vn=!1)}var bo=[];function kd(){for(var l=0;l<bo.length;l++){var h=bo[l];Fe?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}bo.length=0}var Ma=a.ReactCurrentDispatcher,Gr=a.ReactCurrentBatchConfig,Fa=0,Tt=null,ur=null,$t=null,Ku=!1,La=!1;function xr(){throw Error(o(321))}function Dd(l,h){if(h===null)return!1;for(var c=0;c<h.length&&c<l.length;c++)if(!Dr(l[c],h[c]))return!1;return!0}function Bd(l,h,c,y,x,w){if(Fa=w,Tt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Ma.current=l===null||l.memoizedState===null?jA:HA,l=c(y,x),La){w=0;do{if(La=!1,!(25>w))throw Error(o(301));w+=1,$t=ur=null,h.updateQueue=null,Ma.current=XA,l=c(y,x)}while(La)}if(Ma.current=rh,h=ur!==null&&ur.next!==null,Fa=0,$t=ur=Tt=null,Ku=!1,h)throw Error(o(300));return l}function gs(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?Tt.memoizedState=$t=l:$t=$t.next=l,$t}function ys(){if(ur===null){var l=Tt.alternate;l=l!==null?l.memoizedState:null}else l=ur.next;var h=$t===null?Tt.memoizedState:$t.next;if(h!==null)$t=h,ur=l;else{if(l===null)throw Error(o(310));l={memoizedState:(ur=l).memoizedState,baseState:ur.baseState,baseQueue:ur.baseQueue,queue:ur.queue,next:null},$t===null?Tt.memoizedState=$t=l:$t=$t.next=l}return $t}function mn(l,h){return typeof h=="function"?h(l):h}function ka(l){var h=ys(),c=h.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=l;var y=ur,x=y.baseQueue,w=c.pending;if(w!==null){if(x!==null){var C=x.next;x.next=w.next,w.next=C}y.baseQueue=x=w,c.pending=null}if(x!==null){x=x.next,y=y.baseState;var O=C=w=null,U=x;do{var Q=U.lane;if((Fa&Q)===Q)O!==null&&(O=O.next={lane:0,action:U.action,eagerReducer:U.eagerReducer,eagerState:U.eagerState,next:null}),y=U.eagerReducer===l?U.eagerState:l(y,U.action);else{var le={lane:Q,action:U.action,eagerReducer:U.eagerReducer,eagerState:U.eagerState,next:null};O===null?(C=O=le,w=y):O=O.next=le,Tt.lanes|=Q,Ha|=Q}U=U.next}while(U!==null&&U!==x);O===null?w=y:O.next=C,Dr(y,h.memoizedState)||(en=!0),h.memoizedState=y,h.baseState=w,h.baseQueue=O,c.lastRenderedState=y}return[h.memoizedState,c.dispatch]}function Da(l){var h=ys(),c=h.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=l;var y=c.dispatch,x=c.pending,w=h.memoizedState;if(x!==null){c.pending=null;var C=x=x.next;do w=l(w,C.action),C=C.next;while(C!==x);Dr(w,h.memoizedState)||(en=!0),h.memoizedState=w,h.baseQueue===null&&(h.baseState=w),c.lastRenderedState=w}return[w,y]}function Cy(l,h,c){var y=h._getVersion;y=y(h._source);var x=Fe?h._workInProgressVersionPrimary:h._workInProgressVersionSecondary;if(x!==null?l=x===y:(l=l.mutableReadLanes,(l=(Fa&l)===l)&&(Fe?h._workInProgressVersionPrimary=y:h._workInProgressVersionSecondary=y,bo.push(h))),l)return c(h._source);throw bo.push(h),Error(o(350))}function Ry(l,h,c,y){var x=hr;if(x===null)throw Error(o(349));var w=h._getVersion,C=w(h._source),O=Ma.current,U=O.useState(function(){return Cy(x,h,c)}),Q=U[1],le=U[0];U=$t;var ge=l.memoizedState,J=ge.refs,et=J.getSnapshot,ut=ge.source;ge=ge.subscribe;var jr=Tt;return l.memoizedState={refs:J,source:h,subscribe:y},O.useEffect(function(){J.getSnapshot=c,J.setSnapshot=Q;var D=w(h._source);if(!Dr(C,D)){D=c(h._source),Dr(le,D)||(Q(D),D=Ai(jr),x.mutableReadLanes|=D&x.pendingLanes),D=x.mutableReadLanes,x.entangledLanes|=D;for(var F=x.entanglements,G=D;0<G;){var ee=31-xi(G),fe=1<<ee;F[ee]|=D,G&=~fe}}},[c,h,y]),O.useEffect(function(){return y(h._source,function(){var D=J.getSnapshot,F=J.setSnapshot;try{F(D(h._source));var G=Ai(jr);x.mutableReadLanes|=G&x.pendingLanes}catch(ee){F(function(){throw ee})}})},[h,y]),Dr(et,c)&&Dr(ut,h)&&Dr(ge,y)||((l={pending:null,dispatch:null,lastRenderedReducer:mn,lastRenderedState:le}).dispatch=Q=jd.bind(null,Tt,l),U.queue=l,U.baseQueue=null,le=Cy(x,h,c),U.memoizedState=U.baseState=le),le}function Iy(l,h,c){return Ry(ys(),l,h,c)}function Ba(l){var h=gs();return typeof l=="function"&&(l=l()),h.memoizedState=h.baseState=l,l=(l=h.queue={pending:null,dispatch:null,lastRenderedReducer:mn,lastRenderedState:l}).dispatch=jd.bind(null,Tt,l),[h.memoizedState,l]}function Ju(l,h,c,y){return l={tag:l,create:h,destroy:c,deps:y,next:null},(h=Tt.updateQueue)===null?(h={lastEffect:null},Tt.updateQueue=h,h.lastEffect=l.next=l):(c=h.lastEffect)===null?h.lastEffect=l.next=l:(y=c.next,c.next=l,l.next=y,h.lastEffect=l),l}function Py(l){return l={current:l},gs().memoizedState=l}function eh(){return ys().memoizedState}function Ud(l,h,c,y){var x=gs();Tt.flags|=l,x.memoizedState=Ju(1|h,c,void 0,y===void 0?null:y)}function Gd(l,h,c,y){var x=ys();y=y===void 0?null:y;var w=void 0;if(ur!==null){var C=ur.memoizedState;if(w=C.destroy,y!==null&&Dd(y,C.deps))return void Ju(h,c,w,y)}Tt.flags|=l,x.memoizedState=Ju(1|h,c,w,y)}function Oy(l,h){return Ud(516,4,l,h)}function th(l,h){return Gd(516,4,l,h)}function Ny(l,h){return Gd(4,2,l,h)}function My(l,h){return typeof h=="function"?(l=l(),h(l),function(){h(null)}):h!=null?(l=l(),h.current=l,function(){h.current=null}):void 0}function Fy(l,h,c){return c=c!=null?c.concat([l]):null,Gd(4,2,My.bind(null,h,l),c)}function zd(){}function Ly(l,h){var c=ys();h=h===void 0?null:h;var y=c.memoizedState;return y!==null&&h!==null&&Dd(h,y[1])?y[0]:(c.memoizedState=[l,h],l)}function ky(l,h){var c=ys();h=h===void 0?null:h;var y=c.memoizedState;return y!==null&&h!==null&&Dd(h,y[1])?y[0]:(l=l(),c.memoizedState=[l,h],l)}function zA(l,h){var c=mo();zn(98>c?98:c,function(){l(!0)}),zn(97<c?97:c,function(){var y=Gr.transition;Gr.transition=1;try{l(!1),h()}finally{Gr.transition=y}})}function jd(l,h,c){var y=br(),x=Ai(l),w={lane:x,action:c,eagerReducer:null,eagerState:null,next:null},C=h.pending;if(C===null?w.next=w:(w.next=C.next,C.next=w),h.pending=w,C=l.alternate,l===Tt||C!==null&&C===Tt)La=Ku=!0;else{if(l.lanes===0&&(C===null||C.lanes===0)&&(C=h.lastRenderedReducer)!==null)try{var O=h.lastRenderedState,U=C(O,c);if(w.eagerReducer=C,w.eagerState=U,Dr(U,O))return}catch{}$n(l,x,y)}}var rh={readContext:Br,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useOpaqueIdentifier:xr,unstable_isNewReconciler:!1},jA={readContext:Br,useCallback:function(l,h){return gs().memoizedState=[l,h===void 0?null:h],l},useContext:Br,useEffect:Oy,useImperativeHandle:function(l,h,c){return c=c!=null?c.concat([l]):null,Ud(4,2,My.bind(null,h,l),c)},useLayoutEffect:function(l,h){return Ud(4,2,l,h)},useMemo:function(l,h){var c=gs();return h=h===void 0?null:h,l=l(),c.memoizedState=[l,h],l},useReducer:function(l,h,c){var y=gs();return h=c!==void 0?c(h):h,y.memoizedState=y.baseState=h,l=(l=y.queue={pending:null,dispatch:null,lastRenderedReducer:l,lastRenderedState:h}).dispatch=jd.bind(null,Tt,l),[y.memoizedState,l]},useRef:Py,useState:Ba,useDebugValue:zd,useDeferredValue:function(l){var h=Ba(l),c=h[0],y=h[1];return Oy(function(){var x=Gr.transition;Gr.transition=1;try{y(l)}finally{Gr.transition=x}},[l]),c},useTransition:function(){var l=Ba(!1),h=l[0];return Py(l=zA.bind(null,l[1])),[l,h]},useMutableSource:function(l,h,c){var y=gs();return y.memoizedState={refs:{getSnapshot:h,setSnapshot:null},source:l,subscribe:c},Ry(y,l,h,c)},useOpaqueIdentifier:function(){if(vn){var l=!1,h=ke(function(){throw l||(l=!0,c(gr())),Error(o(355))}),c=Ba(h)[1];return(2&Tt.mode)==0&&(Tt.flags|=516,Ju(5,function(){c(gr())},void 0,null)),h}return Ba(h=gr()),h},unstable_isNewReconciler:!1},HA={readContext:Br,useCallback:Ly,useContext:Br,useEffect:th,useImperativeHandle:Fy,useLayoutEffect:Ny,useMemo:ky,useReducer:ka,useRef:eh,useState:function(){return ka(mn)},useDebugValue:zd,useDeferredValue:function(l){var h=ka(mn),c=h[0],y=h[1];return th(function(){var x=Gr.transition;Gr.transition=1;try{y(l)}finally{Gr.transition=x}},[l]),c},useTransition:function(){var l=ka(mn)[0];return[eh().current,l]},useMutableSource:Iy,useOpaqueIdentifier:function(){return ka(mn)[0]},unstable_isNewReconciler:!1},XA={readContext:Br,useCallback:Ly,useContext:Br,useEffect:th,useImperativeHandle:Fy,useLayoutEffect:Ny,useMemo:ky,useReducer:Da,useRef:eh,useState:function(){return Da(mn)},useDebugValue:zd,useDeferredValue:function(l){var h=Da(mn),c=h[0],y=h[1];return th(function(){var x=Gr.transition;Gr.transition=1;try{y(l)}finally{Gr.transition=x}},[l]),c},useTransition:function(){var l=Da(mn)[0];return[eh().current,l]},useMutableSource:Iy,useOpaqueIdentifier:function(){return Da(mn)[0]},unstable_isNewReconciler:!1},VA=a.ReactCurrentOwner,en=!1;function Cr(l,h,c,y){h.child=l===null?Ey(h,null,c,y):qu(h,l.child,c,y)}function Dy(l,h,c,y,x){c=c.render;var w=h.ref;return yo(h,x),y=Bd(l,h,c,y,w,x),l===null||en?(h.flags|=1,Cr(l,h,y,x),h.child):(h.updateQueue=l.updateQueue,h.flags&=-517,l.lanes&=~x,Hn(l,h,x))}function By(l,h,c,y,x,w){if(l===null){var C=c.type;return typeof C!="function"||gp(C)||C.defaultProps!==void 0||c.compare!==null||c.defaultProps!==void 0?((l=bh(c.type,null,y,h,h.mode,w)).ref=h.ref,l.return=h,h.child=l):(h.tag=15,h.type=C,Uy(l,h,C,y,x,w))}return C=l.child,(x&w)==0&&(x=C.memoizedProps,(c=(c=c.compare)!==null?c:zu)(x,y)&&l.ref===h.ref)?Hn(l,h,w):(h.flags|=1,(l=Ri(C,y)).ref=h.ref,l.return=h,h.child=l)}function Uy(l,h,c,y,x,w){if(l!==null&&zu(l.memoizedProps,y)&&l.ref===h.ref){if(en=!1,(w&x)==0)return h.lanes=l.lanes,Hn(l,h,w);(16384&l.flags)!=0&&(en=!0)}return Hd(l,h,c,y,w)}function Gy(l,h,c){var y=h.pendingProps,x=y.children,w=l!==null?l.memoizedState:null;if(y.mode==="hidden"||y.mode==="unstable-defer-without-hiding")if((4&h.mode)==0)h.memoizedState={baseLanes:0},yh(h,c);else{if((1073741824&c)==0)return l=w!==null?w.baseLanes|c:c,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:l},yh(h,l),null;h.memoizedState={baseLanes:0},yh(h,w!==null?w.baseLanes:c)}else w!==null?(y=w.baseLanes|c,h.memoizedState=null):y=c,yh(h,y);return Cr(l,h,x,c),h.child}function zy(l,h){var c=h.ref;(l===null&&c!==null||l!==null&&l.ref!==c)&&(h.flags|=128)}function Hd(l,h,c,y,x){var w=_r(c)?ds:nr.current;return w=po(h,w),yo(h,x),c=Bd(l,h,c,y,w,x),l===null||en?(h.flags|=1,Cr(l,h,c,x),h.child):(h.updateQueue=l.updateQueue,h.flags&=-517,l.lanes&=~x,Hn(l,h,x))}function jy(l,h,c,y,x){if(_r(c)){var w=!0;Lu(h)}else w=!1;if(yo(h,x),h.stateNode===null)l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2),_y(h,c,y),Od(h,c,y,x),y=!0;else if(l===null){var C=h.stateNode,O=h.memoizedProps;C.props=O;var U=C.context,Q=c.contextType;typeof Q=="object"&&Q!==null?Q=Br(Q):Q=po(h,Q=_r(c)?ds:nr.current);var le=c.getDerivedStateFromProps,ge=typeof le=="function"||typeof C.getSnapshotBeforeUpdate=="function";ge||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==y||U!==Q)&&xy(h,C,y,Q),bi=!1;var J=h.memoizedState;C.state=J,Ia(h,y,C,x),U=h.memoizedState,O!==y||J!==U||yr.current||bi?(typeof le=="function"&&(Vu(h,c,le,y),U=h.memoizedState),(O=bi||yy(h,c,O,y,J,U,Q))?(ge||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(h.flags|=4)):(typeof C.componentDidMount=="function"&&(h.flags|=4),h.memoizedProps=y,h.memoizedState=U),C.props=y,C.state=U,C.context=Q,y=O):(typeof C.componentDidMount=="function"&&(h.flags|=4),y=!1)}else{C=h.stateNode,py(l,h),O=h.memoizedProps,Q=h.type===h.elementType?O:Jr(h.type,O),C.props=Q,ge=h.pendingProps,J=C.context,typeof(U=c.contextType)=="object"&&U!==null?U=Br(U):U=po(h,U=_r(c)?ds:nr.current);var et=c.getDerivedStateFromProps;(le=typeof et=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==ge||J!==U)&&xy(h,C,y,U),bi=!1,J=h.memoizedState,C.state=J,Ia(h,y,C,x);var ut=h.memoizedState;O!==ge||J!==ut||yr.current||bi?(typeof et=="function"&&(Vu(h,c,et,y),ut=h.memoizedState),(Q=bi||yy(h,c,Q,y,J,ut,U))?(le||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,ut,U),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,ut,U)),typeof C.componentDidUpdate=="function"&&(h.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(h.flags|=256)):(typeof C.componentDidUpdate!="function"||O===l.memoizedProps&&J===l.memoizedState||(h.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&J===l.memoizedState||(h.flags|=256),h.memoizedProps=y,h.memoizedState=ut),C.props=y,C.state=ut,C.context=U,y=Q):(typeof C.componentDidUpdate!="function"||O===l.memoizedProps&&J===l.memoizedState||(h.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===l.memoizedProps&&J===l.memoizedState||(h.flags|=256),y=!1)}return Xd(l,h,c,y,w,x)}function Xd(l,h,c,y,x,w){zy(l,h);var C=(64&h.flags)!=0;if(!y&&!C)return x&&ry(h,c,!1),Hn(l,h,w);y=h.stateNode,VA.current=h;var O=C&&typeof c.getDerivedStateFromError!="function"?null:y.render();return h.flags|=1,l!==null&&C?(h.child=qu(h,l.child,null,w),h.child=qu(h,null,O,w)):Cr(l,h,O,w),h.memoizedState=y.state,x&&ry(h,c,!0),h.child}function Hy(l){var h=l.stateNode;h.pendingContext?ey(0,h.pendingContext,h.pendingContext!==h.context):h.context&&ey(0,h.context,!1),Nd(l,h.containerInfo)}var Ua,Ga,nh,ih,Vd={dehydrated:null,retryLane:0};function Xy(l,h,c){var y,x=h.pendingProps,w=Et.current,C=!1;return(y=(64&h.flags)!=0)||(y=(l===null||l.memoizedState!==null)&&(2&w)!=0),y?(C=!0,h.flags&=-65):l!==null&&l.memoizedState===null||x.fallback===void 0||x.unstable_avoidThisFallback===!0||(w|=1),vt(Et,1&w),l===null?(x.fallback!==void 0&&Fd(h),l=x.children,w=x.fallback,C?(l=Vy(h,l,w,c),h.child.memoizedState={baseLanes:c},h.memoizedState=Vd,l):typeof x.unstable_expectedLoadTime=="number"?(l=Vy(h,l,w,c),h.child.memoizedState={baseLanes:c},h.memoizedState=Vd,h.lanes=33554432,l):((c=yp({mode:"visible",children:l},h.mode,c,null)).return=h,h.child=c)):(l.memoizedState,C?(x=WA(l,h,x.children,x.fallback,c),C=h.child,w=l.child.memoizedState,C.memoizedState=w===null?{baseLanes:c}:{baseLanes:w.baseLanes|c},C.childLanes=l.childLanes&~c,h.memoizedState=Vd,x):(c=$A(l,h,x.children,c),h.memoizedState=null,c))}function Vy(l,h,c,y){var x=l.mode,w=l.child;return h={mode:"hidden",children:h},(2&x)==0&&w!==null?(w.childLanes=0,w.pendingProps=h):w=yp(h,x,0,null),c=Ao(c,x,y,null),w.return=l,c.return=l,w.sibling=c,l.child=w,c}function $A(l,h,c,y){var x=l.child;return l=x.sibling,c=Ri(x,{mode:"visible",children:c}),(2&h.mode)==0&&(c.lanes=y),c.return=h,c.sibling=null,l!==null&&(l.nextEffect=null,l.flags=8,h.firstEffect=h.lastEffect=l),h.child=c}function WA(l,h,c,y,x){var w=h.mode,C=l.child;l=C.sibling;var O={mode:"hidden",children:c};return(2&w)==0&&h.child!==C?((c=h.child).childLanes=0,c.pendingProps=O,(C=c.lastEffect)!==null?(h.firstEffect=c.firstEffect,h.lastEffect=C,C.nextEffect=null):h.firstEffect=h.lastEffect=null):c=Ri(C,O),l!==null?y=Ri(l,y):(y=Ao(y,w,x,null)).flags|=2,y.return=h,c.return=h,c.sibling=y,h.child=c,y}function $y(l,h){l.lanes|=h;var c=l.alternate;c!==null&&(c.lanes|=h),dy(l.return,h)}function $d(l,h,c,y,x,w){var C=l.memoizedState;C===null?l.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:c,tailMode:x,lastEffect:w}:(C.isBackwards=h,C.rendering=null,C.renderingStartTime=0,C.last=y,C.tail=c,C.tailMode=x,C.lastEffect=w)}function Wy(l,h,c){var y=h.pendingProps,x=y.revealOrder,w=y.tail;if(Cr(l,h,y.children,c),(2&(y=Et.current))!=0)y=1&y|2,h.flags|=64;else{if(l!==null&&(64&l.flags)!=0)e:for(l=h.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&$y(l,c);else if(l.tag===19)$y(l,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===h)break e;for(;l.sibling===null;){if(l.return===null||l.return===h)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(vt(Et,y),(2&h.mode)==0)h.memoizedState=null;else switch(x){case"forwards":for(c=h.child,x=null;c!==null;)(l=c.alternate)!==null&&Zu(l)===null&&(x=c),c=c.sibling;(c=x)===null?(x=h.child,h.child=null):(x=c.sibling,c.sibling=null),$d(h,!1,x,c,w,h.lastEffect);break;case"backwards":for(c=null,x=h.child,h.child=null;x!==null;){if((l=x.alternate)!==null&&Zu(l)===null){h.child=x;break}l=x.sibling,x.sibling=c,c=x,x=l}$d(h,!0,c,null,w,h.lastEffect);break;case"together":$d(h,!1,null,null,void 0,h.lastEffect);break;default:h.memoizedState=null}return h.child}function Hn(l,h,c){if(l!==null&&(h.dependencies=l.dependencies),Ha|=h.lanes,(c&h.childLanes)!=0){if(l!==null&&h.child!==l.child)throw Error(o(153));if(h.child!==null){for(c=Ri(l=h.child,l.pendingProps),h.child=c,c.return=h;l.sibling!==null;)l=l.sibling,(c=c.sibling=Ri(l,l.pendingProps)).return=h;c.sibling=null}return h.child}return null}function gn(l){l.flags|=4}if(Ce)Ua=function(l,h){for(var c=h.child;c!==null;){if(c.tag===5||c.tag===6)H(l,c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break;for(;c.sibling===null;){if(c.return===null||c.return===h)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Ga=function(){},nh=function(l,h,c,y,x){if((l=l.memoizedProps)!==y){var w=h.stateNode,C=pn(Ur.current);c=pe(w,c,l,y,x,C),(h.updateQueue=c)&&gn(h)}},ih=function(l,h,c,y){c!==y&&gn(h)};else if(Se){Ua=function(l,h,c,y){for(var x=h.child;x!==null;){if(x.tag===5){var w=x.stateNode;c&&y&&(w=Z0(w,x.type,x.memoizedProps,x)),H(l,w)}else if(x.tag===6)w=x.stateNode,c&&y&&(w=Q0(w,x.memoizedProps,x)),H(l,w);else if(x.tag!==4){if(x.tag===13&&(4&x.flags)!=0&&(w=x.memoizedState!==null)){var C=x.child;if(C!==null&&(C.child!==null&&(C.child.return=C,Ua(l,C,!0,w)),(w=C.sibling)!==null)){w.return=x,x=w;continue}}if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};var Yy=function(l,h,c,y){for(var x=h.child;x!==null;){if(x.tag===5){var w=x.stateNode;c&&y&&(w=Z0(w,x.type,x.memoizedProps,x)),Y0(l,w)}else if(x.tag===6)w=x.stateNode,c&&y&&(w=Q0(w,x.memoizedProps,x)),Y0(l,w);else if(x.tag!==4){if(x.tag===13&&(4&x.flags)!=0&&(w=x.memoizedState!==null)){var C=x.child;if(C!==null&&(C.child!==null&&(C.child.return=C,Yy(l,C,!0,w)),(w=C.sibling)!==null)){w.return=x,x=w;continue}}if(x.child!==null){x.child.return=x,x=x.child;continue}}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;x=x.return}x.sibling.return=x.return,x=x.sibling}};Ga=function(l){var h=l.stateNode;if(l.firstEffect!==null){var c=h.containerInfo,y=W0(c);Yy(y,l,!1,!1),h.pendingChildren=y,gn(l),TA(c,y)}},nh=function(l,h,c,y,x){var w=l.stateNode,C=l.memoizedProps;if((l=h.firstEffect===null)&&C===y)h.stateNode=w;else{var O=h.stateNode,U=pn(Ur.current),Q=null;C!==y&&(Q=pe(O,c,C,y,x,U)),l&&Q===null?h.stateNode=w:(w=EA(w,Q,c,C,y,h,l,O),se(w,c,y,x,U)&&gn(h),h.stateNode=w,l?gn(h):Ua(w,h,!1,!1))}},ih=function(l,h,c,y){c!==y?(l=pn(_o.current),c=pn(Ur.current),h.stateNode=Ie(y,l,c,h),gn(h)):h.stateNode=l.stateNode}}else Ga=function(){},nh=function(){},ih=function(){};function za(l,h){if(!vn)switch(l.tailMode){case"hidden":h=l.tail;for(var c=null;h!==null;)h.alternate!==null&&(c=h),h=h.sibling;c===null?l.tail=null:c.sibling=null;break;case"collapsed":c=l.tail;for(var y=null;c!==null;)c.alternate!==null&&(y=c),c=c.sibling;y===null?h||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function YA(l,h,c){var y=h.pendingProps;switch(h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return _r(h.type)&&Fu(),null;case 3:return xo(),at(yr),at(nr),kd(),(y=h.stateNode).pendingContext&&(y.context=y.pendingContext,y.pendingContext=null),l!==null&&l.child!==null||(Qu(h)?gn(h):y.hydrate||(h.flags|=256)),Ga(h),null;case 5:Md(h);var x=pn(_o.current);if(c=h.type,l!==null&&h.stateNode!=null)nh(l,h,c,y,x),l.ref!==h.ref&&(h.flags|=128);else{if(!y){if(h.stateNode===null)throw Error(o(166));return null}if(l=pn(Ur.current),Qu(h)){if(!Ye)throw Error(o(175));l=RA(h.stateNode,h.type,h.memoizedProps,x,l,h),h.updateQueue=l,l!==null&&gn(h)}else{var w=z(c,y,x,l,h);Ua(w,h,!1,!1),h.stateNode=w,se(w,c,y,x,l)&&gn(h)}h.ref!==null&&(h.flags|=128)}return null;case 6:if(l&&h.stateNode!=null)ih(l,h,l.memoizedProps,y);else{if(typeof y!="string"&&h.stateNode===null)throw Error(o(166));if(l=pn(_o.current),x=pn(Ur.current),Qu(h)){if(!Ye)throw Error(o(176));IA(h.stateNode,h.memoizedProps,h)&&gn(h)}else h.stateNode=Ie(y,l,x,h)}return null;case 13:return at(Et),y=h.memoizedState,(64&h.flags)!=0?(h.lanes=c,h):(y=y!==null,x=!1,l===null?h.memoizedProps.fallback!==void 0&&Qu(h):x=l.memoizedState!==null,y&&!x&&(2&h.mode)!=0&&(l===null&&h.memoizedProps.unstable_avoidThisFallback!==!0||(1&Et.current)!=0?Wt===0&&(Wt=3):(Wt!==0&&Wt!==3||(Wt=4),hr===null||(134217727&Ha)==0&&(134217727&To)==0||wo(hr,ir))),Se&&y&&(h.flags|=4),Ce&&(y||x)&&(h.flags|=4),null);case 4:return xo(),Ga(h),l===null&&Pu(h.stateNode.containerInfo),null;case 10:return Id(h),null;case 17:return _r(h.type)&&Fu(),null;case 19:if(at(Et),(y=h.memoizedState)===null)return null;if(x=(64&h.flags)!=0,(w=y.rendering)===null)if(x)za(y,!1);else{if(Wt!==0||l!==null&&(64&l.flags)!=0)for(l=h.child;l!==null;){if((w=Zu(l))!==null){for(h.flags|=64,za(y,!1),(l=w.updateQueue)!==null&&(h.updateQueue=l,h.flags|=4),y.lastEffect===null&&(h.firstEffect=null),h.lastEffect=y.lastEffect,l=c,y=h.child;y!==null;)c=l,(x=y).flags&=2,x.nextEffect=null,x.firstEffect=null,x.lastEffect=null,(w=x.alternate)===null?(x.childLanes=0,x.lanes=c,x.child=null,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=w.childLanes,x.lanes=w.lanes,x.child=w.child,x.memoizedProps=w.memoizedProps,x.memoizedState=w.memoizedState,x.updateQueue=w.updateQueue,x.type=w.type,c=w.dependencies,x.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),y=y.sibling;return vt(Et,1&Et.current|2),h.child}l=l.sibling}y.tail!==null&&Vt()>lp&&(h.flags|=64,x=!0,za(y,!1),h.lanes=33554432)}else{if(!x)if((l=Zu(w))!==null){if(h.flags|=64,x=!0,(l=l.updateQueue)!==null&&(h.updateQueue=l,h.flags|=4),za(y,!0),y.tail===null&&y.tailMode==="hidden"&&!w.alternate&&!vn)return(h=h.lastEffect=y.lastEffect)!==null&&(h.nextEffect=null),null}else 2*Vt()-y.renderingStartTime>lp&&c!==1073741824&&(h.flags|=64,x=!0,za(y,!1),h.lanes=33554432);y.isBackwards?(w.sibling=h.child,h.child=w):((l=y.last)!==null?l.sibling=w:h.child=w,y.last=w)}return y.tail!==null?(l=y.tail,y.rendering=l,y.tail=l.sibling,y.lastEffect=h.lastEffect,y.renderingStartTime=Vt(),l.sibling=null,h=Et.current,vt(Et,x?1&h|2:1&h),l):null;case 23:case 24:return pp(),l!==null&&l.memoizedState!==null!=(h.memoizedState!==null)&&y.mode!=="unstable-defer-without-hiding"&&(h.flags|=4),null}throw Error(o(156,h.tag))}function qA(l){switch(l.tag){case 1:_r(l.type)&&Fu();var h=l.flags;return 4096&h?(l.flags=-4097&h|64,l):null;case 3:if(xo(),at(yr),at(nr),kd(),(64&(h=l.flags))!=0)throw Error(o(285));return l.flags=-4097&h|64,l;case 5:return Md(l),null;case 13:return at(Et),4096&(h=l.flags)?(l.flags=-4097&h|64,l):null;case 19:return at(Et),null;case 4:return xo(),null;case 10:return Id(l),null;case 23:case 24:return pp(),null;default:return null}}function Wd(l,h){try{var c="",y=h;do c+=GA(y),y=y.return;while(y);var x=c}catch(w){x=`
Error generating stack: `+w.message+`
`+w.stack}return{value:l,source:h,stack:x}}function Yd(l,h){try{console.error(h.value)}catch(c){setTimeout(function(){throw c})}}var ZA=typeof WeakMap=="function"?WeakMap:Map;function qy(l,h,c){(c=Ei(-1,c)).tag=3,c.payload={element:null};var y=h.value;return c.callback=function(){ph||(ph=!0,up=y),Yd(0,h)},c}function Zy(l,h,c){(c=Ei(-1,c)).tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var x=h.value;c.payload=function(){return Yd(0,h),y(x)}}var w=l.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(c.callback=function(){typeof y!="function"&&(yn===null?yn=new Set([this]):yn.add(this),Yd(0,h));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})}),c}var QA=typeof WeakSet=="function"?WeakSet:Set;function Qy(l){var h=l.ref;if(h!==null)if(typeof h=="function")try{h(null)}catch(c){Ci(l,c)}else h.current=null}function KA(l,h){switch(h.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&h.flags&&l!==null){var c=l.memoizedProps,y=l.memoizedState;h=(l=h.stateNode).getSnapshotBeforeUpdate(h.elementType===h.type?c:Jr(h.type,c),y),l.__reactInternalSnapshotBeforeUpdate=h}return;case 3:return void(Ce&&256&h.flags&&gd(h.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function Ky(l,h){if((h=(h=h.updateQueue)!==null?h.lastEffect:null)!==null){var c=h=h.next;do{if((c.tag&l)===l){var y=c.destroy;c.destroy=void 0,y!==void 0&&y()}c=c.next}while(c!==h)}}function JA(l,h,c){switch(c.tag){case 0:case 11:case 15:case 22:if((h=(h=c.updateQueue)!==null?h.lastEffect:null)!==null){l=h=h.next;do{if((3&l.tag)==3){var y=l.create;l.destroy=y()}l=l.next}while(l!==h)}if((h=(h=c.updateQueue)!==null?h.lastEffect:null)!==null){l=h=h.next;do{var x=l;y=x.next,(4&(x=x.tag))!=0&&(1&x)!=0&&(m_(c,l),oC(c,l)),l=y}while(l!==h)}return;case 1:return l=c.stateNode,4&c.flags&&(h===null?l.componentDidMount():(y=c.elementType===c.type?h.memoizedProps:Jr(c.type,h.memoizedProps),l.componentDidUpdate(y,h.memoizedState,l.__reactInternalSnapshotBeforeUpdate))),void((h=c.updateQueue)!==null&&my(c,h,l));case 3:if((h=c.updateQueue)!==null){if(l=null,c.child!==null)switch(c.child.tag){case 5:l=Ae(c.child.stateNode);break;case 1:l=c.child.stateNode}my(c,h,l)}return;case 5:return l=c.stateNode,void(h===null&&4&c.flags&&cA(l,c.type,c.memoizedProps,c));case 6:case 4:case 12:return;case 13:return void(Ye&&c.memoizedState===null&&(c=c.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&OA(c)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function Jy(l,h){if(Ce)for(var c=l;;){if(c.tag===5){var y=c.stateNode;h?yA(y):xA(c.stateNode,c.memoizedProps)}else if(c.tag===6)y=c.stateNode,h?_A(y):bA(y,c.memoizedProps);else if((c.tag!==23&&c.tag!==24||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return;c=c.return}c.sibling.return=c.return,c=c.sibling}}function e_(l,h){if(ps&&typeof ps.onCommitFiberUnmount=="function")try{ps.onCommitFiberUnmount(bd,h)}catch{}switch(h.tag){case 0:case 11:case 14:case 15:case 22:if((l=h.updateQueue)!==null&&(l=l.lastEffect)!==null){var c=l=l.next;do{var y=c,x=y.destroy;if(y=y.tag,x!==void 0)if((4&y)!=0)m_(h,c);else{y=h;try{x()}catch(w){Ci(y,w)}}c=c.next}while(c!==l)}break;case 1:if(Qy(h),typeof(l=h.stateNode).componentWillUnmount=="function")try{l.props=h.memoizedProps,l.state=h.memoizedState,l.componentWillUnmount()}catch(w){Ci(h,w)}break;case 5:Qy(h);break;case 4:Ce?s_(l,h):Se&&Se&&(h=h.stateNode.containerInfo,l=W0(h),q0(h,l))}}function t_(l,h){for(var c=h;;)if(e_(l,c),c.child===null||Ce&&c.tag===4){if(c===h)break;for(;c.sibling===null;){if(c.return===null||c.return===h)return;c=c.return}c.sibling.return=c.return,c=c.sibling}else c.child.return=c,c=c.child}function r_(l){l.alternate=null,l.child=null,l.dependencies=null,l.firstEffect=null,l.lastEffect=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.return=null,l.updateQueue=null}function n_(l){return l.tag===5||l.tag===3||l.tag===4}function i_(l){if(Ce){e:{for(var h=l.return;h!==null;){if(n_(h))break e;h=h.return}throw Error(o(160))}var c=h;switch(h=c.stateNode,c.tag){case 5:var y=!1;break;case 3:case 4:h=h.containerInfo,y=!0;break;default:throw Error(o(161))}16&c.flags&&($0(h),c.flags&=-17);e:t:for(c=l;;){for(;c.sibling===null;){if(c.return===null||n_(c.return)){c=null;break e}c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(2&c.flags||c.child===null||c.tag===4)continue t;c.child.return=c,c=c.child}if(!(2&c.flags)){c=c.stateNode;break e}}y?qd(l,c,h):Zd(l,c,h)}}function qd(l,h,c){var y=l.tag,x=y===5||y===6;if(x)l=x?l.stateNode:l.stateNode.instance,h?vA(c,l,h):hA(c,l);else if(y!==4&&(l=l.child)!==null)for(qd(l,h,c),l=l.sibling;l!==null;)qd(l,h,c),l=l.sibling}function Zd(l,h,c){var y=l.tag,x=y===5||y===6;if(x)l=x?l.stateNode:l.stateNode.instance,h?pA(c,l,h):uA(c,l);else if(y!==4&&(l=l.child)!==null)for(Zd(l,h,c),l=l.sibling;l!==null;)Zd(l,h,c),l=l.sibling}function s_(l,h){for(var c,y,x=h,w=!1;;){if(!w){w=x.return;e:for(;;){if(w===null)throw Error(o(160));switch(c=w.stateNode,w.tag){case 5:y=!1;break e;case 3:case 4:c=c.containerInfo,y=!0;break e}w=w.return}w=!0}if(x.tag===5||x.tag===6)t_(l,x),y?gA(c,x.stateNode):mA(c,x.stateNode);else if(x.tag===4){if(x.child!==null){c=x.stateNode.containerInfo,y=!0,x.child.return=x,x=x.child;continue}}else if(e_(l,x),x.child!==null){x.child.return=x,x=x.child;continue}if(x===h)break;for(;x.sibling===null;){if(x.return===null||x.return===h)return;(x=x.return).tag===4&&(w=!1)}x.sibling.return=x.return,x=x.sibling}}function Qd(l,h){if(Ce){switch(h.tag){case 0:case 11:case 14:case 15:case 22:return void Ky(3,h);case 1:return;case 5:var c=h.stateNode;if(c!=null){var y=h.memoizedProps;l=l!==null?l.memoizedProps:y;var x=h.type,w=h.updateQueue;h.updateQueue=null,w!==null&&dA(c,w,x,l,y,h)}return;case 6:if(h.stateNode===null)throw Error(o(162));return c=h.memoizedProps,void fA(h.stateNode,l!==null?l.memoizedProps:c,c);case 3:return void(Ye&&(h=h.stateNode,h.hydrate&&(h.hydrate=!1,J0(h.containerInfo))));case 12:return;case 13:return o_(h),void sh(h);case 19:return void sh(h);case 17:return;case 23:case 24:return void Jy(h,h.memoizedState!==null)}throw Error(o(163))}switch(h.tag){case 0:case 11:case 14:case 15:case 22:return void Ky(3,h);case 12:return;case 13:return o_(h),void sh(h);case 19:return void sh(h);case 3:Ye&&(c=h.stateNode).hydrate&&(c.hydrate=!1,J0(c.containerInfo));break;case 23:case 24:return}e:if(Se){switch(h.tag){case 1:case 5:case 6:case 20:break e;case 3:case 4:h=h.stateNode,q0(h.containerInfo,h.pendingChildren);break e}throw Error(o(163))}}function o_(l){l.memoizedState!==null&&(ap=Vt(),Ce&&Jy(l.child,!0))}function sh(l){var h=l.updateQueue;if(h!==null){l.updateQueue=null;var c=l.stateNode;c===null&&(c=l.stateNode=new QA),h.forEach(function(y){var x=uC.bind(null,l,y);c.has(y)||(c.add(y),y.then(x,x))})}}function eC(l,h){return l!==null&&((l=l.memoizedState)===null||l.dehydrated!==null)&&(h=h.memoizedState)!==null&&h.dehydrated===null}var oh=0,ah=1,lh=2,uh=3,hh=4;if(typeof Symbol=="function"&&Symbol.for){var ja=Symbol.for;oh=ja("selector.component"),ah=ja("selector.has_pseudo_class"),lh=ja("selector.role"),uh=ja("selector.test_id"),hh=ja("selector.text")}function Kd(l){var h=rr(l);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(o(364));return h}if((l=Ou(l))===null)throw Error(o(362));return l.stateNode.current}function Jd(l,h){switch(h.$$typeof){case oh:if(l.type===h.value)return!0;break;case ah:e:{h=h.value,l=[l,0];for(var c=0;c<l.length;){var y=l[c++],x=l[c++],w=h[x];if(y.tag!==5||!Sa(y)){for(;w!=null&&Jd(y,w);)w=h[++x];if(x===h.length){h=!0;break e}for(y=y.child;y!==null;)l.push(y,x),y=y.sibling}}h=!1}return h;case lh:if(l.tag===5&&oA(l.stateNode,h.value))return!0;break;case hh:if((l.tag===5||l.tag===6)&&(l=sA(l))!==null&&0<=l.indexOf(h.value))return!0;break;case uh:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===h.value.toLowerCase())return!0;break;default:throw Error(o(365,h))}return!1}function ep(l){switch(l.$$typeof){case oh:return"<"+(X(l.value)||"Unknown")+">";case ah:return":has("+(ep(l)||"")+")";case lh:return'[role="'+l.value+'"]';case hh:return'"'+l.value+'"';case uh:return'[data-testname="'+l.value+'"]';default:throw Error(o(365,l))}}function a_(l,h){var c=[];l=[l,0];for(var y=0;y<l.length;){var x=l[y++],w=l[y++],C=h[w];if(x.tag!==5||!Sa(x)){for(;C!=null&&Jd(x,C);)C=h[++w];if(w===h.length)c.push(x);else for(x=x.child;x!==null;)l.push(x,w),x=x.sibling}}return c}function tp(l,h){if(!gi)throw Error(o(363));l=a_(l=Kd(l),h),h=[],l=Array.from(l);for(var c=0;c<l.length;){var y=l[c++];if(y.tag===5)Sa(y)||h.push(y.stateNode);else for(y=y.child;y!==null;)l.push(y),y=y.sibling}return h}var fh=null,tC=Math.ceil,ch=a.ReactCurrentDispatcher,rp=a.ReactCurrentOwner,np=a.IsSomeRendererActing,_e=0,hr=null,Nt=null,ir=0,_s=0,ip=yi(0),Wt=0,dh=null,Eo=0,Ha=0,To=0,sp=0,op=null,ap=0,lp=1/0;function wi(){lp=Vt()+500}var l_,re=null,ph=!1,up=null,yn=null,Si=!1,Xa=null,Va=90,hp=[],fp=[],Xn=null,$a=0,cp=null,vh=-1,Vn=0,mh=0,Wa=null,Ya=!1;function br(){return(48&_e)!=0?Vt():vh!==-1?vh:vh=Vt()}function Ai(l){if((2&(l=l.mode))==0)return 1;if((4&l)==0)return mo()===99?1:2;if(Vn===0&&(Vn=Eo),BA.transition!==0){mh!==0&&(mh=op!==null?op.pendingLanes:0),l=Vn;var h=4186112&~mh;return(h&=-h)===0&&(h=(l=4186112&~l)&-l)===0&&(h=8192),h}return l=mo(),(4&_e)!=0&&l===98?l=Du(12,Vn):l=Du(l=function(c){switch(c){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(l),Vn),l}function $n(l,h,c){if(50<$a)throw $a=0,cp=null,Error(o(185));if((l=gh(l,h))===null)return null;Bu(l,h,c),l===hr&&(To|=h,Wt===4&&wo(l,ir));var y=mo();h===1?(8&_e)!=0&&(48&_e)==0?dp(l):(Rr(l,c),_e===0&&(wi(),kr())):((4&_e)==0||y!==98&&y!==99||(Xn===null?Xn=new Set([l]):Xn.add(l)),Rr(l,c)),op=l}function gh(l,h){l.lanes|=h;var c=l.alternate;for(c!==null&&(c.lanes|=h),c=l,l=l.return;l!==null;)l.childLanes|=h,(c=l.alternate)!==null&&(c.childLanes|=h),c=l,l=l.return;return c.tag===3?c.stateNode:null}function Rr(l,h){for(var c=l.callbackNode,y=l.suspendedLanes,x=l.pingedLanes,w=l.expirationTimes,C=l.pendingLanes;0<C;){var O=31-xi(C),U=1<<O,Q=w[O];if(Q===-1){if((U&y)==0||(U&x)!=0){Q=h,vs(U);var le=qe;w[O]=10<=le?Q+250:6<=le?Q+5e3:-1}}else Q<=h&&(l.expiredLanes|=U);C&=~U}if(y=Ca(l,l===hr?ir:0),h=qe,y===0)c!==null&&(c!==Ad&&wd(c),l.callbackNode=null,l.callbackPriority=0);else{if(c!==null){if(l.callbackPriority===h)return;c!==Ad&&wd(c)}h===15?(c=dp.bind(null,l),Gn===null?(Gn=[c],Gu=Td(Uu,fy)):Gn.push(c),c=Ad):h===14?c=Ra(99,dp.bind(null,l)):c=Ra(c=function(ge){switch(ge){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,ge))}}(h),u_.bind(null,l)),l.callbackPriority=h,l.callbackNode=c}}function u_(l){if(vh=-1,mh=Vn=0,(48&_e)!=0)throw Error(o(327));var h=l.callbackNode;if(Wn()&&l.callbackNode!==h)return null;var c=Ca(l,l===hr?ir:0);if(c===0)return null;var y=c,x=_e;_e|=16;var w=d_();for(hr===l&&ir===y||(wi(),So(l,y));;)try{nC();break}catch(O){c_(l,O)}if(Rd(),ch.current=w,_e=x,Nt!==null?y=0:(hr=null,ir=0,y=Wt),(Eo&To)!=0)So(l,0);else if(y!==0){if(y===2&&(_e|=64,l.hydrate&&(l.hydrate=!1,gd(l.containerInfo)),(c=ny(l))!==0&&(y=qa(l,c))),y===1)throw h=dh,So(l,0),wo(l,c),Rr(l,Vt()),h;switch(l.finishedWork=l.current.alternate,l.finishedLanes=c,y){case 0:case 1:throw Error(o(345));case 2:xs(l);break;case 3:if(wo(l,c),(62914560&c)===c&&10<(y=ap+500-Vt())){if(Ca(l,0)!==0)break;if(((x=l.suspendedLanes)&c)!==c){br(),l.pingedLanes|=l.suspendedLanes&x;break}l.timeoutHandle=Me(xs.bind(null,l),y);break}xs(l);break;case 4:if(wo(l,c),(4186112&c)===c)break;for(y=l.eventTimes,x=-1;0<c;){var C=31-xi(c);w=1<<C,(C=y[C])>x&&(x=C),c&=~w}if(c=x,10<(c=(120>(c=Vt()-c)?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*tC(c/1960))-c)){l.timeoutHandle=Me(xs.bind(null,l),c);break}xs(l);break;case 5:xs(l);break;default:throw Error(o(329))}}return Rr(l,Vt()),l.callbackNode===h?u_.bind(null,l):null}function wo(l,h){for(h&=~sp,h&=~To,l.suspendedLanes|=h,l.pingedLanes&=~h,l=l.expirationTimes;0<h;){var c=31-xi(h),y=1<<c;l[c]=-1,h&=~y}}function dp(l){if((48&_e)!=0)throw Error(o(327));if(Wn(),l===hr&&(l.expiredLanes&ir)!=0){var h=ir,c=qa(l,h);(Eo&To)!=0&&(c=qa(l,h=Ca(l,h)))}else c=qa(l,h=Ca(l,0));if(l.tag!==0&&c===2&&(_e|=64,l.hydrate&&(l.hydrate=!1,gd(l.containerInfo)),(h=ny(l))!==0&&(c=qa(l,h))),c===1)throw c=dh,So(l,0),wo(l,h),Rr(l,Vt()),c;return l.finishedWork=l.current.alternate,l.finishedLanes=h,xs(l),Rr(l,Vt()),null}function h_(l,h){var c=_e;_e|=1;try{return l(h)}finally{(_e=c)===0&&(wi(),kr())}}function f_(l,h){var c=_e;if((48&c)!=0)return l(h);_e|=1;try{if(l)return zn(99,l.bind(null,h))}finally{_e=c,kr()}}function yh(l,h){vt(ip,_s),_s|=h,Eo|=h}function pp(){_s=ip.current,at(ip)}function So(l,h){l.finishedWork=null,l.finishedLanes=0;var c=l.timeoutHandle;if(c!==Le&&(l.timeoutHandle=Le,Ue(c)),Nt!==null)for(c=Nt.return;c!==null;){var y=c;switch(y.tag){case 1:(y=y.type.childContextTypes)!=null&&Fu();break;case 3:xo(),at(yr),at(nr),kd();break;case 5:Md(y);break;case 4:xo();break;case 13:case 19:at(Et);break;case 10:Id(y);break;case 23:case 24:pp()}c=c.return}hr=l,Nt=Ri(l.current,null),ir=_s=Eo=h,Wt=0,dh=null,sp=To=Ha=0}function c_(l,h){for(;;){var c=Nt;try{if(Rd(),Ma.current=rh,Ku){for(var y=Tt.memoizedState;y!==null;){var x=y.queue;x!==null&&(x.pending=null),y=y.next}Ku=!1}if(Fa=0,$t=ur=Tt=null,La=!1,rp.current=null,c===null||c.return===null){Wt=1,dh=h,Nt=null;break}e:{var w=l,C=c.return,O=c,U=h;if(h=ir,O.flags|=2048,O.firstEffect=O.lastEffect=null,U!==null&&typeof U=="object"&&typeof U.then=="function"){var Q=U;if((2&O.mode)==0){var le=O.alternate;le?(O.updateQueue=le.updateQueue,O.memoizedState=le.memoizedState,O.lanes=le.lanes):(O.updateQueue=null,O.memoizedState=null)}var ge=(1&Et.current)!=0,J=C;do{var et;if(et=J.tag===13){var ut=J.memoizedState;if(ut!==null)et=ut.dehydrated!==null;else{var jr=J.memoizedProps;et=jr.fallback!==void 0&&(jr.unstable_avoidThisFallback!==!0||!ge)}}if(et){var D=J.updateQueue;if(D===null){var F=new Set;F.add(Q),J.updateQueue=F}else D.add(Q);if((2&J.mode)==0){if(J.flags|=64,O.flags|=16384,O.flags&=-2981,O.tag===1)if(O.alternate===null)O.tag=17;else{var G=Ei(-1,1);G.tag=2,Ti(O,G)}O.lanes|=1;break e}U=void 0,O=h;var ee=w.pingCache;if(ee===null?(ee=w.pingCache=new ZA,U=new Set,ee.set(Q,U)):(U=ee.get(Q))===void 0&&(U=new Set,ee.set(Q,U)),!U.has(O)){U.add(O);var fe=lC.bind(null,w,Q,O);Q.then(fe,fe)}J.flags|=4096,J.lanes=h;break e}J=J.return}while(J!==null);U=Error((X(O.type)||"A React component")+` suspended while rendering, but no fallback UI was specified.

Add a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.`)}Wt!==5&&(Wt=2),U=Wd(U,O),J=C;do{switch(J.tag){case 3:w=U,J.flags|=4096,h&=-h,J.lanes|=h,vy(J,qy(0,w,h));break e;case 1:w=U;var Ze=J.type,xe=J.stateNode;if((64&J.flags)==0&&(typeof Ze.getDerivedStateFromError=="function"||xe!==null&&typeof xe.componentDidCatch=="function"&&(yn===null||!yn.has(xe)))){J.flags|=4096,h&=-h,J.lanes|=h,vy(J,Zy(J,w,h));break e}}J=J.return}while(J!==null)}v_(c)}catch(He){h=He,Nt===c&&c!==null&&(Nt=c=c.return);continue}break}}function d_(){var l=ch.current;return ch.current=rh,l===null?rh:l}function qa(l,h){var c=_e;_e|=16;var y=d_();for(hr===l&&ir===h||So(l,h);;)try{rC();break}catch(x){c_(l,x)}if(Rd(),_e=c,ch.current=y,Nt!==null)throw Error(o(261));return hr=null,ir=0,Wt}function rC(){for(;Nt!==null;)p_(Nt)}function nC(){for(;Nt!==null&&!LA();)p_(Nt)}function p_(l){var h=l_(l.alternate,l,_s);l.memoizedProps=l.pendingProps,h===null?v_(l):Nt=h,rp.current=null}function v_(l){var h=l;do{var c=h.alternate;if(l=h.return,(2048&h.flags)==0){if((c=YA(c,h,_s))!==null)return void(Nt=c);if((c=h).tag!==24&&c.tag!==23||c.memoizedState===null||(1073741824&_s)!=0||(4&c.mode)==0){for(var y=0,x=c.child;x!==null;)y|=x.lanes|x.childLanes,x=x.sibling;c.childLanes=y}l!==null&&(2048&l.flags)==0&&(l.firstEffect===null&&(l.firstEffect=h.firstEffect),h.lastEffect!==null&&(l.lastEffect!==null&&(l.lastEffect.nextEffect=h.firstEffect),l.lastEffect=h.lastEffect),1<h.flags&&(l.lastEffect!==null?l.lastEffect.nextEffect=h:l.firstEffect=h,l.lastEffect=h))}else{if((c=qA(h))!==null)return c.flags&=2047,void(Nt=c);l!==null&&(l.firstEffect=l.lastEffect=null,l.flags|=2048)}if((h=h.sibling)!==null)return void(Nt=h);Nt=h=l}while(h!==null);Wt===0&&(Wt=5)}function xs(l){var h=mo();return zn(99,iC.bind(null,l,h)),null}function iC(l,h){do Wn();while(Xa!==null);if((48&_e)!=0)throw Error(o(327));var c=l.finishedWork;if(c===null)return null;if(l.finishedWork=null,l.finishedLanes=0,c===l.current)throw Error(o(177));l.callbackNode=null;var y=c.lanes|c.childLanes,x=y,w=l.pendingLanes&~x;l.pendingLanes=x,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=x,l.mutableReadLanes&=x,l.entangledLanes&=x,x=l.entanglements;for(var C=l.eventTimes,O=l.expirationTimes;0<w;){var U=31-xi(w),Q=1<<U;x[U]=0,C[U]=-1,O[U]=-1,w&=~Q}if(Xn!==null&&(24&y)==0&&Xn.has(l)&&Xn.delete(l),l===hr&&(Nt=hr=null,ir=0),1<c.flags?c.lastEffect!==null?(c.lastEffect.nextEffect=c,y=c.firstEffect):y=c:y=c.firstEffect,y!==null){x=_e,_e|=32,rp.current=null,Wa=M(l.containerInfo),Ya=!1,re=y;do try{sC()}catch(F){if(re===null)throw Error(o(330));Ci(re,F),re=re.nextEffect}while(re!==null);Wa=null,re=y;do try{for(C=l;re!==null;){var le=re.flags;if(16&le&&Ce&&$0(re.stateNode),128&le){var ge=re.alternate;if(ge!==null){var J=ge.ref;J!==null&&(typeof J=="function"?J(null):J.current=null)}}switch(1038&le){case 2:i_(re),re.flags&=-3;break;case 6:i_(re),re.flags&=-3,Qd(re.alternate,re);break;case 1024:re.flags&=-1025;break;case 1028:re.flags&=-1025,Qd(re.alternate,re);break;case 4:Qd(re.alternate,re);break;case 8:O=C,w=re,Ce?s_(O,w):t_(O,w);var et=w.alternate;r_(w),et!==null&&r_(et)}re=re.nextEffect}}catch(F){if(re===null)throw Error(o(330));Ci(re,F),re=re.nextEffect}while(re!==null);Ya&&fo(),L(l.containerInfo),l.current=c,re=y;do try{for(le=l;re!==null;){var ut=re.flags;if(36&ut&&JA(le,re.alternate,re),128&ut){ge=void 0;var jr=re.ref;if(jr!==null){var D=re.stateNode;switch(re.tag){case 5:ge=Ae(D);break;default:ge=D}typeof jr=="function"?jr(ge):jr.current=ge}}re=re.nextEffect}}catch(F){if(re===null)throw Error(o(330));Ci(re,F),re=re.nextEffect}while(re!==null);re=null,DA(),_e=x}else l.current=c;if(Si)Si=!1,Xa=l,Va=h;else for(re=y;re!==null;)h=re.nextEffect,re.nextEffect=null,8&re.flags&&((ut=re).sibling=null,ut.stateNode=null),re=h;if((y=l.pendingLanes)===0&&(yn=null),y===1?l===cp?$a++:($a=0,cp=l):$a=0,c=c.stateNode,ps&&typeof ps.onCommitFiberRoot=="function")try{ps.onCommitFiberRoot(bd,c,void 0,(64&c.current.flags)==64)}catch{}if(Rr(l,Vt()),ph)throw ph=!1,l=up,up=null,l;return(8&_e)!=0||kr(),null}function sC(){for(;re!==null;){var l=re.alternate;Ya||Wa===null||((8&re.flags)!=0?V(re,Wa)&&(Ya=!0,Un()):re.tag===13&&eC(l,re)&&V(re,Wa)&&(Ya=!0,Un()));var h=re.flags;(256&h)!=0&&KA(l,re),(512&h)==0||Si||(Si=!0,Ra(97,function(){return Wn(),null})),re=re.nextEffect}}function Wn(){if(Va!==90){var l=97<Va?97:Va;return Va=90,zn(l,aC)}return!1}function oC(l,h){hp.push(h,l),Si||(Si=!0,Ra(97,function(){return Wn(),null}))}function m_(l,h){fp.push(h,l),Si||(Si=!0,Ra(97,function(){return Wn(),null}))}function aC(){if(Xa===null)return!1;var l=Xa;if(Xa=null,(48&_e)!=0)throw Error(o(331));var h=_e;_e|=32;var c=fp;fp=[];for(var y=0;y<c.length;y+=2){var x=c[y],w=c[y+1],C=x.destroy;if(x.destroy=void 0,typeof C=="function")try{C()}catch(U){if(w===null)throw Error(o(330));Ci(w,U)}}for(c=hp,hp=[],y=0;y<c.length;y+=2){x=c[y],w=c[y+1];try{var O=x.create;x.destroy=O()}catch(U){if(w===null)throw Error(o(330));Ci(w,U)}}for(O=l.current.firstEffect;O!==null;)l=O.nextEffect,O.nextEffect=null,8&O.flags&&(O.sibling=null,O.stateNode=null),O=l;return _e=h,kr(),!0}function g_(l,h,c){Ti(l,h=qy(0,h=Wd(c,h),1)),h=br(),(l=gh(l,1))!==null&&(Bu(l,1,h),Rr(l,h))}function Ci(l,h){if(l.tag===3)g_(l,l,h);else for(var c=l.return;c!==null;){if(c.tag===3){g_(c,l,h);break}if(c.tag===1){var y=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(yn===null||!yn.has(y))){var x=Zy(c,l=Wd(h,l),1);if(Ti(c,x),x=br(),(c=gh(c,1))!==null)Bu(c,1,x),Rr(c,x);else if(typeof y.componentDidCatch=="function"&&(yn===null||!yn.has(y)))try{y.componentDidCatch(h,l)}catch{}break}}c=c.return}}function lC(l,h,c){var y=l.pingCache;y!==null&&y.delete(h),h=br(),l.pingedLanes|=l.suspendedLanes&c,hr===l&&(ir&c)===c&&(Wt===4||Wt===3&&(62914560&ir)===ir&&500>Vt()-ap?So(l,0):sp|=c),Rr(l,h)}function uC(l,h){var c=l.stateNode;c!==null&&c.delete(h),(h=0)==0&&((2&(h=l.mode))==0?h=1:(4&h)==0?h=mo()===99?1:2:(Vn===0&&(Vn=Eo),(h=vo(62914560&~Vn))===0&&(h=4194304))),c=br(),(l=gh(l,h))!==null&&(Bu(l,h,c),Rr(l,c))}l_=function(l,h,c){var y=h.lanes;if(l!==null)if(l.memoizedProps!==h.pendingProps||yr.current)en=!0;else{if((c&y)==0){switch(en=!1,h.tag){case 3:Hy(h),Ld();break;case 5:Ty(h);break;case 1:_r(h.type)&&Lu(h);break;case 4:Nd(h,h.stateNode.containerInfo);break;case 10:cy(h,h.memoizedProps.value);break;case 13:if(h.memoizedState!==null)return(c&h.child.childLanes)!=0?Xy(l,h,c):(vt(Et,1&Et.current),(h=Hn(l,h,c))!==null?h.sibling:null);vt(Et,1&Et.current);break;case 19:if(y=(c&h.childLanes)!=0,(64&l.flags)!=0){if(y)return Wy(l,h,c);h.flags|=64}var x=h.memoizedState;if(x!==null&&(x.rendering=null,x.tail=null,x.lastEffect=null),vt(Et,Et.current),y)break;return null;case 23:case 24:return h.lanes=0,Gy(l,h,c)}return Hn(l,h,c)}en=(16384&l.flags)!=0}else en=!1;switch(h.lanes=0,h.tag){case 2:if(y=h.type,l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2),l=h.pendingProps,x=po(h,nr.current),yo(h,c),x=Bd(null,h,y,l,x,c),h.flags|=1,typeof x=="object"&&x!==null&&typeof x.render=="function"&&x.$$typeof===void 0){if(h.tag=1,h.memoizedState=null,h.updateQueue=null,_r(y)){var w=!0;Lu(h)}else w=!1;h.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,Pd(h);var C=y.getDerivedStateFromProps;typeof C=="function"&&Vu(h,y,C,l),x.updater=$u,h.stateNode=x,x._reactInternals=h,Od(h,y,l,c),h=Xd(null,h,y,!0,w,c)}else h.tag=0,Cr(null,h,x,c),h=h.child;return h;case 16:x=h.elementType;e:{switch(l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2),l=h.pendingProps,x=(w=x._init)(x._payload),h.type=x,w=h.tag=function(le){if(typeof le=="function")return gp(le)?1:0;if(le!=null){if((le=le.$$typeof)===b)return 11;if(le===T)return 14}return 2}(x),l=Jr(x,l),w){case 0:h=Hd(null,h,x,l,c);break e;case 1:h=jy(null,h,x,l,c);break e;case 11:h=Dy(null,h,x,l,c);break e;case 14:h=By(null,h,x,Jr(x.type,l),y,c);break e}throw Error(o(306,x,""))}return h;case 0:return y=h.type,x=h.pendingProps,Hd(l,h,y,x=h.elementType===y?x:Jr(y,x),c);case 1:return y=h.type,x=h.pendingProps,jy(l,h,y,x=h.elementType===y?x:Jr(y,x),c);case 3:if(Hy(h),y=h.updateQueue,l===null||y===null)throw Error(o(282));if(y=h.pendingProps,x=(x=h.memoizedState)!==null?x.element:null,py(l,h),Ia(h,y,null,c),(y=h.memoizedState.element)===x)Ld(),h=Hn(l,h,c);else{if((w=(x=h.stateNode).hydrate)&&(Ye?(ms=K0(h.stateNode.containerInfo),jn=h,w=vn=!0):w=!1),w){if(Ye&&(l=x.mutableSourceEagerHydrationData)!=null)for(x=0;x<l.length;x+=2)w=l[x],C=l[x+1],Fe?w._workInProgressVersionPrimary=C:w._workInProgressVersionSecondary=C,bo.push(w);for(c=Ey(h,null,y,c),h.child=c;c;)c.flags=-3&c.flags|1024,c=c.sibling}else Cr(l,h,y,c),Ld();h=h.child}return h;case 5:return Ty(h),l===null&&Fd(h),y=h.type,x=h.pendingProps,w=l!==null?l.memoizedProps:null,C=x.children,Ee(y,x)?C=null:w!==null&&Ee(y,w)&&(h.flags|=16),zy(l,h),Cr(l,h,C,c),h.child;case 6:return l===null&&Fd(h),null;case 13:return Xy(l,h,c);case 4:return Nd(h,h.stateNode.containerInfo),y=h.pendingProps,l===null?h.child=qu(h,null,y,c):Cr(l,h,y,c),h.child;case 11:return y=h.type,x=h.pendingProps,Dy(l,h,y,x=h.elementType===y?x:Jr(y,x),c);case 7:return Cr(l,h,h.pendingProps,c),h.child;case 8:case 12:return Cr(l,h,h.pendingProps.children,c),h.child;case 10:e:{if(y=h.type._context,x=h.pendingProps,C=h.memoizedProps,cy(h,w=x.value),C!==null){var O=C.value;if((w=Dr(O,w)?0:0|(typeof y._calculateChangedBits=="function"?y._calculateChangedBits(O,w):1073741823))===0){if(C.children===x.children&&!yr.current){h=Hn(l,h,c);break e}}else for((O=h.child)!==null&&(O.return=h);O!==null;){var U=O.dependencies;if(U!==null){C=O.child;for(var Q=U.firstContext;Q!==null;){if(Q.context===y&&(Q.observedBits&w)!=0){O.tag===1&&((Q=Ei(-1,c&-c)).tag=2,Ti(O,Q)),O.lanes|=c,(Q=O.alternate)!==null&&(Q.lanes|=c),dy(O.return,c),U.lanes|=c;break}Q=Q.next}}else C=O.tag===10&&O.type===h.type?null:O.child;if(C!==null)C.return=O;else for(C=O;C!==null;){if(C===h){C=null;break}if((O=C.sibling)!==null){O.return=C.return,C=O;break}C=C.return}O=C}}Cr(l,h,x.children,c),h=h.child}return h;case 9:return x=h.type,y=(w=h.pendingProps).children,yo(h,c),y=y(x=Br(x,w.unstable_observedBits)),h.flags|=1,Cr(l,h,y,c),h.child;case 14:return w=Jr(x=h.type,h.pendingProps),By(l,h,x,w=Jr(x.type,w),y,c);case 15:return Uy(l,h,h.type,h.pendingProps,y,c);case 17:return y=h.type,x=h.pendingProps,x=h.elementType===y?x:Jr(y,x),l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2),h.tag=1,_r(y)?(l=!0,Lu(h)):l=!1,yo(h,c),_y(h,y,x),Od(h,y,x,c),Xd(null,h,y,!0,l,c);case 19:return Wy(l,h,c);case 23:case 24:return Gy(l,h,c)}throw Error(o(156,h.tag))};var _h={current:!1},vp=s.unstable_flushAllWithoutAsserting,y_=typeof vp=="function";function mp(){if(vp!==void 0)return vp();for(var l=!1;Wn();)l=!0;return l}function __(l){try{mp(),function(h){if(fh===null)try{var c=("require"+Math.random()).slice(0,7);fh=(t&&t[c]).call(t,"timers").setImmediate}catch{fh=function(x){var w=new MessageChannel;w.port1.onmessage=x,w.port2.postMessage(void 0)}}fh(h)}(function(){mp()?__(l):l()})}catch(h){l(h)}}var xh=0,x_=!1;function hC(l,h,c,y){this.tag=l,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(l,h,c,y){return new hC(l,h,c,y)}function gp(l){return!(!(l=l.prototype)||!l.isReactComponent)}function Ri(l,h){var c=l.alternate;return c===null?((c=zr(l.tag,h,l.key,l.mode)).elementType=l.elementType,c.type=l.type,c.stateNode=l.stateNode,c.alternate=l,l.alternate=c):(c.pendingProps=h,c.type=l.type,c.flags=0,c.nextEffect=null,c.firstEffect=null,c.lastEffect=null),c.childLanes=l.childLanes,c.lanes=l.lanes,c.child=l.child,c.memoizedProps=l.memoizedProps,c.memoizedState=l.memoizedState,c.updateQueue=l.updateQueue,h=l.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},c.sibling=l.sibling,c.index=l.index,c.ref=l.ref,c}function bh(l,h,c,y,x,w){var C=2;if(y=l,typeof l=="function")gp(l)&&(C=1);else if(typeof l=="string")C=5;else e:switch(l){case d:return Ao(c.children,x,w,h);case R:C=8,x|=16;break;case p:C=8,x|=1;break;case v:return(l=zr(12,c,h,8|x)).elementType=v,l.type=v,l.lanes=w,l;case m:return(l=zr(13,c,h,x)).type=m,l.elementType=m,l.lanes=w,l;case E:return(l=zr(19,c,h,x)).elementType=E,l.lanes=w,l;case I:return yp(c,x,w,h);case P:return(l=zr(24,c,h,x)).elementType=P,l.lanes=w,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case g:C=10;break e;case _:C=9;break e;case b:C=11;break e;case T:C=14;break e;case S:C=16,y=null;break e;case A:C=22;break e}throw Error(o(130,l==null?l:typeof l,""))}return(h=zr(C,c,h,x)).elementType=l,h.type=y,h.lanes=w,h}function Ao(l,h,c,y){return(l=zr(7,l,y,h)).lanes=c,l}function yp(l,h,c,y){return(l=zr(23,l,y,h)).elementType=I,l.lanes=c,l}function _p(l,h,c){return(l=zr(6,l,null,h)).lanes=c,l}function xp(l,h,c){return(h=zr(4,l.children!==null?l.children:[],l.key,h)).lanes=c,h.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},h}function fC(l,h,c){this.tag=h,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Le,this.pendingContext=this.context=null,this.hydrate=c,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=Ed(0),this.expirationTimes=Ed(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ed(0),Ye&&(this.mutableSourceEagerHydrationData=null)}function b_(l){var h=l._reactInternals;if(h===void 0)throw typeof l.render=="function"?Error(o(188)):Error(o(268,Object.keys(l)));return(l=$(h))===null?null:l.stateNode}function E_(l,h){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var c=l.retryLane;l.retryLane=c!==0&&c<h?c:h}}function Eh(l,h){E_(l,h),(l=l.alternate)&&E_(l,h)}function cC(l){return(l=$(l))===null?null:l.stateNode}function dC(){return null}return r.IsThisRendererActing=_h,r.act=function(l){function h(){xh--,np.current=c,_h.current=y}x_===!1&&(x_=!0,console.error("act(...) is not supported in production builds of React, and might not behave as expected.")),xh++;var c=np.current,y=_h.current;np.current=!0,_h.current=!0;try{var x=h_(l)}catch(w){throw h(),w}if(x!==null&&typeof x=="object"&&typeof x.then=="function")return{then:function(w,C){x.then(function(){1<xh||y_===!0&&c===!0?(h(),w()):__(function(O){h(),O?C(O):w()})},function(O){h(),C(O)})}};try{xh!==1||y_!==!1&&c!==!1||mp(),h()}catch(w){throw h(),w}return{then:function(w){w()}}},r.attemptContinuousHydration=function(l){l.tag===13&&($n(l,67108864,br()),Eh(l,67108864))},r.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var h=br(),c=Ai(l);$n(l,c,h),Eh(l,c)}},r.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var h=l.stateNode;if(h.hydrate){var c=vs(h.pendingLanes);h.expiredLanes|=c&h.pendingLanes,Rr(h,Vt()),(48&_e)==0&&(wi(),kr())}break;case 13:var y=br();f_(function(){return $n(l,1,y)}),Eh(l,4)}},r.attemptUserBlockingHydration=function(l){l.tag===13&&($n(l,4,br()),Eh(l,4))},r.batchedEventUpdates=function(l,h){var c=_e;_e|=2;try{return l(h)}finally{(_e=c)===0&&(wi(),kr())}},r.batchedUpdates=h_,r.createComponentSelector=function(l){return{$$typeof:oh,value:l}},r.createContainer=function(l,h,c){return l=new fC(l,h,c),h=zr(3,null,null,h===2?7:h===1?3:0),l.current=h,h.stateNode=l,Pd(h),l},r.createHasPsuedoClassSelector=function(l){return{$$typeof:ah,value:l}},r.createPortal=function(l,h,c){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:y==null?null:""+y,children:l,containerInfo:h,implementation:c}},r.createRoleSelector=function(l){return{$$typeof:lh,value:l}},r.createTestNameSelector=function(l){return{$$typeof:uh,value:l}},r.createTextSelector=function(l){return{$$typeof:hh,value:l}},r.deferredUpdates=function(l){return zn(97,l)},r.discreteUpdates=function(l,h,c,y,x){var w=_e;_e|=4;try{return zn(98,l.bind(null,h,c,y,x))}finally{(_e=w)===0&&(wi(),kr())}},r.findAllNodes=tp,r.findBoundingRects=function(l,h){if(!gi)throw Error(o(363));h=tp(l,h),l=[];for(var c=0;c<h.length;c++)l.push(Nu(h[c]));for(h=l.length-1;0<h;h--)for(var y=(c=l[h]).x,x=y+c.width,w=c.y,C=w+c.height,O=h-1;0<=O;O--)if(h!==O){var U=l[O],Q=U.x,le=Q+U.width,ge=U.y,J=ge+U.height;if(y>=Q&&w>=ge&&x<=le&&C<=J){l.splice(h,1);break}if(!(y!==Q||c.width!==U.width||J<w||ge>C)){ge>w&&(U.height+=ge-w,U.y=w),J<C&&(U.height=C-ge),l.splice(h,1);break}if(!(w!==ge||c.height!==U.height||le<y||Q>x)){Q>y&&(U.width+=Q-y,U.x=y),le<x&&(U.width=x-Q),l.splice(h,1);break}}return l},r.findHostInstance=b_,r.findHostInstanceWithNoPortals=function(l){return(l=function(h){if(!(h=oe(h)))return null;for(var c=h;;){if(c.tag===5||c.tag===6)return c;if(c.child&&c.tag!==4)c.child.return=c,c=c.child;else{if(c===h)break;for(;!c.sibling;){if(!c.return||c.return===h)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}}return null}(l))===null?null:l.tag===20?l.stateNode.instance:l.stateNode},r.findHostInstanceWithWarning=function(l){return b_(l)},r.flushControlled=function(l){var h=_e;_e|=1;try{zn(99,l)}finally{(_e=h)===0&&(wi(),kr())}},r.flushDiscreteUpdates=function(){(49&_e)==0&&(function(){if(Xn!==null){var l=Xn;Xn=null,l.forEach(function(h){h.expiredLanes|=24&h.pendingLanes,Rr(h,Vt())})}kr()}(),Wn())},r.flushPassiveEffects=Wn,r.flushSync=f_,r.focusWithin=function(l,h){if(!gi)throw Error(o(363));for(h=a_(l=Kd(l),h),h=Array.from(h),l=0;l<h.length;){var c=h[l++];if(!Sa(c)){if(c.tag===5&&aA(c.stateNode))return!0;for(c=c.child;c!==null;)h.push(c),c=c.sibling}}return!1},r.getCurrentUpdateLanePriority=function(){return ku},r.getFindAllNodesFailureDescription=function(l,h){if(!gi)throw Error(o(363));var c=0,y=[];l=[Kd(l),0];for(var x=0;x<l.length;){var w=l[x++],C=l[x++],O=h[C];if((w.tag!==5||!Sa(w))&&(Jd(w,O)&&(y.push(ep(O)),++C>c&&(c=C)),C<h.length))for(w=w.child;w!==null;)l.push(w,C),w=w.sibling}if(c<h.length){for(l=[];c<h.length;c++)l.push(ep(h[c]));return`findAllNodes was able to match part of the selector:
  `+y.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},r.getPublicRootInstance=function(l){if(!(l=l.current).child)return null;switch(l.child.tag){case 5:return Ae(l.child.stateNode);default:return l.child.stateNode}},r.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:a.ReactCurrentDispatcher,findHostInstanceByFiber:cC,findFiberByHostInstance:l.findFiberByHostInstance||dC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!h.isDisabled&&h.supportsFiber)try{bd=h.inject(l),ps=h}catch{}l=!0}return l},r.observeVisibleRects=function(l,h,c,y){if(!gi)throw Error(o(363));l=tp(l,h);var x=lA(l,c,y).disconnect;return{disconnect:function(){x()}}},r.registerMutableSourceForHydration=function(l,h){var c=h._getVersion;c=c(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,c]:l.mutableSourceEagerHydrationData.push(h,c)},r.runWithPriority=function(l,h){var c=ku;try{return ku=l,h()}finally{ku=c}},r.shouldSuspend=function(){return!1},r.unbatchedUpdates=function(l,h){var c=_e;_e&=-2,_e|=8;try{return l(h)}finally{(_e=c)===0&&(wi(),kr())}},r.updateContainer=function(l,h,c,y){var x=h.current,w=br(),C=Ai(x);e:if(c){t:{if(Z(c=c._reactInternals)!==c||c.tag!==1)throw Error(o(170));var O=c;do{switch(O.tag){case 3:O=O.stateNode.context;break t;case 1:if(_r(O.type)){O=O.stateNode.__reactInternalMemoizedMergedChildContext;break t}}O=O.return}while(O!==null);throw Error(o(171))}if(c.tag===1){var U=c.type;if(_r(U)){c=ty(c,U,O);break e}}c=O}else c=_i;return h.context===null?h.context=c:h.pendingContext=c,(h=Ei(w,C)).payload={element:l},(y=y===void 0?null:y)!==null&&(h.callback=y),Ti(x,h),$n(x,C,w),C},r}}),Z3=0,Q3={__interactionsRef:null,__subscriberRef:null,unstable_clear:function(t){return t()},unstable_getCurrent:function(){return null},unstable_getThreadID:function(){return++Z3},unstable_subscribe:function(){},unstable_trace:function(t,e,r){return r()},unstable_unsubscribe:function(){},unstable_wrap:function(t){return t}},Zn=Qr(function(t,e){});/** @license React v0.20.2
 * scheduler-tracing.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Zn.__interactionsRef,Zn.__subscriberRef,Zn.unstable_clear,Zn.unstable_getCurrent,Zn.unstable_getThreadID,Zn.unstable_subscribe,Zn.unstable_trace,Zn.unstable_unsubscribe,Zn.unstable_wrap,Qr(function(t){t.exports=Q3}),Qr(function(t){});var K3=Qr(function(t){t.exports=q3}),Dw={name:"@inlet/react-pixi",version:"6.8.0",description:"Write PixiJS applications using React declarative style.",main:"index.js","umd:main":"umd.js",module:"module.js","jsnext:main":"module.js",author:"Patrick Brouwer <patrick@inlet.nl>",license:"MIT",scripts:{"docz:dev":"rimraf ./docs && docz dev","docz:build":"rimraf ./docs && yarn build:prod && docz build",eslint:"eslint .","build:watch":"cross-env FORMAT=umd NODE_ENV=development rollup -c --watch","build:dev":"cross-env NODE_ENV=development rollup -c","build:prod":"cross-env NODE_ENV=production rollup -c",build:"rimraf ./dist && npm run build:dev && npm run build:prod",test:"jest --silent","test:watch":"jest --silent --watch",prepack:'if-env CI=true && echo "skip build" || (npm run test && npm run eslint && npm run build)'},repository:{type:"git",url:"git+https://github.com/inlet/react-pixi.git"},files:["dist/","animated/","legacy/","LICENSE","index.d.ts","index.js","umd.js","module.js"],typings:"./index.d.ts",devDependencies:{"@babel/cli":"7.14.8","@babel/core":"7.14.8","@babel/plugin-proposal-class-properties":"7.14.5","@babel/plugin-proposal-decorators":"7.14.5","@babel/plugin-proposal-do-expressions":"7.14.5","@babel/plugin-proposal-export-default-from":"7.14.5","@babel/plugin-proposal-export-namespace-from":"7.14.5","@babel/plugin-proposal-function-bind":"7.14.5","@babel/plugin-proposal-function-sent":"7.14.5","@babel/plugin-proposal-json-strings":"7.14.5","@babel/plugin-proposal-logical-assignment-operators":"7.14.5","@babel/plugin-proposal-nullish-coalescing-operator":"7.14.5","@babel/plugin-proposal-numeric-separator":"7.14.5","@babel/plugin-proposal-optional-chaining":"7.14.5","@babel/plugin-proposal-pipeline-operator":"7.14.8","@babel/plugin-proposal-throw-expressions":"7.14.5","@babel/plugin-syntax-dynamic-import":"7.8.3","@babel/plugin-syntax-import-meta":"7.10.4","@babel/plugin-transform-runtime":"7.14.5","@babel/preset-env":"7.14.9","@babel/preset-react":"7.14.5","@babel/runtime":"7.14.8","@rollup/plugin-alias":"3.1.5","@testing-library/react":"12.0.0","@types/jest":"26.0.24","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.26.3","babel-core":"7.0.0-beta.3","babel-eslint":"10.1.0","babel-jest":"26.6.3","babel-plugin-module-resolver":"4.1.0",canvas:"2.8.0","cross-env":"7.0.3",docz:"2.3.1",eslint:"7.32.0","eslint-config-prettier":"8.3.0","eslint-plugin-prettier":"3.4.0","eslint-plugin-react":"7.24.0","if-env":"1.0.4",jest:"26.6.3","jest-webgl-canvas-mock":"0.2.3","lodash.isnil":"4.0.0","lodash.times":"4.3.2","performance-now":"2.1.0","pixi.js":"6.1.0",prettier:"2.3.2","prop-types":"15.7.2",react:"17.0.2","react-dom":"17.0.2","react-reconciler":"0.26.2","react-spring":"9.2.4","react-test-renderer":"17.0.2",rimraf:"3.0.2",rollup:"2.55.1","rollup-plugin-babel":"4.4.0","rollup-plugin-commonjs":"10.1.0","rollup-plugin-filesize":"9.1.1","rollup-plugin-json":"4.0.0","rollup-plugin-node-globals":"1.4.0","rollup-plugin-node-resolve":"5.2.0","rollup-plugin-replace":"2.2.0","rollup-plugin-terser":"7.0.2",typescript:"4.3.5"},peerDependencies:{"pixi.js":"^6.0.0","prop-types":"^15.7.2",react:"^17.0.1","react-dom":"^17.0.1"},jest:{collectCoverage:!1,roots:["./test"],setupFiles:["jest-webgl-canvas-mock","<rootDir>/test/bootstrap.js","<rootDir>/test/__mocks__/matchMediaMock.js"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{}},_g=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function Bw(){throw new Error("setTimeout has not been defined")}function Uw(){throw new Error("clearTimeout has not been defined")}var Bi=Bw,Ui=Uw;function Gw(t){if(Bi===setTimeout)return setTimeout(t,0);if((Bi===Bw||!Bi)&&setTimeout)return Bi=setTimeout,setTimeout(t,0);try{return Bi(t,0)}catch{try{return Bi.call(null,t,0)}catch{return Bi.call(this,t,0)}}}typeof _g.setTimeout=="function"&&(Bi=setTimeout),typeof _g.clearTimeout=="function"&&(Ui=clearTimeout);var Vs,ui=[],la=!1,Lf=-1;function J3(){la&&Vs&&(la=!1,Vs.length?ui=Vs.concat(ui):Lf=-1,ui.length&&zw())}function zw(){if(!la){var t=Gw(J3);la=!0;for(var e=ui.length;e;){for(Vs=ui,ui=[];++Lf<e;)Vs&&Vs[Lf].run();Lf=-1,e=ui.length}Vs=null,la=!1,function(r){if(Ui===clearTimeout)return clearTimeout(r);if((Ui===Uw||!Ui)&&clearTimeout)return Ui=clearTimeout,clearTimeout(r);try{Ui(r)}catch{try{return Ui.call(null,r)}catch{return Ui.call(this,r)}}}(t)}}function jw(t,e){this.fun=t,this.array=e}jw.prototype.run=function(){this.fun.apply(null,this.array)};function uo(){}var ek=uo,tk=uo,rk=uo,nk=uo,ik=uo,sk=uo,ok=uo,ko=_g.performance||{},ak=ko.now||ko.mozNow||ko.msNow||ko.oNow||ko.webkitNow||function(){return new Date().getTime()},lk=new Date,af={nextTick:function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];ui.push(new jw(t,e)),ui.length!==1||la||Gw(zw)},title:"browser",browser:!0,env:{},argv:[],version:"",versions:{},on:ek,addListener:tk,once:rk,off:nk,removeListener:ik,removeAllListeners:sk,emit:ok,binding:function(t){throw new Error("process.binding is not supported")},cwd:function(){return"/"},chdir:function(t){throw new Error("process.chdir is not supported")},umask:function(){return 0},hrtime:function(t){var e=.001*ak.call(ko),r=Math.floor(e),n=Math.floor(e%1*1e9);return t&&(r-=t[0],(n-=t[1])<0&&(r--,n+=1e9)),[r,n]},platform:"browser",release:{},config:{},uptime:function(){return(new Date-lk)/1e3}},uk=Qr(function(t){(function(){var e,r,n,i,s,o;typeof performance<"u"&&performance!==null&&performance.now?t.exports=function(){return performance.now()}:af!=null&&af.hrtime?(t.exports=function(){return(e()-s)/1e6},r=af.hrtime,i=(e=function(){var a;return 1e9*(a=r())[0]+a[1]})(),o=1e9*af.uptime(),s=i-o):Date.now?(t.exports=function(){return Date.now()-n},n=Date.now()):(t.exports=function(){return new Date().getTime()-n},n=new Date().getTime())}).call(X3)}),rb={};function Av(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount.call(e,e,t))}function xg(t,e){var r,n,i;typeof e.willUnmount=="function"&&e.willUnmount.call(e,e,t),(e==null||(r=e.config)===null||r===void 0?void 0:r.destroyChildren)!==!1&&(n=e.children)!==null&&n!==void 0&&n.length&&vi(e.children).forEach(function(s){xg(e,s)}),t.removeChild(e),(e==null||(i=e.config)===null||i===void 0?void 0:i.destroy)!==!1&&e.destroy()}function nb(t,e,r){Ot(e!==r,"react-pixi: PixiFiber cannot insert node before itself");var n=t.children.indexOf(e)!==-1,i=t.getChildIndex(r);n?t.setChildIndex(e,i):t.addChildAt(e,i)}var ib=null,ln=K3({getRootHostContext:function(){return rb},getChildHostContext:function(){return rb},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=j3[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=kw[t];o&&((e=o.create(n)).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&((typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:bn)(e,{},n),e.__reactpixi={root:i}),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return ib=function(o,a,u,f,d){var p=null;for(var v in u)!f.hasOwnProperty(v)&&u.hasOwnProperty(v)&&u[v]!=null&&(v==="children"||(p||(p=[]),p.push(v,null)));for(var g in f){var _=f[g],b=u!=null?u[g]:void 0;!f.hasOwnProperty(g)||_===b||_==null&&b==null||g==="children"||(p||(p=[]),p.push(g,_))}return p}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){Ot(!1,'react-pixi: Error trying to add text node "'+t+'"',"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:uk,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Av.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Av.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Av.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=xg.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=xg.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:nb,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=nb.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=bn),(a(t,n,i)||ib)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},preparePortalMount:function(t){}}),hk=Dw.devDependencies["react-dom"].replace(/[^0-9.]/g,""),fk=Dw.name;ln.injectIntoDevTools({bundleType:0,version:hk,rendererPackageName:fk,findHostInstanceByFiber:ln.findHostInstance});var zl=new Map;function ck(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};Ot(Dt.prototype.isPrototypeOf(e),"Invalid argument `container`, expected instance of `PIXI.Container`.");var n=zl.get(e);return n||(n=ln.createContainer(e),zl.set(e,n)),ln.updateContainer(t,n,void 0,r),ln.getPublicRootInstance(n)}function dk(t){zl.has(t)&&ln.updateContainer(null,zl.get(t),void 0,function(){zl.delete(t)})}/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xt=typeof Symbol=="function"&&Symbol.for,bg=Xt?Symbol.for("react.element"):60103,Eg=Xt?Symbol.for("react.portal"):60106,kf=Xt?Symbol.for("react.fragment"):60107,Df=Xt?Symbol.for("react.strict_mode"):60108,Bf=Xt?Symbol.for("react.profiler"):60114,Uf=Xt?Symbol.for("react.provider"):60109,Gf=Xt?Symbol.for("react.context"):60110,Tg=Xt?Symbol.for("react.async_mode"):60111,Pc=Xt?Symbol.for("react.concurrent_mode"):60111,zf=Xt?Symbol.for("react.forward_ref"):60112,jf=Xt?Symbol.for("react.suspense"):60113,pk=Xt?Symbol.for("react.suspense_list"):60120,Hf=Xt?Symbol.for("react.memo"):60115,Xf=Xt?Symbol.for("react.lazy"):60116,vk=Xt?Symbol.for("react.block"):60121,mk=Xt?Symbol.for("react.fundamental"):60117,gk=Xt?Symbol.for("react.responder"):60118,yk=Xt?Symbol.for("react.scope"):60119;function Ir(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case bg:switch(t=t.type){case Tg:case Pc:case kf:case Bf:case Df:case jf:return t;default:switch(t=t&&t.$$typeof){case Gf:case zf:case Xf:case Hf:case Uf:return t;default:return e}}case Eg:return e}}}function sb(t){return Ir(t)===Pc}var _k={AsyncMode:Tg,ConcurrentMode:Pc,ContextConsumer:Gf,ContextProvider:Uf,Element:bg,ForwardRef:zf,Fragment:kf,Lazy:Xf,Memo:Hf,Portal:Eg,Profiler:Bf,StrictMode:Df,Suspense:jf,isAsyncMode:function(t){return sb(t)||Ir(t)===Tg},isConcurrentMode:sb,isContextConsumer:function(t){return Ir(t)===Gf},isContextProvider:function(t){return Ir(t)===Uf},isElement:function(t){return typeof t=="object"&&t!==null&&t.$$typeof===bg},isForwardRef:function(t){return Ir(t)===zf},isFragment:function(t){return Ir(t)===kf},isLazy:function(t){return Ir(t)===Xf},isMemo:function(t){return Ir(t)===Hf},isPortal:function(t){return Ir(t)===Eg},isProfiler:function(t){return Ir(t)===Bf},isStrictMode:function(t){return Ir(t)===Df},isSuspense:function(t){return Ir(t)===jf},isValidElementType:function(t){return typeof t=="string"||typeof t=="function"||t===kf||t===Pc||t===Bf||t===Df||t===jf||t===pk||typeof t=="object"&&t!==null&&(t.$$typeof===Xf||t.$$typeof===Hf||t.$$typeof===Uf||t.$$typeof===Gf||t.$$typeof===zf||t.$$typeof===mk||t.$$typeof===gk||t.$$typeof===yk||t.$$typeof===vk)},typeOf:Ir},Xe=Qr(function(t,e){});Xe.AsyncMode,Xe.ConcurrentMode,Xe.ContextConsumer,Xe.ContextProvider,Xe.Element,Xe.ForwardRef,Xe.Fragment,Xe.Lazy,Xe.Memo,Xe.Portal,Xe.Profiler,Xe.StrictMode,Xe.Suspense,Xe.isAsyncMode,Xe.isConcurrentMode,Xe.isContextConsumer,Xe.isContextProvider,Xe.isElement,Xe.isForwardRef,Xe.isFragment,Xe.isLazy,Xe.isMemo,Xe.isPortal,Xe.isProfiler,Xe.isStrictMode,Xe.isSuspense,Xe.isValidElementType,Xe.typeOf,Qr(function(t){t.exports=_k});function Hw(){}function Xw(){}Function.call.bind(Object.prototype.hasOwnProperty),Xw.resetWarningCache=Hw;var rt=Qr(function(t){t.exports=function(){function e(i,s,o,a,u,f){if(f!=="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}function r(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:r,element:e,elementType:e,instanceOf:r,node:e,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:Xw,resetWarningCache:Hw};return n.PropTypes=n,n}()}),ud=Pn.createContext(null),Vw=ud.Provider,$w=ud.Consumer,xk=function(t){var e=Pn.forwardRef(function(r,n){return Pn.createElement($w,null,function(i){return Pn.createElement(t,ld({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e},ob=function(){},Ww={width:rt.number,height:rt.number,onMount:rt.func,onUnmount:rt.func,raf:rt.bool,renderOnComponentChange:rt.bool,children:rt.node,options:rt.shape({autoStart:rt.bool,width:rt.number,height:rt.number,useContextAlpha:rt.bool,backgroundAlpha:rt.number,autoDensity:rt.bool,antialias:rt.bool,preserveDrawingBuffer:rt.bool,resolution:rt.number,forceCanvas:rt.bool,backgroundColor:rt.number,clearBeforeRender:rt.bool,powerPreference:rt.string,sharedTicker:rt.bool,sharedLoader:rt.bool,resizeTo:function(t,e){var r=t[e];r&&Ot(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(as(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&Ot(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(as(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},bk={width:800,height:600,onMount:ob,onUnmount:ob,raf:!0,renderOnComponentChange:!0},wg=function(t){(function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(u&&u.prototype,{constructor:{value:a,writable:!0,configurable:!0}}),u&&B0(a,u)})(o,Pn.Component);var e,r,n,i,s=(e=o,r=Nw(),function(){var a,u=mg(e);if(r){var f=mg(this).constructor;a=Reflect.construct(u,arguments,f)}else a=u.apply(this,arguments);return P3(this,a)});function o(){var a;R3(this,o);for(var u=arguments.length,f=new Array(u),d=0;d<u;d++)f[d]=arguments[d];return Gt(ei(a=s.call.apply(s,[this].concat(f))),"_canvas",null),Gt(ei(a),"_mediaQuery",null),Gt(ei(a),"_ticker",null),Gt(ei(a),"_needsUpdate",!0),Gt(ei(a),"app",null),Gt(ei(a),"updateSize",function(){var p=a.props,v=p.width,g=p.height,_=p.options;_!=null&&_.resolution||(a.app.renderer.resolution=window.devicePixelRatio,a.resetInteractionManager()),a.app.renderer.resize(v,g)}),Gt(ei(a),"needsRenderUpdate",function(){a._needsUpdate=!0}),Gt(ei(a),"renderStage",function(){var p=a.props,v=p.renderOnComponentChange;!p.raf&&v&&a._needsUpdate&&(a._needsUpdate=!1,a.app.renderer.render(a.app.stage))}),a}return n=o,(i=[{key:"componentDidMount",value:function(){var a=this.props,u=a.onMount,f=a.width,d=a.height,p=a.options,v=a.raf,g=a.renderOnComponentChange;this.app=new ad(wr(wr({width:f,height:d,view:this._canvas},p),{},{autoDensity:(p==null?void 0:p.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[v?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=ln.createContainer(this.app.stage),ln.updateContainer(this.getChildren(),this.mountNode,this),u(this.app),p!=null&&p.autoDensity&&window.matchMedia&&(p==null?void 0:p.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),g&&!v&&(this._ticker=new zt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(a,u,f){var d,p=this.props,v=p.width,g=p.height,_=p.raf,b=p.renderOnComponentChange,m=p.options;(m==null?void 0:m.resolution)!==void 0&&(a==null?void 0:a.options.resolution)!==(m==null?void 0:m.resolution)&&(this.app.renderer.resolution=m.resolution,this.resetInteractionManager()),a.height===g&&a.width===v&&((d=a.options)===null||d===void 0?void 0:d.resolution)===(m==null?void 0:m.resolution)||this.updateSize(),a.raf!==_&&this.app.ticker[_?"start":"stop"](),ln.updateContainer(this.getChildren(),this.mountNode,this),a.width===v&&a.height===g&&a.raf===_&&a.renderOnComponentChange===b&&a.options===m||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){"interaction"in this.app.renderer.plugins&&(this.app.renderer.plugins.interaction.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var a=this.props.children;return Pn.createElement(Vw,{value:this.app},a)}},{key:"componentDidCatch",value:function(a,u){console.error("Error occurred in `Stage`."),console.error(a),console.error(u)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),ln.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var a,u,f=this,d=this.props.options;return d&&d.view?(Ot(d.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Pn.createElement("canvas",ld({},(a=this.props,u=[].concat(vi(Object.keys(Ww)),vi(Object.keys(gg))),Object.keys(a).filter(function(p){return!u.includes(p)}).reduce(function(p,v){return wr(wr({},p),{},Gt({},v,a[v]))},{})),{ref:function(p){return f._canvas=p}}))}}])&&I3(n.prototype,i),o}();function Yw(){var t=me.exports.useContext(ud);return Ot(t instanceof ad,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function Ek(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=Yw();Ot(typeof t=="function","`useTick` needs a callback function."),Ot(r instanceof ad,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=me.exports.useRef(null);me.exports.useEffect(function(){n.current=t},[t]),me.exports.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}wg.propTypes=Ww,wg.defaultProps=bk;var Tk=["children","apply"],wk=function(t,e){Ot(as(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=Di(i,Tk),u=me.exports.useRef(me.exports.useMemo(function(){return r.map(function(p){var v,g=(a==null||(v=a[p])===null||v===void 0?void 0:v.construct)||[];return Mw(e[p],vi(g))})},[r])),f=me.exports.useMemo(function(){return r.reduce(function(p,v,g){return wr(wr({},p),{},Gt({},v,u.current[g]))},{})},[r]),d=me.exports.useMemo(function(){return Object.keys(a).filter(Lw(Fw(r))).reduce(function(p,v){return wr(wr({},p),{},Gt({},v,a[v]))},{})},[a,r]);return r.forEach(function(p,v){return Object.assign(u.current[v],a[p])}),o&&function(){for(var p=arguments.length,v=new Array(p),g=0;g<p;g++)v[g]=arguments[g];return v.every(function(_){return typeof _=="function"})}(o)&&o.call(t,f),Pn.createElement(t,ld({},d,{filters:u.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:rt.node,apply:rt.func},n},Sk=Lr.BitmapText,Ak=Lr.Container,Ck=Lr.Graphics,Rk=Lr.NineSlicePlane,Ik=Lr.ParticleContainer,Pk=Lr.Sprite,Ok=Lr.AnimatedSprite,Nk=Lr.Text,Mk=Lr.TilingSprite,Fk=Lr.SimpleMesh,Lk=Lr.SimpleRope;const kk=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:Ok,AppConsumer:$w,AppContext:ud,AppProvider:Vw,BitmapText:Sk,Container:Ak,Graphics:Ck,NineSlicePlane:Rk,ParticleContainer:Ik,PixiComponent:H3,PixiFiber:ln,SimpleMesh:Fk,SimpleRope:Lk,Sprite:Pk,Stage:wg,Text:Nk,TilingSprite:Mk,applyDefaultProps:bn,eventHandlers:Ic,render:ck,unmountComponentAtNode:dk,useApp:Yw,useTick:Ek,withFilters:wk,withPixiApp:xk},Symbol.toStringTag,{value:"Module"})),Dk=yC(kk);(function(t){t.exports=Dk})(Te);function Bk(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function Uk(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}const qw=[16736609,4051711,16736609,4051711];let ue=Bk(),nt=Uk();const ab="4",lb="5",ub="6",hb="+",fb="u",cb="i",Pr=ue/4*.13,Oc=30,fr=Pr*4,$e=fr*4,Cu=2.3*nt,Gk=nt/Cu*1e3,Ru=50,oi=0,Vf=Ru/Cu*1e3,Zw="/assets/hit.8215ca3f.png";function dt(t,e,r,n){const[i,s]=e,[o,a]=r;return t<i&&!n?o:t>s&&!n?a:o===a&&!n?o:(t-i)/(s-i)*(a-o)+o}function $s(t,e,r){const[n,i]=e,[s,o]=r;let a=(t-n)/(i-n);return a=1-(1-a)**3,t<n?s:t>i?o:s===o?s:a*(o-s)+s}const Qw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAAAhCAYAAADgdfgNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAV+SURBVHgB7VxLktw2DH1wzcr3yFFyg2xywmxyi2xyg2xyh1RlkV0Eu3tE6gEERErUzkTZI4nE5wEEQKqnbcFF0u+ERYu+0xcsWnSTVvIsuk0fmKBf/8OiH4x++3rcr86z6Dat5Fl0m1byLLpNK3kW3aaVPItu09Tb1uvjQnnfvP9AXg/y+fw54HjluAIHj2M1c/ys+7NE87tukH4lOJH+lz6J/Cl+bIegst0v+zUiPfBUOyBM7L9RHNhx8UPRo9a3140QvxIGCbAxHmO0rIfHGOB50VTyvILLMWw+e3bPZd7wacgaD3reZAFZv7qrOPnQRIDP3P6PPiW++/uQNxlv9NCNRvyKPMczDLRG4lU6mUc6j6kCBEYv0qz8GY3qvYthRG6Gx49H8R/VNUJnch+jv6sSkbbzR1WAY9d6y9FYtIVEz0ie0y2oY+OM92we6OPN5M5s3eV50Zbw8UlhVFcPg7flaW7b0j6waAfodO3ucUIH7I0E7EpQ78hdlbmLJ5p7qtOcdp5y8wvi3zX8jq8YNZRR1Daf2ppG9Yy09ys67/Jc8fuqb9kc0HalkS2uZ3/4VV13MmP0N5RxV77fAnnfgiNdfmwL8GRYNLCR2Y6eI/7I7pkfG2KbQD8OWUxG/d46vF7XhsHOM0u9BBodGwlWT18vOD3besI7Oq6Yszmqq2cHJ7ZHeTL+ubctXCPfNu9sXVdlevxX3lKiLeAJHNkb1Iyu3vbzxFFirvP0XmkcjVR2cbyng+/lRE8vGFe6VK8DSHDv+bNkjHhHcfXsaIAzstmLvafh5Cmv6nzuUTkg9D6XuJLVV7tRbxvpYXjq8O6T+UoSnGF8Cl9k19vo2z7SqybP2VtVCkJsoLKK42oY+cwk44vasF8oSeT5imQukkUHX9ZJIsxe1uuMrpndEcqOCGcx8rQ5GaapbeufP//uVkRWSbg4ftXOyN7fOxdgYG4UT4YJEzzZ2J1uP8z780/19iP65HiU/v3jL/P87kQJAt3RCd1j5z+VQ/8sUXXu9NaJvHtJIFvsvy8BHm+H5zP8UVcq/E0siJFjwvayYjP2mD+Ir574BuQ+VR5KnumvZBi/dweLw68rLyo7JjjAeZBFh1loSapj50OkSw5d4virPmnUmUVr5PWYZ9nyHNaAt6FWH7NIsH/5YhAc2Gu89glh/iQJC16QHPsTJQ6kjdUj3+fxQCpYtQnig94Ev8jvyrJKrzL7VcoP4ilJwEnKFQ9tg2GSlpSbouAgquVlO6aa1SYyXw8H4g5b3aL4MInzt/oJSiCeg0uOYkCDjiQ2Bp6mkkcd6AKkdALuGk2HcositKhVFz/DLl5j26wWwg5QvvOihPUo24PHdDuXRJWnAiCfnA7+/pHpNqDxHay6cc/n/WsZDsz1SACKGdpOzslRZWF9V8LnE2iu83hnCDTEBrMsugfACdM7t5Tq4CTQQI8R8ZWqbfuPKt9Uq7RbAZw9DexKkNDcDcsCCuyilmvN7Z1B1HYQTuZaoOqKin0nXBIUDBd11b3/qB2QaP7M4zNYW7CfjG11ejBNa4VrwWRPXHVxA6ptPvIYbdcDyRbc4nAVnYVRicm0d2eHdUdzZqtzSWrOiGoTy+dvLQqxiWeSoGBHq9cUOuk2MXSFOP2VDLM+XNW8mnxLFRKmcwkgVxUokSjYiMXt2wzQtGtQhYErGaGLVhE/0yPskKlioE0c08HQJnPU+TJsqjF2X3xljHEU217ncS6AVUD0SOepW5KzU7sHgqSSoKKBZrvixOHqKrxVlHFo678CzVZitjRpA22CS75AXTsXu9jsS9FndKqbF5e8rhuB7IaHXUGzPfuYVh8dG1znARXe+3GLE9eZGKP1v2QsKrT+6c2i27SSZ9Ft+gaXmH08BWwJkgAAAABJRU5ErkJggg==",Kw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAI8AAAAhCAYAAADgdfgNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASqSURBVHgB7VxLttQ4DJXeqa30jnrSK+gB62HACpiwGwZMYAcMWMETjzpxSrq+smNXquAcfCexZf2syFISiqf2BllYeIO+YYT/RRYWJrGSZ2EalzD7770s/GX4+E5msSrPwjRW8ixMYyXPwjRW8ixMYyXPwjTi25awb0S20d+upjc2A5HCdhukaqrlRORmZDO020SBbcH7d53bZlMdu5M10BXUgo3Uxxbs5ncVJ8JX+eSCnMUb6SJV2DK37sWlUlrhRWgg6bjwKFdmns8ir/nMssR2SZIXqaPm5HbTLug7u8I62DWvM/E/21+ASjgt/kO+oY7Ci+toB/Uk+mkshOzlvgyC5CGVpRCyeFX3XG+nvQkl42IfbrAcHR8IhrV8cfLBh5YMIVtPt3RunuY86FeZV/4ye+eiblvMiEm/PFqHP2tb1tCJcyYvRFevNUhHj2/RPX+ZXlzr7TGzw/Ca8Jm0YzyAo//eyStPJesyAEsuLeVsXeJGvW4MuJFy7enZCQs2cA++BWalPkGoAAZzfzoyv/we8Q5n7QyzwLdWtOn3VJZabcLP51E/8zRbjibjzjorm2kpJWW+Re/q8XzYUrPWo43T2mjtR/TstJYPrfatiS9+3eKaSLy3qklyAf79wOmf/r9e6srjk9kbZWMPFgNyuHbaK5FH/l67MOU+KRHyrVRE0nboT26WRJroUmhTvpUUvCY2s2sWf2nw0Uok3WQf/XnOJV3JAk3fiiQpuUjfxmYJDfgNomYYXWxjOCdvZSZSty+Ja7bJWpKZRvZ/pSct0RpxCft2vGn8nb3rnNnZ/A8wLnMH+DMPoqo2B0ouazt7DDVeM36mM5TonhzayPQl8ujfHgfmB9FN/WjEpeJNEPgTO3A2q5hV+x7HJfeqOGFwchBwsqs5YcUr8miDYG5Q/FL0z9wNlgZMmp8UjPH6auVPs5D24u7iXmmcPnWygTeLM+NHNqimO63Yt35yHsSlsosO9R4uw0Mb4SMVu4usEjC7wk60Rj2pD+h7CywOGKtCxiRIKlSoNlubLFdgrROqF5eMFu2Gle1nqHOv6jQYLsOrUijxtLHDYBIrjcJa55CFOdoWsC8Wy7aX99dgy51UldynzD947NlpWPmUyKJOfxAOVeWDfmbx006ObG9VGULyfP3+zWkv1nHeyiCR/d+TdrBjDfrL80+wibzZGsso8G33ifDQtUzXEaRljqxle8tikdnKxn2//5F5hOT58uOzUL88RuL4O3D0G0aQkefu6Q+KLUueo/+LIv9Jhg3Sg/Vk/AhUbXIi+kcOOKMpGd9j79kJfCfO/z0PexZ6JGb1480XMr7OtfFcQ8ZFpmX3CO3ROOG+5MkzuyGD6yieGUjmK/qNlax6jCEOFxm6JsdoI9DOGvPjoZWHnbamAyeVmGeV7rPstNpkr4WyGztTmayzxvx4aOX5hdbrqKcrLpyAUXUj/PHjhkzh3u2W9r5XqY1+RmXSk+9FAp48oxt5RLUY0TnyxRTfaPDmHcXoi0NP3ib1UN02LzuAmDzhc/kDoZ35KEaC5aslq6IZaDvRY7ZmMVNBsBWemZQovv5KxkLB+isZC0/DSp6FafwEvaQ6IeBIPooAAAAASUVORK5CYII=",Jw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAAbCAYAAAAgVez8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAF7SURBVHgB7VhbboMwEDQo58lJeoSesz89RD96gPYiCQXVm4yHnXVQXophpAjsfc2w6yDRDSPSitCnlWET3Do2wa1jE9w6dsXqMP66fD/ke3tLd7THfgqeHd/8Xl6vjpcPuSVRY7JBW0vBRyJydIgx2C+yezlUXoxln4iLtx8KHlKdmNfdGoFIWBS31K/SfRrpQSd6aZxVz8+w2Zd2OoqL8tU4XnLeF0Cf4UfgCZM0H+l7kLjH+V2US430ozv8BBSCh0NqEvhHXQj+/vxIt682lrvmG8M18Tl2//522ioE//58/TtNsCJWEK9oDwqFeyqfqq9stvb8sm2fzoJ7SWq6xzVekSjHK6gYs3kCmA8/MC8WOTo1e7ewOVsi++H6EgEeOdUVrGv7bON6ys7ipWAUxom9DmMnMAdekYwa9UgI51X3LJ79MnazQkhYFeYHwDm8fUUkmhSvXuSH/oJ/L0lFxaNR9sYf480vemjsi+savHOOabfv0o1jdYL/AJO97E2TuzzNAAAAAElFTkSuQmCC";let Qn=new Dt;function zk(t){const e=Te.exports.useApp();let r=t.endTime-t.startTime;const[n,i]=me.exports.useState(Math.round(r*t.game.notespeed/1e3)),[s,o]=me.exports.useState(-n),[a,u]=me.exports.useState(1),[f,d]=me.exports.useState(.5),[p,v]=me.exports.useState(-1),[g,_]=me.exports.useState(0),[b,m]=me.exports.useState(""),[E,T]=me.exports.useState(ue/2-$e/2+.5*$e);let S=qw[t.keys-1],A=t.keys==2?it.from(Qw):t.keys==3?it.from(Kw):it.from(Jw),R=it.from(Zw),I=new it(ce.WHITE);return Qn.getChildByName("note"+t.i+t.keys)==null?(I.name="hold"+t.i+t.keys,t.keys==2||t.keys==3?(A.anchor.set(t.keys==2?1:0,1),R.anchor.set(t.keys==2?1:0,1),I.anchor.set(t.keys==2?1:0,0),A.width=Pr*2,R.width=Pr*2,I.width=Pr*2-10,I.tint=S,R.tint=S):(A.anchor.set(.5,1),R.anchor.set(.5,1),A.width=Pr,R.width=Pr,I.width=Pr,I.tint=16777215,R.tint=16777215),R.y=nt-Ru,R.blendMode=ae.ADD_NPM,R.name="hits"+t.i+t.keys,R.height=Oc*3,R.alpha=0,A.name="note"+t.i+t.keys,A.height=Oc,Qn.addChild(I),Qn.addChild(A),Qn.addChild(R)):(A=Qn.getChildByName("note"+t.i+t.keys),I=Qn.getChildByName("hold"+t.i+t.keys),R=Qn.getChildByName("hits"+t.i+t.keys)),I.y=s,A.y=s+n,I.height=n,I.alpha=f,t.game.mode=="play"&&(R.alpha=g),A.alpha=a,t.keys==2||t.keys==3?(A.x=E,I.x=E,t.game.mode=="play"&&(R.x=E)):(t.game.mode=="play"&&(R.x=E-ue/2+t.x),A.x=E-ue/2+t.x,I.x=E-ue/2+t.x),Te.exports.useTick(()=>{if(t.game.isPlaying){i(Math.round(r*t.game.notespeed/1e3));const k=t.game.currenttime;if(t.game.beatmap.cursor.length>0){let N=-1;for(let B=0;B<t.game.beatmap.cursor.length;B++){const X=t.game.beatmap.cursor[B];if(t.startTime<X.startTime)break;N++}N>-1&&T(ue/2-$e/2+t.game.beatmap.cursor[N].x*$e)}t.game.hitlist.length>0&&t.game.hitlist.forEach(N=>{N.startsWith(t.startTime.toString()+t.keys.toString())&&(!N.endsWith("miss")&&p==-1&&b==""?(m("true"),v(k)):N.endsWith("miss")&&m("false"))}),o(dt(k,[t.startTime-t.game.NOTE_TRAVEL_DURATION()+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION(),t.startTime+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()+n/t.game.notespeed*1e3],[-n,nt])),u(dt(k,[t.startTime,t.startTime+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[1,0])),b==""&&p==-1||_(dt(k,[p,p+500],[1,0])),b=="true"?(u(0),d(1)):b=="false"&&d(.2)}}),Qn.getChildByName("container"+t.i)==null&&e.stage.addChild(Qn),null}let Oi=new Dt;function jk(t){const e=Te.exports.useApp();Oi.name="container"+t.i;let[r,n]=me.exports.useState(!1);const[i,s]=me.exports.useState(0),[o,a]=me.exports.useState(1),[u,f]=me.exports.useState(-1),[d,p]=me.exports.useState(0);let v=qw[t.keys-1];const[g,_]=me.exports.useState(ue/2-$e/2+.5*$e);t.game.beatmap.cursor.sort((E,T)=>E.startTime-T.startTime);let b=t.keys==2?it.from(Qw):t.keys==3?it.from(Kw):it.from(Jw),m=it.from(Zw);return Oi.getChildByName("note"+t.i+t.keys)==null?(t.keys==2||t.keys==3?(b.anchor.set(t.keys==2?1:0,1),m.anchor.set(t.keys==2?1:0,0),b.width=Pr*2,m.width=Pr*2,m.tint=v):(b.anchor.set(.5,1),m.anchor.set(1,0),b.width=Pr,m.width=Pr,m.tint=16777215),m.y=nt-Ru,m.blendMode=ae.ADD_NPM,m.alpha=0,m.name="hits"+t.i+t.keys,m.height=Oc*3,b.name="note"+t.i+t.keys,b.height=Oc,Oi.addChild(b),Oi.addChild(m)):(b=Oi.getChildByName("note"+t.i+t.keys),t.game.mode=="play"&&(m=Oi.getChildByName("hits"+t.i+t.keys))),m.alpha=d,b.alpha=o,b.y=i,t.keys==2||t.keys==3?(b.x=g,m.x=g):(m.x=g-ue/2+t.x,b.x=g-ue/2+t.x),Te.exports.useTick(()=>{let E=t.game.isPlaying;const T=t.game.currenttime;if(E){if(T>t.startTime+Vf,t.game.beatmap.cursor.length>0){let S=-1;for(let A=0;A<t.game.beatmap.cursor.length;A++){const R=t.game.beatmap.cursor[A];if(t.startTime<R.startTime)break;S++}S>-1&&_(ue/2-$e/2+t.game.beatmap.cursor[S].x*$e)}t.game.hitlist.length>0&&t.game.hitlist.forEach(S=>{S.startsWith(t.startTime.toString()+t.keys.toString())&&!S.endsWith("miss")&&u==-1&&(n(!0),f(T))}),!r||u==-1?(s(dt(T,[t.startTime-t.game.NOTE_TRAVEL_DURATION()+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION(),t.startTime+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[0,nt])),a(dt(T,[t.startTime,t.startTime+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[1,0]))):(p(dt(T,[u,u+100],[1,0])),a(0))}}),Oi.getChildByName("container"+t.i)==null&&e.stage.addChild(Oi),null}var hd={exports:{}},fd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hk=me.exports,Xk=Symbol.for("react.element"),Vk=Symbol.for("react.fragment"),$k=Object.prototype.hasOwnProperty,Wk=Hk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Yk={key:!0,ref:!0,__self:!0,__source:!0};function eS(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)$k.call(e,n)&&!Yk.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Xk,type:t,key:s,ref:o,props:i,_owner:Wk.current}}fd.Fragment=Vk;fd.jsx=eS;fd.jsxs=eS;(function(t){t.exports=fd})(hd);const cd=hd.exports.Fragment,Be=hd.exports.jsx,jl=hd.exports.jsxs,Sg=200-10*8,db=80-6*8,pb=140-8*8,qk=Sg;function Zk(t){if(t.hitObjects.length==0)return null;t.game.playStartTime;let e=t.game.isPlaying;t.game.effectvolume;const[r,n]=me.exports.useState(0),i=me.exports.useMemo(()=>t.hitObjects[r],[r]),[s,o]=me.exports.useState(-1),a=new Audio;a.src="../";let u=t.hitObjects.filter(d=>d.type=="hold"&&d.column==t.i).sort((d,p)=>d.startTime-p.startTime);Te.exports.useTick(()=>{if(e=t.game.isPlaying,e){t.game.effectvolume,t.game.playStartTime;const d=t.game.currenttime;if(t.game.mode=="play"){if(t.game.key[t.i-1][0]=="1"&&i!=null){const v=i.startTime>=d-Sg&&i.startTime<=d+Sg?i:void 0;if(v){const g=Math.abs(v.startTime-d);n(r+1),(async()=>{g<=db?await t.game.hit("perfect",v.startTime,t.i):db<g&&g<=pb?await t.game.hit("great",v.startTime,t.i):pb<g&&g<=qk&&await t.game.hit("ok",v.startTime,t.i)})()}}let p=u.filter(v=>v.endTime!=null&&v.endTime>=d)[0];p!=null&&(s<p.startTime?o(p.startTime+100):d>=s&&s!=-1&&(o(s+100),t.game.key[t.i-1][1]=="0"&&(async()=>t.game.miss(p.startTime,t.i))())),i!=null&&d>i.startTime+150&&((async()=>t.game.miss(d,t.i))(),n(r+1))}}});let f=(ue-fr)/2+Pr*(t.i-1)+Pr/2;return Be(cd,{children:Be(Te.exports.Container,{position:[0,0],children:t.hitObjects.map((d,p)=>d.type=="note"?Be(jk,{x:f,startTime:d.startTime,keys:t.i,i:p,game:t.game},p):Be(zk,{x:f,startTime:d.startTime,endTime:d.endTime,timingPoint:t.timingPoints.filter(v=>v.time<=d.startTime).sort((v,g)=>g.time-v.time)[0],keys:t.i,i:p,game:t.game},p))})})}const vb=50;function Qk(t){const[e,r]=me.exports.useState(.5);me.exports.useState(-1);const[n,i]=me.exports.useState(0);t.game.playStartTime;const s=me.exports.useMemo(()=>t.cursors[n],[n]);return Te.exports.useTick(()=>{if(t.game.playStartTime,t.game.isPlaying){const u=t.game.currenttime;for(let f=0;f<t.cursors.length;f++){const d=t.cursors[f],p=t.cursors[f+1]!=null?t.cursors[f+1].startTime:t.game.audio.duration*1e3;u>=d.startTime&&p>=u&&d.type=="normal"&&r(d.x)}if(t.game.mode=="play"){if((e>s.x&&t.game.key[4][0]=="1"||e<s.x&&t.game.key[4][1]=="1")&&s!=null){const f=s.startTime<=u+vb?s:void 0;if(f){var a=async()=>{i(n+1),await t.game.hit("perfect",f.startTime,5)};a()}}s!=null&&u>s.startTime+vb&&(t.game.miss(s.startTime,5),i(n+1))}}}),null}const mb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEwAAACbCAYAAADIrH28AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAKJkAACiZAbqDAN8AAAJFaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pg0KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPg0KICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPg0KICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4NCiAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjI2NDwvdGlmZjpZUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjI2NDwvdGlmZjpYUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPg0KICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4NCiAgICA8L3JkZjpEZXNjcmlwdGlvbj4NCiAgPC9yZGY6UkRGPg0KPC94OnhtcG1ldGE+DQo8P3hwYWNrZXQgZW5kPSJyIj8+Q7eE2wAAAXVJREFUeF7t0LENgzAARUGT9MyRdbL/MI4tQZ9X0dxJXyCMmzeeNuc81t5r59pn7bt22+/72z7b/xzXtce8rid/EiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsEiwSLBIsGeMH18EoJV9yQH4AAAAASUVORK5CYII=",Kk="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAS0AAAAyCAYAAAAJFI0UAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAKJkAACiZAbqDAN8AAAJFaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pg0KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPg0KICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPg0KICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4NCiAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjI2NDwvdGlmZjpZUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjI2NDwvdGlmZjpYUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPg0KICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4NCiAgICA8L3JkZjpEZXNjcmlwdGlvbj4NCiAgPC9yZGY6UkRGPg0KPC94OnhtcG1ldGE+DQo8P3hwYWNrZXQgZW5kPSJyIj8+Q7eE2wAADDJJREFUeF7t3euOI8txAOGztmVZtn75/d/QgCHJlu+2zA+agHLrNDnXhYSZDKBQWVlZ3RxiOrbYJGe//eHGT8tbefTczbni2c+G/7u1Of+/tyZX/n+e+tp/31pz/3Vr6v/t1qC2tf9xa/95a+arK/fvt6ZWHr+7Ncc1rofaxr996sOxrJvIwfEn5/inb9++/Sy3LI9Yab2de8/bmSeOMDcb9NUQSP2cT0Igj9YkIiSWahOPPIzJxJpZS3R6Y3HrIK72X24tGXVOAkPnCHXPCgsrreW1rLRez73n68yfsqrXzOm/jbg+YZHLnEskYi3RaMlLHqTRrmvKyhq9NWJNXbXySSth/f6px5SWuPyUVjUrreWHsNJ6HVfP1ZkzLjdjiEmjfFICgSSkWUcgs0ZeTSISk4hYU08ijadcxMkKdkrqNRBUspriQjJ6Tlj3JLTSWj6EldbLuPcclT97kMnsIa6pbY5ciKT18jNnTA52ZsZiTZ5c1Hbx640TkVhtY8fsJaE+OdXjX5/6U1rPCSumiO5KaYW1vIWV1mPuPTfl9WdNudmSkzgZwRinoIyrJQp90tGrVWcuoampHiSiTg4EYWxe/0hYxY+EhTkfVyL6WW6FtbyVldY1956TmRc3rk9OQRizJvmIq5UTawnGvItan3imWCDuwherqS6Jmf+bW3MMnDssWNux5w4LjjOFhVNaj4R1V0wrreWtrLS+595zMfPixrM/41rCqC+fvBLEWWeeyMzLaeLkRjyYstKDTIxbB/XnxxWSlXr3s5CUkpH5U1j1aO5KQpdiWmEt72Gl9SfuPQ8z3+4I8s3pm9OXJ5EkA725+kSEJAZ5MrC2Zo2mjoDECUMM6+yWEpVjT2khOSWs+XIQhHQKa0rqXcLCSmt5DyutP3L1HMyceI5JBOWNm9cnpeI5Vpug9FrSMUcUerLRt15MGOIrmUAuSekT1RRWsoL1jTvWFBbmec6aOCX0UEorreU9/NVT/5Uhj5OZSzaYMYmIE8qUSxS3LknJJ5cr7s25P4XOFfLGU1hJx/lm/4unPmGd/N1TP/nl6DU1V3Uv4vbv5K+0p+GyvIqvLq0ENJm5ZDMxnsKaVH/ONfZ8JzJx0pATz52SHPFY99dPvU+l91WbkP/Nrdm9WHtPePjbWztFldwSUqg9d1T3OAX0rJB2t7W8ld1pfQ+5xIxPfF5qksQgJhL9GROKOr38fP7JJKm1jqzIQ2xnZPwPt2aXI7bD0icJYxLSnMMxa+jDo2HX5XjOofXyD+qe2009mt+d1PJD+Or3tM6f/d5Yf8Y1gsHc4RSbJ5xkhQQil0DMGc+dFjo22UyhOGZr5xp5tOua8rIbix5Dx5gvFeU6VzuteS6Yn49n7sjmDurubmp3WstbWWl9z9W43OxnTBSNk0Y7JZgjDr18gjFuPSk0DxIo7rNTHbP1LvrOkXDmvGNobsI3r9eSUHkvOzHnMMXUX3JwzPKn3HAlo0tBrbiWt7DS+p6r50Ku/NkTiTjBwHgK64xJRW/NXD8F0ctPMiCSRCTueNZ0vERjrCUW9QlFzTxOrbXzc1ryMGc8jzEFZW4+7jl3CmnFtXwIK62fc+aMZ26Ok5XxvRjJItGUJwc5YzXlE1NCMC5Wn3Bi1pNA0opqnUObu68+DkFIiQvWq5niSnDJaZ6j+J64Hspp5bW8lL0R/zbaCc0b8p5LY008x26QN3bj/Ap5rRoi6jhumP/61hxHM3YTXN88rOk4f39r3g0UVxuO4Ua5nLrmuiF/0sccmhdr893GkL9ib8wvH8J+uHS5Yv5OFOs1O712hyTZ7s0uTLM7s2uyg2vX556ZXZz7c+6NNS/XXF8xapfY7g7twr7bje3u7GviX+lleS12g8lMPPuJXd7sJ73UXJZXsdJanuOU0SNJ+X1KZs/9bnmZueJaXs1Ka/lornZVk3nPbMb37oUty3estJaXcrWzCnOae124+r16TmbL8iJWWssVjwQViWriXcmTKavepZzvZKId19x5LcslK63lLVxJbebEZHX1+3Ultth7XMuzrLSWl9IN9kdc7b5AYHZX914iJqvdaS3PstJaXsuVlM7fI+N2Wvd+x0hsfqj1ir05v/yMldbyUq5khfL9Lhm3oypnPHdZ8yXi1afql+UuK63ltcyXiVNk4jn2u+XdxHuyOm/GR18PupLZfhVoWWktr+IUE/wOlbsSF8gqeU1xzZeFu+NaXsRKa3krCWqKavZ+t7T50rB+ykp8b9cVlzusP+zfmf+SfLYvTF/9LDPXF32hn1/81YxnjS//Gjcv37q+DDzxLpi5evSlYjlxa3whuD/wN1FrN9IXjrugPRbNl4td6I7Xn5Lpz8KYn1grp3b+6RjjmD9DNbP2ivOLyi/64vJ+wXn5CD7jX3mYP88Z1xJTcUJCF76+OTsGF3r1xOLC7uJPBImqix7VOI7muOYJi5ymGKp1fHVJJ4hMTbnqr+TX3Hws6HzNn9LSrmT1UuHcrVtpLR/BZ99pNdbXQC6a8YzJgDDKl4O8RjzmXNjG/RE9qD0l4U+xWNPaLlzjSCAw75hTWHMeM+98xsVxyinKz9rzMVfzSDKvEtAKa/koPrO0ivVnrE1ZJRVx/ZXIupjtbFpvrYZTWvKkoX7+xxJIdtZMQZW3rrmTak9Rzb9LhR5vPBIVzvoPkdYKa/lIvoK0kIBQrBWTSwIyJiljcqiOCMy72LsIW6MuCSQMeY1EzJ9CIKf5Tppjqus+FaacJp2reVRjrnPJzfNOUc34ZK65J5xXi2jltXwEn+ndQ3K5onzvbJ1c5T0vvQOW1DSiIQr5+dyJvZPlbXvvkCWLefET1Gz+zDEI8vwPWMVz7MZ777jZtc1559JI6BTW5JGk4nzMy/IXx7zwvgJTbKfkSCqBmSOTZEVEUxyeN7ssePkmr0Zt9BUUeXFvzzuuRip68nGMmv88tZeEMw/n+cenNvPoc06dt8caL/kclLWzwePejxYsfzF8ppeH58/RWF+caIzF9SAccfnuLckbJxjjdjoz12eQjK2V+2eJJ84dTP+P4BWOi3+6NceLdlST5ttZzd0Wyp/nb2f2Elo7X97ty8Plz8JXuxGfoBKTNkWlJSky0Luw9e2OUJxc9NZpjpW01DiOY3hJWL05uIjncaO6BDjvc521iWfWhPtpYd2jl36PJHau87hXWsufha9yI15cS1A4x2RCGMZJyIVcrl1N61zMCca4HBIX5q6qenMdrxzE1jan1xLgJIElm+quUNNjq+aU0ZTWjM86TAG9WEYrruW9fDVpkQrm+IxJQ5zA4CI37mKvforFuOYiJ56wVjt3Qx0/KSQ396PmejhHzePo3KekyKY5zPlE5HwzP6VUzZQWTnGd8nmRjFZay3v5zNJCY30xqZzj2eTJhGSMoScC+aSmrnlzSU5OSyxyXahqkFQSQ3lUax0cp9i6GjrHFNBkflJ+1nTeJHkKKdRNec26K/k8K6SV1vJePpu0MH+eM26sTzzFiQFieTJJKNUYt7Z54ymiOdarsTZxdMx2Xh0X3dBPOPNxJTDHnMefQio/c441x5gymi9fT4FVp78nt0S00lp+OJ9dWmisnzGxQF8MUihXa62YFBpPEVWbyOS7yOW7+JuDOMlE8nJs669E0UvH1jbuuFfi6vzzfP5353CeWd95p9xmfPW4CGnFtfxQvpK0kGwwZYRkYSxOQnMM4yR0zs+eHEhAmx+HMAeiKUYS6LNXaqfokHAILWHqy+u1KR/M3JTXmcPVS8Y5P+NTXFNGd8W00lrew2eUFs6fqbF+xlNEmBJqvhzKJ41zLmn0oV3zXprpowtdjYs3Iem1PqTa8Zp3vpiykE806qPHguRkLD7FdYqo+s4z50PulBZWXMsP5atLazbUJ4qklDCqbZxYoDbZQK+usbopr+bmPKYgksdZY6zOuMeiV98Y5ltzvnMp7+Vh88krEXVu3JNX4ymvKxmtvJYP47NKC+fPNcdTHvLJKeZYnzQSQrnWusBbI9/XgRKTsbnG0He8+o5TzczPdUTTOHnFlE7rzVczJSXWdwwxpozK4UpeM27+VeLCymt5KZ9ZWjh/tjkWNy6+Gs98ojAW12sJiXQmLvp5T8saNcmpNVMw5fTR8WdLQFMc8gTQ8eAxGKuvJaMZO87ckRlPcb1HWlhxLe/kp5/+H9JUwpIefAH5AAAAAElFTkSuQmCC",Jk="/assets/cursorhitleft.0797ffa9.png";let qt=new Dt;function gb(t){Te.exports.useApp(),qt=t.container,t.game.effectvolume,t.beatmap.cursor=t.beatmap.cursor.sort((j,M)=>j.startTime-M.startTime),t.x;let e=t.beatmap.cursor[t.i+1]?t.beatmap.cursor[t.i+1].startTime:Number.isNaN(t.game.audio.duration)?1e6:t.game.audio.duration*1e3,r=t.beatmap.cursor[t.i]?t.beatmap.cursor[t.i].startTime:0,n=t.beatmap.cursor[t.i]!=null?t.beatmap.cursor[t.i].x:.5,i=.5;const s=t.type=="normal"?t.x:i;let o=e-r,a=Cu;const[u,f]=me.exports.useState(Math.round(o*a/1e3)),[d,p]=me.exports.useState(-u);let v=0;for(let j=1;j<t.i+1;j++)if(t.beatmap.cursor[t.i-j].type=="normal"||t.beatmap.cursor[t.i-j]!=null){i=t.beatmap.cursor[t.i-j].x;break}const g=i>n?4051711:16736609,[_,b]=me.exports.useState(!0),[m,E]=me.exports.useState(-1);me.exports.useState(0);const[T,S]=me.exports.useState(0);let[A,R]=me.exports.useState(!1);const[I,P]=me.exports.useState(""),k=i>n?-(fr/2+fr*.3/2):fr/2+fr*.3/2;let N=dt(t.x,[0,1],[ue/2-$e/2,ue/2+$e/2]);N+=t.type=="normal"?k:0;let B=it.from(i>n?Jk:Kk),X=new fi,Z=new fi;Z.lineStyle(2,16777215,1),Z.beginFill(0),Z.drawRect(0,0,fr*1.3,u),Z.endFill();let Y=Z;X.lineStyle(4,16777215,1),X.beginFill(g,.5),X.drawRect(0,0,Math.abs(i-n)*$e,26),X.endFill();let oe=X,$=new it(ce.WHITE),V=new it(ce.WHITE),ie=new it(ce.WHITE),Ae=it.from(mb),ve=it.from(mb);if(qt.getChildByName("switchline"+t.i)==null){$.x=dt(s,[0,1],[ue/2-$e/2,ue/2+$e/2]),V.width=10,V.anchor.set(.5),V.height=10,V.rotation=45*3.14/180,V.name="point"+t.i,ie.width=10,ie.anchor.set(.5),ie.height=10,ie.rotation=45*3.14/180,ie.name="point2"+t.i,V.alpha=ie.alpha=0,$.anchor.set(.5,1),$.width=3,$.alpha=1,$.height=u,$.name="line1"+t.i,Ae.anchor.set(.5,1),Ae.width=100,Ae.name="line2"+t.i,Ae.alpha=0,ve.anchor.set(.5,1),ve.width=100,ve.name="line3"+t.i,ve.alpha=0,Ae.x=dt(s,[0,1],[ue/2-$e/2+fr/2,ue/2+$e/2+fr/2]),ve.x=dt(s,[0,1],[ue/2-$e/2-fr/2,ue/2+$e/2-fr/2]),B.alpha=0,B.x=N,B.name=t.i+"cursorf",Y.name=t.i+"rowbg",Y.x=dt(s,[0,1],[ue/2-$e/2-Y.width/2,ue/2+$e/2-Y.width/2]),Y.alpha=1,oe.name="switchline"+t.i;const j=i>n?0:-oe.width;oe.x=dt(t.x,[0,1],[ue/2-$e/2+j,ue/2+$e/2+j]),qt.addChild(B),qt.addChild(Y),qt.addChild($),qt.addChild(Ae),qt.addChild(oe),qt.addChild(ve),qt.addChild(V),qt.addChild(ie)}else oe=qt.getChildByName("switchline"+t.i),Y=qt.getChildByName(t.i+"rowbg"),V=qt.getChildByName("point"+t.i),ie=qt.getChildByName("point2"+t.i),$=qt.getChildByName("line1"+t.i),Ae=qt.getChildByName("line2"+t.i),ve=qt.getChildByName("line3"+t.i);return ie.x=dt(s,[0,1],[ue/2-$e/2,ue/2+$e/2]),V.x=dt(s,[0,1],[ue/2-$e/2,ue/2+$e/2]),oe.y=d+u-oe.height,Y.y=d+u-Y.height,$.y=d+u,Ae.y=d+u,ve.y=d+u,V.y=d+u,ie.y=d,Te.exports.useTick(()=>{v=t.game.currenttime;let j=t.game.isPlaying;A&&m!=-1&&v&&(B.alpha=dt(v,[m,m+300],[1,0]),B.x=$s(v,[m,m+300],[N,i>n?N-50:N+50])),(j&&_&&v>=r-t.game.NOTE_TRAVEL_DURATION()+ +t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()||t.game.mode=="edit")&&(t.game.hitlist.length>0&&t.game.hitlist.forEach(M=>{M.startsWith(r.toString()+"5")&&!M.endsWith("miss")&&m==-1&&(R(!0),P(M.split(",")[1]),E(v))}),(v>e+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()||v<r-t.game.NOTE_TRAVEL_DURATION()+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION())&&b(!1),p(dt(v,[r-t.game.NOTE_TRAVEL_DURATION()+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION(),e+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[-u,nt])),S(dt(v,[e,e+t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()],[1,0])),oe.alpha=1,Y.alpha=T)}),null}const eD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJsAAABMCAYAAAB6WsUbAAAAAXNSR0IArs4c6QAAAIRlWElmTU0AKgAAAAgABQEGAAMAAAABAAIAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAAEIAAAAAQAAAQgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAJugAwAEAAAAAQAAAEwAAAAAbO4rpwAAAAlwSFlzAAAomgAAKJoBFzohsgAAAg9pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDYuMC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpZUmVzb2x1dGlvbj4yNjQ8L3RpZmY6WVJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjI2NDwvdGlmZjpYUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UGhvdG9tZXRyaWNJbnRlcnByZXRhdGlvbj4yPC90aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpkJRyaAAABLUlEQVR4Ae3XwQ2DMAAEQZPwi5QC6IB20jzdxHBN3MdDAyuPTjIew0eAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECEdjmnBsKAg2B/Ym8GiENAhnbBwOBhkDGdjRCGgQythMDgYZAHgizEdIg4HFgAzWBXKO/Wk1oaYGM7VpawOFrAvln+9ZqQksLZGzvpQUcviaQa/RfqwkRIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAEC4wbREA+fh+htyQAAAABJRU5ErkJggg==",tD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJsAAAAnCAYAAAAYaTqCAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAKJkAACiZAbqDAN8AAAJFaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pg0KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNi4wLjAiPg0KICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPg0KICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4NCiAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjI2NDwvdGlmZjpZUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlhSZXNvbHV0aW9uPjI2NDwvdGlmZjpYUmVzb2x1dGlvbj4NCiAgICAgIDx0aWZmOlBob3RvbWV0cmljSW50ZXJwcmV0YXRpb24+MjwvdGlmZjpQaG90b21ldHJpY0ludGVycHJldGF0aW9uPg0KICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4NCiAgICA8L3JkZjpEZXNjcmlwdGlvbj4NCiAgPC9yZGY6UkRGPg0KPC94OnhtcG1ldGE+DQo8P3hwYWNrZXQgZW5kPSJyIj8+Q7eE2wAAAFlJREFUeF7t0sERgDAMA8EE/tRBO/RfjDNm1IJ/ux9dAVoAAAAAAAAAAAAAAAAAAAAAAAAA/HZV7TSM6rPdaRjVZ3vSMKrP9qZhVJ/tS8OoPlulYdSVhWFrHcymE4EpG58LAAAAAElFTkSuQmCC";var ho=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(ho||{}),Ag=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Ag||{}),ye=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ye||{}),Nc=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Nc||{}),te=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(te||{}),ua=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(ua||{}),De=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(De||{}),Cg=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(Cg||{}),In=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(In||{}),U0=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(U0||{}),no=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(no||{}),cs=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(cs||{}),Tn=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Tn||{}),G0=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(G0||{}),Wr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Wr||{}),Ut=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Ut||{}),Rt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Rt||{}),Ln=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Ln||{});const rD={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var t;return(t=document.baseURI)!=null?t:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};var Cv=/iPhone/i,yb=/iPod/i,_b=/iPad/i,xb=/\biOS-universal(?:.+)Mac\b/i,Rv=/\bAndroid(?:.+)Mobile\b/i,bb=/Android/i,No=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,lf=/Silk/i,Kn=/Windows Phone/i,Eb=/\bWindows(?:.+)ARM\b/i,Tb=/BlackBerry/i,wb=/BB10/i,Sb=/Opera Mini/i,Ab=/\b(CriOS|Chrome)(?:.+)Mobile/i,Cb=/Mobile(?:.+)Firefox\b/i,Rb=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function nD(t){return function(e){return e.test(t)}}function iD(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=nD(r),s={apple:{phone:i(Cv)&&!i(Kn),ipod:i(yb),tablet:!i(Cv)&&(i(_b)||Rb(e))&&!i(Kn),universal:i(xb),device:(i(Cv)||i(yb)||i(_b)||i(xb)||Rb(e))&&!i(Kn)},amazon:{phone:i(No),tablet:!i(No)&&i(lf),device:i(No)||i(lf)},android:{phone:!i(Kn)&&i(No)||!i(Kn)&&i(Rv),tablet:!i(Kn)&&!i(No)&&!i(Rv)&&(i(lf)||i(bb)),device:!i(Kn)&&(i(No)||i(lf)||i(Rv)||i(bb))||i(/\bokhttp\b/i)},windows:{phone:i(Kn),tablet:i(Eb),device:i(Kn)||i(Eb)},other:{blackberry:i(Tb),blackberry10:i(wb),opera:i(Sb),firefox:i(Cb),chrome:i(Ab),device:i(Tb)||i(wb)||i(Sb)||i(Cb)||i(Ab)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const $o=iD(globalThis.navigator);function sD(){return!$o.apple.device}function oD(t){let e=!0;if($o.tablet||$o.phone){if($o.apple.device){const r=navigator.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if($o.android.device){const r=navigator.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?t:4}const he={ADAPTER:rD,MIPMAP_TEXTURES:no.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:Rt.NONE,SPRITE_MAX_TEXTURES:oD(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,premultipliedAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1,hello:!1},GC_MODE:G0.AUTO,GC_MAX_IDLE:60*60,GC_MAX_CHECK_COUNT:60*10,WRAP_MODE:U0.CLAMP,SCALE_MODE:In.LINEAR,PRECISION_VERTEX:Wr.HIGH,PRECISION_FRAGMENT:$o.apple.device?Wr.HIGH:Wr.MEDIUM,CAN_UPLOAD_SAME_BUFFER:sD(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};he.PREFER_ENV=ho.WEBGL2;he.STRICT_TEXTURE_CACHE=!1;var Pe=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(Pe||{});const Rg=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Ib=(t,e)=>{var r;return(r=Rg(t).priority)!=null?r:e},je={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Rg).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(Rg).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>Ib(s,r)-Ib(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}},aD=Math.PI*2,Mc=Math.PI/180;var tS=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(tS||{});class It{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new It(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const uf=[new It,new It,new It,new It];class Pt{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=tS.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Pt(0,0,0,0)}clone(){return new Pt(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const k=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=k)return!1;const B=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>B}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=uf[0].set(e.left,e.top),u=uf[1].set(e.left,e.bottom),f=uf[2].set(e.right,e.top),d=uf[3].set(e.right,e.bottom);if(f.x<=a.x||u.y<=a.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(a,a),r.apply(u,u),r.apply(f,f),r.apply(d,d),Math.max(a.x,u.x,f.x,d.x)<=n||Math.min(a.x,u.x,f.x,d.x)>=i||Math.max(a.y,u.y,f.y,d.y)<=s||Math.min(a.y,u.y,f.y,d.y)>=o))return!1;const v=p*(u.y-a.y),g=p*(a.x-u.x),_=v*n+g*s,b=v*i+g*s,m=v*n+g*o,E=v*i+g*o;if(Math.max(_,b,m,E)<=v*a.x+g*a.y||Math.min(_,b,m,E)>=v*d.x+g*d.y)return!1;const T=p*(a.y-f.y),S=p*(f.x-a.x),A=T*n+S*s,R=T*i+S*s,I=T*n+S*o,P=T*i+S*o;return!(Math.max(A,R,I,P)<=T*a.x+S*a.y||Math.min(A,R,I,P)>=T*d.x+S*d.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Wo{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Wo(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=${0} y=${0} scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}class er{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new It;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new It;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,u,f){return this.a=Math.cos(a+f)*s,this.b=Math.sin(a+f)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),f=Math.abs(a+u);return f<1e-5||Math.abs(aD-f)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new er;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new er}static get TEMP_MATRIX(){return new er}}const Ms=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Fs=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ls=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],ks=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Ig=[],rS=[],hf=Math.sign;function lD(){for(let t=0;t<16;t++){const e=[];Ig.push(e);for(let r=0;r<16;r++){const n=hf(Ms[t]*Ms[r]+Ls[t]*Fs[r]),i=hf(Fs[t]*Ms[r]+ks[t]*Fs[r]),s=hf(Ms[t]*Ls[r]+Ls[t]*ks[r]),o=hf(Fs[t]*Ls[r]+ks[t]*ks[r]);for(let a=0;a<16;a++)if(Ms[a]===n&&Fs[a]===i&&Ls[a]===s&&ks[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new er;e.set(Ms[t],Fs[t],Ls[t],ks[t],0,0),rS.push(e)}}lD();const ct={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Ms[t],uY:t=>Fs[t],vX:t=>Ls[t],vY:t=>ks[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Ig[t][e],sub:(t,e)=>Ig[t][ct.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?ct.S:ct.N:Math.abs(e)*2<=Math.abs(t)?t>0?ct.E:ct.W:e>0?t>0?ct.SE:ct.SW:t>0?ct.NE:ct.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=rS[ct.inv(e)];i.tx=r,i.ty=n,t.append(i)}},nS=class{constructor(){this.worldTransform=new er,this.localTransform=new er,this.position=new Wo(this.onChange,this,0,0),this.scale=new Wo(this.onChange,this,1,1),this.pivot=new Wo(this.onChange,this,0,0),this.skew=new Wo(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let iS=nS;iS.IDENTITY=new nS;class fn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,u){if(arguments.length>8)throw new Error("max arguments reached");const{name:f,items:d}=this;this._aliasCount++;for(let p=0,v=d.length;p<v;p++)d[p][f](e,r,n,i,s,o,a,u);return d===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(fn.prototype,{dispatch:{value:fn.prototype.emit},run:{value:fn.prototype.emit}});he.TARGET_FPMS=.06;var Fc=(t=>(t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Fc||{});class Iv{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}class Qt{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Iv(null,null,1/0),this.deltaMS=1/he.TARGET_FPMS,this.elapsedMS=1/he.TARGET_FPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=Fc.NORMAL){return this._addListener(new Iv(e,r,n))}addOnce(e,r,n=Fc.NORMAL){return this._addListener(new Iv(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*he.TARGET_FPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,he.TARGET_FPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!Qt._shared){const e=Qt._shared=new Qt;e.autoStart=!0,e._protected=!0}return Qt._shared}static get system(){if(!Qt._system){const e=Qt._system=new Qt;e.autoStart=!0,e._protected=!0}return Qt._system}}class sS{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Fc.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Qt.shared:new Qt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}sS.extension=Pe.Application;je.add(sS);var oS={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,f,d){this.fn=u,this.context=f,this.once=d||!1}function s(u,f,d,p,v){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,p||u,v),_=r?r+f:f;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],g]:u._events[_].push(g):(u._events[_]=g,u._eventsCount++),u}function o(u,f){--u._eventsCount===0?u._events=new n:delete u._events[f]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var f=[],d,p;if(this._eventsCount===0)return f;for(p in d=this._events)e.call(d,p)&&f.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(d)):f},a.prototype.listeners=function(f){var d=r?r+f:f,p=this._events[d];if(!p)return[];if(p.fn)return[p.fn];for(var v=0,g=p.length,_=new Array(g);v<g;v++)_[v]=p[v].fn;return _},a.prototype.listenerCount=function(f){var d=r?r+f:f,p=this._events[d];return p?p.fn?1:p.length:0},a.prototype.emit=function(f,d,p,v,g,_){var b=r?r+f:f;if(!this._events[b])return!1;var m=this._events[b],E=arguments.length,T,S;if(m.fn){switch(m.once&&this.removeListener(f,m.fn,void 0,!0),E){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,d),!0;case 3:return m.fn.call(m.context,d,p),!0;case 4:return m.fn.call(m.context,d,p,v),!0;case 5:return m.fn.call(m.context,d,p,v,g),!0;case 6:return m.fn.call(m.context,d,p,v,g,_),!0}for(S=1,T=new Array(E-1);S<E;S++)T[S-1]=arguments[S];m.fn.apply(m.context,T)}else{var A=m.length,R;for(S=0;S<A;S++)switch(m[S].once&&this.removeListener(f,m[S].fn,void 0,!0),E){case 1:m[S].fn.call(m[S].context);break;case 2:m[S].fn.call(m[S].context,d);break;case 3:m[S].fn.call(m[S].context,d,p);break;case 4:m[S].fn.call(m[S].context,d,p,v);break;default:if(!T)for(R=1,T=new Array(E-1);R<E;R++)T[R-1]=arguments[R];m[S].fn.apply(m[S].context,T)}}return!0},a.prototype.on=function(f,d,p){return s(this,f,d,p,!1)},a.prototype.once=function(f,d,p){return s(this,f,d,p,!0)},a.prototype.removeListener=function(f,d,p,v){var g=r?r+f:f;if(!this._events[g])return this;if(!d)return o(this,g),this;var _=this._events[g];if(_.fn)_.fn===d&&(!v||_.once)&&(!p||_.context===p)&&o(this,g);else{for(var b=0,m=[],E=_.length;b<E;b++)(_[b].fn!==d||v&&!_[b].once||p&&_[b].context!==p)&&m.push(_[b]);m.length?this._events[g]=m.length===1?m[0]:m:o(this,g)}return this},a.prototype.removeAllListeners=function(f){var d;return f?(d=r?r+f:f,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(oS);const z0=oS.exports,uD={parse:$T,format:YT,resolve:WT};he.RETINA_PREFIX=/@([0-9\.]+)x/;he.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;const Pb={};function Hr(t,e,r=3){if(Pb[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),Pb[e]=!0}let Pv;function hD(){return typeof Pv>"u"&&(Pv=function(){const e={stencil:!0,failIfMajorPerformanceCaveat:he.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!he.ADAPTER.getWebGLRenderingContext())return!1;const r=he.ADAPTER.createCanvas();let n=r.getContext("webgl",e)||r.getContext("experimental-webgl",e);const i=!!(n&&n.getContextAttributes().stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Pv}var fD="#f0f8ff",cD="#faebd7",dD="#00ffff",pD="#7fffd4",vD="#f0ffff",mD="#f5f5dc",gD="#ffe4c4",yD="#000000",_D="#ffebcd",xD="#0000ff",bD="#8a2be2",ED="#a52a2a",TD="#deb887",wD="#5f9ea0",SD="#7fff00",AD="#d2691e",CD="#ff7f50",RD="#6495ed",ID="#fff8dc",PD="#dc143c",OD="#00ffff",ND="#00008b",MD="#008b8b",FD="#b8860b",LD="#a9a9a9",kD="#006400",DD="#a9a9a9",BD="#bdb76b",UD="#8b008b",GD="#556b2f",zD="#ff8c00",jD="#9932cc",HD="#8b0000",XD="#e9967a",VD="#8fbc8f",$D="#483d8b",WD="#2f4f4f",YD="#2f4f4f",qD="#00ced1",ZD="#9400d3",QD="#ff1493",KD="#00bfff",JD="#696969",eB="#696969",tB="#1e90ff",rB="#b22222",nB="#fffaf0",iB="#228b22",sB="#ff00ff",oB="#dcdcdc",aB="#f8f8ff",lB="#daa520",uB="#ffd700",hB="#808080",fB="#008000",cB="#adff2f",dB="#808080",pB="#f0fff0",vB="#ff69b4",mB="#cd5c5c",gB="#4b0082",yB="#fffff0",_B="#f0e68c",xB="#fff0f5",bB="#e6e6fa",EB="#7cfc00",TB="#fffacd",wB="#add8e6",SB="#f08080",AB="#e0ffff",CB="#fafad2",RB="#d3d3d3",IB="#90ee90",PB="#d3d3d3",OB="#ffb6c1",NB="#ffa07a",MB="#20b2aa",FB="#87cefa",LB="#778899",kB="#778899",DB="#b0c4de",BB="#ffffe0",UB="#00ff00",GB="#32cd32",zB="#faf0e6",jB="#ff00ff",HB="#800000",XB="#66cdaa",VB="#0000cd",$B="#ba55d3",WB="#9370db",YB="#3cb371",qB="#7b68ee",ZB="#00fa9a",QB="#48d1cc",KB="#c71585",JB="#191970",eU="#f5fffa",tU="#ffe4e1",rU="#ffe4b5",nU="#ffdead",iU="#000080",sU="#fdf5e6",oU="#808000",aU="#6b8e23",lU="#ffa500",uU="#ff4500",hU="#da70d6",fU="#eee8aa",cU="#98fb98",dU="#afeeee",pU="#db7093",vU="#ffefd5",mU="#ffdab9",gU="#cd853f",yU="#ffc0cb",_U="#dda0dd",xU="#b0e0e6",bU="#800080",EU="#663399",TU="#ff0000",wU="#bc8f8f",SU="#4169e1",AU="#8b4513",CU="#fa8072",RU="#f4a460",IU="#2e8b57",PU="#fff5ee",OU="#a0522d",NU="#c0c0c0",MU="#87ceeb",FU="#6a5acd",LU="#708090",kU="#708090",DU="#fffafa",BU="#00ff7f",UU="#4682b4",GU="#d2b48c",zU="#008080",jU="#d8bfd8",HU="#ff6347",XU="#40e0d0",VU="#ee82ee",$U="#f5deb3",WU="#ffffff",YU="#f5f5f5",qU="#ffff00",ZU="#9acd32",QU={aliceblue:fD,antiquewhite:cD,aqua:dD,aquamarine:pD,azure:vD,beige:mD,bisque:gD,black:yD,blanchedalmond:_D,blue:xD,blueviolet:bD,brown:ED,burlywood:TD,cadetblue:wD,chartreuse:SD,chocolate:AD,coral:CD,cornflowerblue:RD,cornsilk:ID,crimson:PD,cyan:OD,darkblue:ND,darkcyan:MD,darkgoldenrod:FD,darkgray:LD,darkgreen:kD,darkgrey:DD,darkkhaki:BD,darkmagenta:UD,darkolivegreen:GD,darkorange:zD,darkorchid:jD,darkred:HD,darksalmon:XD,darkseagreen:VD,darkslateblue:$D,darkslategray:WD,darkslategrey:YD,darkturquoise:qD,darkviolet:ZD,deeppink:QD,deepskyblue:KD,dimgray:JD,dimgrey:eB,dodgerblue:tB,firebrick:rB,floralwhite:nB,forestgreen:iB,fuchsia:sB,gainsboro:oB,ghostwhite:aB,goldenrod:lB,gold:uB,gray:hB,green:fB,greenyellow:cB,grey:dB,honeydew:pB,hotpink:vB,indianred:mB,indigo:gB,ivory:yB,khaki:_B,lavenderblush:xB,lavender:bB,lawngreen:EB,lemonchiffon:TB,lightblue:wB,lightcoral:SB,lightcyan:AB,lightgoldenrodyellow:CB,lightgray:RB,lightgreen:IB,lightgrey:PB,lightpink:OB,lightsalmon:NB,lightseagreen:MB,lightskyblue:FB,lightslategray:LB,lightslategrey:kB,lightsteelblue:DB,lightyellow:BB,lime:UB,limegreen:GB,linen:zB,magenta:jB,maroon:HB,mediumaquamarine:XB,mediumblue:VB,mediumorchid:$B,mediumpurple:WB,mediumseagreen:YB,mediumslateblue:qB,mediumspringgreen:ZB,mediumturquoise:QB,mediumvioletred:KB,midnightblue:JB,mintcream:eU,mistyrose:tU,moccasin:rU,navajowhite:nU,navy:iU,oldlace:sU,olive:oU,olivedrab:aU,orange:lU,orangered:uU,orchid:hU,palegoldenrod:fU,palegreen:cU,paleturquoise:dU,palevioletred:pU,papayawhip:vU,peachpuff:mU,peru:gU,pink:yU,plum:_U,powderblue:xU,purple:bU,rebeccapurple:EU,red:TU,rosybrown:wU,royalblue:SU,saddlebrown:AU,salmon:CU,sandybrown:RU,seagreen:IU,seashell:PU,sienna:OU,silver:NU,skyblue:MU,slateblue:FU,slategray:LU,slategrey:kU,snow:DU,springgreen:BU,steelblue:UU,tan:GU,teal:zU,thistle:jU,tomato:HU,turquoise:XU,violet:VU,wheat:$U,white:WU,whitesmoke:YU,yellow:qU,yellowgreen:ZU};function dd(t,e=[]){return e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(t&255)/255,e}function KU(t){let e=t.toString(16);return e="000000".substring(0,6-e.length)+e,`#${e}`}function JU(t){if(typeof t=="string"&&(t=QU[t.toLowerCase()]||t,t[0]==="#"&&(t=t.slice(1)),t.length===3)){const[e,r,n]=t;t=e+e+r+r+n+n}return parseInt(t,16)}function j0(t){return(t[0]*255<<16)+(t[1]*255<<8)+(t[2]*255|0)}function e4(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[ye.NORMAL_NPM]=ye.NORMAL,t[ye.ADD_NPM]=ye.ADD,t[ye.SCREEN_NPM]=ye.SCREEN,e[ye.NORMAL]=ye.NORMAL_NPM,e[ye.ADD]=ye.ADD_NPM,e[ye.SCREEN]=ye.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const t4=e4();function r4(t,e){if(e===1)return(e*255<<24)+t;if(e===0)return 0;let r=t>>16&255,n=t>>8&255,i=t&255;return r=r*e+.5|0,n=n*e+.5|0,i=i*e+.5|0,(e*255<<24)+(r<<16)+(n<<8)+i}function aS(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function Lc(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Ob(t){return!(t&t-1)&&!!t}function Nb(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function n4(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}let i4=0;function pu(){return++i4}const Mb={},xn=Object.create(null),Ni=Object.create(null);let ff;function s4(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,ff||(ff=document.createElement("a")),ff.href=t;const r=uD.parse(ff.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Fb(t,e=1){const r=he.RETINA_PREFIX.exec(t);return r?parseFloat(r[1]):e}const Pg=[];function lS(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=Pg.length-1;n>=0;--n){const i=Pg[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class vu{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new fn("setRealSize"),this.onUpdate=new fn("update"),this.onError=new fn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class H0 extends vu{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===cs.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const o4={scaleMode:In.NEAREST,format:te.RGBA,alphaMode:cs.NPM},Sl=class extends z0{constructor(t=null,e=null){super(),e=e||{};const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:u,format:f,type:d,target:p,resolution:v,resourceOptions:g}=e;t&&!(t instanceof vu)&&(t=lS(t,g),t.internal=!0),this.resolution=v||he.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=n!=null?n:he.MIPMAP_TEXTURES,this.anisotropicLevel=i!=null?i:he.ANISOTROPIC_LEVEL,this._wrapMode=u||he.WRAP_MODE,this._scaleMode=s!=null?s:he.SCALE_MODE,this.format=f||te.RGBA,this.type=d||De.UNSIGNED_BYTE,this.target=p||ua.TEXTURE_2D,this.alphaMode=r!=null?r:cs.UNPACK,this.uid=pu(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Ob(this.realWidth)&&Ob(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ni[this.cacheId],delete xn[this.cacheId],this.cacheId=null),this.dispose(),Sl.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=he.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${pu()}`}i=t._pixiId}let s=Ni[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new Sl(t,e),s.cacheId=i,Sl.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new H0(t,{width:e,height:r}),s=t instanceof Float32Array?De.FLOAT:De.UNSIGNED_BYTE;return new Sl(i,Object.assign({},o4,n||{width:e,height:r,type:s}))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Ni[e]&&Ni[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Ni[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Ni[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Ni[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Ni[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let Ct=Sl;Ct._globalBatch=0;class uS extends vu{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Ct;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)!e[n]||(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof vu?this.addResourceAt(e[n],n):this.addResourceAt(lS(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const r=this.items.map(n=>n.resource).filter(n=>n).map(n=>n.load());return this._load=Promise.all(r).then(()=>{const{realWidth:n,realHeight:i}=this.items[0];return this.resize(n,i),Promise.resolve(this)}),this._load}}class a4 extends uS{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=ua.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let u=0;u<i;u++){const f=o[u];s[u]<f.dirtyId&&(s[u]=f.dirtyId,f.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,u,f.resource.width,f.resource.height,1,r.format,n.type,f.resource.source))}return!0}}class ls extends vu{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=s4(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===cs.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class l4 extends ls{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Al=class extends uS{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Al.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<Al.SIDES;o++)this.items[o].target=ua.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=ua.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=ua.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<Al.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Al.SIDES}};let hS=Al;hS.SIDES=6;class fS extends ls{constructor(e,r){var n;if(r=r||{},typeof e=="string"){const i=new Image;ls.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}super(e),!e.complete&&!!this._width&&!!this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=((n=r.createBitmap)!=null?n:he.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===cs.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}const $f=class extends ls{constructor(t,e){e=e||{},super(he.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},$f.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;ls.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{!this._resolve||(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${pu()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=$f.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&$f.SVG_XML.test(t)}};let X0=$f;X0.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m;X0.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Og=class extends ls{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];ls.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const u=o.split("?").shift().toLowerCase(),f=u.slice(u.lastIndexOf(".")+1);a=a||Og.MIME_TYPES[f]||`video/${f}`,s.src=o,s.type=a,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Qt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Qt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Qt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Qt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Qt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Qt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Og.TYPES.includes(e)}};let V0=Og;V0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"];V0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};class Yo extends ls{constructor(e,r){var i;var n=(...s)=>{super(...s)};r=r||{},typeof e=="string"?(n(Yo.EMPTY),this.url=e):(n(e),this.url=null),this.crossOrigin=(i=r.crossOrigin)!=null?i:!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await he.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===cs.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){var e;return Yo._EMPTY=(e=Yo._EMPTY)!=null?e:he.ADAPTER.createCanvas(0,0),Yo._EMPTY}}Pg.push(Yo,fS,l4,V0,X0,H0,hS,a4);class u4 extends H0{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===cs.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class Ng{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new fn("disposeFramebuffer"),this.multisample=Rt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ct(null,{scaleMode:In.NEAREST,resolution:1,mipmap:no.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ct(new u4(null,{width:this.width,height:this.height}),{scaleMode:In.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:no.OFF,format:te.DEPTH_COMPONENT,type:De.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class cS extends Ct{constructor(e={}){var r;if(typeof e=="number"){const n=arguments[0],i=arguments[1],s=arguments[2],o=arguments[3];e={width:n,height:i,scaleMode:s,resolution:o}}e.width=e.width||100,e.height=e.height||100,(r=e.multisample)!=null||(e.multisample=Rt.NONE),super(null,e),this.mipmap=no.OFF,this.valid=!0,this.clearColor=[0,0,0,0],this.framebuffer=new Ng(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class dS{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,u=e.x/i+o,f=e.y/s+a;n=ct.add(n,ct.NW),this.x0=u+o*ct.uX(n),this.y0=f+a*ct.uY(n),n=ct.add(n,2),this.x1=u+o*ct.uX(n),this.y1=f+a*ct.uY(n),n=ct.add(n,2),this.x2=u+o*ct.uX(n),this.y2=f+a*ct.uY(n),n=ct.add(n,2),this.x3=u+o*ct.uX(n),this.y3=f+a*ct.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const Lb=new dS;function cf(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class Ve extends z0{constructor(e,r,n,i,s,o){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Pt(0,0,1,1)),e instanceof Ve&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=Lb,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new It(o.x,o.y):new It(0,0),this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;(r==null?void 0:r.url)&&xn[r.url]&&Ve.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Ve.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new Ve(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===Lb&&(this._uvs=new dS),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=he.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Ct){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${pu()}`,Ct.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${pu()}`}s=e._pixiId}let o=xn[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Ct)?(r.resolution||(r.resolution=Fb(e)),o=new Ve(new Ct(e,r)),o.baseTexture.cacheId=s,Ct.addToCache(o.baseTexture,s),Ve.addToCache(o,s)):!o&&e instanceof Ct&&(o=new Ve(e),Ve.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=Ve.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new Ve(Ct.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Ct(e,Object.assign({scaleMode:he.SCALE_MODE,resolution:Fb(r)},i)),{resource:o}=s;o instanceof fS&&(o.url=r);const a=new Ve(s);return n||(n=r),Ct.addToCache(a.baseTexture,n),Ve.addToCache(a,n),n!==r&&(Ct.addToCache(a.baseTexture,r),Ve.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(u=>{a.baseTexture.once("loaded",()=>u(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),xn[r]&&xn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),xn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=xn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete xn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)xn[e.textureCacheIds[r]]===e&&delete xn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const u=o&&a?"and":"or",f=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,d=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${f} ${u} ${d}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Ve._EMPTY||(Ve._EMPTY=new Ve(new Ct),cf(Ve._EMPTY),cf(Ve._EMPTY.baseTexture)),Ve._EMPTY}static get WHITE(){if(!Ve._WHITE){const e=he.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),Ve._WHITE=new Ve(Ct.from(e)),cf(Ve._WHITE),cf(Ve._WHITE.baseTexture)}return Ve._WHITE}}class pd extends Ve{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new pd(new cS(e))}}class pS{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Rt.NONE){const i=new cS(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new pd(i)}getOptimalTexture(e,r,n=1,i=Rt.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=Lc(e),r=Lc(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Rt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}pS.SCREEN_KEY=-1;class kc{constructor(e,r=0,n=!1,i=De.FLOAT,s,o,a){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a}destroy(){this.buffer=null}static from(e,r,n,i,s){return new kc(e,r,n,i,s)}}let h4=0;class dr{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=h4++,this.disposeRunner=new fn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Ln.ELEMENT_ARRAY_BUFFER:Ln.ARRAY_BUFFER}get index(){return this.type===Ln.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new dr(e)}}const f4={Float32Array,Uint32Array,Int32Array,Uint8Array};function c4(t,e){let r=0,n=0;const i={};for(let u=0;u<t.length;u++)n+=e[u],r+=t[u].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let u=0;u<t.length;u++){const f=e[u],d=t[u],p=aS(d);i[p]||(i[p]=new f4[p](s)),o=i[p];for(let v=0;v<d.length;v++){const g=(v/f|0)*n+a,_=v%f;o[g+_]=d[v]}a+=f}return new Float32Array(s)}const kb={5126:4,5123:2,5121:1};let d4=0;const p4={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ma{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=d4++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new fn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,u=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof dr||(r instanceof Array&&(r=new Float32Array(r)),r=new dr(r));const f=e.split("|");if(f.length>1){for(let p=0;p<f.length;p++)this.addAttribute(f[p],r,n,i,s);return this}let d=this.buffers.indexOf(r);return d===-1&&(this.buffers.push(r),d=this.buffers.length-1),this.attributes[e]=new kc(d,n,i,s,o,a,u),this.instanced=this.instanced||u,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof dr||(e instanceof Array&&(e=new Uint16Array(e)),e=new dr(e)),e.type=Ln.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new dr;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*kb[s.type]/4),s.buffer=0}for(n.data=c4(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ma;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new dr(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new kc(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Ln.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ma,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,s[u]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new p4[aS(o.buffers[a].data)](i[a]),r.buffers[a]=new dr(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)n[u].set(o.buffers[u].data,s[u]),s[u]+=o.buffers[u].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Ln.ELEMENT_ARRAY_BUFFER;let a=0,u=0,f=0,d=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){d=p;break}for(const p in o.attributes){const v=o.attributes[p];(v.buffer|0)===d&&(u+=v.size*kb[v.type]/4)}for(let p=0;p<e.length;p++){const v=e[p].indexBuffer.data;for(let g=0;g<v.length;g++)r.indexBuffer.data[g+f]+=a;a+=e[p].buffers[d].data.length/u,f+=v.length}}return r}}class v4 extends ma{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class m4 extends ma{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new dr(this.vertices),this.uvBuffer=new dr(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}let g4=0;class kn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=g4++,this.static=!!r,this.ubo=!!n,e instanceof dr?(this.buffer=e,this.buffer.type=Ln.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new dr(new Float32Array(1)),this.buffer.type=Ln.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new kn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new kn(e,r,n)}static uboFrom(e,r){return new kn(e,r!=null?r:!0,!0)}}class y4{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Rt.NONE,this.sourceFrame=new Pt,this.destinationFrame=new Pt,this.bindingSourceFrame=new Pt,this.bindingDestinationFrame=new Pt,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const df=[new It,new It,new It,new It],Ov=new er;class vS{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new pS,this.statePool=[],this.quad=new v4,this.quadUv=new m4,this.tempRect=new Pt,this.activeState={},this.globalUniforms=new kn({outputFrame:new Pt,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){var _,b;const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new y4,o=this.renderer.renderTexture;let a=r[0].resolution,u=r[0].multisample,f=r[0].padding,d=r[0].autoFit,p=(_=r[0].legacy)!=null?_:!0;for(let m=1;m<r.length;m++){const E=r[m];a=Math.min(a,E.resolution),u=Math.min(u,E.multisample),f=this.useMaxPadding?Math.max(f,E.padding):f+E.padding,d=d&&E.autoFit,p=p||((b=E.legacy)!=null?b:!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=u,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(f);const v=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Ov.copyFrom(n.projection.transform).invert(),v),d?(s.sourceFrame.fit(v),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(v)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const g=this.tempRect;g.x=0,g.y=0,g.width=s.sourceFrame.width,g.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,g),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const f=i.filterArea;f[0]=r.destinationFrame.width,f[1]=r.destinationFrame.height,f[2]=r.sourceFrame.x,f[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const u=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,u.renderTexture,Tn.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let f=r.renderTexture,d=this.getOptimalFilterTexture(f.width,f.height,r.resolution);d.filterFrame=f.filterFrame;let p=0;for(p=0;p<n.length-1;++p){p===1&&r.multisample>1&&(d=this.getOptimalFilterTexture(f.width,f.height,r.resolution),d.filterFrame=f.filterFrame),n[p].apply(this,f,d,Tn.CLEAR,r);const v=f;f=d,d=v}n[p].apply(this,f,u.renderTexture,Tn.BLEND,r),p>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(f),this.returnFilterTexture(d)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Tn.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e!=null&&e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Tn.CLEAR||r===Tn.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Nc.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Nc.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(er.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Rt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Rt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=df[0],i=df[1],s=df[2],o=df[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),u=Math.min(n.y,i.y,s.y,o.y),f=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=u,r.width=f-a,r.height=d-u}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:u,d:f}=s;if((Math.abs(a)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(f)>1e-4))return}s=s?Ov.copyFrom(s):Ov.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}vS.extension={type:Pe.RendererSystem,name:"filter"};je.add(vS);class mS{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}class gS{constructor(e){this.renderer=e,this.emptyRenderer=new mS(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let u=0;for(let f=0;f<a;f++){const d=s[f],p=d._batchLocation;if(p>=0&&p<i&&r[p]===d){o[f]=p;continue}for(;u<i;){const v=r[u];if(v&&v._batchEnabled===n&&v._batchLocation===u){u++;continue}o[f]=u,d._batchLocation=u,r[u]=d;break}}}destroy(){this.renderer=null}}gS.extension={type:Pe.RendererSystem,name:"batch"};je.add(gS);let Db=0;class yS{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=Db++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=Db++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(he.PREFER_ENV>=ho.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}yS.extension={type:Pe.RendererSystem,name:"context"};je.add(yS);class _4{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Rt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const x4=new Pt;class _S{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Ng(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Pt,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;he.PREFER_ENV===ho.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,u=o/r.width;this.setViewport(r.x*u,r.y*u,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Ag.COLOR|Ag.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new _4(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let u=0;u<o;u++){const f=s[u],d=f.parentTextureArray||f;this.renderer.texture.bind(d,0),u===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,f.target,d._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+u))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const f=e.depthTexture;this.renderer.texture.bind(f,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,f._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Rt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Rt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const u=i.glFramebuffers[a];if(!u)return;if(!e){if(!u.msaaBuffer)return;const d=i.colorTextures[0];if(!d)return;u.blitFramebuffer||(u.blitFramebuffer=new Ng(i.width,i.height),u.blitFramebuffer.addColorTexture(0,d)),e=u.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=x4,r.width=i.width,r.height=i.height),n||(n=r);const f=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,f?o.NEAREST:o.LINEAR)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&n.blitFramebuffer.dispose()}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Pt}destroy(){this.renderer=null}}_S.extension={type:Pe.RendererSystem,name:"framebuffer"};je.add(_S);const Nv={5126:4,5123:2,5121:1};class xS{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;he.PREFER_ENV===ho.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,u)=>n.drawElementsInstancedANGLE(i,s,o,a,u),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const u=this.getSignature(e,a),f=e.glVertexArrayObjects[this.CONTEXT_UID];let d=f[u];if(d)return f[a.id]=d,d;const p=e.buffers,v=e.attributes,g={},_={};for(const b in p)g[b]=0,_[b]=0;for(const b in v)!v[b].size&&a.attributeData[b]?v[b].size=a.attributeData[b].size:v[b].size||console.warn(`PIXI Geometry attribute '${b}' size cannot be determined (likely the bound shader does not have the attribute)`),g[v[b].buffer]+=v[b].size*Nv[v[b].type];for(const b in v){const m=v[b],E=m.size;m.stride===void 0&&(g[m.buffer]===E*Nv[m.type]?m.stride=0:m.stride=g[m.buffer]),m.start===void 0&&(m.start=_[m.buffer],_[m.buffer]+=E*Nv[m.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(let b=0;b<p.length;b++){const m=p[b];o.bind(m),n&&m._glBuffers[s].refCount++}return this.activateVao(e,a),f[a.id]=d,f[u]=d,i.bindVertexArray(null),o.unbind(Ln.ARRAY_BUFFER),d}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let u=0;u<s.length;u++){const f=s[u]._glBuffers[this.CONTEXT_UID];f&&(f.refCount--,f.refCount===0&&!r&&o.dispose(s[u],r))}if(!r){for(const u in n)if(u[0]==="g"){const f=n[u];this._activeVao===f&&this.unbind(),i.deleteVertexArray(f)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let u=null;for(const f in a){const d=a[f],p=o[d.buffer],v=p._glBuffers[i];if(r.attributeData[f]){u!==v&&(s.bind(p),u=v);const g=r.attributeData[f].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(g,1);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,u=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,u,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,u,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}xS.extension={type:Pe.RendererSystem,name:"geometry"};je.add(xS);class b4{constructor(e=null){this.type=Ut.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=he.FILTER_MULTISAMPLE,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Ut.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}function Bb(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Ub(t,e){const r=t.getShaderSource(e).split(`
`).map((f,d)=>`${d}: ${f}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(f=>parseFloat(f.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(f=>f&&!s[f]?(s[f]=!0,!0):!1),a=[""];o.forEach(f=>{r[f-1]=`%c${r[f-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=r.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function E4(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||Ub(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||Ub(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}function Mv(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function bS(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Mv(2*e);case"bvec3":return Mv(3*e);case"bvec4":return Mv(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ES={};let Mo=ES;function T4(){if(Mo===ES||(Mo==null?void 0:Mo.isContextLost())){const t=he.ADAPTER.createCanvas();let e;he.PREFER_ENV>=ho.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Mo=e}return Mo}let pf;function w4(){if(!pf){pf=Wr.MEDIUM;const t=T4();t&&t.getShaderPrecisionFormat&&(pf=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?Wr.HIGH:Wr.MEDIUM)}return pf}function Gb(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Wr.HIGH&&r!==Wr.HIGH&&(n=Wr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Wr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}const S4={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function TS(t){return S4[t]}let vf=null;const zb={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function wS(t,e){if(!vf){const r=Object.keys(zb);vf={};for(let n=0;n<r.length;++n){const i=r[n];vf[t[i]]=zb[i]}}return vf[e]}const ha=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],A4={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},C4={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function R4(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let u=0;u<ha.length;u++)if(ha[u].test(s,o)){r.push(ha[u].code(i,o)),a=!0;break}if(!a){const f=(s.size===1&&!s.isArray?A4:C4)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${f};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const I4=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function P4(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function O4(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=I4.replace(/%forloop%/gi,P4(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}let ml;function N4(){if(typeof ml=="boolean")return ml;try{ml=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{ml=!1}return ml}var M4=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,F4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;let L4=0;const mf={};class Zs{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=L4++,this.vertexSrc=e||Zs.defaultVertexSrc,this.fragmentSrc=r||Zs.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),mf[n]?(mf[n]++,n+=`-${mf[n]}`):mf[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=Gb(this.vertexSrc,he.PRECISION_VERTEX,Wr.HIGH),this.fragmentSrc=Gb(this.fragmentSrc,he.PRECISION_FRAGMENT,w4())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return F4}static get defaultFragmentSrc(){return M4}static from(e,r,n){const i=e+r;let s=Mb[i];return s||(Mb[i]=s=new Zs(e,r,n)),s}}class vd{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof kn?this.uniformGroup=r:this.uniformGroup=new kn(r):this.uniformGroup=new kn({}),this.disposeRunner=new fn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Zs.from(e,r);return new vd(i,n)}}const Fv=0,Lv=1,kv=2,Dv=3,Bv=4,Uv=5;class Iu{constructor(){this.data=0,this.blendMode=ye.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Fv)}set blend(e){!!(this.data&1<<Fv)!==e&&(this.data^=1<<Fv)}get offsets(){return!!(this.data&1<<Lv)}set offsets(e){!!(this.data&1<<Lv)!==e&&(this.data^=1<<Lv)}get culling(){return!!(this.data&1<<kv)}set culling(e){!!(this.data&1<<kv)!==e&&(this.data^=1<<kv)}get depthTest(){return!!(this.data&1<<Dv)}set depthTest(e){!!(this.data&1<<Dv)!==e&&(this.data^=1<<Dv)}get depthMask(){return!!(this.data&1<<Uv)}set depthMask(e){!!(this.data&1<<Uv)!==e&&(this.data^=1<<Uv)}get clockwiseFrontFace(){return!!(this.data&1<<Bv)}set clockwiseFrontFace(e){!!(this.data&1<<Bv)!==e&&(this.data^=1<<Bv)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ye.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Iu;return e.depthTest=!1,e.blend=!0,e}}var k4=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,D4=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;class ot extends vd{constructor(e,r,n){const i=Zs.from(e||ot.defaultVertexSrc,r||ot.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=he.FILTER_RESOLUTION,this.multisample=he.FILTER_MULTISAMPLE,this.enabled=!0,this.autoFit=!0,this.state=new Iu}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return D4}static get defaultFragmentSrc(){return k4}}var B4=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,U4=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`;const jb=new er;class G4{constructor(e,r){this._texture=e,this.mapCoord=new er,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(jb.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(jb));const o=r.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,f=this.clampOffset;return a[0]=(r._frame.x+u+f)/o.width,a[1]=(r._frame.y+u+f)/o.height,a[2]=(r._frame.x+r._frame.width-u+f)/o.width,a[3]=(r._frame.y+r._frame.height-u+f)/o.height,this.uClampOffset[0]=f/o.realWidth,this.uClampOffset[1]=f/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}class z4 extends ot{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||B4,r||U4,n),this.maskSprite=i,this.maskMatrix=new er}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;!o.valid||(o.uvMatrix||(o.uvMatrix=new G4(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class SS{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new b4;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Ut.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Ut.SCISSOR:this.renderer.scissor.push(n);break;case Ut.STENCIL:this.renderer.stencil.push(n);break;case Ut.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Ut.COLOR:this.pushColorMask(n);break}n.type===Ut.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Ut.SCISSOR:this.renderer.scissor.pop(r);break;case Ut.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Ut.SPRITE:this.popSpriteMask(r);break;case Ut.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Ut.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Ut.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Ut.SCISSOR:e.type=Ut.STENCIL:e.type=Ut.COLOR}pushSpriteMask(e){var d,p;const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new z4]));const s=this.renderer,o=s.renderTexture;let a,u;if(o.current){const v=o.current;a=e.resolution||v.resolution,u=(d=e.multisample)!=null?d:v.multisample}else a=e.resolution||s.resolution,u=(p=e.multisample)!=null?p:s.multisample;i[0].resolution=a,i[0].multisample=u,i[0].maskSprite=r;const f=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=f,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}SS.extension={type:Pe.RendererSystem,name:"mask"};je.add(SS);class AS{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const Hb=new er,Xb=[],Wf=class extends AS{constructor(t){super(t),this.glConst=he.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){var o;if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,(o=Xb.pop())!=null?o:new Pt);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Wf.isMatrixRotated(e.worldTransform)||Wf.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){Wf.isMatrixRotated(i)||(i=i?Hb.copyFrom(i):Hb.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&Xb.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let CS=Wf;CS.extension={type:Pe.RendererSystem,name:"scissor"};je.add(CS);class RS extends AS{constructor(e){super(e),this.glConst=he.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}RS.extension={type:Pe.RendererSystem,name:"stencil"};je.add(RS);class IS{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new er,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}IS.extension={type:Pe.RendererSystem,name:"projection"};je.add(IS);const As=new Pt,gl=new Pt;class PS{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Pt,this.destinationFrame=new Pt,this.viewportFrame=new Pt}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(As.width=e.frame.width,As.height=e.frame.height,r=As),n||(gl.x=e.frame.x,gl.y=e.frame.y,gl.width=r.width,gl.height=r.height,n=gl),o=s.framebuffer):(a=i.resolution,r||(As.width=i._view.screen.width,As.height=i._view.screen.height,r=As),n||(n=As,n.width=r.width,n.height=r.height));const u=this.viewportFrame;u.x=n.x*a,u.y=n.y*a,u.width=n.width*a,u.height=n.height*a,e||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){this.current?e=e||this.current.baseTexture.clearColor:e=e||this.renderer.background.colorRgba;const n=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer._view.screen,s=n.width!==i.width||n.height!==i.height;if(s){let{x:o,y:a,width:u,height:f}=this.viewportFrame;o=Math.round(o),a=Math.round(a),u=Math.round(u),f=Math.round(f),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,u,f)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],r),s&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}PS.extension={type:Pe.RendererSystem,name:"renderTexture"};je.add(PS);function j4(t,e,r,n,i){r.buffer.update(i)}const H4={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},OS={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function X4(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=OS[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function V4(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function $4(t,e){if(!t.autoManage)return{size:0,syncFunc:j4};const r=V4(t.uniforms,e),{uboElements:n,size:i}=X4(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],u=t.uniforms[a.data.name],f=a.data.name;let d=!1;for(let p=0;p<ha.length;p++){const v=ha[p];if(v.codeUbo&&v.test(a.data,u)){s.push(`offset = ${a.offset/4};`,ha[p].codeUbo(a.data.name,u)),d=!0;break}}if(!d)if(a.data.size>1){const p=TS(a.data.type),v=Math.max(OS[a.data.type]/16,1),g=p/v,_=(4-g%4)%4;s.push(`
                cv = ud.${f}.value;
                v = uv.${f};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*v}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${_};
                }

                `)}else{const p=H4[a.data.type];s.push(`
                cv = ud.${f}.value;
                v = uv.${f};
                offset = ${a.offset/4};
                ${p};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}class W4{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function Y4(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=wS(e,s.type),a={type:o,name:s.name,size:TS(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function q4(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=wS(e,s.type);r[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:bS(u,s.size)}}return r}function Z4(t,e){var u;const r=Bb(t,t.VERTEX_SHADER,e.vertexSrc),n=Bb(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(u=e.extra)==null?void 0:u.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||E4(t,i,r,n),e.attributeData=Y4(i,t),e.uniformData=q4(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const f=Object.keys(e.attributeData);f.sort((d,p)=>d>p?1:-1);for(let d=0;d<f.length;d++)e.attributeData[f[d]].location=d,t.bindAttribLocation(i,d,f[d]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const f in e.uniformData){const d=e.uniformData[f];o[f]={location:t.getUniformLocation(i,f),value:bS(d.type,d.size)}}return new W4(i,o)}let Q4=0;const gf={textureCount:0,uboCount:0};class NS{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=Q4++}systemCheck(){if(!N4())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(gf.textureCount=0,gf.uboCount=0,this.syncUniformGroup(e.uniformGroup,gf)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=R4(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,gf,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=$4(e,this.shader.program.uniformData)),e.autoManage){const u=new Float32Array(a.size/4);e.buffer.update(u)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=Z4(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}NS.extension={type:Pe.RendererSystem,name:"shader"};je.add(NS);function K4(t,e=[]){return e[ye.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.ADD]=[t.ONE,t.ONE],e[ye.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.NONE]=[0,0],e[ye.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ye.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ye.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ye.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ye.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ye.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ye.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ye.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ye.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ye.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ye.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const J4=0,eG=1,tG=2,rG=3,nG=4,iG=5,Mg=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ye.NONE,this._blendEq=!1,this.map=[],this.map[J4]=this.setBlend,this.map[eG]=this.setOffset,this.map[tG]=this.setCullFace,this.map[rG]=this.setDepthTest,this.map[nG]=this.setFrontFace,this.map[iG]=this.setDepthMask,this.checks=[],this.defaultState=new Iu,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=K4(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Mg.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Mg.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let MS=Mg;MS.extension={type:Pe.RendererSystem,name:"state"};je.add(MS);class FS{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=he.GC_MAX_IDLE,this.checkCountMax=he.GC_MAX_CHECK_COUNT,this.mode=he.GC_MODE}postrender(){!this.renderer.objectRenderer.renderingToScreen||(this.count++,this.mode!==G0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];!s.framebuffer&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}}FS.extension={type:Pe.RendererSystem,name:"textureGC"};je.add(FS);function sG(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[De.UNSIGNED_BYTE]:{[te.RGBA]:t.RGBA8,[te.RGB]:t.RGB8,[te.RG]:t.RG8,[te.RED]:t.R8,[te.RGBA_INTEGER]:t.RGBA8UI,[te.RGB_INTEGER]:t.RGB8UI,[te.RG_INTEGER]:t.RG8UI,[te.RED_INTEGER]:t.R8UI,[te.ALPHA]:t.ALPHA,[te.LUMINANCE]:t.LUMINANCE,[te.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[De.BYTE]:{[te.RGBA]:t.RGBA8_SNORM,[te.RGB]:t.RGB8_SNORM,[te.RG]:t.RG8_SNORM,[te.RED]:t.R8_SNORM,[te.RGBA_INTEGER]:t.RGBA8I,[te.RGB_INTEGER]:t.RGB8I,[te.RG_INTEGER]:t.RG8I,[te.RED_INTEGER]:t.R8I},[De.UNSIGNED_SHORT]:{[te.RGBA_INTEGER]:t.RGBA16UI,[te.RGB_INTEGER]:t.RGB16UI,[te.RG_INTEGER]:t.RG16UI,[te.RED_INTEGER]:t.R16UI,[te.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[De.SHORT]:{[te.RGBA_INTEGER]:t.RGBA16I,[te.RGB_INTEGER]:t.RGB16I,[te.RG_INTEGER]:t.RG16I,[te.RED_INTEGER]:t.R16I},[De.UNSIGNED_INT]:{[te.RGBA_INTEGER]:t.RGBA32UI,[te.RGB_INTEGER]:t.RGB32UI,[te.RG_INTEGER]:t.RG32UI,[te.RED_INTEGER]:t.R32UI,[te.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[De.INT]:{[te.RGBA_INTEGER]:t.RGBA32I,[te.RGB_INTEGER]:t.RGB32I,[te.RG_INTEGER]:t.RG32I,[te.RED_INTEGER]:t.R32I},[De.FLOAT]:{[te.RGBA]:t.RGBA32F,[te.RGB]:t.RGB32F,[te.RG]:t.RG32F,[te.RED]:t.R32F,[te.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[De.HALF_FLOAT]:{[te.RGBA]:t.RGBA16F,[te.RGB]:t.RGB16F,[te.RG]:t.RG16F,[te.RED]:t.R16F},[De.UNSIGNED_SHORT_5_6_5]:{[te.RGB]:t.RGB565},[De.UNSIGNED_SHORT_4_4_4_4]:{[te.RGBA]:t.RGBA4},[De.UNSIGNED_SHORT_5_5_5_1]:{[te.RGBA]:t.RGB5_A1},[De.UNSIGNED_INT_2_10_10_10_REV]:{[te.RGBA]:t.RGB10_A2,[te.RGBA_INTEGER]:t.RGB10_A2UI},[De.UNSIGNED_INT_10F_11F_11F_REV]:{[te.RGB]:t.R11F_G11F_B10F},[De.UNSIGNED_INT_5_9_9_9_REV]:{[te.RGB]:t.RGB9_E5},[De.UNSIGNED_INT_24_8]:{[te.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[De.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[te.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[De.UNSIGNED_BYTE]:{[te.RGBA]:t.RGBA,[te.RGB]:t.RGB,[te.ALPHA]:t.ALPHA,[te.LUMINANCE]:t.LUMINANCE,[te.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[De.UNSIGNED_SHORT_5_6_5]:{[te.RGB]:t.RGB},[De.UNSIGNED_SHORT_4_4_4_4]:{[te.RGBA]:t.RGBA},[De.UNSIGNED_SHORT_5_5_5_1]:{[te.RGBA]:t.RGBA}},e}class Gv{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=De.UNSIGNED_BYTE,this.internalFormat=te.RGBA,this.samplerType=0}}class LS{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ct,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=sG(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new Gv(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Gv(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(!!n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==Cg.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new Gv(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n,i;r.internalFormat=(i=(n=this.internalFormats[e.type])==null?void 0:n[e.format])!=null?i:e.format,this.webGLVersion===2&&e.type===De.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)!=null&&i.upload(n,e,r))r.samplerType!==Cg.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&n4(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];!r||((e.mipmap===no.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=U0.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==no.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===In.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===In.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===In.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===In.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}LS.extension={type:Pe.RendererSystem,name:"texture"};je.add(LS);const oG=new iS;class kS{constructor(e){this.renderer=e,this._tempMatrix=new er}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=pd.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=oG,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}kS.extension={type:[Pe.RendererSystem,Pe.CanvasRendererSystem],name:"textureGenerator"};je.add(kS);class DS{constructor(){this.clearBeforeRender=!0,this._backgroundColor=0,this._backgroundColorRgba=[0,0,0,1],this._backgroundColorString="#000000",this.color=this._backgroundColor,this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender,e.color&&(this.color=typeof e.color=="string"?JU(e.color):e.color),this.alpha=e.alpha}get color(){return this._backgroundColor}set color(e){this._backgroundColor=e,this._backgroundColorString=KU(e),dd(e,this._backgroundColorRgba)}get alpha(){return this._backgroundColorRgba[3]}set alpha(e){this._backgroundColorRgba[3]=e}get colorRgba(){return this._backgroundColorRgba}get colorString(){return this._backgroundColorString}destroy(){}}DS.extension={type:[Pe.RendererSystem,Pe.CanvasRendererSystem],name:"background"};je.add(DS);class BS{constructor(e){this.renderer=e}init(e){this.screen=new Pt(0,0,e.width,e.height),this.element=e.view||he.ADAPTER.createCanvas(),this.resolution=e.resolution||he.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}BS.extension={type:[Pe.RendererSystem,Pe.CanvasRendererSystem],name:"_view"};je.add(BS);class US{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Hr("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Hr("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Hr("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(e){for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}US.extension={type:[Pe.RendererSystem,Pe.CanvasRendererSystem],name:"_plugin"};je.add(US);class aG extends z0{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){var i;this.addRunners(...e.runners);const r=((i=e.priority)!=null?i:[]).filter(s=>e.systems[s]),n=[...r,...Object.keys(e.systems).filter(s=>!r.includes(s))];for(const s of n)this.addSystem(e.systems[s],s)}addRunners(...e){e.forEach(r=>{this.runners[r]=new fn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}class GS{constructor(e){this.renderer=e}run(e){const r=this.renderer;r.emitWithCustomOptions(r.runners.init,e),e.hello&&console.log(`PixiJS 7.0.5 - ${r.rendererLogId} - https://pixijs.com`),r.resize(this.renderer.screen.width,this.renderer.screen.height)}destroy(){}}GS.extension={type:[Pe.RendererSystem,Pe.CanvasRendererSystem],name:"startup"};je.add(GS);class zS{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];!a||(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const u=a._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&s.dispose(a,r))}!n||(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}zS.extension={type:Pe.RendererSystem,name:"transformFeedback"};je.add(zS);const lG=[];je.handleByList(Pe.Renderer,lG);var uG=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`;const hG=uG,Fg=class extends aG{constructor(t){var n;super(),t=Object.assign({},he.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new kn({projectionMatrix:new er},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Fg.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Hr("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha);const r={hello:t.hello,_plugin:Fg.__plugins,background:{alpha:t.backgroundAlpha,color:(n=t.background)!=null?n:t.backgroundColor,clearBeforeRender:t.clearBeforeRender},_view:{height:t.height,width:t.width,autoDensity:t.autoDensity,resolution:t.resolution,view:t.view},context:{antialias:t.antialias,context:t.context,powerPreference:t.powerPreference,premultipliedAlpha:t.premultipliedAlpha,preserveDrawingBuffer:t.preserveDrawingBuffer}};this.startup.run(r)}static test(t){return t!=null&&t.forceCanvas?!1:hD()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Hr("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Hr("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Hr("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Hr("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Hr("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Hr("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.color}set backgroundAlpha(t){Hr("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Hr("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let wa=Fg;wa.extension={type:Pe.Renderer,priority:1};wa.__plugins={};wa.__systems={};je.handleByMap(Pe.RendererPlugin,wa.__plugins);je.handleByMap(Pe.RendererSystem,wa.__systems);je.add(wa);class fG{constructor(){this.texArray=null,this.blend=0,this.type=Nc.TRIANGLES,this.start=0,this.size=0,this.data=null}}class cG{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}class dG{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}class pG{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=kn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Zs(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new er,default:this.defaultGroupCache[e]};return new vd(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class vG extends ma{constructor(e=!1){super(),this._buffer=new dr(null,e,!1),this._indexBuffer=new dr(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,De.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,De.FLOAT).addAttribute("aColor",this._buffer,4,!0,De.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,De.FLOAT).addIndex(this._indexBuffer)}}var mG=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,gG=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`;const Ds=class extends mS{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=vG,this.vertexSize=6,this.state=Iu.for2d(),this.size=he.SPRITE_BATCH_SIZE*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.MAX_TEXTURES=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultVertexSrc(){return mG}static get defaultFragmentTemplate(){return gG}setShaderGenerator({vertex:t=Ds.defaultVertexSrc,fragment:e=Ds.defaultFragmentTemplate}={}){this.shaderGenerator=new pG(t,e)}contextChange(){const t=this.renderer.gl;he.PREFER_ENV===ho.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),he.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=O4(this.MAX_TEXTURES,t)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Ds,r=this.size/4,n=Math.floor(r/this.MAX_TEXTURES)+1;for(;t.length<r;)t.push(new fG);for(;e.length<n;)e.push(new cG);for(let i=0;i<this.MAX_TEXTURES;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){!t._texture.valid||(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,MAX_TEXTURES:e}=this,r=Ds._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++Ct._globalBatch,a=0,u=r[0],f=0;n.copyBoundTextures(i,e);for(let d=0;d<this._bufferSize;++d){const p=t[d];t[d]=null,p._batchEnabled!==o&&(u.count>=e&&(n.boundArray(u,i,o,e),this.buildDrawCalls(u,f,d),f=d,u=r[++a],++o),p._batchEnabled=o,p.touched=s,u.elements[u.count++]=p)}u.count>0&&(n.boundArray(u,i,o,e),this.buildDrawCalls(u,f,this._bufferSize),++a,++o);for(let d=0;d<i.length;d++)i[d]=null;Ct._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=Ds._drawCallPool;let u=this._dcIndex,f=this._aIndex,d=this._iIndex,p=a[u];p.start=this._iIndex,p.texArray=t;for(let v=e;v<r;++v){const g=n[v],_=g._texture.baseTexture,b=t4[_.alphaMode?1:0][g.blendMode];n[v]=null,e<v&&p.blend!==b&&(p.size=d-p.start,e=v,p=a[++u],p.texArray=t,p.start=d),this.packInterleavedGeometry(g,i,s,f,d),f+=g.vertexData.length/2*o,d+=g.indices.length,p.blend=b}e<r&&(p.size=d-p.start,++u),this._dcIndex=u,this._aIndex=f,this._iIndex=d}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;he.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=Ds._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:u,start:f,blend:d}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=d,r.set(this.state),e.drawElements(a,u,e.UNSIGNED_SHORT,f*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),he.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=Lc(Math.ceil(t/8)),r=Nb(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new dG(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=Lc(Math.ceil(t/12)),r=Nb(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,a=n/this.vertexSize,u=t.uvs,f=t.indices,d=t.vertexData,p=t._texture.baseTexture._batchLocation,v=Math.min(t.worldAlpha,1),g=v<1&&t._texture.baseTexture.alphaMode?r4(t._tintRGB,v):t._tintRGB+(v*255<<24);for(let _=0;_<d.length;_+=2)o[n++]=d[_],o[n++]=d[_+1],o[n++]=u[_],o[n++]=u[_+1],s[n++]=g,o[n++]=p;for(let _=0;_<f.length;_++)r[i++]=a+f[_]}};let md=Ds;md.extension={name:"batch",type:Pe.RendererPlugin};md._drawCallPool=[];md._textureArrayPool=[];je.add(md);class yG{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class jS{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new yG(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}jS.extension={type:Pe.RendererSystem,name:"buffer"};je.add(jS);class HS{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Rt.HIGH?this.multisample=Rt.HIGH:r>=Rt.MEDIUM?this.multisample=Rt.MEDIUM:r>=Rt.LOW?this.multisample=Rt.LOW:this.multisample=Rt.NONE}destroy(){}}HS.extension={type:Pe.RendererSystem,name:"_multisample"};je.add(HS);class XS{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s!=null?s:n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}XS.extension={type:Pe.RendererSystem,name:"objectRenderer"};je.add(XS);var _G=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,xG=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,bG=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`;class Dc extends ot{constructor(e=4,r=3,n=!1){super(_G,n?bG:xG),this._kernels=[],this._blur=4,this._quality=3,this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new It,this.pixelSize=1,this._clamp=n,Array.isArray(e)?this.kernels=e:(this._blur=e,this.quality=r)}apply(e,r,n,i){const s=this._pixelSize.x/r._frame.width,o=this._pixelSize.y/r._frame.height;let a;if(this._quality===1||this._blur===0)a=this._kernels[0]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,r,n,i);else{const u=e.getFilterTexture();let f=r,d=u,p;const v=this._quality-1;for(let g=0;g<v;g++)a=this._kernels[g]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,f,d,1),p=f,f=d,d=p;a=this._kernels[v]+.5,this.uniforms.uOffset[0]=a*s,this.uniforms.uOffset[1]=a*o,e.applyFilter(this,f,n,i),e.returnFilterTexture(u)}}_updatePadding(){this.padding=Math.ceil(this._kernels.reduce((e,r)=>e+r+.5,0))}_generateKernels(){const e=this._blur,r=this._quality,n=[e];if(e>0){let i=e;const s=e/r;for(let o=1;o<r;o++)i-=s,n.push(i)}this._kernels=n,this._updatePadding()}get kernels(){return this._kernels}set kernels(e){Array.isArray(e)&&e.length>0?(this._kernels=e,this._quality=e.length,this._blur=Math.max(...e)):(this._kernels=[0],this._quality=1)}get clamp(){return this._clamp}set pixelSize(e){typeof e=="number"?(this._pixelSize.x=e,this._pixelSize.y=e):Array.isArray(e)?(this._pixelSize.x=e[0],this._pixelSize.y=e[1]):e instanceof It?(this._pixelSize.x=e.x,this._pixelSize.y=e.y):(this._pixelSize.x=1,this._pixelSize.y=1)}get pixelSize(){return this._pixelSize}get quality(){return this._quality}set quality(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()}get blur(){return this._blur}set blur(e){this._blur=e,this._generateKernels()}}var VS=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,EG=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`;class TG extends ot{constructor(e=.5){super(VS,EG),this.threshold=e}get threshold(){return this.uniforms.threshold}set threshold(e){this.uniforms.threshold=e}}var wG=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;const $S=class extends ot{constructor(t){super(VS,wG),this.bloomScale=1,this.brightness=1,this._resolution=he.FILTER_RESOLUTION,typeof t=="number"&&(t={threshold:t});const e=Object.assign($S.defaults,t);this.bloomScale=e.bloomScale,this.brightness=e.brightness;const{kernels:r,blur:n,quality:i,pixelSize:s,resolution:o}=e;this._extractFilter=new TG(e.threshold),this._extractFilter.resolution=o,this._blurFilter=r?new Dc(r):new Dc(n,i),this.pixelSize=s,this.resolution=o}apply(t,e,r,n,i){const s=t.getFilterTexture();this._extractFilter.apply(t,e,s,1,i);const o=t.getFilterTexture();this._blurFilter.apply(t,s,o,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=o,t.applyFilter(this,e,r,n),t.returnFilterTexture(o),t.returnFilterTexture(s)}get resolution(){return this._resolution}set resolution(t){this._resolution=t,this._extractFilter&&(this._extractFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)}get threshold(){return this._extractFilter.threshold}set threshold(t){this._extractFilter.threshold=t}get kernels(){return this._blurFilter.kernels}set kernels(t){this._blurFilter.kernels=t}get blur(){return this._blurFilter.blur}set blur(t){this._blurFilter.blur=t}get quality(){return this._blurFilter.quality}set quality(t){this._blurFilter.quality=t}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(t){this._blurFilter.pixelSize=t}};let SG=$S;SG.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:he.FILTER_RESOLUTION};var AG=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class CG extends ot{constructor(e=1){super(hG,AG,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const RG=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function IG(t,e){const r=Math.ceil(t/2);let n=RG,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const PG={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},OG=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function NG(t){const e=PG[t],r=e.length;let n=OG,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let u=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class Bc extends ot{constructor(e,r=8,n=4,i=he.FILTER_RESOLUTION,s=5){const o=IG(s,e),a=NG(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,u=s;this.state.blend=!1,e.applyFilter(this,a,u,Tn.CLEAR);for(let f=1;f<this.passes-1;f++){e.bindAndClear(a,Tn.BLIT),this.uniforms.uSampler=u;const d=u;u=a,a=d,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,u,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class MG extends ot{constructor(e=8,r=4,n=he.FILTER_RESOLUTION,i=5){super(),this.blurXFilter=new Bc(!0,e,r,n,i),this.blurYFilter=new Bc(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,Tn.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}class FG extends ot{constructor(e=2,r=4,n=he.FILTER_RESOLUTION,i=5){super();let s,o;typeof e=="number"?(s=e,o=e):e instanceof It?(s=e.x,o=e.y):Array.isArray(e)&&(s=e[0],o=e[1]),this.blurXFilter=new Bc(!0,s,r,n,i),this.blurYFilter=new Bc(!1,o,r,n,i),this.blurYFilter.blendMode=ye.SCREEN,this.defaultFilter=new CG}apply(e,r,n,i){const s=e.getFilterTexture();this.defaultFilter.apply(e,r,n,i),this.blurXFilter.apply(e,r,s,1),this.blurYFilter.apply(e,s,n,0),e.returnFilterTexture(s)}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e}}var LG=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,kG=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;const WS=class extends ot{constructor(t){super(LG,kG),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,WS.defaults,t)}apply(t,e,r,n){const{width:i,height:s}=e.filterFrame;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,t.applyFilter(this,e,r,n)}get radius(){return this.uniforms.radius}set radius(t){this.uniforms.radius=t}get strength(){return this.uniforms.strength}set strength(t){this.uniforms.strength=t}get center(){return this.uniforms.center}set center(t){this.uniforms.center=t}};let DG=WS;DG.defaults={center:[.5,.5],radius:100,strength:1};var BG=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,UG=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;const YS=class extends ot{constructor(t){super(BG,UG),this.time=0,this.seed=0,this.uniforms.dimensions=new Float32Array(2),Object.assign(this,YS.defaults,t)}apply(t,e,r,n){const{width:i,height:s}=e.filterFrame;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,this.uniforms.seed=this.seed,this.uniforms.time=this.time,t.applyFilter(this,e,r,n)}set curvature(t){this.uniforms.curvature=t}get curvature(){return this.uniforms.curvature}set lineWidth(t){this.uniforms.lineWidth=t}get lineWidth(){return this.uniforms.lineWidth}set lineContrast(t){this.uniforms.lineContrast=t}get lineContrast(){return this.uniforms.lineContrast}set verticalLine(t){this.uniforms.verticalLine=t}get verticalLine(){return this.uniforms.verticalLine}set noise(t){this.uniforms.noise=t}get noise(){return this.uniforms.noise}set noiseSize(t){this.uniforms.noiseSize=t}get noiseSize(){return this.uniforms.noiseSize}set vignetting(t){this.uniforms.vignetting=t}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(t){this.uniforms.vignettingAlpha=t}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(t){this.uniforms.vignettingBlur=t}get vignettingBlur(){return this.uniforms.vignettingBlur}};let GG=YS;GG.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0};var zG=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,jG=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`,HG=Object.defineProperty,Vb=Object.getOwnPropertySymbols,XG=Object.prototype.hasOwnProperty,VG=Object.prototype.propertyIsEnumerable,$b=(t,e,r)=>e in t?HG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Wb=(t,e)=>{for(var r in e||(e={}))XG.call(e,r)&&$b(t,r,e[r]);if(Vb)for(var r of Vb(e))VG.call(e,r)&&$b(t,r,e[r]);return t};const Lg=class extends ot{constructor(t){super(),this.angle=45,this._distance=5,this._resolution=he.FILTER_RESOLUTION;const e=t?Wb(Wb({},Lg.defaults),t):Lg.defaults,{kernels:r,blur:n,quality:i,pixelSize:s,resolution:o}=e;this._tintFilter=new ot(zG,jG),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=new It,this._tintFilter.resolution=o,this._blurFilter=r?new Dc(r):new Dc(n,i),this.pixelSize=s,this.resolution=o;const{shadowOnly:a,rotation:u,distance:f,alpha:d,color:p}=e;this.shadowOnly=a,this.rotation=u,this.distance=f,this.alpha=d,this.color=p,this._updatePadding()}apply(t,e,r,n){const i=t.getFilterTexture();this._tintFilter.apply(t,e,i,1),this._blurFilter.apply(t,i,r,n),this.shadowOnly!==!0&&t.applyFilter(this,e,r,0),t.returnFilterTexture(i)}_updatePadding(){this.padding=this.distance+this.blur*2}_updateShift(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))}get resolution(){return this._resolution}set resolution(t){this._resolution=t,this._tintFilter&&(this._tintFilter.resolution=t),this._blurFilter&&(this._blurFilter.resolution=t)}get distance(){return this._distance}set distance(t){this._distance=t,this._updatePadding(),this._updateShift()}get rotation(){return this.angle/Mc}set rotation(t){this.angle=t*Mc,this._updateShift()}get alpha(){return this._tintFilter.uniforms.alpha}set alpha(t){this._tintFilter.uniforms.alpha=t}get color(){return j0(this._tintFilter.uniforms.color)}set color(t){dd(t,this._tintFilter.uniforms.color)}get kernels(){return this._blurFilter.kernels}set kernels(t){this._blurFilter.kernels=t}get blur(){return this._blurFilter.blur}set blur(t){this._blurFilter.blur=t,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(t){this._blurFilter.quality=t}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(t){this._blurFilter.pixelSize=t}};let $G=Lg;$G.defaults={rotation:45,distance:5,color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:he.FILTER_RESOLUTION};var WG=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,YG=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`;const kg=class extends ot{constructor(t){super(WG,YG),this.offset=100,this.fillMode=kg.TRANSPARENT,this.average=!1,this.seed=0,this.minSize=8,this.sampleSize=512,this._slices=0,this._offsets=new Float32Array(1),this._sizes=new Float32Array(1),this._direction=-1,this.uniforms.dimensions=new Float32Array(2),this._canvas=document.createElement("canvas"),this._canvas.width=4,this._canvas.height=this.sampleSize,this.texture=Ve.from(this._canvas,{scaleMode:In.NEAREST}),Object.assign(this,kg.defaults,t)}apply(t,e,r,n){const{width:i,height:s}=e.filterFrame;this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,this.uniforms.aspect=s/i,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,t.applyFilter(this,e,r,n)}_randomizeSizes(){const t=this._sizes,e=this._slices-1,r=this.sampleSize,n=Math.min(this.minSize/r,.9/this._slices);if(this.average){const i=this._slices;let s=1;for(let o=0;o<e;o++){const a=s/(i-o),u=Math.max(a*(1-Math.random()*.6),n);t[o]=u,s-=u}t[e]=s}else{let i=1;const s=Math.sqrt(1/this._slices);for(let o=0;o<e;o++){const a=Math.max(s*i*Math.random(),n);t[o]=a,i-=a}t[e]=i}this.shuffle()}shuffle(){const t=this._sizes,e=this._slices-1;for(let r=e;r>0;r--){const n=Math.random()*r>>0,i=t[r];t[r]=t[n],t[n]=i}}_randomizeOffsets(){for(let t=0;t<this._slices;t++)this._offsets[t]=Math.random()*(Math.random()<.5?-1:1)}refresh(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()}redraw(){const t=this.sampleSize,e=this.texture,r=this._canvas.getContext("2d");r.clearRect(0,0,8,t);let n,i=0;for(let s=0;s<this._slices;s++){n=Math.floor(this._offsets[s]*256);const o=this._sizes[s]*t,a=n>0?n:0,u=n<0?-n:0;r.fillStyle=`rgba(${a}, ${u}, 0, 1)`,r.fillRect(0,i>>0,t,o+1>>0),i+=o}e.baseTexture.update(),this.uniforms.displacementMap=e}set sizes(t){const e=Math.min(this._slices,t.length);for(let r=0;r<e;r++)this._sizes[r]=t[r]}get sizes(){return this._sizes}set offsets(t){const e=Math.min(this._slices,t.length);for(let r=0;r<e;r++)this._offsets[r]=t[r]}get offsets(){return this._offsets}get slices(){return this._slices}set slices(t){this._slices!==t&&(this._slices=t,this.uniforms.slices=t,this._sizes=this.uniforms.slicesWidth=new Float32Array(t),this._offsets=this.uniforms.slicesOffset=new Float32Array(t),this.refresh())}get direction(){return this._direction}set direction(t){if(this._direction===t)return;this._direction=t;const e=t*Mc;this.uniforms.sinDir=Math.sin(e),this.uniforms.cosDir=Math.cos(e)}get red(){return this.uniforms.red}set red(t){this.uniforms.red=t}get green(){return this.uniforms.green}set green(t){this.uniforms.green=t}get blue(){return this.uniforms.blue}set blue(t){this.uniforms.blue=t}destroy(){var t;(t=this.texture)==null||t.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null}};let Bs=kg;Bs.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},Bs.TRANSPARENT=0,Bs.ORIGINAL=1,Bs.LOOP=2,Bs.CLAMP=3,Bs.MIRROR=4;var qG=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ZG=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;
uniform float alpha;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    if (knockout) {
      float resultAlpha = (outerGlowAlpha + innerGlowAlpha) * alpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      vec4 outerGlowColor = outerGlowStrength * glowColor.rgba * alpha;
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;const qS=class extends ot{constructor(t){const e=Object.assign({},qS.defaults,t),{outerStrength:r,innerStrength:n,color:i,knockout:s,quality:o,alpha:a}=e,u=Math.round(e.distance);super(qG,ZG.replace(/__ANGLE_STEP_SIZE__/gi,`${(1/o/u).toFixed(7)}`).replace(/__DIST__/gi,`${u.toFixed(0)}.0`)),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.uniforms.alpha=1,Object.assign(this,{color:i,outerStrength:r,innerStrength:n,padding:u,knockout:s,alpha:a})}get color(){return j0(this.uniforms.glowColor)}set color(t){dd(t,this.uniforms.glowColor)}get outerStrength(){return this.uniforms.outerStrength}set outerStrength(t){this.uniforms.outerStrength=t}get innerStrength(){return this.uniforms.innerStrength}set innerStrength(t){this.uniforms.innerStrength=t}get knockout(){return this.uniforms.knockout}set knockout(t){this.uniforms.knockout=t}get alpha(){return this.uniforms.alpha}set alpha(t){this.uniforms.alpha=t}};let QG=qS;QG.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1,alpha:1};var KG=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,JG=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,e5=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`;const ZS=class extends ot{constructor(t){super(KG,e5.replace("${perlin}",JG)),this.parallel=!0,this.time=0,this._angle=0,this.uniforms.dimensions=new Float32Array(2);const e=Object.assign(ZS.defaults,t);this._angleLight=new It,this.angle=e.angle,this.gain=e.gain,this.lacunarity=e.lacunarity,this.alpha=e.alpha,this.parallel=e.parallel,this.center=e.center,this.time=e.time}apply(t,e,r,n){const{width:i,height:s}=e.filterFrame;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=i,this.uniforms.dimensions[1]=s,this.uniforms.aspect=s/i,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,t.applyFilter(this,e,r,n)}get angle(){return this._angle}set angle(t){this._angle=t;const e=t*Mc;this._angleLight.x=Math.cos(e),this._angleLight.y=Math.sin(e)}get gain(){return this.uniforms.gain}set gain(t){this.uniforms.gain=t}get lacunarity(){return this.uniforms.lacunarity}set lacunarity(t){this.uniforms.lacunarity=t}get alpha(){return this.uniforms.alpha}set alpha(t){this.uniforms.alpha=t}};let t5=ZS;t5.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1};var r5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,n5=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`;const QS=class extends ot{constructor(t,e=0){super(r5,n5),this.seed=0,this.uniforms.dimensions=new Float32Array(2),typeof t=="number"?(this.seed=t,t=void 0):this.seed=e,Object.assign(this,QS.defaults,t)}apply(t,e,r,n){var i,s;this.uniforms.dimensions[0]=(i=e.filterFrame)==null?void 0:i.width,this.uniforms.dimensions[1]=(s=e.filterFrame)==null?void 0:s.height,this.uniforms.seed=this.seed,t.applyFilter(this,e,r,n)}set sepia(t){this.uniforms.sepia=t}get sepia(){return this.uniforms.sepia}set noise(t){this.uniforms.noise=t}get noise(){return this.uniforms.noise}set noiseSize(t){this.uniforms.noiseSize=t}get noiseSize(){return this.uniforms.noiseSize}set scratch(t){this.uniforms.scratch=t}get scratch(){return this.uniforms.scratch}set scratchDensity(t){this.uniforms.scratchDensity=t}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(t){this.uniforms.scratchWidth=t}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(t){this.uniforms.vignetting=t}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(t){this.uniforms.vignettingAlpha=t}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(t){this.uniforms.vignettingBlur=t}get vignettingBlur(){return this.uniforms.vignettingBlur}};let i5=QS;i5.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};var s5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,o5=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform float alpha;
uniform vec2 thickness;
uniform vec4 outlineColor;
uniform vec4 filterClamp;

const float DOUBLE_PI = 3.14159265358979323846264 * 2.;

void main(void) {
    vec4 ownColor = texture2D(uSampler, vTextureCoord);
    vec4 curColor;
    float maxAlpha = 0.;
    vec2 displaced;
    for (float angle = 0.; angle <= DOUBLE_PI; angle += \${angleStep}) {
        displaced.x = vTextureCoord.x + thickness.x * cos(angle);
        displaced.y = vTextureCoord.y + thickness.y * sin(angle);
        curColor = texture2D(uSampler, clamp(displaced, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, curColor.a * alpha);
    }
    float resultAlpha = max(maxAlpha, ownColor.a);
    gl_FragColor = vec4((ownColor.rgb + outlineColor.rgb * (1. - ownColor.a)) * resultAlpha, resultAlpha);
}
`;const Yf=class extends ot{constructor(t=1,e=0,r=.1,n=1){super(s5,o5.replace(/\$\{angleStep\}/,Yf.getAngleStep(r))),this._thickness=1,this._alpha=1,this.uniforms.thickness=new Float32Array([0,0]),this.uniforms.outlineColor=new Float32Array([0,0,0,1]),this.uniforms.alpha=n,Object.assign(this,{thickness:t,color:e,quality:r,alpha:n})}static getAngleStep(t){const e=Math.max(t*Yf.MAX_SAMPLES,Yf.MIN_SAMPLES);return(Math.PI*2/e).toFixed(7)}apply(t,e,r,n){this.uniforms.thickness[0]=this._thickness/e._frame.width,this.uniforms.thickness[1]=this._thickness/e._frame.height,this.uniforms.alpha=this._alpha,t.applyFilter(this,e,r,n)}get alpha(){return this._alpha}set alpha(t){this._alpha=t}get color(){return j0(this.uniforms.outlineColor)}set color(t){dd(t,this.uniforms.outlineColor)}get thickness(){return this._thickness}set thickness(t){this._thickness=t,this.padding=t}};let Yb=Yf;Yb.MIN_SAMPLES=1,Yb.MAX_SAMPLES=100;var a5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,l5=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`;const KS=class extends ot{constructor(t){super(a5,l5),this.time=0,this.uniforms.amplitude=new Float32Array(2),this.uniforms.waveLength=new Float32Array(2),this.uniforms.alpha=new Float32Array(2),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,KS.defaults,t)}apply(t,e,r,n){var i,s;this.uniforms.dimensions[0]=(i=e.filterFrame)==null?void 0:i.width,this.uniforms.dimensions[1]=(s=e.filterFrame)==null?void 0:s.height,this.uniforms.time=this.time,t.applyFilter(this,e,r,n)}set mirror(t){this.uniforms.mirror=t}get mirror(){return this.uniforms.mirror}set boundary(t){this.uniforms.boundary=t}get boundary(){return this.uniforms.boundary}set amplitude(t){this.uniforms.amplitude[0]=t[0],this.uniforms.amplitude[1]=t[1]}get amplitude(){return this.uniforms.amplitude}set waveLength(t){this.uniforms.waveLength[0]=t[0],this.uniforms.waveLength[1]=t[1]}get waveLength(){return this.uniforms.waveLength}set alpha(t){this.uniforms.alpha[0]=t[0],this.uniforms.alpha[1]=t[1]}get alpha(){return this.uniforms.alpha}};let u5=KS;u5.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0};var h5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,f5=`precision mediump float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

void main(void)
{
   gl_FragColor.r = texture2D(uSampler, vTextureCoord + red/filterArea.xy).r;
   gl_FragColor.g = texture2D(uSampler, vTextureCoord + green/filterArea.xy).g;
   gl_FragColor.b = texture2D(uSampler, vTextureCoord + blue/filterArea.xy).b;
   gl_FragColor.a = texture2D(uSampler, vTextureCoord).a;
}
`;class JS extends ot{constructor(e=[-10,0],r=[0,10],n=[0,0]){super(h5,f5),this.red=e,this.green=r,this.blue=n}get red(){return this.uniforms.red}set red(e){this.uniforms.red=e}get green(){return this.uniforms.green}set green(e){this.uniforms.green=e}get blue(){return this.uniforms.blue}set blue(e){this.uniforms.blue=e}}var c5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,d5=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`;const eA=class extends ot{constructor(t=[0,0],e,r=0){super(c5,d5),this.center=t,Object.assign(this,eA.defaults,e),this.time=r}apply(t,e,r,n){this.uniforms.time=this.time,t.applyFilter(this,e,r,n)}get center(){return this.uniforms.center}set center(t){this.uniforms.center=t}get amplitude(){return this.uniforms.amplitude}set amplitude(t){this.uniforms.amplitude=t}get wavelength(){return this.uniforms.wavelength}set wavelength(t){this.uniforms.wavelength=t}get brightness(){return this.uniforms.brightness}set brightness(t){this.uniforms.brightness=t}get speed(){return this.uniforms.speed}set speed(t){this.uniforms.speed=t}get radius(){return this.uniforms.radius}set radius(t){this.uniforms.radius=t}};let p5=eA;p5.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1};var v5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,m5=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;const tA=class extends ot{constructor(t){super(v5,m5),Object.assign(this,tA.defaults,t)}get offset(){return this.uniforms.offset}set offset(t){this.uniforms.offset=t}get radius(){return this.uniforms.radius}set radius(t){this.uniforms.radius=t}get angle(){return this.uniforms.angle}set angle(t){this.uniforms.angle=t}};let g5=tA;g5.defaults={radius:200,angle:4,padding:20,offset:new It};var y5=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,_5=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,qb=Object.getOwnPropertySymbols,x5=Object.prototype.hasOwnProperty,b5=Object.prototype.propertyIsEnumerable,E5=(t,e)=>{var r={};for(var n in t)x5.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&qb)for(var n of qb(t))e.indexOf(n)<0&&b5.call(t,n)&&(r[n]=t[n]);return r};const rA=class extends ot{constructor(t){const e=Object.assign(rA.defaults,t),{maxKernelSize:r}=e,n=E5(e,["maxKernelSize"]);super(y5,_5.replace("${maxKernelSize}",r.toFixed(1))),Object.assign(this,n)}get center(){return this.uniforms.uCenter}set center(t){this.uniforms.uCenter=t}get strength(){return this.uniforms.uStrength}set strength(t){this.uniforms.uStrength=t}get innerRadius(){return this.uniforms.uInnerRadius}set innerRadius(t){this.uniforms.uInnerRadius=t}get radius(){return this.uniforms.uRadius}set radius(t){(t<0||t===1/0)&&(t=-1),this.uniforms.uRadius=t}};let T5=rA;T5.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32};const Zb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAALeCAYAAACne0GxAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFkSURBVHgB7dRLqgMhFEXRyxtRzTBDzhB8CSTkWx/1dAJrg1CNYoFytWqn1tpyXTXTDTnf1hj2hNzrx74g/dgGchw7gOxjHcg6NoB8YhPIC/ZXySJbix72ABaZpch0R+7b1AtweoJOW//G5ggEAoFAIBAIBAKBQCBQhQKBQCAQCAQCgUAgEAhUoUAgEAgEAoFAIBAIBAJVKBAIBAKBQCAQCAQCgUAVCgQCgUAgEAgEAoFAIFCFAoFAIBAIBAKBQCAQCFShQCAQCAQCgUAgEAgEAlUoEAgEAoFAIBAIBAKBQBUKBAKBQCAQCAQCgUAgUIUCgUAgEAgEAoFAIBAIVKFAIBAIBAKBQCAQCAQCVSgQCAQCgUAgEAgEAoFAFQoEAoFAIBAIBAKBQKBfhVZrrS2XdW6Prt/LLNKPbSDHsQPIPtaBrGMDyCc2gbxg2TmKbC162ANYZJYi0x25b/3IF2wcecN2kX/R/7vHq3mbqQAAAABJRU5ErkJggg==";let Uc=1;function w5(t){const e=t.game.beatmap.timingPoints.sort((n,i)=>n.time-i.time);let r=e[0];return Te.exports.useTick(()=>{r=e.filter(n=>n.time<=t.game.currenttime)[0],Uc=t.game.mode=="play"?.25:t.game.mode=="edit"?4:1}),Be(cd,{children:[...Array(Math.round((t.game.beatmap.hitObjects[t.game.beatmap.hitObjects.length-1].startTime-r.time)/(6e4/(r.bpm*4))))].map((n,i)=>Be(S5,{time:0,game:t.game,factor:Uc,i,currentbpm:r},i))})}const yf=new Dt;function S5(t){const e=t.game.beatmap.cursor.sort((f,d)=>f.startTime-d.startTime),[r,n]=me.exports.useState(0),[i,s]=me.exports.useState(.5),[o,a]=me.exports.useState(.2);let u=it.from(ce.WHITE);return yf.getChildByName("bpmline"+t.i.toString())?u=yf.getChildByName("bpmline"+t.i.toString()):(u.name="bpmline"+t.i.toString(),u.width=$e+fr+fr*.3,u.height=1,u.anchor.set(.5,1),u.x=ue/2,yf.addChild(u)),u.y=r,u.alpha=o,Te.exports.useTick(()=>{const f=t.currentbpm.time+t.i*(6e4/(t.currentbpm.bpm*Uc)),d=t.game.currenttime,p=t.game.isPlaying;if(e.length>0){let g=-1;for(let _=0;_<e.length;_++){const b=e[_];if(t.time<b.startTime)break;g++}g>-1&&s(e[g].x)}const v=t.i<=Math.round((t.game.beatmap.hitObjects[t.game.beatmap.hitObjects.length-1].startTime-t.currentbpm.time)/(6e4/(t.currentbpm.bpm*Uc)));p&&d>=f-t.game.NOTE_TRAVEL_DURATION()+ +t.game.NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION()||t.game.mode=="edit"&&v?n(dt(d,[f-Gk+Vf,f+Vf],[0,nt])):a(dt(d,[f,f+Vf],[.5,0]))}),Te.exports.useApp().stage.addChild(yf),null}const _f=new JS,nA=new FG(10);new MG(5);const zv=new Dt,Qb=new Bs({red:[-50,-50],blue:[-50,-50],green:[-50,-50],slices:4,direction:-45,fillMode:1});nA.blendMode=ae.ADD;function A5(t){const e=it.from(t.beatmap.bgPath),r=Te.exports.useApp();let n=!1;n==!1&&(nA.blurY=10,_f.blue=[1,0],_f.green=[0,0],_f.red=[-1,0],r.stage.filters=[_f],e.filters=[Qb,new JS],n=!0),r.stage.getChildByName("bgimage")==null&&r.stage.addChild(e),r.stage.addChild(zv);const[i,s]=me.exports.useState(0);e.alpha=0,e.name="bgimage",t.game;const o=t.game.beatmap.timingPoints.sort((a,u)=>a.time-u.time);return o[0],me.exports.useEffect(()=>{setInterval(()=>{Qb.refresh()},100)}),Te.exports.useTick(()=>{var d;if(e.height>1){const p=e.height*(ue/e.width);e.height=p,e.width=ue,e.blendMode=ae.ADD,e.x=ue/2,e.y=nt/2,e.anchor.set(.5,.5),e.alpha=.2}if(t.game.isPlaying){if(t.game.mode=="play"){var a=t.game.audio.currentTime*1e3;o.filter(p=>p.time<=a)[0],t.game.currenttime=a}var u=t.game.beatmap.speedChanges,f=u!=null?((d=u.filter(p=>p.startTime<=t.game.currenttime).sort((p,v)=>p.startTime-v.startTime).reverse()[0])==null?void 0:d.speed)*nt:t.game.notespeed;f>=0&&(t.game.notespeed=Cu)}}),Te.exports.useTick(()=>{(t.game.mode=="play"||t.game.mode=="edit")&&s(1)}),Be(cd,{children:jl(Te.exports.Container,{alpha:i,children:[Be(gb,{x:.5,beatmap:t.beatmap,i:-1,type:"normal",container:zv,game:t.game},-1),t.beatmap.cursor.map((a,u)=>Be(gb,{x:a.x,beatmap:t.beatmap,i:u,container:zv,type:a.type,game:t.game},u)),[...Array(4)].map((a,u)=>Be(Zk,{i:u+1,hitObjects:t.beatmap.hitObjects.filter(f=>f.column==u+1),timingPoints:t.beatmap.timingPoints,game:t.game},u)),Be(Qk,{game:t.game,cursors:t.beatmap.cursor}),Be(Te.exports.Sprite,{width:ue,anchor:[0,.5],image:eD,y:nt-Ru,alpha:i}),Be(Te.exports.Sprite,{image:tD,x:0,y:nt,width:dt(t.game.currenttime,[0,t.game.beatmap.hitObjects[t.game.beatmap.hitObjects.length-1].startTime],[0,ue]),alpha:1,anchor:[0,1]}),Be(Te.exports.Sprite,{image:Zb,x:ue/2-$e/2-fr*.5*1.3,y:nt/2,anchor:[.5,.5],scale:nt*.95/734,alpha:1}),Be(Te.exports.Sprite,{image:Zb,x:ue/2+$e/2+fr*.5*1.3,y:nt/2,anchor:[.5,.5],scale:nt*.95/734,alpha:1}),Be(w5,{game:t.game,beatmap:t.game.beatmap})]})})}function Gc(t,e,r,n,i){const s=new Au;return s.text=t,i&&(s.interactive=i),s.name="playbutton",s.x=e,s.y=r,s.anchor.set(n[0],n[1]),s.style=new cr({fill:"white",dropShadow:!0,dropShadowBlur:5,dropShadowDistance:0,dropShadowColor:16777215,fontFamily:"Courier New",fontSize:30,fontWeight:"900",fontVariant:"small-caps"}),s}function yl(t,e,r,n,i,s,o,a,u,f){const d=it.from(u!=""&&u!=null?u:ce.WHITE);return d.name=t,d.x=e,d.y=r,d.tint=u!=""&&u?1048575:o,d.width=n,d.height=i,f&&(d.interactive=f),d.anchor.set(s[0],s[1]),d.on("mousedown",()=>{a.mousedown=t}),d}const Mi=Gc("Play",ue/2,nt/2,[.5,.5],!0),xf=[100,130],Fi=Gc("Edit",ue/2,nt/2+30,[.5,.5],!0);function C5(t){const e=Date.now()+1e3,r=()=>{Mi.alpha=Fi.alpha=0,Mi.removeChild(),Fi.removeChild(),t.game.setVolume(10/100),t.game.play("play")},n=()=>{Mi.alpha=Fi.alpha=0,Mi.removeChild(),Fi.removeChild(),t.game.setVolume(10/100),t.game.play("edit")};return Te.exports.useTick(()=>{t.game.mode=="menu"&&(Mi.alpha=$s(Date.now(),[e,e+500],[0,1]),Mi.y=$s(Date.now(),[e,e+500],[xf[0]-50,xf[0]]),Fi.alpha=$s(Date.now(),[e,e+500],[0,1]),Fi.y=$s(Date.now(),[e,e+500],[xf[1]-50,xf[1]]))}),Mi.on("pointerdown",r),Fi.on("pointerdown",n),Te.exports.useApp().stage.addChild(Mi),Te.exports.useApp().stage.addChild(Fi),null}const Dg="/assets/overlay.9fbc01eb.png";let Cl=-1;const ri=new Dt,Cs="Roboto Condensed";function Kb(t,e){ri.getChildByName("scoretext")==null?ri.addChild(Or):ri.getChildByName("scoretext"),Cl=t;let r=e.slice(1);r=e[0].toUpperCase()+r,Or.text=r}function iA(t){return new Au(t,new cr({fill:"white",dropShadow:!0,dropShadowBlur:5,dropShadowDistance:0,dropShadowColor:16777215,fontFamily:"Courier New",fontSize:30,fontWeight:"900",fontVariant:"small-caps"}))}let Or=iA("");Or.anchor.set(.5,.5);Or.name="scoretext";Or.x=ue/2;Or.y=nt/2;Or.blendMode=ae.ADD;Or.alpha=0;function R5(t){const e=Te.exports.useApp();e.stage.addChild(ri);const[r,n]=me.exports.useState("0"),[i,s]=me.exports.useState(0),[o,a]=me.exports.useState("0");let u=iA(t.game.beatmap.metadata.artist+" - "+t.game.beatmap.metadata.title);return ri.getChildByName("scoretext")==null?(u.x=0,u.y=80,u.width=500,u.name="title",u.alpha=0,u.tint=16724946,u.anchor.set(0,1),u.blendMode=ae.ADD_NPM,u.style=new cr({fontFamily:Cs,fontWeight:"bold",align:"center",fill:"#ffffff",fontSize:50}),ri.addChild(u),ri.addChild(Or)):(Or=ri.getChildByName("scoretext"),u=ri.getChildByName("title")),me.exports.useEffect(()=>{setInterval(()=>{a(Math.round(e.ticker.FPS).toString())},1e3)}),Te.exports.useTick(()=>{if(t.game.mode=="play"){const f=t.game.currenttime;Or.scale.x=Or.scale.y=$s(f,[Cl,Cl+100],[1.5,1]),Or.alpha=$s(f,[Cl,Cl+500],[i,0]),n(t.game.combo.toString())}}),Te.exports.useTick(()=>{t.game.mode=="play"&&s(1)}),jl(Te.exports.Container,{alpha:i,children:[Be(Te.exports.Sprite,{texture:ce.WHITE,x:0,y:100,alpha:1,width:ue,height:4,anchor:[0,0]}),Be(Te.exports.Sprite,{image:Dg,x:0,y:0,alpha:1,width:ue,anchor:[0,0]}),Be(Te.exports.Text,{text:t.game.beatmap.metadata.artist+" - "+t.game.beatmap.metadata.title,x:ue/2,y:80,anchor:[.5,1],style:new cr({fontFamily:Cs,fontWeight:"bold",align:"center",fill:"#ffffff",fontSize:36})}),Be(Te.exports.Text,{text:"Charted by "+t.game.beatmap.metadata.creator,x:ue/2-20,y:40,anchor:[1,1],alpha:.5,blendMode:ae.ADD,style:new cr({fontFamily:Cs,align:"center",fontWeight:"bold",fontStyle:"italic",fill:"#ffffff",fontSize:15})}),Be(Te.exports.Text,{text:t.game.beatmap.metadata.difficult,x:ue/2+20,y:40,anchor:[0,1],style:new cr({fontFamily:Cs,align:"center",fontWeight:"bold",fontStyle:"italic",fill:"#ffffff",fontSize:15})}),Be(Te.exports.Text,{text:"FPS : "+o,x:ue-30,y:116,blendMode:ae.ADD,anchor:[1,0],alpha:.5,style:new cr({fontFamily:Cs,align:"center",fill:"#ffffff",fontSize:15})}),Be(Te.exports.Text,{text:r+" COMBO",x:ue/2,y:115,anchor:[.5,0],style:new cr({fontFamily:Cs,align:"left",fill:"#ffffff",fontSize:15})}),Be(Te.exports.Text,{text:Math.round(t.game.score/t.game.maxscore*1e6).toString(),x:ue/2,y:132,alpha:1,anchor:[.5,0],blendMode:ae.ADD,style:new cr({fontFamily:Cs,fontWeight:"bold",align:"left",fill:"#ffffff",fontSize:31})})]})}function I5(t){const e=yl("timesq",ue/2,nt,ue,100,[.5,0],0,t.game,Dg),r=yl("timesq2",ue/2,0,ue,100,[.5,0],0,t.game,Dg),n=Gc("Timestamp : ",70,nt-100,[0,1]);n.scale.x=n.scale.y=.7,e.angle=180;const i=yl("timestampcursor",50,50,10,10,[.5,.5],16777215,t.game);i.angle=45;const s=yl("tslined",50,50,ue-100,2,[0,.5],16777215,t.game,"",!0),o=yl("tsline",0,50,ue,100,[0,.5],16777215,t.game,"",!0);o.alpha=0;const a=new Dt;var u=1;const f=Gc(t.game.currenttime.toString(),70,nt-70,[0,1]),d=v=>{t.game.currenttime=t.time+u*(6e4/(t.bpm*4)),(u-t.time)%1==0?u+=v.deltaY<0?-1:1:u=Math.round(u)};function p(){document.addEventListener("mousemove",v=>{t.game.mousedown=="tsline"&&(t.game.currenttime=t.time+dt(v.x,[50,ue-50],[0,Math.round((t.game.beatmap.hitObjects[t.game.beatmap.hitObjects.length-1].startTime-t.time)/(6e4/(t.bpm*4)))])*(6e4/(t.bpm*4)),u=dt(v.x,[50,ue-50],[0,Math.round((t.game.beatmap.hitObjects[t.game.beatmap.hitObjects.length-1].startTime-t.time)/(6e4/(t.bpm*4)))]))}),document.addEventListener("mouseup",()=>{t.game.mousedown=""}),document.addEventListener("wheel",d),a.addChild(e),a.addChild(r),a.addChild(f),a.addChild(n),a.addChild(i),a.addChild(s),a.addChild(o)}return Te.exports.useApp().stage.addChild(a),Te.exports.useTick(()=>{t.game.mode=="edit"&&p(),f.text=Math.round(t.game.currenttime).toString(),i.x=dt(t.game.currenttime,[t.time,t.game.beatmap.hitObjects[t.game.beatmap.hitObjects.length-1].startTime],[50,ue-50])}),null}function P5(t){const e=t.chart,{audioPath:r}=e;e.timingPoints.forEach(u=>{u.time=u.time+oi}),e.hitObjects.forEach(u=>{u.startTime=u.startTime+oi,u.endTime&&(u.endTime=u.endTime+oi)}),e.cursor.forEach(u=>{u.startTime=u.startTime+oi});let n=0,i=0;e.hitObjects.forEach(u=>{n+=100,i+=1}),e.cursor.forEach((u,f)=>{e.cursor[f-1]?e.cursor[f-1].x!=u.x&&(n+=100,i+=1):(n+=100,i+=1)});const s=t.game.init(10,10,400,r,n,e,Cu,i);s.setAudioPath(r),s.audiovolume,s.effectvolume;function o(u){return u==ab||u==lb||u==ub||u==hb||u==fb||u==cb}function a(u){switch(u){case ab:return 0;case lb:return 1;case ub:return 2;case hb:return 3;case fb:return 4;case cb:return 5;default:return NaN}}return me.exports.useEffect(()=>{document.addEventListener("mousemove",f=>{f.movementX>0&&(s.key[4]=s.key[4][0]+"1"),f.movementX<0&&(s.key[4]="1"+s.key[4][1])}),document.addEventListener("keyup",f=>{o(f.key)&&(s.key[a(f.key)]="00")}),document.addEventListener("keydown",f=>{f.repeat?s.key[a(f.key)]="01":s.key[a(f.key)]="11"});const u=f=>{switch(f.key){case"`":s.retry();break}};return document.addEventListener("keydown",u),()=>{document.removeEventListener("keydown",u)}},[]),jl(cd,{children:[Be("div",{id:"display"}),jl(Te.exports.Stage,{width:ue,height:nt,children:[Be(C5,{game:s,time:t.menutime,beatmap:e}),jl(Te.exports.Container,{width:(t.game.mode=="edit"?.8:1)*ue,height:(t.game.mode=="edit"?.8:1)*nt,children:[Be(R5,{game:s}),Be(A5,{beatmap:e,game:s}),Be(I5,{time:e.timingPoints[0].time,bpm:e.timingPoints[0].bpm,game:t.game})]})]}),Be("div",{id:"log"})]})}function O5(t){const e=JSON.parse(t),{audioPath:r,metadata:n,hitObjects:i,timingPoints:s,cursor:o,speedChanges:a}=e,u=typeof r=="string",f=typeof n.title=="string"&&typeof n.titleUnicode=="string"&&typeof n.artist=="string"&&typeof n.artistUnicode=="string"&&typeof n.creator=="string"&&typeof n.difficult=="string",d=Array.isArray(s)&&s.length>0&&s.every(({time:_,bpm:b,meter:m,defaultSampleSet:E,volume:T})=>typeof _=="number"&&typeof b=="number"&&typeof m=="number"&&typeof T=="number"&&["soft","normal","drum"].includes(E)),p=_=>_!=null?Array.isArray(_)&&_.length<=2&&_.every(({type:b,sampleSet:m,addition:E})=>(b!=null?["whistle","finish","clap"].includes(b):!0)&&(m!=null?["soft","normal","drum"].includes(m):!0)&&(E!=null?["soft","normal","drum"].includes(E):!0)):!0,v=Array.isArray(i)&&i.length>0&&i.every(({type:_,column:b,startTime:m,endTime:E,hitsound:T})=>["note","hold"].includes(_)&&typeof b=="number"&&typeof m=="number"&&(E!=null?typeof E=="number":!0)&&p(T));if(!(u&&f&&d&&v))throw new Error("Invalid beatmap");return e.timingPoints.forEach(_=>{_.time=_.time+oi}),e.hitObjects.forEach(_=>{_.startTime=_.startTime+oi,_.endTime&&(_.endTime=_.endTime+oi)}),e.speedChanges!=null&&(e.speedChanges=e.speedChanges.sort((_,b)=>_.startTime-b.startTime)),e.cursor=e.cursor.sort((_,b)=>_.startTime-b.startTime),e.cursor.forEach((_,b)=>{_.startTime=_.startTime+oi}),e.timingPoints.forEach((_,b)=>{_.time=_.time+oi}),e}function N5(){return Math.max(document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function M5(){return Math.max(document.documentElement.clientHeight)}const Li=new Audio;class F5{constructor(){ht(this,"audiovolume");ht(this,"audio");ht(this,"hitlist");ht(this,"effectvolume");ht(this,"score");ht(this,"maxscore");ht(this,"hitwaitlist");ht(this,"combo");ht(this,"playStartTime");ht(this,"cursor");ht(this,"audiopath");ht(this,"mode");ht(this,"isPlaying");ht(this,"key");ht(this,"currenttime");ht(this,"highestcombo");ht(this,"beatmap");ht(this,"maxcombo");ht(this,"notespeed");ht(this,"WIDTH");ht(this,"HEIGHT");ht(this,"mousedown");this.beatmap=null,this.key=["00","00","00","00","00"],this.audio=Li,this.audiopath="",this.audiovolume=NaN,this.effectvolume=NaN,this.highestcombo=0,this.hitwaitlist=[],this.maxcombo=NaN,this.score=0,this.notespeed=0,this.maxscore=NaN,this.combo=0,this.playStartTime=0,this.isPlaying=!1,this.cursor=.5,this.mode="",this.currenttime=0,this.HEIGHT=M5(),this.WIDTH=N5(),this.hitlist=[],this.mousedown=""}init(e,r,n,i,s,o,a,u){return this.audiovolume=e,this.effectvolume=r,this.audiopath=i,this.notespeed=a,this.maxscore=s,this.maxcombo=u,this.beatmap=o,Li.src=i,this}NOTE_TRAVEL_DURATION(){return nt/this.notespeed*1e3}NOTE_TRAVEL_FROM_LINE_TO_BOTTOM_DURATION(){return Ru/this.notespeed*1e3}async miss(e,r){this.hitlist.filter(n=>n==e.toString()+r.toString()+",miss").length==0&&(this.combo=0,this.hitlist.push(e.toString()+r.toString()+",miss"),Kb(this.currenttime,"miss"))}async hit(e,r,n){this.score+=this.idtoscore(e),this.combo+=1,this.combo>this.highestcombo&&(this.highestcombo=this.combo),n==5?this.key[n-1]="00":this.key[n-1]="01",this.hitlist.push(r.toString()+n.toString()+","+e),Kb(r,e)}async play(e){this.isPlaying=!0,this.score=0,this.combo=0,this.playStartTime=Date.now(),this.hitlist=[],this.mode=e,this.mode=="play"&&Li.play()}retry(){this.isPlaying=!0,this.score=0,this.combo=0,this.playStartTime=Date.now(),this.hitlist=[],Li.currentTime=0,Li.play()}quit(){this.isPlaying=!1,this.score=0,this.combo=0,this.playStartTime=0,this.hitlist=[],Li.pause(),Li.currentTime=0}idtoscore(e){switch(e){case"perfect":return 100;case"great":return 50;case"ok":return 30;default:return 0}}setAudioPath(e){this.audiopath=e}setVolume(e){Li.volume=e}setEffectVolume(e){this.effectvolume=e}}var jv=null;const Hv=new F5;var Jb;(Jb=document.getElementById("chartfile"))==null||Jb.addEventListener("change",()=>{var t=new FileReader;Hv.mode="menu",t.onload=function(){var e=t.result;jv=O5(e),Hv.beatmap=jv,document.getElementsByClassName("custom-file-input")[0].style.display="none",NI.render(Be(Pn.StrictMode,{children:Be(P5,{game:Hv,chart:jv,menutime:Date.now()})}),document.getElementById("root"))},t.readAsText(document.getElementById("chartfile").files[0])})});export default L5();
